
playlist.exe:     file format elf32-tradlittlemips

Disassembly of section .text1:

bfc11d00 <filtrate_id3_char>:
bfc11d00:	64d5      	save	40,ra,s1
bfc11d02:	0104      	addiu	s1,sp,16
bfc11d04:	d986      	sw	a0,24(s1)
bfc11d06:	6a06      	li	v0,6
bfc11d08:	c148      	sb	v0,8(s1)
bfc11d0a:	9946      	lw	v0,24(s1)
bfc11d0c:	d940      	sw	v0,0(s1)
bfc11d0e:	a148      	lbu	v0,8(s1)
bfc11d10:	3348      	sll	v1,v0,2
bfc11d12:	9946      	lw	v0,24(s1)
bfc11d14:	e349      	addu	v0,v1,v0
bfc11d16:	d941      	sw	v0,4(s1)
bfc11d18:	a148      	lbu	v0,8(s1)
bfc11d1a:	2216      	beqz	v0,bfc11d48 <RCODE_TEXT_ADDR1+0x48>
bfc11d1c:	9941      	lw	v0,4(s1)
bfc11d1e:	a240      	lbu	v0,0(v0)
bfc11d20:	2209      	beqz	v0,bfc11d34 <RCODE_TEXT_ADDR1+0x34>
bfc11d22:	9940      	lw	v0,0(s1)
bfc11d24:	9a40      	lw	v0,0(v0)
bfc11d26:	2206      	beqz	v0,bfc11d34 <RCODE_TEXT_ADDR1+0x34>
bfc11d28:	9940      	lw	v0,0(s1)
bfc11d2a:	9a40      	lw	v0,0(v0)
bfc11d2c:	6782      	move	a0,v0
bfc11d2e:	1a1f 4754 	jal	bfc11d50 <filtrate_char_sub>
bfc11d32:	6500      	nop
bfc11d34:	9941      	lw	v0,4(s1)
bfc11d36:	4241      	addiu	v0,v0,1
bfc11d38:	d941      	sw	v0,4(s1)
bfc11d3a:	9940      	lw	v0,0(s1)
bfc11d3c:	4244      	addiu	v0,v0,4
bfc11d3e:	d940      	sw	v0,0(s1)
bfc11d40:	a148      	lbu	v0,8(s1)
bfc11d42:	424f      	addiu	v0,v0,-1
bfc11d44:	c148      	sb	v0,8(s1)
bfc11d46:	17e8      	b	bfc11d18 <RCODE_TEXT_ADDR1+0x18>
bfc11d48:	65b9      	move	sp,s1
bfc11d4a:	6453      	restore	24,ra,s1
bfc11d4c:	e8a0      	jrc	ra
	...

bfc11d50 <filtrate_char_sub>:
bfc11d50:	64d6      	save	48,ra,s1
bfc11d52:	0104      	addiu	s1,sp,16
bfc11d54:	d988      	sw	a0,32(s1)
bfc11d56:	6a00      	li	v0,0
bfc11d58:	c140      	sb	v0,0(s1)
bfc11d5a:	6a00      	li	v0,0
bfc11d5c:	c141      	sb	v0,1(s1)
bfc11d5e:	9948      	lw	v0,32(s1)
bfc11d60:	d943      	sw	v0,12(s1)
bfc11d62:	d944      	sw	v0,16(s1)
bfc11d64:	9948      	lw	v0,32(s1)
bfc11d66:	a240      	lbu	v0,0(v0)
bfc11d68:	72ff      	cmpi	v0,255
bfc11d6a:	6758      	move	v0,t8
bfc11d6c:	5a01      	sltiu	v0,1
bfc11d6e:	6028      	bteqz	bfc11dc0 <filtrate_char_sub+0x70>
bfc11d70:	9948      	lw	v0,32(s1)
bfc11d72:	a241      	lbu	v0,1(v0)
bfc11d74:	72fe      	cmpi	v0,254
bfc11d76:	6758      	move	v0,t8
bfc11d78:	5a01      	sltiu	v0,1
bfc11d7a:	6022      	bteqz	bfc11dc0 <filtrate_char_sub+0x70>
bfc11d7c:	9948      	lw	v0,32(s1)
bfc11d7e:	4242      	addiu	v0,v0,2
bfc11d80:	d941      	sw	v0,4(s1)
bfc11d82:	9941      	lw	v0,4(s1)
bfc11d84:	aa40      	lhu	v0,0(v0)
bfc11d86:	2219      	beqz	v0,bfc11dba <filtrate_char_sub+0x6a>
bfc11d88:	9941      	lw	v0,4(s1)
bfc11d8a:	aa40      	lhu	v0,0(v0)
bfc11d8c:	7220      	cmpi	v0,32
bfc11d8e:	6758      	move	v0,t8
bfc11d90:	5a01      	sltiu	v0,1
bfc11d92:	6008      	bteqz	bfc11da4 <filtrate_char_sub+0x54>
bfc11d94:	6a00      	li	v0,0
bfc11d96:	c141      	sb	v0,1(s1)
bfc11d98:	a140      	lbu	v0,0(s1)
bfc11d9a:	2a0b      	bnez	v0,bfc11db2 <filtrate_char_sub+0x62>
bfc11d9c:	9941      	lw	v0,4(s1)
bfc11d9e:	4242      	addiu	v0,v0,2
bfc11da0:	d943      	sw	v0,12(s1)
bfc11da2:	1007      	b	bfc11db2 <filtrate_char_sub+0x62>
bfc11da4:	6a01      	li	v0,1
bfc11da6:	c140      	sb	v0,0(s1)
bfc11da8:	6a01      	li	v0,1
bfc11daa:	c141      	sb	v0,1(s1)
bfc11dac:	9941      	lw	v0,4(s1)
bfc11dae:	4242      	addiu	v0,v0,2
bfc11db0:	d944      	sw	v0,16(s1)
bfc11db2:	9941      	lw	v0,4(s1)
bfc11db4:	4242      	addiu	v0,v0,2
bfc11db6:	d941      	sw	v0,4(s1)
bfc11db8:	17e4      	b	bfc11d82 <filtrate_char_sub+0x32>
bfc11dba:	6a02      	li	v0,2
bfc11dbc:	c142      	sb	v0,2(s1)
bfc11dbe:	1020      	b	bfc11e00 <filtrate_char_sub+0xb0>
bfc11dc0:	9948      	lw	v0,32(s1)
bfc11dc2:	d942      	sw	v0,8(s1)
bfc11dc4:	9942      	lw	v0,8(s1)
bfc11dc6:	a240      	lbu	v0,0(v0)
bfc11dc8:	2219      	beqz	v0,bfc11dfc <filtrate_char_sub+0xac>
bfc11dca:	9942      	lw	v0,8(s1)
bfc11dcc:	a240      	lbu	v0,0(v0)
bfc11dce:	7220      	cmpi	v0,32
bfc11dd0:	6758      	move	v0,t8
bfc11dd2:	5a01      	sltiu	v0,1
bfc11dd4:	6008      	bteqz	bfc11de6 <filtrate_char_sub+0x96>
bfc11dd6:	6a00      	li	v0,0
bfc11dd8:	c141      	sb	v0,1(s1)
bfc11dda:	a140      	lbu	v0,0(s1)
bfc11ddc:	2a0b      	bnez	v0,bfc11df4 <filtrate_char_sub+0xa4>
bfc11dde:	9942      	lw	v0,8(s1)
bfc11de0:	4241      	addiu	v0,v0,1
bfc11de2:	d943      	sw	v0,12(s1)
bfc11de4:	1007      	b	bfc11df4 <filtrate_char_sub+0xa4>
bfc11de6:	6a01      	li	v0,1
bfc11de8:	c140      	sb	v0,0(s1)
bfc11dea:	6a01      	li	v0,1
bfc11dec:	c141      	sb	v0,1(s1)
bfc11dee:	9942      	lw	v0,8(s1)
bfc11df0:	4241      	addiu	v0,v0,1
bfc11df2:	d944      	sw	v0,16(s1)
bfc11df4:	9942      	lw	v0,8(s1)
bfc11df6:	4241      	addiu	v0,v0,1
bfc11df8:	d942      	sw	v0,8(s1)
bfc11dfa:	17e4      	b	bfc11dc4 <filtrate_char_sub+0x74>
bfc11dfc:	6a01      	li	v0,1
bfc11dfe:	c142      	sb	v0,2(s1)
bfc11e00:	a140      	lbu	v0,0(s1)
bfc11e02:	a161      	lbu	v1,1(s1)
bfc11e04:	6782      	move	a0,v0
bfc11e06:	6743      	move	v0,v1
bfc11e08:	ea8d      	or	v0,a0
bfc11e0a:	ea11      	zeb	v0
bfc11e0c:	2a04      	bnez	v0,bfc11e16 <filtrate_char_sub+0xc6>
bfc11e0e:	9968      	lw	v1,32(s1)
bfc11e10:	6a00      	li	v0,0
bfc11e12:	c340      	sb	v0,0(v1)
bfc11e14:	1020      	b	bfc11e56 <.LBE2>
bfc11e16:	a141      	lbu	v0,1(s1)
bfc11e18:	2a06      	bnez	v0,bfc11e26 <filtrate_char_sub+0xd6>
bfc11e1a:	9964      	lw	v1,16(s1)
bfc11e1c:	6a00      	li	v0,0
bfc11e1e:	c340      	sb	v0,0(v1)
bfc11e20:	9964      	lw	v1,16(s1)
bfc11e22:	6a00      	li	v0,0
bfc11e24:	c341      	sb	v0,1(v1)
bfc11e26:	9963      	lw	v1,12(s1)
bfc11e28:	9948      	lw	v0,32(s1)
bfc11e2a:	ea6e      	xor	v0,v1
bfc11e2c:	5a01      	sltiu	v0,1
bfc11e2e:	6113      	btnez	bfc11e56 <.LBE2>
bfc11e30:	9944      	lw	v0,16(s1)
bfc11e32:	9963      	lw	v1,12(s1)
bfc11e34:	eb43      	sltu	v1,v0
bfc11e36:	600f      	bteqz	bfc11e56 <.LBE2>

bfc11e38 <.LBB2>:
bfc11e38:	9964      	lw	v1,16(s1)
bfc11e3a:	9943      	lw	v0,12(s1)
bfc11e3c:	e34f      	subu	v1,v0
bfc11e3e:	a142      	lbu	v0,2(s1)
bfc11e40:	e349      	addu	v0,v1,v0
bfc11e42:	4241      	addiu	v0,v0,1
bfc11e44:	d945      	sw	v0,20(s1)
bfc11e46:	9948      	lw	v0,32(s1)
bfc11e48:	9963      	lw	v1,12(s1)
bfc11e4a:	99c5      	lw	a2,20(s1)
bfc11e4c:	6782      	move	a0,v0
bfc11e4e:	67a3      	move	a1,v1
bfc11e50:	6f00      	li	a3,0
bfc11e52:	b203      	lw	v0,bfc11e5c <.LBE2+0x6>
bfc11e54:	eac0      	jalrc	v0

bfc11e56 <.LBE2>:
bfc11e56:	65b9      	move	sp,s1
bfc11e58:	6454      	restore	32,ra,s1
bfc11e5a:	e8a0      	jrc	ra
bfc11e5c:	6409      	restore	72
bfc11e5e:	bfc1      	lwu	a2,4(a3)

bfc11e60 <deal_if_83name>:
bfc11e60:	6492      	save	16,s1
bfc11e62:	673d      	move	s1,sp
bfc11e64:	d984      	sw	a0,16(s1)
bfc11e66:	9944      	lw	v0,16(s1)
bfc11e68:	a240      	lbu	v0,0(v0)
bfc11e6a:	72ff      	cmpi	v0,255
bfc11e6c:	6758      	move	v0,t8
bfc11e6e:	5a01      	sltiu	v0,1
bfc11e70:	6007      	bteqz	bfc11e80 <deal_if_83name+0x20>
bfc11e72:	9944      	lw	v0,16(s1)
bfc11e74:	a241      	lbu	v0,1(v0)
bfc11e76:	72fe      	cmpi	v0,254
bfc11e78:	6758      	move	v0,t8
bfc11e7a:	5a01      	sltiu	v0,1
bfc11e7c:	6001      	bteqz	bfc11e80 <deal_if_83name+0x20>
bfc11e7e:	1057      	b	bfc11f2e <deal_if_83name+0xce>
bfc11e80:	6a0b      	li	v0,11
bfc11e82:	c140      	sb	v0,0(s1)
bfc11e84:	a140      	lbu	v0,0(s1)
bfc11e86:	5a09      	sltiu	v0,9
bfc11e88:	610d      	btnez	bfc11ea4 <deal_if_83name+0x44>
bfc11e8a:	a160      	lbu	v1,0(s1)
bfc11e8c:	9944      	lw	v0,16(s1)
bfc11e8e:	e351      	addu	a0,v1,v0
bfc11e90:	a160      	lbu	v1,0(s1)
bfc11e92:	9944      	lw	v0,16(s1)
bfc11e94:	e349      	addu	v0,v1,v0
bfc11e96:	f7ff a25f 	lbu	v0,-1(v0)
bfc11e9a:	c440      	sb	v0,0(a0)
bfc11e9c:	a140      	lbu	v0,0(s1)
bfc11e9e:	424f      	addiu	v0,v0,-1
bfc11ea0:	c140      	sb	v0,0(s1)
bfc11ea2:	17f0      	b	bfc11e84 <deal_if_83name+0x24>
bfc11ea4:	6a07      	li	v0,7
bfc11ea6:	c140      	sb	v0,0(s1)
bfc11ea8:	a140      	lbu	v0,0(s1)
bfc11eaa:	220d      	beqz	v0,bfc11ec6 <deal_if_83name+0x66>
bfc11eac:	a160      	lbu	v1,0(s1)
bfc11eae:	9944      	lw	v0,16(s1)
bfc11eb0:	e349      	addu	v0,v1,v0
bfc11eb2:	a240      	lbu	v0,0(v0)
bfc11eb4:	7220      	cmpi	v0,32
bfc11eb6:	6758      	move	v0,t8
bfc11eb8:	5a01      	sltiu	v0,1
bfc11eba:	6101      	btnez	bfc11ebe <deal_if_83name+0x5e>
bfc11ebc:	1004      	b	bfc11ec6 <deal_if_83name+0x66>
bfc11ebe:	a140      	lbu	v0,0(s1)
bfc11ec0:	424f      	addiu	v0,v0,-1
bfc11ec2:	c140      	sb	v0,0(s1)
bfc11ec4:	17f1      	b	bfc11ea8 <deal_if_83name+0x48>
bfc11ec6:	a140      	lbu	v0,0(s1)
bfc11ec8:	4241      	addiu	v0,v0,1
bfc11eca:	c140      	sb	v0,0(s1)
bfc11ecc:	a160      	lbu	v1,0(s1)
bfc11ece:	9944      	lw	v0,16(s1)
bfc11ed0:	e34d      	addu	v1,v0
bfc11ed2:	6a2e      	li	v0,46
bfc11ed4:	c340      	sb	v0,0(v1)
bfc11ed6:	6a09      	li	v0,9
bfc11ed8:	c141      	sb	v0,1(s1)
bfc11eda:	a141      	lbu	v0,1(s1)
bfc11edc:	5a0c      	sltiu	v0,12
bfc11ede:	6017      	bteqz	bfc11f0e <deal_if_83name+0xae>
bfc11ee0:	a161      	lbu	v1,1(s1)
bfc11ee2:	9944      	lw	v0,16(s1)
bfc11ee4:	e349      	addu	v0,v1,v0
bfc11ee6:	a240      	lbu	v0,0(v0)
bfc11ee8:	7220      	cmpi	v0,32
bfc11eea:	6758      	move	v0,t8
bfc11eec:	5a01      	sltiu	v0,1
bfc11eee:	610b      	btnez	bfc11f06 <deal_if_83name+0xa6>
bfc11ef0:	a140      	lbu	v0,0(s1)
bfc11ef2:	4241      	addiu	v0,v0,1
bfc11ef4:	c140      	sb	v0,0(s1)
bfc11ef6:	a160      	lbu	v1,0(s1)
bfc11ef8:	9944      	lw	v0,16(s1)
bfc11efa:	e351      	addu	a0,v1,v0
bfc11efc:	a161      	lbu	v1,1(s1)
bfc11efe:	9944      	lw	v0,16(s1)
bfc11f00:	e349      	addu	v0,v1,v0
bfc11f02:	a240      	lbu	v0,0(v0)
bfc11f04:	c440      	sb	v0,0(a0)
bfc11f06:	a141      	lbu	v0,1(s1)
bfc11f08:	4241      	addiu	v0,v0,1
bfc11f0a:	c141      	sb	v0,1(s1)
bfc11f0c:	17e6      	b	bfc11eda <deal_if_83name+0x7a>
bfc11f0e:	a160      	lbu	v1,0(s1)
bfc11f10:	9944      	lw	v0,16(s1)
bfc11f12:	e349      	addu	v0,v1,v0
bfc11f14:	a240      	lbu	v0,0(v0)
bfc11f16:	722e      	cmpi	v0,46
bfc11f18:	6758      	move	v0,t8
bfc11f1a:	5a01      	sltiu	v0,1
bfc11f1c:	6103      	btnez	bfc11f24 <deal_if_83name+0xc4>
bfc11f1e:	a140      	lbu	v0,0(s1)
bfc11f20:	4241      	addiu	v0,v0,1
bfc11f22:	c140      	sb	v0,0(s1)
bfc11f24:	a160      	lbu	v1,0(s1)
bfc11f26:	9944      	lw	v0,16(s1)
bfc11f28:	e34d      	addu	v1,v0
bfc11f2a:	6a00      	li	v0,0
bfc11f2c:	c340      	sb	v0,0(v1)
bfc11f2e:	65b9      	move	sp,s1
bfc11f30:	6412      	restore	16,s1
bfc11f32:	e8a0      	jrc	ra

bfc11f34 <check_id3_is_empty>:
bfc11f34:	64d5      	save	40,ra,s1
bfc11f36:	0106      	addiu	s1,sp,24
bfc11f38:	d984      	sw	a0,16(s1)
bfc11f3a:	6745      	move	v0,a1
bfc11f3c:	c154      	sb	v0,20(s1)
bfc11f3e:	9944      	lw	v0,16(s1)
bfc11f40:	a258      	lbu	v0,24(v0)
bfc11f42:	5a05      	sltiu	v0,5
bfc11f44:	6119      	btnez	bfc11f78 <check_id3_is_empty+0x44>
bfc11f46:	9944      	lw	v0,16(s1)
bfc11f48:	9a40      	lw	v0,0(v0)
bfc11f4a:	a240      	lbu	v0,0(v0)
bfc11f4c:	2a15      	bnez	v0,bfc11f78 <check_id3_is_empty+0x44>
bfc11f4e:	b252      	lw	v0,bfc12094 <check_id3_is_empty+0x160>
bfc11f50:	9a80      	lw	a0,0(v0)
bfc11f52:	9944      	lw	v0,16(s1)
bfc11f54:	9aa0      	lw	a1,0(v0)
bfc11f56:	9944      	lw	v0,16(s1)
bfc11f58:	a258      	lbu	v0,24(v0)
bfc11f5a:	3246      	srl	v0,1
bfc11f5c:	6762      	move	v1,v0
bfc11f5e:	eb11      	zeb	v1
bfc11f60:	6a02      	li	v0,2
bfc11f62:	d204      	sw	v0,16(sp)
bfc11f64:	67c3      	move	a2,v1
bfc11f66:	6f00      	li	a3,0
bfc11f68:	b24c      	lw	v0,bfc12098 <check_id3_is_empty+0x164>
bfc11f6a:	eac0      	jalrc	v0
bfc11f6c:	9944      	lw	v0,16(s1)
bfc11f6e:	9a40      	lw	v0,0(v0)
bfc11f70:	6782      	move	a0,v0
bfc11f72:	1a1f 4798 	jal	bfc11e60 <deal_if_83name>
bfc11f76:	6500      	nop
bfc11f78:	9944      	lw	v0,16(s1)
bfc11f7a:	a25a      	lbu	v0,26(v0)
bfc11f7c:	5a0a      	sltiu	v0,10
bfc11f7e:	6121      	btnez	bfc11fc2 <check_id3_is_empty+0x8e>
bfc11f80:	9944      	lw	v0,16(s1)
bfc11f82:	9a42      	lw	v0,8(v0)
bfc11f84:	a240      	lbu	v0,0(v0)
bfc11f86:	2a1d      	bnez	v0,bfc11fc2 <check_id3_is_empty+0x8e>
bfc11f88:	a154      	lbu	v0,20(s1)
bfc11f8a:	d940      	sw	v0,0(s1)
bfc11f8c:	9940      	lw	v0,0(s1)
bfc11f8e:	2206      	beqz	v0,bfc11f9c <check_id3_is_empty+0x68>
bfc11f90:	9940      	lw	v0,0(s1)
bfc11f92:	7202      	cmpi	v0,2
bfc11f94:	6758      	move	v0,t8
bfc11f96:	5a01      	sltiu	v0,1
bfc11f98:	6101      	btnez	bfc11f9c <check_id3_is_empty+0x68>
bfc11f9a:	100a      	b	bfc11fb0 <check_id3_is_empty+0x7c>
bfc11f9c:	9944      	lw	v0,16(s1)
bfc11f9e:	9a42      	lw	v0,8(v0)
bfc11fa0:	b33f      	lw	v1,bfc1209c <check_id3_is_empty+0x168>
bfc11fa2:	6782      	move	a0,v0
bfc11fa4:	67a3      	move	a1,v1
bfc11fa6:	6e08      	li	a2,8
bfc11fa8:	6f00      	li	a3,0
bfc11faa:	b23e      	lw	v0,bfc120a0 <check_id3_is_empty+0x16c>
bfc11fac:	eac0      	jalrc	v0
bfc11fae:	1009      	b	bfc11fc2 <check_id3_is_empty+0x8e>
bfc11fb0:	9944      	lw	v0,16(s1)
bfc11fb2:	9a42      	lw	v0,8(v0)
bfc11fb4:	b33a      	lw	v1,bfc1209c <check_id3_is_empty+0x168>
bfc11fb6:	6782      	move	a0,v0
bfc11fb8:	67a3      	move	a1,v1
bfc11fba:	6e09      	li	a2,9
bfc11fbc:	6f00      	li	a3,0
bfc11fbe:	b239      	lw	v0,bfc120a0 <check_id3_is_empty+0x16c>
bfc11fc0:	eac0      	jalrc	v0
bfc11fc2:	9944      	lw	v0,16(s1)
bfc11fc4:	a25b      	lbu	v0,27(v0)
bfc11fc6:	5a0a      	sltiu	v0,10
bfc11fc8:	610d      	btnez	bfc11fe4 <check_id3_is_empty+0xb0>
bfc11fca:	9944      	lw	v0,16(s1)
bfc11fcc:	9a43      	lw	v0,12(v0)
bfc11fce:	a240      	lbu	v0,0(v0)
bfc11fd0:	2a09      	bnez	v0,bfc11fe4 <check_id3_is_empty+0xb0>
bfc11fd2:	9944      	lw	v0,16(s1)
bfc11fd4:	9a43      	lw	v0,12(v0)
bfc11fd6:	b334      	lw	v1,bfc120a4 <check_id3_is_empty+0x170>
bfc11fd8:	6782      	move	a0,v0
bfc11fda:	67a3      	move	a1,v1
bfc11fdc:	6e09      	li	a2,9
bfc11fde:	6f00      	li	a3,0
bfc11fe0:	b230      	lw	v0,bfc120a0 <check_id3_is_empty+0x16c>
bfc11fe2:	eac0      	jalrc	v0
bfc11fe4:	9944      	lw	v0,16(s1)
bfc11fe6:	a25c      	lbu	v0,28(v0)
bfc11fe8:	5a08      	sltiu	v0,8
bfc11fea:	610d      	btnez	bfc12006 <check_id3_is_empty+0xd2>
bfc11fec:	9944      	lw	v0,16(s1)
bfc11fee:	9a44      	lw	v0,16(v0)
bfc11ff0:	a240      	lbu	v0,0(v0)
bfc11ff2:	2a09      	bnez	v0,bfc12006 <check_id3_is_empty+0xd2>
bfc11ff4:	9944      	lw	v0,16(s1)
bfc11ff6:	9a44      	lw	v0,16(v0)
bfc11ff8:	b32c      	lw	v1,bfc120a8 <check_id3_is_empty+0x174>
bfc11ffa:	6782      	move	a0,v0
bfc11ffc:	67a3      	move	a1,v1
bfc11ffe:	6e07      	li	a2,7
bfc12000:	6f00      	li	a3,0
bfc12002:	b228      	lw	v0,bfc120a0 <check_id3_is_empty+0x16c>
bfc12004:	eac0      	jalrc	v0
bfc12006:	9944      	lw	v0,16(s1)
bfc12008:	a25d      	lbu	v0,29(v0)
bfc1200a:	5a0a      	sltiu	v0,10
bfc1200c:	610d      	btnez	bfc12028 <check_id3_is_empty+0xf4>
bfc1200e:	9944      	lw	v0,16(s1)
bfc12010:	9a45      	lw	v0,20(v0)
bfc12012:	a240      	lbu	v0,0(v0)
bfc12014:	2a09      	bnez	v0,bfc12028 <check_id3_is_empty+0xf4>
bfc12016:	9944      	lw	v0,16(s1)
bfc12018:	9a45      	lw	v0,20(v0)
bfc1201a:	b325      	lw	v1,bfc120ac <check_id3_is_empty+0x178>
bfc1201c:	6782      	move	a0,v0
bfc1201e:	67a3      	move	a1,v1
bfc12020:	6e09      	li	a2,9
bfc12022:	6f00      	li	a3,0
bfc12024:	b21f      	lw	v0,bfc120a0 <check_id3_is_empty+0x16c>
bfc12026:	eac0      	jalrc	v0
bfc12028:	9944      	lw	v0,16(s1)
bfc1202a:	a259      	lbu	v0,25(v0)
bfc1202c:	5a0b      	sltiu	v0,11
bfc1202e:	6121      	btnez	bfc12072 <check_id3_is_empty+0x13e>
bfc12030:	9944      	lw	v0,16(s1)
bfc12032:	9a41      	lw	v0,4(v0)
bfc12034:	a240      	lbu	v0,0(v0)
bfc12036:	2a1d      	bnez	v0,bfc12072 <check_id3_is_empty+0x13e>
bfc12038:	a154      	lbu	v0,20(s1)
bfc1203a:	d941      	sw	v0,4(s1)
bfc1203c:	9941      	lw	v0,4(s1)
bfc1203e:	2206      	beqz	v0,bfc1204c <check_id3_is_empty+0x118>
bfc12040:	9941      	lw	v0,4(s1)
bfc12042:	7202      	cmpi	v0,2
bfc12044:	6758      	move	v0,t8
bfc12046:	5a01      	sltiu	v0,1
bfc12048:	6101      	btnez	bfc1204c <check_id3_is_empty+0x118>
bfc1204a:	100a      	b	bfc12060 <check_id3_is_empty+0x12c>
bfc1204c:	9944      	lw	v0,16(s1)
bfc1204e:	9a41      	lw	v0,4(v0)
bfc12050:	b318      	lw	v1,bfc120b0 <check_id3_is_empty+0x17c>
bfc12052:	6782      	move	a0,v0
bfc12054:	67a3      	move	a1,v1
bfc12056:	6e0a      	li	a2,10
bfc12058:	6f00      	li	a3,0
bfc1205a:	b212      	lw	v0,bfc120a0 <check_id3_is_empty+0x16c>
bfc1205c:	eac0      	jalrc	v0
bfc1205e:	1009      	b	bfc12072 <check_id3_is_empty+0x13e>
bfc12060:	9944      	lw	v0,16(s1)
bfc12062:	9a41      	lw	v0,4(v0)
bfc12064:	b314      	lw	v1,bfc120b4 <check_id3_is_empty+0x180>
bfc12066:	6782      	move	a0,v0
bfc12068:	67a3      	move	a1,v1
bfc1206a:	6e0a      	li	a2,10
bfc1206c:	6f00      	li	a3,0
bfc1206e:	b20d      	lw	v0,bfc120a0 <check_id3_is_empty+0x16c>
bfc12070:	eac0      	jalrc	v0
bfc12072:	9944      	lw	v0,16(s1)
bfc12074:	a25f      	lbu	v0,31(v0)
bfc12076:	7201      	cmpi	v0,1
bfc12078:	6758      	move	v0,t8
bfc1207a:	5a01      	sltiu	v0,1
bfc1207c:	6008      	bteqz	bfc1208e <check_id3_is_empty+0x15a>
bfc1207e:	9944      	lw	v0,16(s1)
bfc12080:	a25e      	lbu	v0,30(v0)
bfc12082:	2a05      	bnez	v0,bfc1208e <check_id3_is_empty+0x15a>
bfc12084:	9944      	lw	v0,16(s1)
bfc12086:	6782      	move	a0,v0
bfc12088:	1a1f 4838 	jal	bfc120e0 <find_album_jpg>
bfc1208c:	6500      	nop
bfc1208e:	65b9      	move	sp,s1
bfc12090:	6452      	restore	16,ra,s1
bfc12092:	e8a0      	jrc	ra
bfc12094:	5c04      	sltiu	a0,4
bfc12096:	9fc1      	lw	a2,4(a3)
bfc12098:	6411      	restore	8,s1
bfc1209a:	bfc1      	lwu	a2,4(a3)
bfc1209c:	219c      	beqz	s1,bfc11fd6 <check_id3_is_empty+0xa2>
bfc1209e:	bfc1      	lwu	a2,4(a3)
bfc120a0:	6409      	restore	72
bfc120a2:	bfc1      	lwu	a2,4(a3)
bfc120a4:	21a8      	beqz	s1,bfc11ff6 <check_id3_is_empty+0xc2>
bfc120a6:	bfc1      	lwu	a2,4(a3)
bfc120a8:	21b4      	beqz	s1,bfc12012 <check_id3_is_empty+0xde>
bfc120aa:	bfc1      	lwu	a2,4(a3)
bfc120ac:	21bc      	beqz	s1,bfc12026 <check_id3_is_empty+0xf2>
bfc120ae:	bfc1      	lwu	a2,4(a3)
bfc120b0:	21d0      	beqz	s1,bfc12052 <check_id3_is_empty+0x11e>
bfc120b2:	bfc1      	lwu	a2,4(a3)
bfc120b4:	2190      	beqz	s1,bfc11fd6 <check_id3_is_empty+0xa2>
bfc120b6:	bfc1      	lwu	a2,4(a3)

bfc120b8 <check_id3_buffer>:
bfc120b8:	64d3      	save	24,ra,s1
bfc120ba:	0104      	addiu	s1,sp,16
bfc120bc:	d982      	sw	a0,8(s1)
bfc120be:	6745      	move	v0,a1
bfc120c0:	c14c      	sb	v0,12(s1)
bfc120c2:	9942      	lw	v0,8(s1)
bfc120c4:	6782      	move	a0,v0
bfc120c6:	1a1f 4740 	jal	bfc11d00 <RCODE_TEXT_ADDR1>
bfc120ca:	6500      	nop
bfc120cc:	9942      	lw	v0,8(s1)
bfc120ce:	a16c      	lbu	v1,12(s1)
bfc120d0:	6782      	move	a0,v0
bfc120d2:	67a3      	move	a1,v1
bfc120d4:	1a1f 47cd 	jal	bfc11f34 <check_id3_is_empty>
bfc120d8:	6500      	nop
bfc120da:	65b9      	move	sp,s1
bfc120dc:	6451      	restore	8,ra,s1
bfc120de:	e8a0      	jrc	ra

bfc120e0 <find_album_jpg>:
bfc120e0:	64d5      	save	40,ra,s1
bfc120e2:	0106      	addiu	s1,sp,24
bfc120e4:	d984      	sw	a0,16(s1)
bfc120e6:	6a01      	li	v0,1
bfc120e8:	c140      	sb	v0,0(s1)
bfc120ea:	b223      	lw	v0,bfc12174 <find_album_jpg+0x94>
bfc120ec:	9a60      	lw	v1,0(v0)
bfc120ee:	b523      	lw	a1,bfc12178 <find_album_jpg+0x98>
bfc120f0:	b623      	lw	a2,bfc1217c <find_album_jpg+0x9c>
bfc120f2:	6a03      	li	v0,3
bfc120f4:	d204      	sw	v0,16(sp)
bfc120f6:	6783      	move	a0,v1
bfc120f8:	6f00      	li	a3,0
bfc120fa:	b222      	lw	v0,bfc12180 <find_album_jpg+0xa0>
bfc120fc:	eac0      	jalrc	v0
bfc120fe:	b21e      	lw	v0,bfc12174 <find_album_jpg+0x94>
bfc12100:	9a60      	lw	v1,0(v0)
bfc12102:	b621      	lw	a2,bfc12184 <find_album_jpg+0xa4>
bfc12104:	b721      	lw	a3,bfc12188 <find_album_jpg+0xa8>
bfc12106:	6a01      	li	v0,1
bfc12108:	d204      	sw	v0,16(sp)
bfc1210a:	6783      	move	a0,v1
bfc1210c:	6d82      	li	a1,130
bfc1210e:	b21d      	lw	v0,bfc12180 <find_album_jpg+0xa0>
bfc12110:	eac0      	jalrc	v0
bfc12112:	651a      	move	t8,v0
bfc12114:	610e      	btnez	bfc12132 <find_album_jpg+0x52>
bfc12116:	b218      	lw	v0,bfc12174 <find_album_jpg+0x94>
bfc12118:	9a60      	lw	v1,0(v0)
bfc1211a:	b61d      	lw	a2,bfc1218c <find_album_jpg+0xac>
bfc1211c:	b71b      	lw	a3,bfc12188 <find_album_jpg+0xa8>
bfc1211e:	6a01      	li	v0,1
bfc12120:	d204      	sw	v0,16(sp)
bfc12122:	6783      	move	a0,v1
bfc12124:	6d82      	li	a1,130
bfc12126:	b217      	lw	v0,bfc12180 <find_album_jpg+0xa0>
bfc12128:	eac0      	jalrc	v0
bfc1212a:	651a      	move	t8,v0
bfc1212c:	6102      	btnez	bfc12132 <find_album_jpg+0x52>
bfc1212e:	6a00      	li	v0,0
bfc12130:	c140      	sb	v0,0(s1)
bfc12132:	a140      	lbu	v0,0(s1)
bfc12134:	7201      	cmpi	v0,1
bfc12136:	6758      	move	v0,t8
bfc12138:	5a01      	sltiu	v0,1
bfc1213a:	600e      	bteqz	bfc12158 <find_album_jpg+0x78>
bfc1213c:	b20e      	lw	v0,bfc12174 <find_album_jpg+0x94>
bfc1213e:	9a60      	lw	v1,0(v0)
bfc12140:	9944      	lw	v0,16(s1)
bfc12142:	9aca      	lw	a2,40(v0)
bfc12144:	6a03      	li	v0,3
bfc12146:	d204      	sw	v0,16(sp)
bfc12148:	6783      	move	a0,v1
bfc1214a:	6d00      	li	a1,0
bfc1214c:	6f00      	li	a3,0
bfc1214e:	b20d      	lw	v0,bfc12180 <find_album_jpg+0xa0>
bfc12150:	eac0      	jalrc	v0
bfc12152:	9964      	lw	v1,16(s1)
bfc12154:	6a02      	li	v0,2
bfc12156:	c35e      	sb	v0,30(v1)
bfc12158:	b207      	lw	v0,bfc12174 <find_album_jpg+0x94>
bfc1215a:	9a60      	lw	v1,0(v0)
bfc1215c:	b507      	lw	a1,bfc12178 <find_album_jpg+0x98>
bfc1215e:	b608      	lw	a2,bfc1217c <find_album_jpg+0x9c>
bfc12160:	6a03      	li	v0,3
bfc12162:	d204      	sw	v0,16(sp)
bfc12164:	6783      	move	a0,v1
bfc12166:	6f01      	li	a3,1
bfc12168:	b206      	lw	v0,bfc12180 <find_album_jpg+0xa0>
bfc1216a:	eac0      	jalrc	v0
bfc1216c:	65b9      	move	sp,s1
bfc1216e:	6452      	restore	16,ra,s1
bfc12170:	e8a0      	jrc	ra
bfc12172:	0000      	addiu	s0,sp,0
bfc12174:	5c04      	sltiu	a0,4
bfc12176:	9fc1      	lw	a2,4(a3)
bfc12178:	21f4      	beqz	s1,bfc12162 <find_album_jpg+0x82>
bfc1217a:	bfc1      	lwu	a2,4(a3)
bfc1217c:	2240      	beqz	v0,bfc121fe <bank_temp_buf+0xa>
bfc1217e:	bfc1      	lwu	a2,4(a3)
bfc12180:	6411      	restore	8,s1
bfc12182:	bfc1      	lwu	a2,4(a3)
bfc12184:	21dc      	beqz	s1,bfc1213e <find_album_jpg+0x5e>
bfc12186:	bfc1      	lwu	a2,4(a3)
bfc12188:	0000      	addiu	s0,sp,0
bfc1218a:	0040      	addiu	s0,sp,256
bfc1218c:	21e4      	beqz	s1,bfc12156 <find_album_jpg+0x76>
bfc1218e:	bfc1      	lwu	a2,4(a3)

bfc12190 <no_artist>:
bfc12190:	6f4e 4120 7472 7369 0074 0000               No Artist...

bfc1219c <no_album>:
bfc1219c:	6f4e 4120 626c 6d75 0000 0000               No Album....

bfc121a8 <no_genre>:
bfc121a8:	6f4e 4720 6e65 6572 0000 0000               No Genre....

bfc121b4 <no_drm>:
bfc121b4:	6f4e 4420 6d72 0000                         No Drm..

bfc121bc <no_Track>:
bfc121bc:	6f4e 5420 6172 6b63 0000 0000               No Track....

bfc121c8 <no_book>:
bfc121c8:	6f4e 4220 6f6f 006b                         No Book.

bfc121d0 <no_author>:
bfc121d0:	6f4e 4120 7475 6f68 0072 0000               No Author...

bfc121dc <album_jpg_name>:
bfc121dc:	6f46 646c 7265 0000                         Folder..

bfc121e4 <album_jpg_name2>:
bfc121e4:	feff 0046 006f 006c 0064 0065 0072 0000     ..F.o.l.d.e.r...

bfc121f4 <bank_temp_buf>:
	...

bfc12254 <cmp_string1>:
	...

bfc122b8 <cmp_string2>:
	...

bfc1231c <lostk>:
	...

bfc123e4 <histk>:
	...

bfc124ac <cmp_str_len>:
	...
Disassembly of section .text:

bfc16400 <audio_device_op_entry>:
bfc16400:	6b0c      	li	v1,12
bfc16402:	e805      	break	0

bfc16404 <key_op_entry>:
bfc16404:	6b09      	li	v1,9
bfc16406:	e805      	break	0

bfc16408 <libc_op_entry>:
bfc16408:	6b10      	li	v1,16
bfc1640a:	e805      	break	0

bfc1640c <sys_op_entry>:
bfc1640c:	6b0f      	li	v1,15
bfc1640e:	e805      	break	0

bfc16410 <vfs_op_entry>:
bfc16410:	6b11      	li	v1,17
bfc16412:	e805      	break	0

bfc16414 <save_to_file>:
bfc16414:	64d5      	save	40,ra,s1
 * \note   记录当前文件位置
 *******************************************************************************/
//写入文件操作，保证扇区对齐，记录文件位置
bool save_to_file(uint8 *data_buf, uint32 len)
{
bfc16416:	0106      	addiu	s1,sp,24
bfc16418:	d984      	sw	a0,16(s1)
bfc1641a:	d9a5      	sw	a1,20(s1)
bfc1641c:	9945      	lw	v0,20(s1)
    uint16 sectors;
    uint16 i;

    sectors = (uint16) ((len - 1) / SECTOR_SIZE) + 1;
bfc1641e:	424f      	addiu	v0,v0,-1
bfc16420:	3242      	srl	v0,8
bfc16422:	3246      	srl	v0,1
bfc16424:	4241      	addiu	v0,v0,1
bfc16426:	c940      	sh	v0,0(s1)
bfc16428:	6a00      	li	v0,0

#if 0
    //多扇区写入
    if(0==vfs_file_write(ap_vfs_mount,data_buf,SECTOR_SIZE*sectors,ap_obj_handle))
    {
        return FALSE;
    }
#else
    // 单扇区写入
    for (i = 0; i < sectors; i++)
bfc1642a:	c941      	sh	v0,2(s1)
bfc1642c:	a941      	lhu	v0,2(s1)
bfc1642e:	a960      	lhu	v1,0(s1)
bfc16430:	ea63      	sltu	v0,v1
bfc16432:	6019      	bteqz	bfc16466 <save_to_file+0x52>
bfc16434:	b213      	lw	v0,bfc16480 <save_to_file+0x6c>
    {
        if (0 == vfs_file_write(ap_vfs_mount, data_buf, SECTOR_SIZE, ap_obj_handle))
bfc16436:	9a60      	lw	v1,0(v0)
bfc16438:	99a4      	lw	a1,16(s1)
bfc1643a:	f200 6e00 	li	a2,512
bfc1643e:	b212      	lw	v0,bfc16484 <save_to_file+0x70>
bfc16440:	9ae0      	lw	a3,0(v0)
bfc16442:	6a0e      	li	v0,14
bfc16444:	d204      	sw	v0,16(sp)
bfc16446:	6783      	move	a0,v1
bfc16448:	b210      	lw	v0,bfc16488 <save_to_file+0x74>
bfc1644a:	eac0      	jalrc	v0
bfc1644c:	651a      	move	t8,v0
bfc1644e:	6103      	btnez	bfc16456 <save_to_file+0x42>
bfc16450:	6a00      	li	v0,0
        {
            return FALSE;
bfc16452:	d941      	sw	v0,4(s1)
bfc16454:	1010      	b	bfc16476 <save_to_file+0x62>
bfc16456:	9944      	lw	v0,16(s1)
        }
        data_buf += SECTOR_SIZE;
bfc16458:	f200 4a00 	addiu	v0,512
bfc1645c:	d944      	sw	v0,16(s1)
bfc1645e:	a941      	lhu	v0,2(s1)
bfc16460:	4241      	addiu	v0,v0,1
bfc16462:	c941      	sh	v0,2(s1)
bfc16464:	17e3      	b	bfc1642c <save_to_file+0x18>
bfc16466:	b40a      	lw	a0,bfc1648c <save_to_file+0x78>
    }

#endif
    ap_pos_file_offset += sectors;
bfc16468:	b209      	lw	v0,bfc1648c <save_to_file+0x78>
bfc1646a:	aa60      	lhu	v1,0(v0)
bfc1646c:	a940      	lhu	v0,0(s1)
bfc1646e:	e349      	addu	v0,v1,v0
bfc16470:	cc40      	sh	v0,0(a0)
bfc16472:	6a01      	li	v0,1
    return TRUE;
bfc16474:	d941      	sw	v0,4(s1)
bfc16476:	9941      	lw	v0,4(s1)
}
bfc16478:	65b9      	move	sp,s1
bfc1647a:	6452      	restore	16,ra,s1
bfc1647c:	e8a0      	jrc	ra
bfc1647e:	0000      	addiu	s0,sp,0
bfc16480:	5570      	slti	a1,112
bfc16482:	9fc1      	lw	a2,4(a3)
bfc16484:	556c      	slti	a1,108
bfc16486:	9fc1      	lw	a2,4(a3)
bfc16488:	6411      	restore	8,s1
bfc1648a:	bfc1      	lwu	a2,4(a3)
bfc1648c:	556a      	slti	a1,106
bfc1648e:	9fc1      	lw	a2,4(a3)

bfc16490 <write_to_file>:
bfc16490:	64d6      	save	48,ra,s1

/******************************************************************************/
/* !
 * \par  Description: 按扇区写文件
 *  bool write_to_file(uint8* dest,uint8* source, uint32 len)
 * \param[in]
 * \param[out]
 * \return  TRUE    成功
 FALSE   失败
 * \note
 */
/*******************************************************************************/
bool write_to_file(uint8* dest, uint8* source, uint32 len)
{
bfc16492:	0106      	addiu	s1,sp,24
bfc16494:	d986      	sw	a0,24(s1)
bfc16496:	d9a7      	sw	a1,28(s1)
bfc16498:	d9c8      	sw	a2,32(s1)
bfc1649a:	9946      	lw	v0,24(s1)
    uint16 sectors;
    uint32 file_offs;
    uint16 i;

    file_offs = (uint32) dest;
bfc1649c:	d941      	sw	v0,4(s1)
bfc1649e:	9948      	lw	v0,32(s1)
    sectors = (uint16)((len - 1) / SECTOR_SIZE + 1);
bfc164a0:	424f      	addiu	v0,v0,-1
bfc164a2:	3242      	srl	v0,8
bfc164a4:	3246      	srl	v0,1
bfc164a6:	4241      	addiu	v0,v0,1
bfc164a8:	c940      	sh	v0,0(s1)
bfc164aa:	b221      	lw	v0,bfc1652c <write_to_file+0x9c>

    vfs_file_seek(ap_vfs_mount, file_offs, SEEK_SET, ap_obj_handle);
bfc164ac:	9a60      	lw	v1,0(v0)
bfc164ae:	99a1      	lw	a1,4(s1)
bfc164b0:	b220      	lw	v0,bfc16530 <write_to_file+0xa0>
bfc164b2:	9ae0      	lw	a3,0(v0)
bfc164b4:	6a0b      	li	v0,11
bfc164b6:	d204      	sw	v0,16(sp)
bfc164b8:	6783      	move	a0,v1
bfc164ba:	6e00      	li	a2,0
bfc164bc:	b21e      	lw	v0,bfc16534 <write_to_file+0xa4>
bfc164be:	eac0      	jalrc	v0
bfc164c0:	6a00      	li	v0,0

    //单扇区写入
    for (i = 0; i < sectors; i++)
bfc164c2:	c944      	sh	v0,8(s1)
bfc164c4:	a944      	lhu	v0,8(s1)
bfc164c6:	a960      	lhu	v1,0(s1)
bfc164c8:	ea63      	sltu	v0,v1
bfc164ca:	6019      	bteqz	bfc164fe <write_to_file+0x6e>
bfc164cc:	b218      	lw	v0,bfc1652c <write_to_file+0x9c>
    {
        if (0 == vfs_file_write(ap_vfs_mount, source, SECTOR_SIZE, ap_obj_handle))
bfc164ce:	9a60      	lw	v1,0(v0)
bfc164d0:	99a7      	lw	a1,28(s1)
bfc164d2:	f200 6e00 	li	a2,512
bfc164d6:	b217      	lw	v0,bfc16530 <write_to_file+0xa0>
bfc164d8:	9ae0      	lw	a3,0(v0)
bfc164da:	6a0e      	li	v0,14
bfc164dc:	d204      	sw	v0,16(sp)
bfc164de:	6783      	move	a0,v1
bfc164e0:	b215      	lw	v0,bfc16534 <write_to_file+0xa4>
bfc164e2:	eac0      	jalrc	v0
bfc164e4:	651a      	move	t8,v0
bfc164e6:	6103      	btnez	bfc164ee <write_to_file+0x5e>
bfc164e8:	6a00      	li	v0,0
        {
            return FALSE;
bfc164ea:	d943      	sw	v0,12(s1)
bfc164ec:	101a      	b	bfc16522 <write_to_file+0x92>
bfc164ee:	9947      	lw	v0,28(s1)
        }
        source += SECTOR_SIZE;
bfc164f0:	f200 4a00 	addiu	v0,512
bfc164f4:	d947      	sw	v0,28(s1)
bfc164f6:	a944      	lhu	v0,8(s1)
bfc164f8:	4241      	addiu	v0,v0,1
bfc164fa:	c944      	sh	v0,8(s1)
bfc164fc:	17e3      	b	bfc164c4 <write_to_file+0x34>
bfc164fe:	b20f      	lw	v0,bfc16538 <write_to_file+0xa8>
    }

    //重新定位到之前的文件偏移地址
    file_offs = ap_pos_file_offset * SECTOR_SIZE;
bfc16500:	aa40      	lhu	v0,0(v0)
bfc16502:	3240      	sll	v0,8
bfc16504:	3244      	sll	v0,1
bfc16506:	d941      	sw	v0,4(s1)
bfc16508:	b209      	lw	v0,bfc1652c <write_to_file+0x9c>
    vfs_file_seek(ap_vfs_mount, file_offs, SEEK_SET, ap_obj_handle);
bfc1650a:	9a60      	lw	v1,0(v0)
bfc1650c:	99a1      	lw	a1,4(s1)
bfc1650e:	b209      	lw	v0,bfc16530 <write_to_file+0xa0>
bfc16510:	9ae0      	lw	a3,0(v0)
bfc16512:	6a0b      	li	v0,11
bfc16514:	d204      	sw	v0,16(sp)
bfc16516:	6783      	move	a0,v1
bfc16518:	6e00      	li	a2,0
bfc1651a:	b207      	lw	v0,bfc16534 <write_to_file+0xa4>
bfc1651c:	eac0      	jalrc	v0
bfc1651e:	6a01      	li	v0,1
    return TRUE;
bfc16520:	d943      	sw	v0,12(s1)
bfc16522:	9943      	lw	v0,12(s1)
}
bfc16524:	65b9      	move	sp,s1
bfc16526:	6453      	restore	24,ra,s1
bfc16528:	e8a0      	jrc	ra
bfc1652a:	0000      	addiu	s0,sp,0
bfc1652c:	5570      	slti	a1,112
bfc1652e:	9fc1      	lw	a2,4(a3)
bfc16530:	556c      	slti	a1,108
bfc16532:	9fc1      	lw	a2,4(a3)
bfc16534:	6411      	restore	8,s1
bfc16536:	bfc1      	lwu	a2,4(a3)
bfc16538:	556a      	slti	a1,106
bfc1653a:	9fc1      	lw	a2,4(a3)

bfc1653c <read_from_file>:
bfc1653c:	64d6      	save	48,ra,s1
/******************************************************************************/
/* !
 * \par  Description: 按扇区读文件
 *  bool write_to_file(uint8* dest,uint8* source, uint32 len)
 * \param[in]
 * \param[out]
 * \return  TRUE    成功
 FALSE   失败
 * \note
 */
/*******************************************************************************/
bool read_from_file(uint8* source, uint8* dest, uint32 len)
{
bfc1653e:	0106      	addiu	s1,sp,24
bfc16540:	d986      	sw	a0,24(s1)
bfc16542:	d9a7      	sw	a1,28(s1)
bfc16544:	d9c8      	sw	a2,32(s1)
bfc16546:	9947      	lw	v0,28(s1)
    uint16 sectors;
    uint32 file_offs;
    uint16 i;

    file_offs = (uint32) dest;
bfc16548:	d941      	sw	v0,4(s1)
bfc1654a:	9948      	lw	v0,32(s1)
    sectors = (uint16)((len - 1) / SECTOR_SIZE + 1);
bfc1654c:	424f      	addiu	v0,v0,-1
bfc1654e:	3242      	srl	v0,8
bfc16550:	3246      	srl	v0,1
bfc16552:	4241      	addiu	v0,v0,1
bfc16554:	c940      	sh	v0,0(s1)
bfc16556:	b221      	lw	v0,bfc165d8 <read_from_file+0x9c>

    vfs_file_seek(ap_vfs_mount, file_offs, SEEK_SET, ap_obj_handle);
bfc16558:	9a60      	lw	v1,0(v0)
bfc1655a:	99a1      	lw	a1,4(s1)
bfc1655c:	b220      	lw	v0,bfc165dc <read_from_file+0xa0>
bfc1655e:	9ae0      	lw	a3,0(v0)
bfc16560:	6a0b      	li	v0,11
bfc16562:	d204      	sw	v0,16(sp)
bfc16564:	6783      	move	a0,v1
bfc16566:	6e00      	li	a2,0
bfc16568:	b21e      	lw	v0,bfc165e0 <read_from_file+0xa4>
bfc1656a:	eac0      	jalrc	v0
bfc1656c:	6a00      	li	v0,0

    //单扇区读
    for (i = 0; i < sectors; i++)
bfc1656e:	c944      	sh	v0,8(s1)
bfc16570:	a944      	lhu	v0,8(s1)
bfc16572:	a960      	lhu	v1,0(s1)
bfc16574:	ea63      	sltu	v0,v1
bfc16576:	6019      	bteqz	bfc165aa <read_from_file+0x6e>
bfc16578:	b218      	lw	v0,bfc165d8 <read_from_file+0x9c>
    {
        if (0 == vfs_file_read(ap_vfs_mount, source, SECTOR_SIZE, ap_obj_handle))
bfc1657a:	9a60      	lw	v1,0(v0)
bfc1657c:	99a6      	lw	a1,24(s1)
bfc1657e:	f200 6e00 	li	a2,512
bfc16582:	b217      	lw	v0,bfc165dc <read_from_file+0xa0>
bfc16584:	9ae0      	lw	a3,0(v0)
bfc16586:	6a0d      	li	v0,13
bfc16588:	d204      	sw	v0,16(sp)
bfc1658a:	6783      	move	a0,v1
bfc1658c:	b215      	lw	v0,bfc165e0 <read_from_file+0xa4>
bfc1658e:	eac0      	jalrc	v0
bfc16590:	651a      	move	t8,v0
bfc16592:	6103      	btnez	bfc1659a <read_from_file+0x5e>
bfc16594:	6a00      	li	v0,0
        {
            return FALSE;
bfc16596:	d943      	sw	v0,12(s1)
bfc16598:	101a      	b	bfc165ce <read_from_file+0x92>
bfc1659a:	9946      	lw	v0,24(s1)
        }
        source += SECTOR_SIZE;
bfc1659c:	f200 4a00 	addiu	v0,512
bfc165a0:	d946      	sw	v0,24(s1)
bfc165a2:	a944      	lhu	v0,8(s1)
bfc165a4:	4241      	addiu	v0,v0,1
bfc165a6:	c944      	sh	v0,8(s1)
bfc165a8:	17e3      	b	bfc16570 <read_from_file+0x34>
bfc165aa:	b20f      	lw	v0,bfc165e4 <read_from_file+0xa8>
    }

    //重新定位到之前的文件偏移地址
    file_offs = ap_pos_file_offset * SECTOR_SIZE;
bfc165ac:	aa40      	lhu	v0,0(v0)
bfc165ae:	3240      	sll	v0,8
bfc165b0:	3244      	sll	v0,1
bfc165b2:	d941      	sw	v0,4(s1)
bfc165b4:	b209      	lw	v0,bfc165d8 <read_from_file+0x9c>
    vfs_file_seek(ap_vfs_mount, file_offs, SEEK_SET, ap_obj_handle);
bfc165b6:	9a60      	lw	v1,0(v0)
bfc165b8:	99a1      	lw	a1,4(s1)
bfc165ba:	b209      	lw	v0,bfc165dc <read_from_file+0xa0>
bfc165bc:	9ae0      	lw	a3,0(v0)
bfc165be:	6a0b      	li	v0,11
bfc165c0:	d204      	sw	v0,16(sp)
bfc165c2:	6783      	move	a0,v1
bfc165c4:	6e00      	li	a2,0
bfc165c6:	b207      	lw	v0,bfc165e0 <read_from_file+0xa4>
bfc165c8:	eac0      	jalrc	v0
bfc165ca:	6a01      	li	v0,1
    return TRUE;
bfc165cc:	d943      	sw	v0,12(s1)
bfc165ce:	9943      	lw	v0,12(s1)
}
bfc165d0:	65b9      	move	sp,s1
bfc165d2:	6453      	restore	24,ra,s1
bfc165d4:	e8a0      	jrc	ra
bfc165d6:	0000      	addiu	s0,sp,0
bfc165d8:	5570      	slti	a1,112
bfc165da:	9fc1      	lw	a2,4(a3)
bfc165dc:	556c      	slti	a1,108
bfc165de:	9fc1      	lw	a2,4(a3)
bfc165e0:	6411      	restore	8,s1
bfc165e2:	bfc1      	lwu	a2,4(a3)
bfc165e4:	556a      	slti	a1,106
bfc165e6:	9fc1      	lw	a2,4(a3)

bfc165e8 <plist_get_app_msg>:
bfc165e8:	64d7      	save	56,ra,s1

/*
 void handle_timers()
 {

 }
 */

//到此，gui消息队列已经处理完毕
//获取ap私有消息和系统消息（会先转换为私有消息再返回），并处理

app_result_e plist_get_app_msg(void)
{
bfc165ea:	0104      	addiu	s1,sp,16
bfc165ec:	6a00      	li	v0,0
    private_msg_t private_msg;
    input_gui_msg_t gui_msg;
    app_result_e result = RESULT_NULL;
bfc165ee:	c94c      	sh	v0,24(s1)
bfc165f0:	4147      	addiu	v0,s1,7

    if (get_gui_msg(&gui_msg) == TRUE)
bfc165f2:	4a09      	addiu	v0,9
bfc165f4:	6782      	move	a0,v0
bfc165f6:	b229      	lw	v0,bfc16698 <plist_get_app_msg+0xb0>
bfc165f8:	eac0      	jalrc	v0
bfc165fa:	7201      	cmpi	v0,1
bfc165fc:	6758      	move	v0,t8
bfc165fe:	5a01      	sltiu	v0,1
bfc16600:	6010      	bteqz	bfc16622 <plist_get_app_msg+0x3a>
bfc16602:	a150      	lbu	v0,16(s1)
    {
        if (INPUT_MSG_KEY == gui_msg.type)
bfc16604:	2a0e      	bnez	v0,bfc16622 <plist_get_app_msg+0x3a>
bfc16606:	a152      	lbu	v0,18(s1)
        {
            if ((gui_msg.data.kmsg.val == KEY_LOCK) || (gui_msg.data.kmsg.val == KEY_UNLOCK))
bfc16608:	720c      	cmpi	v0,12
bfc1660a:	6758      	move	v0,t8
bfc1660c:	5a01      	sltiu	v0,1
bfc1660e:	6106      	btnez	bfc1661c <plist_get_app_msg+0x34>
bfc16610:	a152      	lbu	v0,18(s1)
bfc16612:	720d      	cmpi	v0,13
bfc16614:	6758      	move	v0,t8
bfc16616:	5a01      	sltiu	v0,1
bfc16618:	6101      	btnez	bfc1661c <plist_get_app_msg+0x34>
bfc1661a:	1003      	b	bfc16622 <plist_get_app_msg+0x3a>
bfc1661c:	6c01      	li	a0,1
            {
                gui_keylock(TRUE);
bfc1661e:	b220      	lw	v0,bfc1669c <plist_get_app_msg+0xb4>
bfc16620:	eac0      	jalrc	v0
bfc16622:	b320      	lw	v1,bfc166a0 <plist_get_app_msg+0xb8>
            }
        }
    }
    g_sys_counter.battery_counter = 100;//每次进入都会检测低电
bfc16624:	6a64      	li	v0,100
bfc16626:	cb43      	sh	v0,6(v1)
bfc16628:	6791      	move	a0,s1
    if (get_app_msg(&private_msg) == TRUE)
bfc1662a:	b21f      	lw	v0,bfc166a4 <plist_get_app_msg+0xbc>
bfc1662c:	eac0      	jalrc	v0
bfc1662e:	7201      	cmpi	v0,1
bfc16630:	6758      	move	v0,t8
bfc16632:	5a01      	sltiu	v0,1
bfc16634:	6013      	bteqz	bfc1665c <plist_get_app_msg+0x74>
bfc16636:	9940      	lw	v0,0(s1)
    {
        if (private_msg.msg.type == MSG_EARPHONE_IN)
bfc16638:	72f0      	cmpi	v0,240
bfc1663a:	6758      	move	v0,t8
bfc1663c:	5a01      	sltiu	v0,1
bfc1663e:	6005      	bteqz	bfc1664a <plist_get_app_msg+0x62>
bfc16640:	6c01      	li	a0,1
        {
            /*耳机（天线）插入*/
            change_antenna_state(TRUE);
bfc16642:	1a1f 59ad 	jal	bfc166b4 <change_antenna_state>
bfc16646:	6500      	nop
bfc16648:	1009      	b	bfc1665c <plist_get_app_msg+0x74>
bfc1664a:	9940      	lw	v0,0(s1)
        }
        else if (private_msg.msg.type == MSG_EARPHONE_OUT)
bfc1664c:	72f1      	cmpi	v0,241
bfc1664e:	6758      	move	v0,t8
bfc16650:	5a01      	sltiu	v0,1
bfc16652:	6004      	bteqz	bfc1665c <plist_get_app_msg+0x74>
bfc16654:	6c00      	li	a0,0
        {
            /*耳机（天线）拔出*/
            change_antenna_state(FALSE);
bfc16656:	1a1f 59ad 	jal	bfc166b4 <change_antenna_state>
bfc1665a:	6500      	nop
bfc1665c:	b313      	lw	v1,bfc166a8 <plist_get_app_msg+0xc0>
        }
        else
        {
        }
    }

    //挂起10ms，多任务调度
    cpu_release_count++;
bfc1665e:	b213      	lw	v0,bfc166a8 <plist_get_app_msg+0xc0>
bfc16660:	a240      	lbu	v0,0(v0)
bfc16662:	4241      	addiu	v0,v0,1
bfc16664:	c340      	sb	v0,0(v1)
bfc16666:	b211      	lw	v0,bfc166a8 <plist_get_app_msg+0xc0>
    if ((cpu_release_count % 5) == 00)
bfc16668:	a280      	lbu	a0,0(v0)
bfc1666a:	b211      	lw	v0,bfc166ac <plist_get_app_msg+0xc4>
bfc1666c:	ec59      	multu	a0,v0
bfc1666e:	ea10      	mfhi	v0
bfc16670:	334a      	srl	v1,v0,2
bfc16672:	6743      	move	v0,v1
bfc16674:	3248      	sll	v0,2
bfc16676:	e269      	addu	v0,v1
bfc16678:	e44b      	subu	v0,a0,v0
bfc1667a:	ea11      	zeb	v0
bfc1667c:	2a06      	bnez	v0,bfc1668a <plist_get_app_msg+0xa2>
bfc1667e:	6c01      	li	a0,1
    {
        //暂时释放cpu
        sys_os_time_dly(1);
bfc16680:	6d00      	li	a1,0
bfc16682:	6e00      	li	a2,0
bfc16684:	6f31      	li	a3,49
bfc16686:	b20b      	lw	v0,bfc166b0 <plist_get_app_msg+0xc8>
bfc16688:	eac0      	jalrc	v0
bfc1668a:	a94c      	lhu	v0,24(s1)
    }

    return result;
bfc1668c:	651a      	move	t8,v0
bfc1668e:	6758      	move	v0,t8
}
bfc16690:	65b9      	move	sp,s1
bfc16692:	6455      	restore	40,ra,s1
bfc16694:	e8a0      	jrc	ra
bfc16696:	0000      	addiu	s0,sp,0
bfc16698:	66d5      	0x66d5
bfc1669a:	bfc1      	lwu	a2,4(a3)
bfc1669c:	4715      	daddiu	s0,a3,5
bfc1669e:	4891      	addiu	s0,-111
bfc166a0:	a180      	lbu	a0,0(s1)
bfc166a2:	9fc1      	lw	a2,4(a3)
bfc166a4:	6741      	move	v0,at
bfc166a6:	bfc1      	lwu	a2,4(a3)
bfc166a8:	5a27      	sltiu	v0,39
bfc166aa:	9fc1      	lw	a2,4(a3)
bfc166ac:	cccd      	sh	a2,26(a0)
bfc166ae:	cccc      	sh	a2,24(a0)
bfc166b0:	640d      	restore	104
bfc166b2:	bfc1      	lwu	a2,4(a3)

bfc166b4 <change_antenna_state>:
bfc166b4:	6491      	save	8,s1
}

///修改耳机（天线）状态
static inline void change_antenna_state(bool in_out)
{
bfc166b6:	673d      	move	s1,sp
bfc166b8:	6744      	move	v0,a0
bfc166ba:	c148      	sb	v0,8(s1)
bfc166bc:	b303      	lw	v1,bfc166c8 <change_antenna_state+0x14>
    g_app_info_state.antenna_state = in_out;// tmp del 2015-12-25
bfc166be:	a148      	lbu	v0,8(s1)
bfc166c0:	c34e      	sb	v0,14(v1)
bfc166c2:	65b9      	move	sp,s1
}
bfc166c4:	6411      	restore	8,s1
bfc166c6:	e8a0      	jrc	ra
bfc166c8:	a1b8      	lbu	a1,24(s1)
bfc166ca:	9fc1      	lw	a2,4(a3)

bfc166cc <m3u_ext_buf>:
bfc166cc:	334d 0055 0000 0000                         M3U.....

bfc166d4 <get_gui_msg>:
bfc166d4:	64e4      	save	32,ra,s0
 * \endcode
 * \note
*******************************************************************************/
bool get_gui_msg(input_gui_msg_t *input_msg)
{
bfc166d6:	b20c      	lw	v0,bfc16704 <get_gui_msg+0x30>
    uint32 key_data;

    if(sys_mq_receive(MQ_ID_GUI, (void *)&key_data) == 0)
bfc166d8:	6704      	move	s0,a0
bfc166da:	0504      	addiu	a1,sp,16
bfc166dc:	6c06      	li	a0,6
bfc166de:	6e00      	li	a2,0
bfc166e0:	ea40      	jalr	v0
bfc166e2:	6f19      	li	a3,25
bfc166e4:	2a0c      	bnez	v0,bfc166fe <get_gui_msg+0x2a>
bfc166e6:	9504      	lw	a1,16(sp)
    {
        //消息解压缩
        input_msg->type = (input_msg_type_e)(uint8)key_data;//byte 0
bfc166e8:	b208      	lw	v0,bfc16708 <get_gui_msg+0x34>
        //if(input_msg->type == INPUT_MSG_KEY)
        //{
        input_msg->data.kmsg.val = (uint8)(key_data >> 8);//byte 1
        input_msg->data.kmsg.type = (key_type_e)(key_data >> 16);//byte 2-3
        //}
        //else if(input_msg->type == INPUT_MSG_TOUCH)
        //{
        //    input_msg->data.tmsg.x = (uint16)(key_data >> 8);//bit[8-17]
        //    input_msg->data.tmsg.y = (uint16)(key_data >> 18);//bit[18-27]
        //    input_msg->data.tmsg.type = (tp_type_e)(key_data >> 28);//bit[28-31]
        //}
        //else//INPUT_MSG_GSENSOR
        //{
        //
        //}

        //收到gui消息，表示有用户操作，进行一些系统处理，比如：
        //0.长按按键后过滤掉后续按键
        //1.背光关闭计时，屏幕保护计时，省电关机计时，返回正在播放计时 清0
        //2.按键音处理
        //3.按键锁处理
        //com_gui_msg_hook(input_msg);
        if(TRUE == com_gui_msg_hook(input_msg)) //FALSE:按键事件过滤掉了； TRUE:按键有效
bfc166ea:	34a2      	srl	a0,a1,8
bfc166ec:	3382      	srl	v1,a0,8
bfc166ee:	c082      	sb	a0,2(s0)
bfc166f0:	c0a0      	sb	a1,0(s0)
bfc166f2:	c862      	sh	v1,4(s0)
bfc166f4:	ea40      	jalr	v0
bfc166f6:	6790      	move	a0,s0
bfc166f8:	7201      	cmpi	v0,1
bfc166fa:	6a01      	li	v0,1
        {
            return TRUE;
bfc166fc:	6001      	bteqz	bfc16700 <get_gui_msg+0x2c>
bfc166fe:	6a00      	li	v0,0
        }
    }

    return FALSE;
bfc16700:	6464      	restore	32,ra,s0
}
bfc16702:	e8a0      	jrc	ra
bfc16704:	640d      	restore	104
bfc16706:	bfc1      	lwu	a2,4(a3)
bfc16708:	4601      	addiu	s0,a2,1
bfc1670a:	4869      	addiu	s0,105

bfc1670c <get_sys_msg>:
bfc1670c:	64e4      	save	32,ra,s0

/******************************************************************************/
/*!
 * \par  Description:
 *    接收系统消息，并广播给所有应用。
 * \param[in]    none
 * \param[out]   sys_msg：返回接收到的系统消息
 * \return       bool
 * \retval           TRUE 接收系统消息成功。
 * \retval           FALSE 接收系统消息失败。
 * \ingroup      applib_msg
 * \note
 * \li  获取系统消息后，会广播给所有应用。
 * \li  该接口只在前台AP的 get_app_msg 中调用，也就是说，系统消息从发出到被处理，
 *      可能会被 delay 一些时间，直到有前台AP进入消息循环。
*******************************************************************************/
bool get_sys_msg(sys_msg_t *sys_msg)
{
bfc1670e:	6704      	move	s0,a0
bfc16710:	6b00      	li	v1,0
    msg_apps_t msg;

    //须把type清0，因为系统消息长度为2个字节，sys_mq_receive 并不会覆盖到type（4字节）高2字节，会导致type错误
    sys_msg->type = MSG_NULL;
bfc16712:	b20a      	lw	v0,bfc16738 <get_sys_msg+0x2c>
    if(sys_mq_receive(MQ_ID_SYS, (void *)sys_msg) == 0)
bfc16714:	cc60      	sh	v1,0(a0)
bfc16716:	67b0      	move	a1,s0
bfc16718:	6c05      	li	a0,5
bfc1671a:	6e00      	li	a2,0
bfc1671c:	ea40      	jalr	v0
bfc1671e:	6f19      	li	a3,25
bfc16720:	6b00      	li	v1,0
    {
        msg.type = sys_msg->type;
        return broadcast_msg_sys(&msg);
    }

    //消息队列已空，返回false
    return FALSE;
bfc16722:	2a06      	bnez	v0,bfc16730 <get_sys_msg+0x24>
bfc16724:	a880      	lhu	a0,0(s0)
bfc16726:	b206      	lw	v0,bfc1673c <get_sys_msg+0x30>
bfc16728:	d404      	sw	a0,16(sp)
bfc1672a:	ea40      	jalr	v0
bfc1672c:	0404      	addiu	a0,sp,16
bfc1672e:	6762      	move	v1,v0
bfc16730:	6743      	move	v0,v1
}
bfc16732:	6464      	restore	32,ra,s0
bfc16734:	e8a0      	jrc	ra
bfc16736:	0000      	addiu	s0,sp,0
bfc16738:	640d      	restore	104
bfc1673a:	bfc1      	lwu	a2,4(a3)
bfc1673c:	47e9      	addiu	a3,a3,-7
bfc1673e:	4849      	addiu	s0,73

bfc16740 <get_app_msg>:
bfc16740:	64f5      	save	40,ra,s0-s1

/******************************************************************************/
/*!
 * \par  Description:
 *    接收应用私有消息（有些来自于接收系统消息时转发的）。
 * \param[in]    none
 * \param[out]   private_msg：返回接收到的应用私有消息
 * \return       bool
 * \retval           TRUE 接收应用私有消息成功。
 * \retval           FALSE 接收应用私有消息失败。
 * \ingroup      applib_msg
 * \par          exmaple code
 * \code
    例子1：应用私有消息处理
    private_msg_t private_msg;
    app_result_e result;
    bool ret;

    ret = get_app_msg(&private_msg);
    if(ret == TRUE)
    {
        result = msg_callback(&private_msg);
        if(result == RESULT_REDRAW)
        {
            返回重绘
        }
        else
        {
            其他返回值处理
        }
    }
 * \endcode
 * \note
*******************************************************************************/
bool get_app_msg(private_msg_t *private_msg)
{
bfc16742:	b00e      	lw	s0,bfc16778 <.LBE2+0x20>
    //软定时器扫描
    handle_timers();
bfc16744:	e840      	jalr	s0
bfc16746:	6724      	move	s1,a0
bfc16748:	b00d      	lw	s0,bfc1677c <.LBE2+0x24>

#ifdef PC
    UpdateMainWnd();
#endif

    if(g_this_app_info->app_type == APP_TYPE_GUI)
bfc1674a:	9860      	lw	v1,0(s0)
bfc1674c:	a342      	lbu	v0,2(v1)
bfc1674e:	7201      	cmpi	v0,1
bfc16750:	6103      	btnez	bfc16758 <.LBE2>

bfc16752 <.LBB2>:
bfc16752:	1a1f 59c3 	jal	bfc1670c <get_sys_msg>
    {
        //前台应用
        sys_msg_t sys_msg;

        //获取系统消息并广播
        get_sys_msg(&sys_msg);
bfc16756:	0404      	addiu	a0,sp,16

bfc16758 <.LBE2>:
bfc16758:	98a0      	lw	a1,0(s0)
    }
    //接收 应用私有消息
    if(sys_mq_receive((uint32)(g_this_app_info->mq_id), (void *)private_msg) == 0)
bfc1675a:	b20a      	lw	v0,bfc16780 <.LBE2+0x28>
bfc1675c:	a583      	lbu	a0,3(a1)
bfc1675e:	6e00      	li	a2,0
bfc16760:	67b1      	move	a1,s1
bfc16762:	ea40      	jalr	v0
bfc16764:	6f19      	li	a3,25
bfc16766:	6b00      	li	v1,0
    {
        com_app_msg_hook(private_msg);
        return TRUE;
    }

    //消息队列已空，返回false
    return FALSE;
bfc16768:	2a04      	bnez	v0,bfc16772 <.LBE2+0x1a>
bfc1676a:	b307      	lw	v1,bfc16784 <.LBE2+0x2c>
bfc1676c:	eb40      	jalr	v1
bfc1676e:	6791      	move	a0,s1
bfc16770:	6b01      	li	v1,1
bfc16772:	6743      	move	v0,v1
}
bfc16774:	6475      	restore	40,ra,s0-s1
bfc16776:	e8a0      	jrc	ra
bfc16778:	6af1      	li	v0,241
bfc1677a:	bfc1      	lwu	a2,4(a3)
bfc1677c:	a1f0      	lbu	a3,16(s1)
bfc1677e:	9fc1      	lw	a2,4(a3)
bfc16780:	640d      	restore	104
bfc16782:	bfc1      	lwu	a2,4(a3)
bfc16784:	4899      	addiu	s0,-103
bfc16786:	4869      	addiu	s0,105

bfc16788 <plist_fsel_init>:
bfc16788:	64d4      	save	32,ra,s1
 * \note
 *******************************************************************************/

bool plist_fsel_init(uint32 file_type_bit)
{
bfc1678a:	0106      	addiu	s1,sp,24
bfc1678c:	d982      	sw	a0,8(s1)
bfc1678e:	b30e      	lw	v1,bfc167c4 <plist_fsel_init+0x3c>
    plist_dir_layer = 0;
bfc16790:	6a00      	li	v0,0
bfc16792:	c340      	sb	v0,0(v1)
bfc16794:	b30d      	lw	v1,bfc167c8 <plist_fsel_init+0x40>
    plist_file_no = 0;
bfc16796:	6a00      	li	v0,0
bfc16798:	cb40      	sh	v0,0(v1)
bfc1679a:	b30d      	lw	v1,bfc167cc <plist_fsel_init+0x44>
    plist_cur_ext_name = 0;
bfc1679c:	6a00      	li	v0,0
bfc1679e:	db40      	sw	v0,0(v1)
bfc167a0:	b30c      	lw	v1,bfc167d0 <plist_fsel_init+0x48>
    plist_sel_bitmap = file_type_bit;
bfc167a2:	9942      	lw	v0,8(s1)
bfc167a4:	db40      	sw	v0,0(v1)
bfc167a6:	b20c      	lw	v0,bfc167d4 <plist_fsel_init+0x4c>
    //默认进入根目录
    vfs_cd(ap_vfs_mount, CD_ROOT, 0);
bfc167a8:	9a60      	lw	v1,0(v0)
bfc167aa:	6a00      	li	v0,0
bfc167ac:	d204      	sw	v0,16(sp)
bfc167ae:	6783      	move	a0,v1
bfc167b0:	6d3a      	li	a1,58
bfc167b2:	6e00      	li	a2,0
bfc167b4:	6f00      	li	a3,0
bfc167b6:	b209      	lw	v0,bfc167d8 <plist_fsel_init+0x50>
bfc167b8:	eac0      	jalrc	v0
bfc167ba:	6a01      	li	v0,1
    return TRUE;
bfc167bc:	65b9      	move	sp,s1

}
bfc167be:	6451      	restore	8,ra,s1
bfc167c0:	e8a0      	jrc	ra
bfc167c2:	0000      	addiu	s0,sp,0
bfc167c4:	6ae4      	li	v0,228
bfc167c6:	bfc1      	lwu	a2,4(a3)
bfc167c8:	6ae6      	li	v0,230
bfc167ca:	bfc1      	lwu	a2,4(a3)
bfc167cc:	6ae8      	li	v0,232
bfc167ce:	bfc1      	lwu	a2,4(a3)
bfc167d0:	6aec      	li	v0,236
bfc167d2:	bfc1      	lwu	a2,4(a3)
bfc167d4:	5570      	slti	a1,112
bfc167d6:	9fc1      	lw	a2,4(a3)
bfc167d8:	6411      	restore	8,s1
bfc167da:	bfc1      	lwu	a2,4(a3)

bfc167dc <plist_fsel_set_typebit>:
bfc167dc:	64d3      	save	24,ra,s1

/******************************************************************************/
/*
 * \par  Description:重设选择的文件类型
 *
 * \param[in]    file_type_bit--文件扩展名bitmap
 reset_dir_flag 重设目录标,若ture重新初始化到根目录

 * \param[out]   none

 * \return       TRUE or FALSE

 * \note
 *******************************************************************************/

bool plist_fsel_set_typebit(uint32 file_type_bit, bool reset_dir_flag)
{
bfc167de:	0104      	addiu	s1,sp,16
bfc167e0:	d982      	sw	a0,8(s1)
bfc167e2:	6745      	move	v0,a1
bfc167e4:	c14c      	sb	v0,12(s1)
bfc167e6:	b309      	lw	v1,bfc16808 <plist_fsel_set_typebit+0x2c>
    plist_sel_bitmap = file_type_bit;
bfc167e8:	9942      	lw	v0,8(s1)
bfc167ea:	db40      	sw	v0,0(v1)
bfc167ec:	a14c      	lbu	v0,12(s1)
    if (reset_dir_flag == TRUE)
bfc167ee:	7201      	cmpi	v0,1
bfc167f0:	6758      	move	v0,t8
bfc167f2:	5a01      	sltiu	v0,1
bfc167f4:	6005      	bteqz	bfc16800 <plist_fsel_set_typebit+0x24>
bfc167f6:	9942      	lw	v0,8(s1)
    {
        plist_fsel_init(file_type_bit);
bfc167f8:	6782      	move	a0,v0
bfc167fa:	1a1f 59e2 	jal	bfc16788 <plist_fsel_init>
bfc167fe:	6500      	nop
bfc16800:	6a01      	li	v0,1
    }
    return TRUE;
bfc16802:	65b9      	move	sp,s1
}
bfc16804:	6451      	restore	8,ra,s1
bfc16806:	e8a0      	jrc	ra
bfc16808:	6aec      	li	v0,236
bfc1680a:	bfc1      	lwu	a2,4(a3)

bfc1680c <dir_next>:
bfc1680c:	64f6      	save	48,ra,s0-s1

/******************************************************************************/
/*
 * \par  Description: 获取磁盘的下一个文件
 *
 * \param[in]

 * \param[out]    strfile--存放文件的扩展名

 * \return        TRUE OR FALSE

 * \note
 *******************************************************************************/
//bool  plist_fsel_get_nextfile (char *strfile )
//{
//    return dir_next_layer(strfile);
//}

/******************************************************************************/
/*
 * \par  Description: 获取当前目录下的下个文件
 *
 * \param[in]

 * \param[out]      strfile--存放文件的扩展名

 * \return          TRUE OR FALSE

 * \note
 *******************************************************************************/
static bool dir_next(uint8* strfile)
{
bfc1680e:	0106      	addiu	s1,sp,24
bfc16810:	d986      	sw	a0,24(s1)
bfc16812:	b217      	lw	v0,bfc1686c <dir_next+0x60>
    uint8 dir_type;

    if (plist_file_no == 0)
bfc16814:	aa40      	lhu	v0,0(v0)
bfc16816:	2a04      	bnez	v0,bfc16820 <dir_next+0x14>
bfc16818:	6a7e      	li	v0,126
    {
        dir_type = DIR_HEAD;
bfc1681a:	ea4b      	neg	v0
bfc1681c:	c140      	sb	v0,0(s1)
bfc1681e:	1003      	b	bfc16826 <dir_next+0x1a>
bfc16820:	6a80      	li	v0,128
    }
    else
    {
        dir_type = DIR_NEXT;
bfc16822:	ea4b      	neg	v0
bfc16824:	c140      	sb	v0,0(s1)
bfc16826:	b013      	lw	s0,bfc16870 <dir_next+0x64>
    }

    plist_cur_ext_name = vfs_dir(ap_vfs_mount, dir_type, NULL, plist_sel_bitmap);
bfc16828:	b213      	lw	v0,bfc16874 <dir_next+0x68>
bfc1682a:	9a60      	lw	v1,0(v0)
bfc1682c:	a1a0      	lbu	a1,0(s1)
bfc1682e:	b213      	lw	v0,bfc16878 <dir_next+0x6c>
bfc16830:	9ae0      	lw	a3,0(v0)
bfc16832:	6a01      	li	v0,1
bfc16834:	d204      	sw	v0,16(sp)
bfc16836:	6783      	move	a0,v1
bfc16838:	6e00      	li	a2,0
bfc1683a:	b211      	lw	v0,bfc1687c <dir_next+0x70>
bfc1683c:	eac0      	jalrc	v0
bfc1683e:	d840      	sw	v0,0(s0)
bfc16840:	b20c      	lw	v0,bfc16870 <dir_next+0x64>
    if (0 != plist_cur_ext_name)
bfc16842:	9a40      	lw	v0,0(v0)
bfc16844:	220c      	beqz	v0,bfc1685e <dir_next+0x52>
bfc16846:	b30a      	lw	v1,bfc1686c <dir_next+0x60>
    {
        plist_file_no++;
bfc16848:	b209      	lw	v0,bfc1686c <dir_next+0x60>
bfc1684a:	aa40      	lhu	v0,0(v0)
bfc1684c:	4241      	addiu	v0,v0,1
bfc1684e:	cb40      	sh	v0,0(v1)
bfc16850:	9966      	lw	v1,24(s1)
        *(uint32*) strfile = plist_cur_ext_name;
bfc16852:	b208      	lw	v0,bfc16870 <dir_next+0x64>
bfc16854:	9a40      	lw	v0,0(v0)
bfc16856:	db40      	sw	v0,0(v1)
bfc16858:	6a01      	li	v0,1

#ifdef PLIST_DEBUG_FSEL
        vfs_get_name(ap_vfs_mount, file_name_buffer,30);
#endif

        return TRUE;
bfc1685a:	d941      	sw	v0,4(s1)
bfc1685c:	1002      	b	bfc16862 <dir_next+0x56>
bfc1685e:	6a00      	li	v0,0
    }
    return FALSE;
bfc16860:	d941      	sw	v0,4(s1)
bfc16862:	9941      	lw	v0,4(s1)
}
bfc16864:	65b9      	move	sp,s1
bfc16866:	6473      	restore	24,ra,s0-s1
bfc16868:	e8a0      	jrc	ra
bfc1686a:	0000      	addiu	s0,sp,0
bfc1686c:	6ae6      	li	v0,230
bfc1686e:	bfc1      	lwu	a2,4(a3)
bfc16870:	6ae8      	li	v0,232
bfc16872:	bfc1      	lwu	a2,4(a3)
bfc16874:	5570      	slti	a1,112
bfc16876:	9fc1      	lw	a2,4(a3)
bfc16878:	6aec      	li	v0,236
bfc1687a:	bfc1      	lwu	a2,4(a3)
bfc1687c:	6411      	restore	8,s1
bfc1687e:	bfc1      	lwu	a2,4(a3)

bfc16880 <plist_fsel_get_nextfile>:
bfc16880:	64d5      	save	40,ra,s1

/******************************************************************************/
/*
 * \par  Description: 获取磁盘的下一个文件
 *
 * \param[in]

 * \param[out]        strfile--存放文件的扩展名

 * \return            TRUE OR FALSE

 * \note
 *******************************************************************************/
//static bool dir_next_layer(uint8 *strfile)
bool plist_fsel_get_nextfile(char *strfile)
{
bfc16882:	0106      	addiu	s1,sp,24
bfc16884:	d984      	sw	a0,16(s1)
bfc16886:	9944      	lw	v0,16(s1)
    //在当前目录向下找文件

    if (FALSE == dir_next(strfile))
bfc16888:	6782      	move	a0,v0
bfc1688a:	1a1f 5a03 	jal	bfc1680c <dir_next>
bfc1688e:	6500      	nop
bfc16890:	651a      	move	t8,v0
bfc16892:	f080 6102 	btnez	bfc1699a <.L12+0x92>

bfc16896 <.L10>:
bfc16896:	b245      	lw	v0,bfc169a8 <.L12+0xa0>
    {
        CurrentDiragain:

        if (plist_dir_layer >= (DIRLAYER_MAX - 1))//如果当前是8级目录就不找子文件夹
bfc16898:	a240      	lbu	v0,0(v0)
bfc1689a:	5a08      	sltiu	v0,8
bfc1689c:	6101      	btnez	bfc168a0 <.L10+0xa>
bfc1689e:	1034      	b	bfc16908 <.L12>
        {
            goto ParentDiragainNext;
bfc168a0:	b243      	lw	v0,bfc169ac <.L12+0xa4>
        }

        //寻找该目录的第一个子文件夹
        if ((0 != vfs_dir(ap_vfs_mount, DIR_HEAD, NULL, EXT_NAME_ALL_DIR)) && (FALSE == filtrate_dir()))
bfc168a2:	9a60      	lw	v1,0(v0)
bfc168a4:	6a01      	li	v0,1
bfc168a6:	d204      	sw	v0,16(sp)
bfc168a8:	6783      	move	a0,v1
bfc168aa:	6d82      	li	a1,130
bfc168ac:	6e00      	li	a2,0
bfc168ae:	6f01      	li	a3,1
bfc168b0:	b240      	lw	v0,bfc169b0 <.L12+0xa8>
bfc168b2:	eac0      	jalrc	v0
bfc168b4:	651a      	move	t8,v0
bfc168b6:	6028      	bteqz	bfc16908 <.L12>
bfc168b8:	1a1f 5a6e 	jal	bfc169b8 <filtrate_dir>
bfc168bc:	6500      	nop
bfc168be:	651a      	move	t8,v0
bfc168c0:	6123      	btnez	bfc16908 <.L12>
bfc168c2:	b23b      	lw	v0,bfc169ac <.L12+0xa4>
        {

#ifdef PLIST_DEBUG_FSEL
            vfs_get_name(ap_vfs_mount, dir_name_buffer,30);
#endif

            if (FALSE != vfs_cd(ap_vfs_mount, CD_SUB, NULL))
bfc168c4:	9a60      	lw	v1,0(v0)
bfc168c6:	6a00      	li	v0,0
bfc168c8:	d204      	sw	v0,16(sp)
bfc168ca:	6783      	move	a0,v1
bfc168cc:	6d2f      	li	a1,47
bfc168ce:	6e00      	li	a2,0
bfc168d0:	6f00      	li	a3,0
bfc168d2:	b238      	lw	v0,bfc169b0 <.L12+0xa8>
bfc168d4:	eac0      	jalrc	v0
bfc168d6:	651a      	move	t8,v0
bfc168d8:	6758      	move	v0,t8
bfc168da:	ea11      	zeb	v0
bfc168dc:	2212      	beqz	v0,bfc16902 <.L10+0x6c>
bfc168de:	b333      	lw	v1,bfc169a8 <.L12+0xa0>
            {
                //进入子文件夹，获得该子文件夹的文件总数
                plist_dir_layer++;
bfc168e0:	b232      	lw	v0,bfc169a8 <.L12+0xa0>
bfc168e2:	a240      	lbu	v0,0(v0)
bfc168e4:	4241      	addiu	v0,v0,1
bfc168e6:	c340      	sb	v0,0(v1)
bfc168e8:	b333      	lw	v1,bfc169b4 <.L12+0xac>
                plist_file_no = 0;
bfc168ea:	6a00      	li	v0,0
bfc168ec:	cb40      	sh	v0,0(v1)
bfc168ee:	9944      	lw	v0,16(s1)
                // 检查当前目录是否有合适的文件
                if (FALSE != dir_next(strfile))
bfc168f0:	6782      	move	a0,v0
bfc168f2:	1a1f 5a03 	jal	bfc1680c <dir_next>
bfc168f6:	6500      	nop
bfc168f8:	651a      	move	t8,v0
bfc168fa:	60cd      	bteqz	bfc16896 <.L10>
bfc168fc:	6a01      	li	v0,1
                {
                    return TRUE;
bfc168fe:	d940      	sw	v0,0(s1)
bfc16900:	104e      	b	bfc1699e <.L12+0x96>
bfc16902:	6a00      	li	v0,0
                }
                else //检查子目录
                {
                    //if(plist_dir_layer>DIRLAYER_MAX-1)
                    //    goto ParentDiragainNext;
                    //else
                    goto CurrentDiragain;
                }
            }
            else //出错了
            {
                return FALSE;
bfc16904:	d940      	sw	v0,0(s1)
bfc16906:	104b      	b	bfc1699e <.L12+0x96>

bfc16908 <.L12>:
bfc16908:	b228      	lw	v0,bfc169a8 <.L12+0xa0>
            }
        }
        else //如果没有子文件夹，则向上跳一层，寻找当前目录的下一个目录（平级寻找）
        {
            ParentDiragainNext:

            if (0 == plist_dir_layer)
bfc1690a:	a240      	lbu	v0,0(v0)
bfc1690c:	2a03      	bnez	v0,bfc16914 <.L12+0xc>
bfc1690e:	6a00      	li	v0,0
            {
                return FALSE;
bfc16910:	d940      	sw	v0,0(s1)
bfc16912:	1045      	b	bfc1699e <.L12+0x96>
bfc16914:	b226      	lw	v0,bfc169ac <.L12+0xa4>
            }

            if (FALSE != vfs_cd(ap_vfs_mount, CD_BACK, NULL))
bfc16916:	9a60      	lw	v1,0(v0)
bfc16918:	6a00      	li	v0,0
bfc1691a:	d204      	sw	v0,16(sp)
bfc1691c:	6783      	move	a0,v1
bfc1691e:	6d7c      	li	a1,124
bfc16920:	6e00      	li	a2,0
bfc16922:	6f00      	li	a3,0
bfc16924:	b223      	lw	v0,bfc169b0 <.L12+0xa8>
bfc16926:	eac0      	jalrc	v0
bfc16928:	651a      	move	t8,v0
bfc1692a:	6758      	move	v0,t8
bfc1692c:	ea11      	zeb	v0
bfc1692e:	2232      	beqz	v0,bfc16994 <.L12+0x8c>
bfc16930:	b31e      	lw	v1,bfc169a8 <.L12+0xa0>
            {
                plist_dir_layer--;
bfc16932:	b21e      	lw	v0,bfc169a8 <.L12+0xa0>
bfc16934:	a240      	lbu	v0,0(v0)
bfc16936:	424f      	addiu	v0,v0,-1
bfc16938:	c340      	sb	v0,0(v1)
bfc1693a:	b21d      	lw	v0,bfc169ac <.L12+0xa4>
                if ((0 != vfs_dir(ap_vfs_mount, DIR_NEXT, NULL, EXT_NAME_ALL_DIR)) && (FALSE == filtrate_dir()))
bfc1693c:	9a60      	lw	v1,0(v0)
bfc1693e:	6a01      	li	v0,1
bfc16940:	d204      	sw	v0,16(sp)
bfc16942:	6783      	move	a0,v1
bfc16944:	6d80      	li	a1,128
bfc16946:	6e00      	li	a2,0
bfc16948:	6f01      	li	a3,1
bfc1694a:	b21a      	lw	v0,bfc169b0 <.L12+0xa8>
bfc1694c:	eac0      	jalrc	v0
bfc1694e:	651a      	move	t8,v0
bfc16950:	60db      	bteqz	bfc16908 <.L12>
bfc16952:	1a1f 5a6e 	jal	bfc169b8 <filtrate_dir>
bfc16956:	6500      	nop
bfc16958:	651a      	move	t8,v0
bfc1695a:	61d6      	btnez	bfc16908 <.L12>
bfc1695c:	b214      	lw	v0,bfc169ac <.L12+0xa4>
                {
#ifdef PLIST_DEBUG_FSEL
                    vfs_get_name(ap_vfs_mount, dir_name_buffer,30);
#endif

                    vfs_cd(ap_vfs_mount, CD_SUB, NULL);
bfc1695e:	9a60      	lw	v1,0(v0)
bfc16960:	6a00      	li	v0,0
bfc16962:	d204      	sw	v0,16(sp)
bfc16964:	6783      	move	a0,v1
bfc16966:	6d2f      	li	a1,47
bfc16968:	6e00      	li	a2,0
bfc1696a:	6f00      	li	a3,0
bfc1696c:	b211      	lw	v0,bfc169b0 <.L12+0xa8>
bfc1696e:	eac0      	jalrc	v0
bfc16970:	b30e      	lw	v1,bfc169a4 <.L12+0x9c>
                    plist_dir_layer++;
bfc16972:	b20e      	lw	v0,bfc169a8 <.L12+0xa0>
bfc16974:	a240      	lbu	v0,0(v0)
bfc16976:	4241      	addiu	v0,v0,1
bfc16978:	c340      	sb	v0,0(v1)
bfc1697a:	b30f      	lw	v1,bfc169b4 <.L12+0xac>
                    plist_file_no = 0;
bfc1697c:	6a00      	li	v0,0
bfc1697e:	cb40      	sh	v0,0(v1)
bfc16980:	9944      	lw	v0,16(s1)

                    if (FALSE != dir_next(strfile))
bfc16982:	6782      	move	a0,v0
bfc16984:	1a1f 5a03 	jal	bfc1680c <dir_next>
bfc16988:	6500      	nop
bfc1698a:	651a      	move	t8,v0
bfc1698c:	6084      	bteqz	bfc16896 <.L10>
bfc1698e:	6a01      	li	v0,1
                    {
                        return TRUE;
bfc16990:	d940      	sw	v0,0(s1)
bfc16992:	1005      	b	bfc1699e <.L12+0x96>
bfc16994:	6a00      	li	v0,0
                    }
                    else
                    {
                        // 检查子目录.
                        //if(plist_dir_layer>=DIRLAYER_MAX)
                        //    goto ParentDiragainNext;
                        //else
                        goto CurrentDiragain;
                    }
                }
                else
                {
                    goto ParentDiragainNext;
                }
            }

            else
            { //异常出错
                return FALSE;
bfc16996:	d940      	sw	v0,0(s1)
bfc16998:	1002      	b	bfc1699e <.L12+0x96>
bfc1699a:	6a01      	li	v0,1
            }
        }
    }

    return TRUE;
bfc1699c:	d940      	sw	v0,0(s1)
bfc1699e:	9940      	lw	v0,0(s1)
}
bfc169a0:	65b9      	move	sp,s1
bfc169a2:	6452      	restore	16,ra,s1
bfc169a4:	e8a0      	jrc	ra
bfc169a6:	0000      	addiu	s0,sp,0
bfc169a8:	6ae4      	li	v0,228
bfc169aa:	bfc1      	lwu	a2,4(a3)
bfc169ac:	5570      	slti	a1,112
bfc169ae:	9fc1      	lw	a2,4(a3)
bfc169b0:	6411      	restore	8,s1
bfc169b2:	bfc1      	lwu	a2,4(a3)
bfc169b4:	6ae6      	li	v0,230
bfc169b6:	bfc1      	lwu	a2,4(a3)

bfc169b8 <filtrate_dir>:
bfc169b8:	64da      	save	80,ra,s1

/******************************************************************************/
/*
 * \par  Description:过滤根目录下的RECORD目录
 *
 * \param[in]

 * \param[out]

 * \return       TRUE OR FALSE

 * \note
 *******************************************************************************/
static bool filtrate_dir(void)
{
bfc169ba:	0106      	addiu	s1,sp,24
bfc169bc:	b242      	lw	v0,bfc16ac4 <filtrate_dir+0x10c>
    uint8 dir_name_buffer[32];
    uint16 name_len;
    uint8 add_len, i, j;
    uint8 *buf;

    if ((plist_dir_layer != 0) || ((fsel_scan_flag & SCAN_FILTRATE_BIT) != 0))
bfc169be:	a240      	lbu	v0,0(v0)
bfc169c0:	2a06      	bnez	v0,bfc169ce <filtrate_dir+0x16>
bfc169c2:	b242      	lw	v0,bfc16ac8 <filtrate_dir+0x110>
bfc169c4:	a260      	lbu	v1,0(v0)
bfc169c6:	6a01      	li	v0,1
bfc169c8:	ea6c      	and	v0,v1
bfc169ca:	2a01      	bnez	v0,bfc169ce <filtrate_dir+0x16>
bfc169cc:	1003      	b	bfc169d4 <filtrate_dir+0x1c>
bfc169ce:	6a00      	li	v0,0
    {
        return FALSE;
bfc169d0:	d94b      	sw	v0,44(s1)
bfc169d2:	1074      	b	bfc16abc <filtrate_dir+0x104>
bfc169d4:	b23e      	lw	v0,bfc16acc <filtrate_dir+0x114>
    }

    name_len = vfs_get_name(ap_vfs_mount, dir_name_buffer, 16);
bfc169d6:	9a60      	lw	v1,0(v0)
bfc169d8:	6a02      	li	v0,2
bfc169da:	d204      	sw	v0,16(sp)
bfc169dc:	6783      	move	a0,v1
bfc169de:	67b1      	move	a1,s1
bfc169e0:	6e10      	li	a2,16
bfc169e2:	6f00      	li	a3,0
bfc169e4:	b23b      	lw	v0,bfc16ad0 <filtrate_dir+0x118>
bfc169e6:	eac0      	jalrc	v0
bfc169e8:	c950      	sh	v0,32(s1)
bfc169ea:	a950      	lhu	v0,32(s1)

    if ((name_len == 11) && (dir_name_buffer[0] != 0xff))
bfc169ec:	720b      	cmpi	v0,11
bfc169ee:	6758      	move	v0,t8
bfc169f0:	5a01      	sltiu	v0,1
bfc169f2:	600d      	bteqz	bfc16a0e <filtrate_dir+0x56>
bfc169f4:	a140      	lbu	v0,0(s1)
bfc169f6:	72ff      	cmpi	v0,255
bfc169f8:	6758      	move	v0,t8
bfc169fa:	5a01      	sltiu	v0,1
bfc169fc:	6108      	btnez	bfc16a0e <filtrate_dir+0x56>
bfc169fe:	6751      	move	v0,s1
    {
        //8+3
        buf = dir_name_buffer;
bfc16a00:	d94a      	sw	v0,40(s1)
bfc16a02:	6a08      	li	v0,8
        name_len = 8;
bfc16a04:	c950      	sh	v0,32(s1)
bfc16a06:	6a01      	li	v0,1
        add_len = 1;
bfc16a08:	f020 c142 	sb	v0,34(s1)
bfc16a0c:	1015      	b	bfc16a38 <filtrate_dir+0x80>
bfc16a0e:	a950      	lhu	v0,32(s1)
    }
    else
    {
        if ((name_len == 8) && (dir_name_buffer[0] == 0xff))
bfc16a10:	7208      	cmpi	v0,8
bfc16a12:	6758      	move	v0,t8
bfc16a14:	5a01      	sltiu	v0,1
bfc16a16:	600d      	bteqz	bfc16a32 <filtrate_dir+0x7a>
bfc16a18:	a140      	lbu	v0,0(s1)
bfc16a1a:	72ff      	cmpi	v0,255
bfc16a1c:	6758      	move	v0,t8
bfc16a1e:	5a01      	sltiu	v0,1
bfc16a20:	6008      	bteqz	bfc16a32 <filtrate_dir+0x7a>
bfc16a22:	4142      	addiu	v0,s1,2
        {
            //unciode
            buf = dir_name_buffer + 2;
bfc16a24:	d94a      	sw	v0,40(s1)
bfc16a26:	6a06      	li	v0,6
            name_len = 6;
bfc16a28:	c950      	sh	v0,32(s1)
bfc16a2a:	6a02      	li	v0,2
            add_len = 2;
bfc16a2c:	f020 c142 	sb	v0,34(s1)
bfc16a30:	1003      	b	bfc16a38 <filtrate_dir+0x80>
bfc16a32:	6a00      	li	v0,0
        }
        else
        {
            return FALSE;
bfc16a34:	d94b      	sw	v0,44(s1)
bfc16a36:	1042      	b	bfc16abc <filtrate_dir+0x104>
bfc16a38:	6a00      	li	v0,0
        }
    }

    i = 0;
bfc16a3a:	f020 c143 	sb	v0,35(s1)
bfc16a3e:	6a00      	li	v0,0
    for (j = 0; j < name_len; j++)
bfc16a40:	f020 c144 	sb	v0,36(s1)
bfc16a44:	f020 a144 	lbu	v0,36(s1)
bfc16a48:	6762      	move	v1,v0
bfc16a4a:	eb31      	zeh	v1
bfc16a4c:	a950      	lhu	v0,32(s1)
bfc16a4e:	eb43      	sltu	v1,v0
bfc16a50:	601d      	bteqz	bfc16a8c <filtrate_dir+0xd4>
bfc16a52:	b321      	lw	v1,bfc16ad4 <filtrate_dir+0x11c>
    {
        if (rec_dir_name[j] != buf[i])
bfc16a54:	f020 a144 	lbu	v0,36(s1)
bfc16a58:	e351      	addu	a0,v1,v0
bfc16a5a:	f020 a163 	lbu	v1,35(s1)
bfc16a5e:	994a      	lw	v0,40(s1)
bfc16a60:	e349      	addu	v0,v1,v0
bfc16a62:	a460      	lbu	v1,0(a0)
bfc16a64:	a240      	lbu	v0,0(v0)
bfc16a66:	ea6e      	xor	v0,v1
bfc16a68:	5a01      	sltiu	v0,1
bfc16a6a:	6103      	btnez	bfc16a72 <filtrate_dir+0xba>
bfc16a6c:	6a00      	li	v0,0
        {
            return FALSE;
bfc16a6e:	d94b      	sw	v0,44(s1)
bfc16a70:	1025      	b	bfc16abc <filtrate_dir+0x104>
bfc16a72:	f020 a163 	lbu	v1,35(s1)
        }
        i = i + add_len;
bfc16a76:	f020 a142 	lbu	v0,34(s1)
bfc16a7a:	e349      	addu	v0,v1,v0
bfc16a7c:	f020 c143 	sb	v0,35(s1)
bfc16a80:	f020 a144 	lbu	v0,36(s1)
bfc16a84:	4241      	addiu	v0,v0,1
bfc16a86:	f020 c144 	sb	v0,36(s1)
bfc16a8a:	17dc      	b	bfc16a44 <filtrate_dir+0x8c>
bfc16a8c:	b40f      	lw	a0,bfc16ac8 <filtrate_dir+0x110>
    }

    fsel_scan_flag = fsel_scan_flag | SCAN_FILTRATE_BIT;
bfc16a8e:	b20f      	lw	v0,bfc16ac8 <filtrate_dir+0x110>
bfc16a90:	a240      	lbu	v0,0(v0)
bfc16a92:	6762      	move	v1,v0
bfc16a94:	6a01      	li	v0,1
bfc16a96:	ea6d      	or	v0,v1
bfc16a98:	c440      	sb	v0,0(a0)
bfc16a9a:	b20d      	lw	v0,bfc16acc <filtrate_dir+0x114>
    
    //过滤成功，找下一个文件夹返回
    if(0!=vfs_dir(ap_vfs_mount, DIR_NEXT, NULL, EXT_NAME_ALL_DIR))
bfc16a9c:	9a60      	lw	v1,0(v0)
bfc16a9e:	6a01      	li	v0,1
bfc16aa0:	d204      	sw	v0,16(sp)
bfc16aa2:	6783      	move	a0,v1
bfc16aa4:	6d80      	li	a1,128
bfc16aa6:	6e00      	li	a2,0
bfc16aa8:	6f01      	li	a3,1
bfc16aaa:	b20a      	lw	v0,bfc16ad0 <filtrate_dir+0x118>
bfc16aac:	eac0      	jalrc	v0
bfc16aae:	651a      	move	t8,v0
bfc16ab0:	6003      	bteqz	bfc16ab8 <filtrate_dir+0x100>
bfc16ab2:	6a00      	li	v0,0
    {
    //找到，跑找到文件夹流程	    
        return FALSE;
bfc16ab4:	d94b      	sw	v0,44(s1)
bfc16ab6:	1002      	b	bfc16abc <filtrate_dir+0x104>
bfc16ab8:	6a01      	li	v0,1
    }
    else
    {
    //未找到，跑递归流程	    
        return TRUE;
bfc16aba:	d94b      	sw	v0,44(s1)
bfc16abc:	994b      	lw	v0,44(s1)
    }

}
bfc16abe:	65b9      	move	sp,s1
bfc16ac0:	6457      	restore	56,ra,s1
bfc16ac2:	e8a0      	jrc	ra
bfc16ac4:	6ae4      	li	v0,228
bfc16ac6:	bfc1      	lwu	a2,4(a3)
bfc16ac8:	5a2b      	sltiu	v0,43
bfc16aca:	9fc1      	lw	a2,4(a3)
bfc16acc:	5570      	slti	a1,112
bfc16ace:	9fc1      	lw	a2,4(a3)
bfc16ad0:	6411      	restore	8,s1
bfc16ad2:	bfc1      	lwu	a2,4(a3)
bfc16ad4:	6ad8      	li	v0,216
bfc16ad6:	bfc1      	lwu	a2,4(a3)

bfc16ad8 <rec_dir_name>:
bfc16ad8:	4552 4f43 4452 2020 0000 0000               RECORD  ....

bfc16ae4 <plist_dir_layer>:
	...

bfc16ae6 <plist_file_no>:
	...

bfc16ae8 <plist_cur_ext_name>:
bfc16ae8:	0000 0000                                   ....

bfc16aec <plist_sel_bitmap>:
bfc16aec:	0000 0000                                   ....

bfc16af0 <handle_timers>:
bfc16af0:	64f5      	save	40,ra,s0-s1
 * \ingroup      app_timer
 * \note 
*******************************************************************************/
void handle_timers(void)
{
bfc16af2:	b42a      	lw	a0,bfc16b98 <handle_timers+0xa8>
    app_timer_t *tm;
    uint32 cur_time_ms;
    int8 i;

    for(i = 0; i < g_app_timer_count; i++) 
bfc16af4:	6b00      	li	v1,0
bfc16af6:	a440      	lbu	v0,0(a0)
bfc16af8:	d304      	sw	v1,16(sp)
bfc16afa:	224c      	beqz	v0,bfc16b94 <handle_timers+0xa4>
bfc16afc:	b028      	lw	s0,bfc16b9c <handle_timers+0xac>
    {
        tm = &g_app_timer_vector[i];
bfc16afe:	9204      	lw	v0,16(sp)
bfc16b00:	98e0      	lw	a3,0(s0)
bfc16b02:	3650      	sll	a2,v0,4
bfc16b04:	e7c1      	addu	s0,a3,a2
bfc16b06:	a0a1      	lbu	a1,1(s0)
        if(((tm->attrb==APP_TIMER_ATTRB_CONTROL)||(g_app_info_state.backlight_state!=BACKLIGHT_STATE_OFF))//类型校验
bfc16b08:	7501      	cmpi	a1,1
bfc16b0a:	6004      	bteqz	bfc16b14 <handle_timers+0x24>
bfc16b0c:	b425      	lw	a0,bfc16ba0 <handle_timers+0xb0>
bfc16b0e:	a469      	lbu	v1,9(a0)
bfc16b10:	7302      	cmpi	v1,2
bfc16b12:	6037      	bteqz	bfc16b82 <handle_timers+0x92>
bfc16b14:	b624      	lw	a2,bfc16ba4 <handle_timers+0xb4>
bfc16b16:	a065      	lbu	v1,5(s0)
bfc16b18:	a6a0      	lbu	a1,0(a2)
bfc16b1a:	ed6e      	xor	a1,v1
bfc16b1c:	2502      	beqz	a1,bfc16b22 <handle_timers+0x32>
bfc16b1e:	73ff      	cmpi	v1,255
bfc16b20:	6130      	btnez	bfc16b82 <handle_timers+0x92>
bfc16b22:	6c00      	li	a0,0
        && ((tm->tag == g_this_app_timer_tag) || (tm->tag == APP_TIMER_TAG_SYS)))//场景校验
        {
            cur_time_ms = sys_get_ab_timer();
bfc16b24:	b121      	lw	s1,bfc16ba8 <handle_timers+0xb8>
bfc16b26:	67a4      	move	a1,a0
bfc16b28:	67c4      	move	a2,a0
bfc16b2a:	e940      	jalr	s1
bfc16b2c:	6f1c      	li	a3,28
bfc16b2e:	9862      	lw	v1,8(s0)
            if((cur_time_ms >= tm->timeout_expires)//定时时间已到
bfc16b30:	6722      	move	s1,v0
bfc16b32:	ea63      	sltu	v0,v1
bfc16b34:	6118      	btnez	bfc16b66 <handle_timers+0x76>
bfc16b36:	a0c0      	lbu	a2,0(s0)
bfc16b38:	2e16      	bnez	a2,bfc16b66 <handle_timers+0x76>
bfc16b3a:	98e3      	lw	a3,12(s0)
bfc16b3c:	2714      	beqz	a3,bfc16b66 <handle_timers+0x76>
bfc16b3e:	a881      	lhu	a0,2(s0)
            && (tm->state == TIMER_STATE_RUNNING)//定时器正在运行才需要执行handle
            && (tm->func_proc != NULL))//定时器handle有效
            {
                //重设软定时器超时时间
                if(tm->timeout > (cur_time_ms - tm->timeout_expires))
bfc16b40:	e26b      	subu	v0,v1
bfc16b42:	ea83      	sltu	v0,a0
bfc16b44:	e389      	addu	v0,v1,a0
                {
                    tm->timeout_expires += tm->timeout;//直接在expires上加定时周期，以确保多次定时时间准确
bfc16b46:	6107      	btnez	bfc16b56 <handle_timers+0x66>
bfc16b48:	b318      	lw	v1,bfc16ba8 <handle_timers+0xb8>
                }
                else
                {
                    tm->timeout_expires = sys_get_ab_timer() + tm->timeout;
bfc16b4a:	6786      	move	a0,a2
bfc16b4c:	67a6      	move	a1,a2
bfc16b4e:	eb40      	jalr	v1
bfc16b50:	6f1c      	li	a3,28
bfc16b52:	a861      	lhu	v1,2(s0)
bfc16b54:	e269      	addu	v0,v1
bfc16b56:	a0a4      	lbu	a1,4(s0)
                }
                
                //单发软定时器一次执行完后 kill 掉
                if(tm->type == TIMER_TYPE_SINGLE_SHOT)
bfc16b58:	d842      	sw	v0,8(s0)
bfc16b5a:	7501      	cmpi	a1,1
bfc16b5c:	6102      	btnez	bfc16b62 <handle_timers+0x72>
bfc16b5e:	6e02      	li	a2,2
                {
                    tm->state = TIMER_STATE_NOUSED;
bfc16b60:	c0c0      	sb	a2,0(s0)
bfc16b62:	9843      	lw	v0,12(s0)
                }
                
                //调用软定时器服务例程
                tm->func_proc();
bfc16b64:	eac0      	jalrc	v0
bfc16b66:	a861      	lhu	v1,2(s0)
            }
    
            if( cur_time_ms <= (tm->timeout_expires - tm->timeout ))
bfc16b68:	9882      	lw	a0,8(s0)
bfc16b6a:	e47f      	subu	a3,a0,v1
bfc16b6c:	ef23      	sltu	a3,s1
bfc16b6e:	6109      	btnez	bfc16b82 <handle_timers+0x92>
bfc16b70:	6c00      	li	a0,0
            {
                //如果系统时间因某种原因落在超时时间点后面，那么必须修复该时间点
                tm->timeout_expires = sys_get_ab_timer() + tm->timeout;
bfc16b72:	b20e      	lw	v0,bfc16ba8 <handle_timers+0xb8>
bfc16b74:	67a4      	move	a1,a0
bfc16b76:	67c4      	move	a2,a0
bfc16b78:	ea40      	jalr	v0
bfc16b7a:	6f1c      	li	a3,28
bfc16b7c:	a8c1      	lhu	a2,2(s0)
bfc16b7e:	e2d5      	addu	a1,v0,a2
bfc16b80:	d8a2      	sw	a1,8(s0)
bfc16b82:	9604      	lw	a2,16(sp)
bfc16b84:	b305      	lw	v1,bfc16b98 <handle_timers+0xa8>
bfc16b86:	46a1      	addiu	a1,a2,1
bfc16b88:	ed91      	seb	a1
bfc16b8a:	d504      	sw	a1,16(sp)
bfc16b8c:	a3e0      	lbu	a3,0(v1)
bfc16b8e:	9404      	lw	a0,16(sp)
bfc16b90:	ece2      	slt	a0,a3
bfc16b92:	61b4      	btnez	bfc16afc <handle_timers+0xc>
bfc16b94:	6475      	restore	40,ra,s0-s1
bfc16b96:	e8a0      	jrc	ra
bfc16b98:	a1ec      	lbu	a3,12(s1)
bfc16b9a:	9fc1      	lw	a2,4(a3)
bfc16b9c:	a1fc      	lbu	a3,28(s1)
bfc16b9e:	9fc1      	lw	a2,4(a3)
bfc16ba0:	a1b8      	lbu	a1,24(s1)
bfc16ba2:	9fc1      	lw	a2,4(a3)
bfc16ba4:	a200      	lbu	s0,0(v0)
bfc16ba6:	9fc1      	lw	a2,4(a3)
bfc16ba8:	640d      	restore	104
bfc16baa:	bfc1      	lwu	a2,4(a3)

bfc16bac <lcd_op_entry>:
bfc16bac:	6b07      	li	v1,7
bfc16bae:	e805      	break	0

bfc16bb0 <ui_op_entry>:
bfc16bb0:	6b06      	li	v1,6
bfc16bb2:	e805      	break	0

bfc16bb4 <base_op_entry>:
bfc16bb4:	6b00      	li	v1,0
bfc16bb6:	e805      	break	0
Disassembly of section BANK_CONTROL_1_0:

40014c00 <process_start>:
40014c00:	64d4      	save	32,ra,s1
40014c02:	0104      	addiu	s1,sp,16
40014c04:	d984      	sw	a0,16(s1)
40014c06:	9944      	lw	v0,16(s1)
40014c08:	6782      	move	a0,v0
40014c0a:	6d00      	li	a1,0
40014c0c:	b207      	lw	v0,40014c28 <BANK_CONTROL_1_ADDR_BASE+0x28>
40014c0e:	eac0      	jalrc	v0
40014c10:	c140      	sb	v0,0(s1)
40014c12:	8140      	lb	v0,0(s1)
40014c14:	6782      	move	a0,v0
40014c16:	6d00      	li	a1,0
40014c18:	6e00      	li	a2,0
40014c1a:	6f0e      	li	a3,14
40014c1c:	b204      	lw	v0,40014c2c <BANK_CONTROL_1_ADDR_BASE+0x2c>
40014c1e:	eac0      	jalrc	v0
40014c20:	6a00      	li	v0,0
40014c22:	65b9      	move	sp,s1
40014c24:	6452      	restore	16,ra,s1
40014c26:	e8a0      	jrc	ra
40014c28:	4c55      	addiu	a0,85
40014c2a:	4005      	addiu	s0,s0,5
40014c2c:	6409      	restore	72
40014c2e:	bfc1      	lwu	a2,4(a3)

40014c30 <__start>:
40014c30:	64d6      	save	48,ra,s1
40014c32:	0104      	addiu	s1,sp,16
40014c34:	d988      	sw	a0,32(s1)
40014c36:	d9a9      	sw	a1,36(s1)
40014c38:	6c00      	li	a0,0
40014c3a:	6d00      	li	a1,0
40014c3c:	6e00      	li	a2,0
40014c3e:	6f10      	li	a3,16
40014c40:	b220      	lw	v0,40014cc0 <__start+0x90>
40014c42:	eac0      	jalrc	v0
40014c44:	c150      	sb	v0,16(s1)
40014c46:	8170      	lb	v1,16(s1)
40014c48:	6a01      	li	v0,1
40014c4a:	ea4b      	neg	v0
40014c4c:	ea6e      	xor	v0,v1
40014c4e:	5a01      	sltiu	v0,1
40014c50:	6004      	bteqz	40014c5a <__start+0x2a>
40014c52:	6a01      	li	v0,1
40014c54:	ea4b      	neg	v0
40014c56:	d945      	sw	v0,20(s1)
40014c58:	102e      	b	40014cb6 <__start+0x86>
40014c5a:	b21b      	lw	v0,40014cc4 <__start+0x94>
40014c5c:	d940      	sw	v0,0(s1)
40014c5e:	9948      	lw	v0,32(s1)
40014c60:	d941      	sw	v0,4(s1)
40014c62:	9949      	lw	v0,36(s1)
40014c64:	9a41      	lw	v0,4(v0)
40014c66:	d942      	sw	v0,8(s1)
40014c68:	9949      	lw	v0,36(s1)
40014c6a:	aa41      	lhu	v0,2(v0)
40014c6c:	c946      	sh	v0,12(s1)
40014c6e:	6c00      	li	a0,0
40014c70:	6d00      	li	a1,0
40014c72:	6e00      	li	a2,0
40014c74:	6f33      	li	a3,51
40014c76:	b215      	lw	v0,40014cc8 <__start+0x98>
40014c78:	eac0      	jalrc	v0
40014c7a:	9949      	lw	v0,36(s1)
40014c7c:	aa40      	lhu	v0,0(v0)
40014c7e:	8170      	lb	v1,16(s1)
40014c80:	6791      	move	a0,s1
40014c82:	67a2      	move	a1,v0
40014c84:	67c3      	move	a2,v1
40014c86:	6f4a      	li	a3,74
40014c88:	b210      	lw	v0,40014cc8 <__start+0x98>
40014c8a:	eac0      	jalrc	v0
40014c8c:	5200      	slti	v0,0
40014c8e:	6011      	bteqz	40014cb2 <__start+0x82>
40014c90:	8150      	lb	v0,16(s1)
40014c92:	6782      	move	a0,v0
40014c94:	6d00      	li	a1,0
40014c96:	6e00      	li	a2,0
40014c98:	6f11      	li	a3,17
40014c9a:	b20a      	lw	v0,40014cc0 <__start+0x90>
40014c9c:	eac0      	jalrc	v0
40014c9e:	6c00      	li	a0,0
40014ca0:	6d00      	li	a1,0
40014ca2:	6e00      	li	a2,0
40014ca4:	6f34      	li	a3,52
40014ca6:	b209      	lw	v0,40014cc8 <__start+0x98>
40014ca8:	eac0      	jalrc	v0
40014caa:	6a01      	li	v0,1
40014cac:	ea4b      	neg	v0
40014cae:	d945      	sw	v0,20(s1)
40014cb0:	1002      	b	40014cb6 <__start+0x86>
40014cb2:	6a00      	li	v0,0
40014cb4:	d945      	sw	v0,20(s1)
40014cb6:	9945      	lw	v0,20(s1)
40014cb8:	65b9      	move	sp,s1
40014cba:	6454      	restore	32,ra,s1
40014cbc:	e8a0      	jrc	ra
40014cbe:	0000      	addiu	s0,sp,0
40014cc0:	6409      	restore	72
40014cc2:	bfc1      	lwu	a2,4(a3)
40014cc4:	4c01      	addiu	a0,1
40014cc6:	4001      	addiu	s0,s0,1
40014cc8:	640d      	restore	104
40014cca:	bfc1      	lwu	a2,4(a3)
	...
Disassembly of section BANK_FORNT_CONTROL_1_1:

40054c00 <_read_var>:
40054c00:	64d4      	save	32,ra,s1
extern void plist_reflash_string(uint8 str_id) __FAR__;

/***************************/
void _read_var(void)
{
40054c02:	0104      	addiu	s1,sp,16
40054c04:	b20e      	lw	v0,40054c3c <_read_var+0x3c>
    setting_comval_t *g_setting_comval_p;
    /*读取common VM公共变量信息*/
    g_setting_comval_p = (setting_comval_t*) temp_plist_buf;
40054c06:	d940      	sw	v0,0(s1)
40054c08:	9940      	lw	v0,0(s1)
    sys_vm_read(g_setting_comval_p, VM_AP_SETTING, sizeof(setting_comval_t));
40054c0a:	6782      	move	a0,v0
40054c0c:	6d00      	li	a1,0
40054c0e:	6e22      	li	a2,34
40054c10:	6f12      	li	a3,18
40054c12:	b20c      	lw	v0,40054c40 <_read_var+0x40>
40054c14:	eac0      	jalrc	v0
40054c16:	b20c      	lw	v0,40054c44 <_read_var+0x44>
    libc_memcpy(&g_comval, &g_setting_comval_p->g_comval, sizeof(comval_t));
40054c18:	9960      	lw	v1,0(s1)
40054c1a:	6782      	move	a0,v0
40054c1c:	67a3      	move	a1,v1
40054c1e:	6e1a      	li	a2,26
40054c20:	6f00      	li	a3,0
40054c22:	b20a      	lw	v0,40054c48 <_read_var+0x48>
40054c24:	eac0      	jalrc	v0
40054c26:	b208      	lw	v0,40054c44 <_read_var+0x44>
    com_set_sys_comval(&g_comval);
40054c28:	6782      	move	a0,v0
40054c2a:	b209      	lw	v0,40054c4c <_read_var+0x4c>
40054c2c:	eac0      	jalrc	v0
40054c2e:	b309      	lw	v1,40054c50 <_read_var+0x50>
    language_id = g_setting_comval_p->g_comval.language_id;
40054c30:	9940      	lw	v0,0(s1)
40054c32:	a24c      	lbu	v0,12(v0)
40054c34:	c340      	sb	v0,0(v1)
40054c36:	65b9      	move	sp,s1

}
40054c38:	6452      	restore	16,ra,s1
40054c3a:	e8a0      	jrc	ra
40054c3c:	5694      	slti	a2,148
40054c3e:	9fc1      	lw	a2,4(a3)
40054c40:	640d      	restore	104
40054c42:	bfc1      	lwu	a2,4(a3)
40054c44:	5574      	slti	a1,116
40054c46:	9fc1      	lw	a2,4(a3)
40054c48:	6409      	restore	72
40054c4a:	bfc1      	lwu	a2,4(a3)
40054c4c:	4691      	daddiu	a0,a2,1
40054c4e:	48b5      	addiu	s0,-75
40054c50:	5568      	slti	a1,104
40054c52:	9fc1      	lw	a2,4(a3)

40054c54 <main>:
40054c54:	64d5      	save	40,ra,s1

/******************************************************************************/
/*
 * \par  Description: AP入口
 *
 * \param[in]    argc--输入参数个数
 argv--参数类型指针
 * \param[out]

 * \return       >0 成功，<=0 失败

 * \note
 *******************************************************************************/

int main(int argc, const char *argv[])
{
40054c56:	0104      	addiu	s1,sp,16
40054c58:	d986      	sw	a0,24(s1)
40054c5a:	d9a7      	sw	a1,28(s1)
40054c5c:	9946      	lw	v0,24(s1)
    uint8 disk_param;
    uint8 build_param;
    int8 app_timer_id; //软定时器id
    uint16 plist_param;
    uint16 lib_file_total[MENU_REC_MAX];

    bool creat_file_flag;

    app_param_e enter_mode = (app_param_e) (argc & 0x1f);
40054c5e:	651a      	move	t8,v0
40054c60:	6778      	move	v1,t8
40054c62:	6a1f      	li	v0,31
40054c64:	ea6c      	and	v0,v1
40054c66:	c149      	sb	v0,9(s1)
40054c68:	6c0a      	li	a0,10

    //升频
    adjust_freq_set_level(AP_FRONT_LOW_PRIO, FREQ_LEVEL11, FREQ_NULL);
40054c6a:	6d0b      	li	a1,11
40054c6c:	6e00      	li	a2,0
40054c6e:	6f05      	li	a3,5
40054c70:	b2cf      	lw	v0,40054fac <.L5+0x5e>
40054c72:	eac0      	jalrc	v0
40054c74:	6c01      	li	a0,1

    sys_mdelay(1);
40054c76:	6d00      	li	a1,0
40054c78:	6e00      	li	a2,0
40054c7a:	6f1d      	li	a3,29
40054c7c:	b2cd      	lw	v0,40054fb0 <.L5+0x62>
40054c7e:	eac0      	jalrc	v0
40054c80:	b2cd      	lw	v0,40054fb0 <.L5+0x62>

    plist_sys_init();
40054c82:	eac0      	jalrc	v0
40054c84:	1820 5300 	jal	40054c00 <_read_var>

    _read_var();
40054c88:	6500      	nop
40054c8a:	4146      	addiu	v0,s1,6

    //读出MAIN_MENU的VM区
    //sys_vm_read(lib_file_total, VM_FILE_NUM, sizeof(lib_file_total));
    libc_memset(lib_file_total, 0x0000, sizeof(lib_file_total));
40054c8c:	6782      	move	a0,v0
40054c8e:	6d00      	li	a1,0
40054c90:	6e02      	li	a2,2
40054c92:	6f01      	li	a3,1
40054c94:	b2c9      	lw	v0,40054fb8 <.L5+0x6a>
40054c96:	eac0      	jalrc	v0
40054c98:	6c01      	li	a0,1

    com_clear_all_history(PATH_HISTORY_DIR);
40054c9a:	b2c9      	lw	v0,40054fbc <.L5+0x6e>
40054c9c:	eac0      	jalrc	v0
40054c9e:	9946      	lw	v0,24(s1)

    //argc 的bit7~bit5为创建播放列表的介质
#ifdef _CARD_BASE_
    plist_param = (uint16) ((uint8) argc & PLIST_DISK_C) << 8;
40054ca0:	ea11      	zeb	v0
40054ca2:	6762      	move	v1,v0
40054ca4:	6a80      	li	v0,128
40054ca6:	ea6c      	and	v0,v1
40054ca8:	3240      	sll	v0,8
40054caa:	c942      	sh	v0,4(s1)
40054cac:	a942      	lhu	v0,4(s1)
#else
    plist_param = (uint16) ((uint8) argc & PLIST_DISK_H) << 8;
#endif

    //默认创建所用的表项
    plist_param = plist_param + (PL_BUILD_ALL & 0x03);// don't creat m3u
40054cae:	4243      	addiu	v0,v0,3
40054cb0:	c942      	sh	v0,4(s1)
40054cb2:	a942      	lhu	v0,4(s1)
    disk_param  = (uint8) ((plist_param >> 8) & PLIST_DISK_ALL);
40054cb4:	3242      	srl	v0,8
40054cb6:	651a      	move	t8,v0
40054cb8:	6a40      	li	v0,64
40054cba:	ea4b      	neg	v0
40054cbc:	6778      	move	v1,t8
40054cbe:	ea6c      	and	v0,v1
40054cc0:	c140      	sb	v0,0(s1)
40054cc2:	a942      	lhu	v0,4(s1)
    build_param = (uint8) (plist_param & PL_BUILD_ALL);
40054cc4:	651a      	move	t8,v0
40054cc6:	6778      	move	v1,t8
40054cc8:	6a07      	li	v0,7
40054cca:	ea6c      	and	v0,v1
40054ccc:	c141      	sb	v0,1(s1)
40054cce:	a140      	lbu	v0,0(s1)

#ifndef _CARD_BASE_
    if ((disk_param & PLIST_DISK_H) != 0)
    {
        if (sys_detect_disk(DRV_GROUP_STG_CARD) == -1)
        {
            disk_param = disk_param & (~PLIST_DISK_H);
        }
    }
#endif

    if ((disk_param == 0) || (build_param == 0))
40054cd0:	f120 221d 	beqz	v0,40054f4e <.L5>
40054cd4:	a141      	lbu	v0,1(s1)
40054cd6:	2a01      	bnez	v0,40054cda <main+0x86>
40054cd8:	113a      	b	40054f4e <.L5>
    {
        //参数无效
        goto ap_exit;
40054cda:	a149      	lbu	v0,9(s1)
    }

    if ((enter_mode == PARAM_FROM_CONFIG) || (enter_mode == PARAM_FROM_UDISK))
40054cdc:	720e      	cmpi	v0,14
40054cde:	6758      	move	v0,t8
40054ce0:	5a01      	sltiu	v0,1
40054ce2:	6106      	btnez	40054cf0 <main+0x9c>
40054ce4:	a149      	lbu	v0,9(s1)
40054ce6:	720f      	cmpi	v0,15
40054ce8:	6758      	move	v0,t8
40054cea:	5a01      	sltiu	v0,1
40054cec:	6101      	btnez	40054cf0 <main+0x9c>
40054cee:	1003      	b	40054cf6 <main+0xa2>
40054cf0:	6a01      	li	v0,1
    {
        creat_file_flag = TRUE;
40054cf2:	c148      	sb	v0,8(s1)
40054cf4:	1009      	b	40054d08 <main+0xb4>
40054cf6:	a140      	lbu	v0,0(s1)
    }
#ifdef _CARD_BASE_
    else if (0 != (disk_param & (PLIST_DISK_C | PLIST_DISK_U)))
40054cf8:	6ba0      	li	v1,160
40054cfa:	ea6c      	and	v0,v1
40054cfc:	2203      	beqz	v0,40054d04 <main+0xb0>
40054cfe:	6a01      	li	v0,1
#else
    else if (0 != (disk_param & (PLIST_DISK_H | PLIST_DISK_U)))
#endif
    {
        creat_file_flag = TRUE;
40054d00:	c148      	sb	v0,8(s1)
40054d02:	1002      	b	40054d08 <main+0xb4>
40054d04:	6a00      	li	v0,0
    }
    else
    {
        creat_file_flag = FALSE;
40054d06:	c148      	sb	v0,8(s1)
40054d08:	a148      	lbu	v0,8(s1)
    }

    if (creat_file_flag == TRUE)
40054d0a:	7201      	cmpi	v0,1
40054d0c:	6758      	move	v0,t8
40054d0e:	5a01      	sltiu	v0,1
40054d10:	600a      	bteqz	40054d26 <main+0xd2>
40054d12:	a942      	lhu	v0,4(s1)
    {
        plist_param = plist_param | PL_BUILD_M3U;//creat m3u
40054d14:	6762      	move	v1,v0
40054d16:	6a04      	li	v0,4
40054d18:	ea6d      	or	v0,v1
40054d1a:	c942      	sh	v0,4(s1)
40054d1c:	a141      	lbu	v0,1(s1)
        build_param = build_param | PL_BUILD_M3U;//creat m3u
40054d1e:	6762      	move	v1,v0
40054d20:	6a04      	li	v0,4
40054d22:	ea6d      	or	v0,v1
40054d24:	c141      	sb	v0,1(s1)
40054d26:	6c00      	li	a0,0
    }

    ui_set_display_buf(LCD_RAM0_INDEX);
40054d28:	6d00      	li	a1,0
40054d2a:	6e00      	li	a2,0
40054d2c:	6f19      	li	a3,25
40054d2e:	b2a5      	lw	v0,40054fc0 <.L5+0x72>
40054d30:	eac0      	jalrc	v0
40054d32:	6c0a      	li	a0,10

    //初始化applib库，前台AP
    applib_init(APP_ID_PLAYLIST, APP_TYPE_GUI);
40054d34:	6d01      	li	a1,1
40054d36:	b2a4      	lw	v0,40054fc4 <.L5+0x76>
40054d38:	eac0      	jalrc	v0
40054d3a:	6c00      	li	a0,0
    //初始化 applib 消息模块
    applib_message_init(NULL);
40054d3c:	b2a3      	lw	v0,40054fc8 <.L5+0x7a>
40054d3e:	eac0      	jalrc	v0
40054d40:	b2a3      	lw	v0,40054fc8 <.L5+0x7a>
    //初始化软定时器
    init_app_timers(playlist_app_timer_vector, APP_TIMER_TOTAL);
40054d42:	6782      	move	a0,v0
40054d44:	6d05      	li	a1,5
40054d46:	b2a3      	lw	v0,40054fd0 <.L5+0x82>
40054d48:	eac0      	jalrc	v0
40054d4a:	b2a3      	lw	v0,40054fd4 <.L5+0x86>

    ui_res_open(plist_ui_sty, UI_AP);
40054d4c:	6782      	move	a0,v0
40054d4e:	6d00      	li	a1,0
40054d50:	6e00      	li	a2,0
40054d52:	6f00      	li	a3,0
40054d54:	b29b      	lw	v0,40054fc0 <.L5+0x72>
40054d56:	eac0      	jalrc	v0
40054d58:	6aff      	li	v0,255
    //定时器350ms

    app_timer_id = set_app_timer(APP_TIMER_ATTRB_UI, 350, plist_timer_proc);
40054d5a:	4a5f      	addiu	v0,95
40054d5c:	b39f      	lw	v1,40054fd8 <.L5+0x8a>
40054d5e:	6c00      	li	a0,0
40054d60:	67a2      	move	a1,v0
40054d62:	67c3      	move	a2,v1
40054d64:	b29e      	lw	v0,40054fdc <.L5+0x8e>
40054d66:	eac0      	jalrc	v0
40054d68:	c142      	sb	v0,2(s1)
40054d6a:	b29e      	lw	v0,40054fe0 <.L5+0x92>

    _app_display_init();
40054d6c:	eac0      	jalrc	v0
40054d6e:	b39e      	lw	v1,40054fe4 <.L5+0x96>

    cpu_release_count = 0;
40054d70:	6a00      	li	v0,0
40054d72:	c340      	sb	v0,0(v1)
40054d74:	b39d      	lw	v1,40054fe8 <.L5+0x9a>
    drv_sn = 0;
40054d76:	6a00      	li	v0,0
40054d78:	c340      	sb	v0,0(v1)
40054d7a:	a140      	lbu	v0,0(s1)

    while (disk_param != 0)
40054d7c:	f0c0 2212 	beqz	v0,40054f24 <.L15+0x12>
40054d80:	8140      	lb	v0,0(s1)
    {
        if ((disk_param & 0x80) == 0)
40054d82:	5200      	slti	v0,0
40054d84:	6101      	btnez	40054d88 <main+0x134>
40054d86:	10c5      	b	40054f12 <.L15>
        {
            goto next_disk;
40054d88:	b399      	lw	v1,40054fec <.L5+0x9e>
        }

        //BANK DATA,必须每次都要初始化
        fsel_param.brow_type = 0;
40054d8a:	6a00      	li	v0,0
40054d8c:	c342      	sb	v0,2(v1)
40054d8e:	b398      	lw	v1,40054fec <.L5+0x9e>
        fsel_param.fsel_mode = FSEL_MODE_NORMAL;
40054d90:	6a00      	li	v0,0
40054d92:	c341      	sb	v0,1(v1)
40054d94:	b396      	lw	v1,40054fec <.L5+0x9e>
        fsel_param.fsel_type = FSEL_TYPE_COMMONDIR;
40054d96:	6a00      	li	v0,0
40054d98:	c340      	sb	v0,0(v1)
40054d9a:	b395      	lw	v1,40054fec <.L5+0x9e>
        fsel_param.file_type_bit = file_type_bitmap[drv_sn];
40054d9c:	b495      	lw	a0,40054ff0 <.L5+0xa2>
40054d9e:	b293      	lw	v0,40054fe8 <.L5+0x9a>
40054da0:	a240      	lbu	v0,0(v0)
40054da2:	ea11      	zeb	v0
40054da4:	3248      	sll	v0,2
40054da6:	e289      	addu	v0,a0
40054da8:	9a40      	lw	v0,0(v0)
40054daa:	db41      	sw	v0,4(v1)
40054dac:	b490      	lw	a0,40054fec <.L5+0x9e>
        fsel_param.disk = stg_drv_type[drv_sn];
40054dae:	b392      	lw	v1,40054ff4 <.L5+0xa6>
40054db0:	b28e      	lw	v0,40054fe8 <.L5+0x9a>
40054db2:	a240      	lbu	v0,0(v0)
40054db4:	ea11      	zeb	v0
40054db6:	e349      	addu	v0,v1,v0
40054db8:	a240      	lbu	v0,0(v0)
40054dba:	c443      	sb	v0,3(a0)
40054dbc:	b28c      	lw	v0,40054fec <.L5+0x9e>

        ap_vfs_mount = fsel_init(&fsel_param, MODE_NORMAL);
40054dbe:	6782      	move	a0,v0
40054dc0:	6d00      	li	a1,0
40054dc2:	b28e      	lw	v0,40054ff8 <.L5+0xaa>
40054dc4:	eac0      	jalrc	v0
40054dc6:	6762      	move	v1,v0
40054dc8:	b28d      	lw	v0,40054ffc <.L5+0xae>
40054dca:	da60      	sw	v1,0(v0)
40054dcc:	b38d      	lw	v1,40055000 <.L5+0xb2>
        lib_num = 0;
40054dce:	6a00      	li	v0,0
40054dd0:	c340      	sb	v0,0(v1)
40054dd2:	b28b      	lw	v0,40054ffc <.L5+0xae>
        if (ap_vfs_mount == -1)
40054dd4:	9a60      	lw	v1,0(v0)
40054dd6:	6a01      	li	v0,1
40054dd8:	ea4b      	neg	v0
40054dda:	ea6e      	xor	v0,v1
40054ddc:	5a01      	sltiu	v0,1
40054dde:	6011      	bteqz	40054e02 <main+0x1ae>
40054de0:	b489      	lw	a0,40055004 <.L5+0xb6>
        {
            plist_reflash_string(stg_creat_fail[drv_sn & 0x03]);
40054de2:	b282      	lw	v0,40054fe8 <.L5+0x9a>
40054de4:	a260      	lbu	v1,0(v0)
40054de6:	6a03      	li	v0,3
40054de8:	ea6c      	and	v0,v1
40054dea:	e449      	addu	v0,a0,v0
40054dec:	a240      	lbu	v0,0(v0)
40054dee:	6782      	move	a0,v0
40054df0:	b286      	lw	v0,40055008 <.L5+0xba>
40054df2:	eac0      	jalrc	v0
40054df4:	6c23      	li	a0,35
            sys_os_time_dly(35);//显示界面使用
40054df6:	6d00      	li	a1,0
40054df8:	6e00      	li	a2,0
40054dfa:	6f31      	li	a3,49
40054dfc:	b26d      	lw	v0,40054fb0 <.L5+0x62>
40054dfe:	eac0      	jalrc	v0
40054e00:	1086      	b	40054f0e <.L17>
            goto stg_exit;
40054e02:	a942      	lhu	v0,4(s1)
        }

        plt_print("<plist start> ", sys_get_ab_timer(), 2);
        build_param = (uint8) (plist_param & PL_BUILD_ALL);
40054e04:	651a      	move	t8,v0
40054e06:	6778      	move	v1,t8
40054e08:	6a07      	li	v0,7
40054e0a:	ea6c      	and	v0,v1
40054e0c:	c141      	sb	v0,1(s1)
40054e0e:	a141      	lbu	v0,1(s1)
        while (build_param != 0)
40054e10:	226b      	beqz	v0,40054ee8 <.L24+0x34>
40054e12:	a141      	lbu	v0,1(s1)
        {
            if ((build_param & 0x01) != 0)
40054e14:	6b01      	li	v1,1
40054e16:	ea6c      	and	v0,v1
40054e18:	225e      	beqz	v0,40054ed6 <.L24+0x22>
40054e1a:	b27d      	lw	v0,4005500c <.L5+0xbe>
            {
                plist_get_app_msg();
40054e1c:	eac0      	jalrc	v0
40054e1e:	b375      	lw	v1,40054ff0 <.L5+0xa2>

#ifdef ENHANCED_FIND_MODE
                fsel_set_typebit(file_type_bitmap[lib_num],TRUE);//默认进入root
#else
                plist_fsel_set_typebit(file_type_bitmap[lib_num], TRUE);
40054e20:	b278      	lw	v0,40055000 <.L5+0xb2>
40054e22:	a240      	lbu	v0,0(v0)
40054e24:	ea11      	zeb	v0
40054e26:	3248      	sll	v0,2
40054e28:	e269      	addu	v0,v1
40054e2a:	9a40      	lw	v0,0(v0)
40054e2c:	6782      	move	a0,v0
40054e2e:	6d01      	li	a1,1
40054e30:	b278      	lw	v0,40055010 <.L5+0xc2>
40054e32:	eac0      	jalrc	v0
40054e34:	b273      	lw	v0,40054ffc <.L5+0xae>
#endif
                //fsel_param.file_type_bit=file_type_bitmap[lib_num];
                if(lib_num!=0)
40054e36:	a240      	lbu	v0,0(v0)
40054e38:	220e      	beqz	v0,40054e56 <main+0x202>
40054e3a:	0b5b      	la	v1,40054fa4 <.L5+0x56>
                {
                    //music要做特殊处理，根据歌曲总数进行自适应排序
                    libc_print("lib_no.",lib_num,2);
40054e3c:	b271      	lw	v0,40055000 <.L5+0xb2>
40054e3e:	a240      	lbu	v0,0(v0)
40054e40:	6783      	move	a0,v1
40054e42:	67a2      	move	a1,v0
40054e44:	6e02      	li	a2,2
40054e46:	6f4b      	li	a3,75
40054e48:	b25a      	lw	v0,40054fb0 <.L5+0x62>
40054e4a:	eac0      	jalrc	v0
40054e4c:	b26d      	lw	v0,40054ffc <.L5+0xae>
                    init_sys_data(lib_num);
40054e4e:	a240      	lbu	v0,0(v0)
40054e50:	6782      	move	a0,v0
40054e52:	b271      	lw	v0,40055014 <.L5+0xc6>
40054e54:	eac0      	jalrc	v0
40054e56:	6cff      	li	a0,255
                }
                plist_reflash_progress(-1);
40054e58:	b270      	lw	v0,40055018 <.L5+0xca>
40054e5a:	eac0      	jalrc	v0
40054e5c:	b269      	lw	v0,40054ffc <.L5+0xae>

                if (FALSE != creat_plist_lib(lib_num))
40054e5e:	a240      	lbu	v0,0(v0)
40054e60:	6782      	move	a0,v0
40054e62:	b26f      	lw	v0,4005501c <.L5+0xce>
40054e64:	eac0      	jalrc	v0
40054e66:	651a      	move	t8,v0
40054e68:	6025      	bteqz	40054eb4 <.L24>
40054e6a:	1820 5492 	jal	40055248 <init_plist_data>
                {
                    init_plist_data();
40054e6e:	6500      	nop
40054e70:	b267      	lw	v0,4005500c <.L5+0xbe>
                    plist_get_app_msg();
40054e72:	eac0      	jalrc	v0
40054e74:	b36b      	lw	v1,4005501c <.L5+0xce>
                    object_build_plist[lib_num]();
40054e76:	b263      	lw	v0,40055000 <.L5+0xb2>
40054e78:	a240      	lbu	v0,0(v0)
40054e7a:	ea11      	zeb	v0
40054e7c:	3248      	sll	v0,2
40054e7e:	e269      	addu	v0,v1
40054e80:	9a40      	lw	v0,0(v0)
40054e82:	eac0      	jalrc	v0
40054e84:	b25f      	lw	v0,40054ffc <.L5+0xae>
                    
                    if (FALSE == close_plist_lib(lib_num))
40054e86:	a240      	lbu	v0,0(v0)
40054e88:	6782      	move	a0,v0
40054e8a:	b267      	lw	v0,40055024 <.L5+0xd6>
40054e8c:	eac0      	jalrc	v0
40054e8e:	651a      	move	t8,v0
40054e90:	6101      	btnez	40054e94 <main+0x240>
40054e92:	1010      	b	40054eb4 <.L24>
                    {
                        goto build_err;
40054e94:	b25b      	lw	v0,40055000 <.L5+0xb2>
                    }

                    //card建表记录总个数
                    if (lib_num < MENU_REC_MAX)
40054e96:	a240      	lbu	v0,0(v0)
40054e98:	2a09      	bnez	v0,40054eac <main+0x258>
40054e9a:	b25a      	lw	v0,40055000 <.L5+0xb2>
                    {
                        lib_file_total[lib_num] = ap_plist_file_total;
40054e9c:	a240      	lbu	v0,0(v0)
40054e9e:	ea11      	zeb	v0
40054ea0:	3344      	sll	v1,v0,1
40054ea2:	6751      	move	v0,s1
40054ea4:	e34d      	addu	v1,v0
40054ea6:	b261      	lw	v0,40055028 <.L5+0xda>
40054ea8:	aa40      	lhu	v0,0(v0)
40054eaa:	cb43      	sh	v0,6(v1)
40054eac:	6cff      	li	a0,255
                    }

                    plist_reflash_progress(-1);
40054eae:	b25b      	lw	v0,40055018 <.L5+0xca>
40054eb0:	eac0      	jalrc	v0
40054eb2:	1011      	b	40054ed6 <.L24+0x22>

40054eb4 <.L24>:
40054eb4:	b454      	lw	a0,40055004 <.L5+0xb6>

                }
                else
                {
                    build_err: plist_reflash_string(stg_creat_fail[drv_sn & 0x03]);
40054eb6:	b24d      	lw	v0,40054fe8 <.L5+0x9a>
40054eb8:	a260      	lbu	v1,0(v0)
40054eba:	6a03      	li	v0,3
40054ebc:	ea6c      	and	v0,v1
40054ebe:	e449      	addu	v0,a0,v0
40054ec0:	a240      	lbu	v0,0(v0)
40054ec2:	6782      	move	a0,v0
40054ec4:	b251      	lw	v0,40055008 <.L5+0xba>
40054ec6:	eac0      	jalrc	v0
40054ec8:	6c23      	li	a0,35
                    sys_os_time_dly(35);//显示界面使用
40054eca:	6d00      	li	a1,0
40054ecc:	6e00      	li	a2,0
40054ece:	6f31      	li	a3,49
40054ed0:	b238      	lw	v0,40054fb0 <.L5+0x62>
40054ed2:	eac0      	jalrc	v0
40054ed4:	101c      	b	40054f0e <.L17>
                    goto stg_exit;
40054ed6:	b34b      	lw	v1,40055000 <.L5+0xb2>
                }

            }
            lib_num++;
40054ed8:	b24a      	lw	v0,40055000 <.L5+0xb2>
40054eda:	a240      	lbu	v0,0(v0)
40054edc:	4241      	addiu	v0,v0,1
40054ede:	c340      	sb	v0,0(v1)
40054ee0:	a141      	lbu	v0,1(s1)
            build_param = build_param >> 1;
40054ee2:	3246      	srl	v0,1
40054ee4:	c141      	sb	v0,1(s1)
40054ee6:	1793      	b	40054e0e <main+0x1ba>
40054ee8:	a148      	lbu	v0,8(s1)
        }

        //创建收藏夹文件
        if (creat_file_flag == TRUE)
40054eea:	7201      	cmpi	v0,1
40054eec:	6758      	move	v0,t8
40054eee:	5a01      	sltiu	v0,1
40054ef0:	600a      	bteqz	40054f06 <.L24+0x52>
40054ef2:	b24f      	lw	v0,4005502c <.L5+0xde>
        {
            //创建专辑图片文件
            creat_album_pic();
40054ef4:	eac0      	jalrc	v0
40054ef6:	b24f      	lw	v0,40055030 <.L5+0xe2>
            //创建收藏夹文件
            creat_userpl_table();
40054ef8:	eac0      	jalrc	v0
40054efa:	b245      	lw	v0,4005500c <.L5+0xbe>
            plist_get_app_msg();
40054efc:	eac0      	jalrc	v0
40054efe:	b24e      	lw	v0,40055034 <.L5+0xe6>
            //创建书签文件
            check_bookmark_exist();
40054f00:	eac0      	jalrc	v0
40054f02:	b24e      	lw	v0,40055038 <.L5+0xea>
            //解析3uu.lib，生成dat;
            check_m3u_exist();
40054f04:	eac0      	jalrc	v0
40054f06:	6c01      	li	a0,1
        }

        change_card_plist(TRUE);
40054f08:	1820 5414 	jal	40055050 <change_card_plist>
40054f0c:	6500      	nop

40054f0e <.L17>:
40054f0e:	b24c      	lw	v0,4005503c <.L5+0xee>

        stg_exit:

        fsel_exit();
40054f10:	eac0      	jalrc	v0

40054f12 <.L15>:
40054f12:	b336      	lw	v1,40054fe8 <.L5+0x9a>

        next_disk: drv_sn++;
40054f14:	b235      	lw	v0,40054fe8 <.L5+0x9a>
40054f16:	a240      	lbu	v0,0(v0)
40054f18:	4241      	addiu	v0,v0,1
40054f1a:	c340      	sb	v0,0(v1)
40054f1c:	a140      	lbu	v0,0(s1)
        disk_param = disk_param << 1;
40054f1e:	3244      	sll	v0,1
40054f20:	c140      	sb	v0,0(s1)
40054f22:	172b      	b	40054d7a <main+0x126>
40054f24:	6c0a      	li	a0,10
    }

    plt_print("<plist end> ", sys_get_ab_timer(), 2);
    plist_reflash_progress(10);
40054f26:	b23d      	lw	v0,40055018 <.L5+0xca>
40054f28:	eac0      	jalrc	v0
40054f2a:	8142      	lb	v0,2(s1)

    kill_app_timer(app_timer_id);
40054f2c:	6782      	move	a0,v0
40054f2e:	b245      	lw	v0,40055040 <.L5+0xf2>
40054f30:	eac0      	jalrc	v0
40054f32:	6c00      	li	a0,0
    //关闭ui资源文件
    ui_res_close(UI_AP);
40054f34:	6d00      	li	a1,0
40054f36:	6e00      	li	a2,0
40054f38:	6f01      	li	a3,1
40054f3a:	b222      	lw	v0,40054fc0 <.L5+0x72>
40054f3c:	eac0      	jalrc	v0
40054f3e:	6c01      	li	a0,1
    ui_set_display_buf(LCD_RAM1_INDEX);
40054f40:	6d00      	li	a1,0
40054f42:	6e00      	li	a2,0
40054f44:	6f19      	li	a3,25
40054f46:	b21f      	lw	v0,40054fc0 <.L5+0x72>
40054f48:	eac0      	jalrc	v0
40054f4a:	b23f      	lw	v0,40055044 <.L5+0xf6>
    
    //执行applib库的注销操作
    applib_quit();
40054f4c:	eac0      	jalrc	v0

40054f4e <.L5>:
40054f4e:	6c0a      	li	a0,10

    ap_exit:

    adjust_freq_set_level(AP_FRONT_LOW_PRIO, FREQ_NULL, FREQ_NULL);
40054f50:	6d00      	li	a1,0
40054f52:	6e00      	li	a2,0
40054f54:	6f05      	li	a3,5
40054f56:	b216      	lw	v0,40054fac <.L5+0x5e>
40054f58:	eac0      	jalrc	v0
40054f5a:	b23c      	lw	v0,40055048 <.L5+0xfa>

    //plt_print("<playlist>", 0, 0);
	
    //写各类型文件总数
	  sys_vm_read(temp_plist_buf, VM_FILE_NUM, SECTOR_SIZE);
40054f5c:	f406 6b00 	li	v1,13312
40054f60:	f200 6e00 	li	a2,512
40054f64:	6782      	move	a0,v0
40054f66:	67a3      	move	a1,v1
40054f68:	6f12      	li	a3,18
40054f6a:	b212      	lw	v0,40054fb0 <.L5+0x62>
40054f6c:	eac0      	jalrc	v0
40054f6e:	b237      	lw	v0,40055048 <.L5+0xfa>
    libc_memcpy(temp_plist_buf, lib_file_total, sizeof(lib_file_total));
40054f70:	4166      	addiu	v1,s1,6
40054f72:	6782      	move	a0,v0
40054f74:	67a3      	move	a1,v1
40054f76:	6e02      	li	a2,2
40054f78:	6f00      	li	a3,0
40054f7a:	b210      	lw	v0,40054fb8 <.L5+0x6a>
40054f7c:	eac0      	jalrc	v0
40054f7e:	b233      	lw	v0,40055048 <.L5+0xfa>
    sys_vm_write(temp_plist_buf, VM_FILE_NUM, SECTOR_SIZE);
40054f80:	f406 6b00 	li	v1,13312
40054f84:	f200 6e00 	li	a2,512
40054f88:	6782      	move	a0,v0
40054f8a:	67a3      	move	a1,v1
40054f8c:	6f13      	li	a3,19
40054f8e:	b209      	lw	v0,40054fb0 <.L5+0x62>
40054f90:	eac0      	jalrc	v0
40054f92:	a149      	lbu	v0,9(s1)
    plist_sys_exit(enter_mode);
40054f94:	6782      	move	a0,v0
40054f96:	b22e      	lw	v0,4005504c <.L5+0xfe>
40054f98:	eac0      	jalrc	v0
40054f9a:	6a01      	li	v0,1

#ifndef PC
    //   act_writel(prev_nandpllctl, NANDCLKCTL);
    //   sys_mdelay(1);
    //   sys_adjust_clk(save_freq_level, 0);
#endif

    return 1;
40054f9c:	65b9      	move	sp,s1
}
40054f9e:	6453      	restore	24,ra,s1
40054fa0:	e8a0      	jrc	ra
40054fa2:	0000      	addiu	s0,sp,0
40054fa4:	696c      	li	s1,108
40054fa6:	5f62      	sltiu	a3,98
40054fa8:	6f6e      	li	a3,110
40054faa:	002e      	addiu	s0,sp,184
40054fac:	6405      	restore	40
40054fae:	bfc1      	lwu	a2,4(a3)
40054fb0:	640d      	restore	104
40054fb2:	bfc1      	lwu	a2,4(a3)
40054fb4:	460d      	addiu	s0,a2,-3
40054fb6:	4809      	addiu	s0,9
40054fb8:	6409      	restore	72
40054fba:	bfc1      	lwu	a2,4(a3)
40054fbc:	4735      	daddiu	s1,a3,5
40054fbe:	485d      	addiu	s0,93
40054fc0:	6bb1      	li	v1,177
40054fc2:	bfc1      	lwu	a2,4(a3)
40054fc4:	4601      	addiu	s0,a2,1
40054fc6:	4841      	addiu	s0,65
40054fc8:	4601      	addiu	s0,a2,1
40054fca:	4849      	addiu	s0,73
40054fcc:	59d4      	sltiu	s1,212
40054fce:	9fc1      	lw	a2,4(a3)
40054fd0:	476d      	addiu	v1,a3,-3
40054fd2:	4845      	addiu	s0,69
40054fd4:	5378      	slti	v1,120
40054fd6:	4005      	addiu	s0,s0,5
40054fd8:	4c59      	addiu	a0,89
40054fda:	401d      	daddiu	s0,s0,-3
40054fdc:	4601      	addiu	s0,a2,1
40054fde:	4845      	addiu	s0,69
40054fe0:	4da1      	addiu	a1,-95
40054fe2:	401d      	daddiu	s0,s0,-3
40054fe4:	5a27      	sltiu	v0,39
40054fe6:	9fc1      	lw	a2,4(a3)
40054fe8:	5a2a      	sltiu	v0,42
40054fea:	9fc1      	lw	a2,4(a3)
40054fec:	539c      	slti	v1,156
40054fee:	4005      	addiu	s0,s0,5
40054ff0:	5388      	slti	v1,136
40054ff2:	4005      	addiu	s0,s0,5
40054ff4:	5374      	slti	v1,116
40054ff6:	4005      	addiu	s0,s0,5
40054ff8:	b2f5      	lw	v0,400553cc <fsel_param+0x30>
40054ffa:	7801      	sd	s0,8(s0)
40054ffc:	5570      	slti	a1,112
40054ffe:	9fc1      	lw	a2,4(a3)
40055000:	5a29      	sltiu	v0,41
40055002:	9fc1      	lw	a2,4(a3)
40055004:	5398      	slti	v1,152
40055006:	4005      	addiu	s0,s0,5
40055008:	4c01      	addiu	a0,1
4005500a:	401d      	daddiu	s0,s0,-3
4005500c:	65e9      	move	t7,s1
4005500e:	bfc1      	lwu	a2,4(a3)
40055010:	67dd      	move	a2,sp
40055012:	bfc1      	lwu	a2,4(a3)
40055014:	5069      	slti	s0,105
40055016:	4005      	addiu	s0,s0,5
40055018:	4cb1      	addiu	a0,-79
4005501a:	401d      	daddiu	s0,s0,-3
4005501c:	4c79      	addiu	a0,121
4005501e:	4019      	daddiu	s0,s0,-7
40055020:	5364      	slti	v1,100
40055022:	4005      	addiu	s0,s0,5
40055024:	5025      	slti	s0,37
40055026:	4019      	daddiu	s0,s0,-7
40055028:	5598      	slti	a1,152
4005502a:	9fc1      	lw	a2,4(a3)
4005502c:	4c65      	addiu	a0,101
4005502e:	4025      	addiu	s1,s0,5
40055030:	4465      	addiu	v1,a0,5
40055032:	4805      	addiu	s0,5
40055034:	4519      	daddiu	s0,a1,-7
40055036:	4815      	addiu	s0,21
40055038:	4c69      	addiu	a0,105
4005503a:	4021      	addiu	s1,s0,1
4005503c:	b5d1      	lw	a1,40055380 <plist_ui_sty+0x8>
4005503e:	7801      	sd	s0,8(s0)
40055040:	473d      	daddiu	s1,a3,-3
40055042:	4845      	addiu	s0,69
40055044:	46f9      	daddiu	a3,a2,-7
40055046:	4841      	addiu	s0,65
40055048:	5694      	slti	a2,148
4005504a:	9fc1      	lw	a2,4(a3)
4005504c:	4625      	addiu	s1,a2,5
4005504e:	4809      	addiu	s0,9

40055050 <change_card_plist>:
40055050:	6491      	save	8,s1
}

///修改卡是否已经创建播放列表
static inline void change_card_plist(bool plist)
{
40055052:	673d      	move	s1,sp
40055054:	6744      	move	v0,a0
40055056:	c148      	sb	v0,8(s1)
40055058:	b303      	lw	v1,40055064 <change_card_plist+0x14>
    g_app_info_state.card_plist = plist; 
4005505a:	a148      	lbu	v0,8(s1)
4005505c:	c351      	sb	v0,17(v1)
4005505e:	65b9      	move	sp,s1
}
40055060:	6411      	restore	8,s1
40055062:	e8a0      	jrc	ra
40055064:	a1b8      	lbu	a1,24(s1)
40055066:	9fc1      	lw	a2,4(a3)

40055068 <init_sys_data>:
40055068:	6491      	save	8,s1

/******************************************************************************/
/*
 * \par  Description: 初始化系统内部数据
 *
 * \param[in]    NULL

 * \param[out]   NULL

 * \return       NULL

 * \note
 *******************************************************************************/
 void init_sys_data(uint8 type)
{
4005506a:	673d      	move	s1,sp
4005506c:	6744      	move	v0,a0
4005506e:	c148      	sb	v0,8(s1)
40055070:	b318      	lw	v1,400550d0 <init_sys_data+0x68>
    fileinfo_data_pt = (uint8*)  FILE_INFO_ADDR;
40055072:	b219      	lw	v0,400550d4 <init_sys_data+0x6c>
40055074:	db40      	sw	v0,0(v1)
40055076:	b319      	lw	v1,400550d8 <init_sys_data+0x70>
    title_data_pt    = (uint8*)  SORT_DATA_ADDR; //ram中保存title数据,最大64k空间
40055078:	b219      	lw	v0,400550dc <init_sys_data+0x74>
4005507a:	db40      	sw	v0,0(v1)
4005507c:	b319      	lw	v1,400550e0 <init_sys_data+0x78>
    track_data_pt    = (uint8*)  TRACK_DATA_ADDR;//保存4k音轨,1byte*4000
4005507e:	b21a      	lw	v0,400550e4 <init_sys_data+0x7c>
40055080:	db40      	sw	v0,0(v1)
40055082:	b31a      	lw	v1,400550e8 <init_sys_data+0x80>
    file_index_buf   = (uint16*) FILE_INDEX_BUF_ADDR;
40055084:	b214      	lw	v0,400550d4 <init_sys_data+0x6c>
40055086:	db40      	sw	v0,0(v1)
40055088:	b319      	lw	v1,400550ec <init_sys_data+0x84>
    sort_index_buf   = (uint16*) SORT_INDEX_BUF_ADDR;
4005508a:	b21a      	lw	v0,400550f0 <init_sys_data+0x88>
4005508c:	db40      	sw	v0,0(v1)
4005508e:	b31a      	lw	v1,400550f4 <init_sys_data+0x8c>
    tidy_buf_a       = (uint16*) TIDY_BUF_A_ADDR;
40055090:	b21a      	lw	v0,400550f8 <init_sys_data+0x90>
40055092:	db40      	sw	v0,0(v1)
40055094:	b31a      	lw	v1,400550fc <init_sys_data+0x94>
    tidy_buf_b       = (uint16*) TIDY_BUF_B_ADDR;   
40055096:	b21b      	lw	v0,40055100 <init_sys_data+0x98>
40055098:	db40      	sw	v0,0(v1)
4005509a:	b31b      	lw	v1,40055104 <init_sys_data+0x9c>
    count_buf_a      = (uint16*) COUNT_BUF_A_ADDR;
4005509c:	b21b      	lw	v0,40055108 <init_sys_data+0xa0>
4005509e:	db40      	sw	v0,0(v1)
400550a0:	b31b      	lw	v1,4005510c <init_sys_data+0xa4>
    count_buf_b      = (uint16*) COUNT_BUF_B_ADDR;
400550a2:	b21c      	lw	v0,40055110 <init_sys_data+0xa8>
400550a4:	db40      	sw	v0,0(v1)
400550a6:	b21c      	lw	v0,40055114 <init_sys_data+0xac>
    if (ap_plist_sorting_level == 4000)
400550a8:	aa40      	lhu	v0,0(v0)
400550aa:	f7a1 7200 	cmpi	v0,4000
400550ae:	6758      	move	v0,t8
400550b0:	5a01      	sltiu	v0,1
400550b2:	6007      	bteqz	400550c2 <init_sys_data+0x5a>
400550b4:	b319      	lw	v1,40055118 <init_sys_data+0xb0>
    {
	    count_buf_c      = (uint16*) COUNT_BUF_C_ADDR;
400550b6:	b21a      	lw	v0,4005511c <init_sys_data+0xb4>
400550b8:	db40      	sw	v0,0(v1)
400550ba:	b31a      	lw	v1,40055120 <init_sys_data+0xb8>
	    resort_data      = (uint16*) COUNT_BUF_C_ADDR;//复用}
400550bc:	b218      	lw	v0,4005511c <init_sys_data+0xb4>
400550be:	db40      	sw	v0,0(v1)
400550c0:	1003      	b	400550c8 <init_sys_data+0x60>
400550c2:	b318      	lw	v1,40055120 <init_sys_data+0xb8>
    }else {
    	resort_data      = (uint16*) TIDY_BUF_B_ADDR;//复用}
400550c4:	b20f      	lw	v0,40055100 <init_sys_data+0x98>
400550c6:	db40      	sw	v0,0(v1)
400550c8:	65b9      	move	sp,s1
 	}
    return;

}
400550ca:	6411      	restore	8,s1
400550cc:	e8a0      	jrc	ra
400550ce:	0000      	addiu	s0,sp,0
400550d0:	562c      	slti	a2,44
400550d2:	9fc1      	lw	a2,4(a3)
400550d4:	0a00      	la	v0,400550d4 <init_sys_data+0x6c>
400550d6:	9fc2      	lw	a2,8(a3)
400550d8:	5628      	slti	a2,40
400550da:	9fc1      	lw	a2,4(a3)
400550dc:	0000      	addiu	s0,sp,0
400550de:	9fc3      	lw	a2,12(a3)
400550e0:	5630      	slti	a2,48
400550e2:	9fc1      	lw	a2,4(a3)
400550e4:	ba00      	lwu	s0,0(v0)
400550e6:	9fc2      	lw	a2,8(a3)
400550e8:	5640      	slti	a2,64
400550ea:	9fc1      	lw	a2,4(a3)
400550ec:	5644      	slti	a2,68
400550ee:	9fc1      	lw	a2,4(a3)
400550f0:	2a00      	bnez	v0,400550f2 <init_sys_data+0x8a>
400550f2:	9fc2      	lw	a2,8(a3)
400550f4:	5638      	slti	a2,56
400550f6:	9fc1      	lw	a2,4(a3)
400550f8:	4a00      	addiu	v0,0
400550fa:	9fc2      	lw	a2,8(a3)
400550fc:	563c      	slti	a2,60
400550fe:	9fc1      	lw	a2,4(a3)
40055100:	8a00      	lh	s0,0(v0)
40055102:	9fc2      	lw	a2,8(a3)
40055104:	5648      	slti	a2,72
40055106:	9fc1      	lw	a2,4(a3)
40055108:	6a00      	li	v0,0
4005510a:	9fc2      	lw	a2,8(a3)
4005510c:	564c      	slti	a2,76
4005510e:	9fc1      	lw	a2,4(a3)
40055110:	aa00      	lhu	s0,0(v0)
40055112:	9fc2      	lw	a2,8(a3)
40055114:	5406      	slti	a0,6
40055116:	9fc1      	lw	a2,4(a3)
40055118:	5650      	slti	a2,80
4005511a:	9fc1      	lw	a2,4(a3)
4005511c:	ca00      	sh	s0,0(v0)
4005511e:	9fc2      	lw	a2,8(a3)
40055120:	5634      	slti	a2,52
40055122:	9fc1      	lw	a2,4(a3)

40055124 <init_mem_by_songs_num>:
40055124:	6491      	save	8,s1

//8k歌曲的时候用这一组宏定义进行初始化
 void init_mem_by_songs_num(void)
{
40055126:	673d      	move	s1,sp
40055128:	b318      	lw	v1,40055188 <init_mem_by_songs_num+0x64>
     fileinfo_data_pt = (uint8*)  FILE_INFO_ADDR;
4005512a:	b219      	lw	v0,4005518c <init_mem_by_songs_num+0x68>
4005512c:	db40      	sw	v0,0(v1)
4005512e:	b319      	lw	v1,40055190 <init_mem_by_songs_num+0x6c>
	   title_data_pt	= (uint8*)	SORT_DATA_ADDR_8k; //ram中保存title数据,最大64k空间
40055130:	b219      	lw	v0,40055194 <init_mem_by_songs_num+0x70>
40055132:	db40      	sw	v0,0(v1)
40055134:	b319      	lw	v1,40055198 <init_mem_by_songs_num+0x74>
	   track_data_pt	= (uint8*)	TRACK_DATA_ADDR_8k;//保存4k音轨,1byte*4000
40055136:	b21a      	lw	v0,4005519c <init_mem_by_songs_num+0x78>
40055138:	db40      	sw	v0,0(v1)
4005513a:	b31a      	lw	v1,400551a0 <init_mem_by_songs_num+0x7c>
	   file_index_buf	= (uint16*) FILE_INDEX_BUF_ADDR_8k;
4005513c:	b214      	lw	v0,4005518c <init_mem_by_songs_num+0x68>
4005513e:	db40      	sw	v0,0(v1)
40055140:	b319      	lw	v1,400551a4 <init_mem_by_songs_num+0x80>
	   sort_index_buf	= (uint16*) SORT_INDEX_BUF_ADDR_8k;
40055142:	b21a      	lw	v0,400551a8 <init_mem_by_songs_num+0x84>
40055144:	db40      	sw	v0,0(v1)
40055146:	b31a      	lw	v1,400551ac <init_mem_by_songs_num+0x88>
	   tidy_buf_a		= (uint16*) TIDY_BUF_A_ADDR_8k;
40055148:	b21a      	lw	v0,400551b0 <init_mem_by_songs_num+0x8c>
4005514a:	db40      	sw	v0,0(v1)
4005514c:	b31a      	lw	v1,400551b4 <init_mem_by_songs_num+0x90>
	   tidy_buf_b		= (uint16*) TIDY_BUF_B_ADDR_8k;   
4005514e:	b21b      	lw	v0,400551b8 <init_mem_by_songs_num+0x94>
40055150:	db40      	sw	v0,0(v1)
40055152:	b31b      	lw	v1,400551bc <init_mem_by_songs_num+0x98>
	   count_buf_a		= (uint16*) COUNT_BUF_A_ADDR_8k;
40055154:	b212      	lw	v0,4005519c <init_mem_by_songs_num+0x78>
40055156:	db40      	sw	v0,0(v1)
40055158:	b31a      	lw	v1,400551c0 <init_mem_by_songs_num+0x9c>
	   count_buf_b		= (uint16*) COUNT_BUF_B_ADDR_8k;
4005515a:	b21b      	lw	v0,400551c4 <init_mem_by_songs_num+0xa0>
4005515c:	db40      	sw	v0,0(v1)
4005515e:	b21b      	lw	v0,400551c8 <init_mem_by_songs_num+0xa4>
	   if (ap_plist_sorting_level == 4000)
40055160:	aa40      	lhu	v0,0(v0)
40055162:	f7a1 7200 	cmpi	v0,4000
40055166:	6758      	move	v0,t8
40055168:	5a01      	sltiu	v0,1
4005516a:	6007      	bteqz	4005517a <init_mem_by_songs_num+0x56>
4005516c:	b318      	lw	v1,400551cc <init_mem_by_songs_num+0xa8>
	   {
		   count_buf_c		= (uint16*) COUNT_BUF_C_ADDR;
4005516e:	b20c      	lw	v0,4005519c <init_mem_by_songs_num+0x78>
40055170:	db40      	sw	v0,0(v1)
40055172:	b318      	lw	v1,400551d0 <init_mem_by_songs_num+0xac>
		   resort_data		= (uint16*) COUNT_BUF_C_ADDR;//复用}
40055174:	b20a      	lw	v0,4005519c <init_mem_by_songs_num+0x78>
40055176:	db40      	sw	v0,0(v1)
40055178:	1003      	b	40055180 <init_mem_by_songs_num+0x5c>
4005517a:	b316      	lw	v1,400551d0 <init_mem_by_songs_num+0xac>
	   }else {
		   resort_data		= (uint16*) TIDY_BUF_B_ADDR_8k;//复用}
4005517c:	b20f      	lw	v0,400551b8 <init_mem_by_songs_num+0x94>
4005517e:	db40      	sw	v0,0(v1)
40055180:	65b9      	move	sp,s1
	   }
	   return;

}
40055182:	6411      	restore	8,s1
40055184:	e8a0      	jrc	ra
40055186:	0000      	addiu	s0,sp,0
40055188:	562c      	slti	a2,44
4005518a:	9fc1      	lw	a2,4(a3)
4005518c:	0a00      	la	v0,4005518c <init_mem_by_songs_num+0x68>
4005518e:	9fc2      	lw	a2,8(a3)
40055190:	5628      	slti	a2,40
40055192:	9fc1      	lw	a2,4(a3)
40055194:	8c00      	lh	s0,0(a0)
40055196:	9fc3      	lw	a2,12(a3)
40055198:	5630      	slti	a2,48
4005519a:	9fc1      	lw	a2,4(a3)
4005519c:	ca00      	sh	s0,0(v0)
4005519e:	9fc2      	lw	a2,8(a3)
400551a0:	5640      	slti	a2,64
400551a2:	9fc1      	lw	a2,4(a3)
400551a4:	5644      	slti	a2,68
400551a6:	9fc1      	lw	a2,4(a3)
400551a8:	4a00      	addiu	v0,0
400551aa:	9fc2      	lw	a2,8(a3)
400551ac:	5638      	slti	a2,56
400551ae:	9fc1      	lw	a2,4(a3)
400551b0:	8a00      	lh	s0,0(v0)
400551b2:	9fc2      	lw	a2,8(a3)
400551b4:	563c      	slti	a2,60
400551b6:	9fc1      	lw	a2,4(a3)
400551b8:	0a00      	la	v0,400551b8 <init_mem_by_songs_num+0x94>
400551ba:	9fc3      	lw	a2,12(a3)
400551bc:	5648      	slti	a2,72
400551be:	9fc1      	lw	a2,4(a3)
400551c0:	564c      	slti	a2,76
400551c2:	9fc1      	lw	a2,4(a3)
400551c4:	4a00      	addiu	v0,0
400551c6:	9fc3      	lw	a2,12(a3)
400551c8:	5406      	slti	a0,6
400551ca:	9fc1      	lw	a2,4(a3)
400551cc:	5650      	slti	a2,80
400551ce:	9fc1      	lw	a2,4(a3)
400551d0:	5634      	slti	a2,52
400551d2:	9fc1      	lw	a2,4(a3)

400551d4 <init_mem_by_songs_16k>:
400551d4:	6491      	save	8,s1

void init_mem_by_songs_16k(void)
{
    
400551d6:	673d      	move	s1,sp
400551d8:	b30e      	lw	v1,40055210 <init_mem_by_songs_16k+0x3c>
     fileinfo_data_pt =   (uint8*)   FILE_INFO_ADDR_16k;
	   title_data_pt    	= (uint8*)	 SORT_DATA_ADDR_16k; //ram中保存title数据,最大64k空间
400551da:	b20f      	lw	v0,40055214 <init_mem_by_songs_16k+0x40>
400551dc:	db40      	sw	v0,0(v1)
400551de:	b30f      	lw	v1,40055218 <init_mem_by_songs_16k+0x44>
	   track_data_pt	    = (uint8*)	 TRACK_DATA_ADDR_16k;//保存4k音轨,1byte*4000
400551e0:	b20f      	lw	v0,4005521c <init_mem_by_songs_16k+0x48>
400551e2:	db40      	sw	v0,0(v1)
400551e4:	b30f      	lw	v1,40055220 <init_mem_by_songs_16k+0x4c>
	   file_index_buf	    = (uint16*) FILE_INDEX_BUF_ADDR_16k;
400551e6:	b210      	lw	v0,40055224 <init_mem_by_songs_16k+0x50>
400551e8:	db40      	sw	v0,0(v1)
400551ea:	b310      	lw	v1,40055228 <init_mem_by_songs_16k+0x54>
	   sort_index_buf	    = (uint16*) COUNT_BUF_C_ADDR_16k; 
400551ec:	b20a      	lw	v0,40055214 <init_mem_by_songs_16k+0x40>
400551ee:	db40      	sw	v0,0(v1)
400551f0:	b30f      	lw	v1,4005522c <init_mem_by_songs_16k+0x58>
	   count_buf_a		    = (uint16*) COUNT_BUF_A_ADDR_16k;
400551f2:	b210      	lw	v0,40055230 <init_mem_by_songs_16k+0x5c>
400551f4:	db40      	sw	v0,0(v1)
400551f6:	b310      	lw	v1,40055234 <init_mem_by_songs_16k+0x60>
	   count_buf_b		    = (uint16*) COUNT_BUF_B_ADDR_16k;
400551f8:	b210      	lw	v0,40055238 <init_mem_by_songs_16k+0x64>
400551fa:	db40      	sw	v0,0(v1)
400551fc:	b310      	lw	v1,4005523c <init_mem_by_songs_16k+0x68>
		 resort_data		    = (uint16*) COUNT_BUF_C_ADDR_16k ;//复用}
400551fe:	b211      	lw	v0,40055240 <init_mem_by_songs_16k+0x6c>
40055200:	db40      	sw	v0,0(v1)
40055202:	b311      	lw	v1,40055244 <init_mem_by_songs_16k+0x70>

40055204:	b20b      	lw	v0,40055230 <init_mem_by_songs_16k+0x5c>
40055206:	db40      	sw	v0,0(v1)
40055208:	65b9      	move	sp,s1
	   return;

}
/******************************************************************************/
4005520a:	6411      	restore	8,s1
4005520c:	e8a0      	jrc	ra
4005520e:	0000      	addiu	s0,sp,0
40055210:	562c      	slti	a2,44
40055212:	9fc1      	lw	a2,4(a3)
40055214:	0a00      	la	v0,40055214 <init_mem_by_songs_16k+0x40>
40055216:	9fc2      	lw	a2,8(a3)
40055218:	5628      	slti	a2,40
4005521a:	9fc1      	lw	a2,4(a3)
4005521c:	4280      	addiu	a0,v0,0
4005521e:	9fc3      	lw	a2,12(a3)
40055220:	5630      	slti	a2,48
40055222:	9fc1      	lw	a2,4(a3)
40055224:	bf80      	lwu	a0,0(a3)
40055226:	9fc3      	lw	a2,12(a3)
40055228:	5640      	slti	a2,64
4005522a:	9fc1      	lw	a2,4(a3)
4005522c:	5644      	slti	a2,68
4005522e:	9fc1      	lw	a2,4(a3)
40055230:	8100      	lb	s0,0(s1)
40055232:	9fc3      	lw	a2,12(a3)
40055234:	5648      	slti	a2,72
40055236:	9fc1      	lw	a2,4(a3)
40055238:	8700      	lb	s0,0(a3)
4005523a:	9fc2      	lw	a2,8(a3)
4005523c:	564c      	slti	a2,76
4005523e:	9fc1      	lw	a2,4(a3)
40055240:	0400      	addiu	a0,sp,0
40055242:	9fc3      	lw	a2,12(a3)
40055244:	5634      	slti	a2,52
40055246:	9fc1      	lw	a2,4(a3)

40055248 <init_plist_data>:
40055248:	64d3      	save	24,ra,s1
/*
 * \par  Description: 初始化创建每个列表使用到的数据
 *
 * \param[in]    NULL

 * \param[out]   NULL

 * \return       NULL

 * \note
 *******************************************************************************/
static void init_plist_data(void)
{
    libc_memset(ap_file_index_offset, 0x00, sizeof(ap_file_index_offset));
4005524a:	0104      	addiu	s1,sp,16
4005524c:	b218      	lw	v0,400552ac <init_plist_data+0x64>
    libc_memset(ap_sort_index_offset, 0x00, sizeof(ap_sort_index_offset));
4005524e:	6782      	move	a0,v0
40055250:	6d00      	li	a1,0
40055252:	6e0c      	li	a2,12
40055254:	6f01      	li	a3,1
40055256:	b217      	lw	v0,400552b0 <init_plist_data+0x68>
40055258:	eac0      	jalrc	v0
4005525a:	b217      	lw	v0,400552b4 <init_plist_data+0x6c>
    libc_memset(ap_index_parent_offset, 0x00, sizeof(ap_index_parent_offset));
4005525c:	6782      	move	a0,v0
4005525e:	6d00      	li	a1,0
40055260:	6e0c      	li	a2,12
40055262:	6f01      	li	a3,1
40055264:	b213      	lw	v0,400552b0 <init_plist_data+0x68>
40055266:	eac0      	jalrc	v0
40055268:	b214      	lw	v0,400552b4 <init_plist_data+0x6c>
    libc_memset(ap_son_tree_num, 0x00, sizeof(ap_son_tree_num));
4005526a:	6782      	move	a0,v0
4005526c:	6d00      	li	a1,0
4005526e:	6e0c      	li	a2,12
40055270:	6f01      	li	a3,1
40055272:	b210      	lw	v0,400552b0 <init_plist_data+0x68>
40055274:	eac0      	jalrc	v0
40055276:	b212      	lw	v0,400552bc <init_plist_data+0x74>
    libc_memset(ap_son_tree_offset, 0x00, sizeof(ap_son_tree_offset));
40055278:	6782      	move	a0,v0
4005527a:	6d00      	li	a1,0
4005527c:	6e24      	li	a2,36
4005527e:	6f01      	li	a3,1
40055280:	b20c      	lw	v0,400552b0 <init_plist_data+0x68>
40055282:	eac0      	jalrc	v0
40055284:	b20f      	lw	v0,400552bc <init_plist_data+0x74>

40055286:	6782      	move	a0,v0
40055288:	6d00      	li	a1,0
4005528a:	6e24      	li	a2,36
4005528c:	6f01      	li	a3,1
4005528e:	b209      	lw	v0,400552b0 <init_plist_data+0x68>
40055290:	eac0      	jalrc	v0
40055292:	b30d      	lw	v1,400552c4 <init_plist_data+0x7c>
    fsel_scan_flag = 0;
    ap_plist_file_total = 0;
40055294:	6a00      	li	v0,0
40055296:	c340      	sb	v0,0(v1)
40055298:	b30c      	lw	v1,400552c8 <init_plist_data+0x80>
    ap_plist_file_offset = ap_pos_file_offset;
4005529a:	6a00      	li	v0,0
4005529c:	cb40      	sh	v0,0(v1)
4005529e:	b30c      	lw	v1,400552cc <init_plist_data+0x84>

400552a0:	b20c      	lw	v0,400552d0 <init_plist_data+0x88>
400552a2:	aa40      	lhu	v0,0(v0)
400552a4:	cb40      	sh	v0,0(v1)
400552a6:	65b9      	move	sp,s1
    return;
}
/******************************************************************************/
400552a8:	6451      	restore	8,ra,s1
400552aa:	e8a0      	jrc	ra
400552ac:	559c      	slti	a1,156
400552ae:	9fc1      	lw	a2,4(a3)
400552b0:	6409      	restore	72
400552b2:	bfc1      	lwu	a2,4(a3)
400552b4:	55a8      	slti	a1,168
400552b6:	9fc1      	lw	a2,4(a3)
400552b8:	55b4      	slti	a1,180
400552ba:	9fc1      	lw	a2,4(a3)
400552bc:	55c0      	slti	a1,192
400552be:	9fc1      	lw	a2,4(a3)
400552c0:	55e4      	slti	a1,228
400552c2:	9fc1      	lw	a2,4(a3)
400552c4:	5a2b      	sltiu	v0,43
400552c6:	9fc1      	lw	a2,4(a3)
400552c8:	5598      	slti	a1,152
400552ca:	9fc1      	lw	a2,4(a3)
400552cc:	559a      	slti	a1,154
400552ce:	9fc1      	lw	a2,4(a3)
400552d0:	556a      	slti	a1,106
400552d2:	9fc1      	lw	a2,4(a3)

400552d4 <music_build_plist>:
400552d4:	64d3      	save	24,ra,s1
/*
 * \par  Description: 创建MUSIC播放列表
 *
 * \param[in]

 * \param[out]

 * \return        TRUE OR FALSE

 * \note
 *******************************************************************************/
static bool music_build_plist(void)
{

400552d6:	0104      	addiu	s1,sp,16
400552d8:	b20a      	lw	v0,40055300 <music_build_plist+0x2c>
    if (scan_music_file() > 0)
    {
400552da:	eac0      	jalrc	v0
400552dc:	651a      	move	t8,v0
400552de:	600c      	bteqz	400552f8 <music_build_plist+0x24>
400552e0:	b209      	lw	v0,40055304 <music_build_plist+0x30>
        //libc_print("sm*",sys_get_ab_timer(),2);
        plist_get_app_msg();
        plist_reflash_progress(-1);
400552e2:	eac0      	jalrc	v0
400552e4:	6cff      	li	a0,255
        sort_music_list();
400552e6:	b209      	lw	v0,40055308 <music_build_plist+0x34>
400552e8:	eac0      	jalrc	v0
400552ea:	b209      	lw	v0,4005530c <music_build_plist+0x38>
        plist_get_app_msg();
400552ec:	eac0      	jalrc	v0
400552ee:	b206      	lw	v0,40055304 <music_build_plist+0x30>
        plist_reflash_progress(-1);
400552f0:	eac0      	jalrc	v0
400552f2:	6cff      	li	a0,255
		//libc_print("smend",sys_get_ab_timer(),2);
400552f4:	b205      	lw	v0,40055308 <music_build_plist+0x34>
400552f6:	eac0      	jalrc	v0
400552f8:	6a01      	li	v0,1
    }

    return TRUE;
}
400552fa:	65b9      	move	sp,s1

400552fc:	6451      	restore	8,ra,s1
400552fe:	e8a0      	jrc	ra
40055300:	529d      	slti	v0,157
40055302:	4009      	addiu	s0,s0,-7
40055304:	65e9      	move	t7,s1
40055306:	bfc1      	lwu	a2,4(a3)
40055308:	4cb1      	addiu	a0,-79
4005530a:	401d      	daddiu	s0,s0,-3
4005530c:	533d      	slti	v1,61
4005530e:	400d      	addiu	s0,s0,-3

40055310 <audible_build_plist>:
40055310:	64d3      	save	24,ra,s1
/******************************************************************************/
/*
 * \par  Description: 创建AUDIBLE播放列表
 *
 * \param[in]

 * \param[out]

 * \return        TRUE OR FALSE

 * \note
 *******************************************************************************/
static bool audible_build_plist(void)
{
    if (scan_audible_file() > 0)
40055312:	0104      	addiu	s1,sp,16
40055314:	b205      	lw	v0,40055328 <audible_build_plist+0x18>
    {
40055316:	eac0      	jalrc	v0
40055318:	651a      	move	t8,v0
4005531a:	6002      	bteqz	40055320 <audible_build_plist+0x10>
4005531c:	b204      	lw	v0,4005532c <audible_build_plist+0x1c>
        sort_audible_list();
    }
4005531e:	eac0      	jalrc	v0
40055320:	6a01      	li	v0,1

    return TRUE;
}
40055322:	65b9      	move	sp,s1

40055324:	6451      	restore	8,ra,s1
40055326:	e8a0      	jrc	ra
40055328:	50ad      	slti	s0,173
4005532a:	402d      	addiu	s1,s0,-3
4005532c:	4e51      	addiu	a2,81
4005532e:	4031      	daddiu	s1,s0,1

40055330 <others_build_plist>:
40055330:	64d3      	save	24,ra,s1
/******************************************************************************/
/*
 * \par  Description: 创建 视频 or 图片 or 电子的播放列表
 *
 * \param[in]

 * \param[out]

 * \return        TRUE OR FALSE

 * \note
 *******************************************************************************/
//ebook
static bool others_build_plist(void)
{
    if (scan_others_info() > 0)
40055332:	0104      	addiu	s1,sp,16
40055334:	b208      	lw	v0,40055354 <others_build_plist+0x24>
    {
40055336:	eac0      	jalrc	v0
40055338:	651a      	move	t8,v0
4005533a:	6007      	bteqz	4005534a <others_build_plist+0x1a>
4005533c:	b207      	lw	v0,40055358 <others_build_plist+0x28>
        plist_get_app_msg();
        plist_reflash_progress(-1);
4005533e:	eac0      	jalrc	v0
40055340:	6cff      	li	a0,255
        sort_others_list();
40055342:	b207      	lw	v0,4005535c <others_build_plist+0x2c>
40055344:	eac0      	jalrc	v0
40055346:	b207      	lw	v0,40055360 <others_build_plist+0x30>
    }
40055348:	eac0      	jalrc	v0
4005534a:	6a01      	li	v0,1

    return TRUE;
}
4005534c:	65b9      	move	sp,s1

4005534e:	6451      	restore	8,ra,s1
40055350:	e8a0      	jrc	ra
40055352:	0000      	addiu	s0,sp,0
40055354:	4ecd      	addiu	a2,-51
40055356:	4015      	daddiu	s0,s0,5
40055358:	65e9      	move	t7,s1
4005535a:	bfc1      	lwu	a2,4(a3)
4005535c:	4cb1      	addiu	a0,-79
4005535e:	401d      	daddiu	s0,s0,-3
40055360:	4fe5      	addiu	a3,-27
40055362:	4015      	daddiu	s0,s0,5

40055364 <object_build_plist>:
40055364:	52d5 4005 5311 4005 5331 4005 0000 0000     .R.@.S.@1S.@....

40055374 <stg_drv_type>:
40055374:	1007 0020                                   .. .

40055378 <plist_ui_sty>:
40055378:	6c70 7961 696c 7473 732e 7974 0000 0000     playlist.sty....

40055388 <file_type_bitmap>:
40055388:	0ea0 7e01 2000 0000 66cc bfc1 0000 0000     ...~. ...f......

40055398 <stg_creat_fail>:
40055398:	0400 0008                                   ....

4005539c <fsel_param>:
	...
Disassembly of section BANK_FORNT_CONTROL_1_2:

40094c00 <switch_a_to_A>:
40094c00:	6494      	save	32,s1
 * \return        void
 * \note
 *******************************************************************************/
static void switch_a_to_A(uint8* ext_name)
{
40094c02:	673d      	move	s1,sp
40094c04:	d988      	sw	a0,32(s1)
40094c06:	9948      	lw	v0,32(s1)
    ext_name[0] = ((ext_name[0] >= 'a') && (ext_name[0] <= 'z')) ? (ext_name[0] - 'a' + 'A') : ext_name[0];
40094c08:	d940      	sw	v0,0(s1)
40094c0a:	9948      	lw	v0,32(s1)
40094c0c:	a240      	lbu	v0,0(v0)
40094c0e:	5a61      	sltiu	v0,97
40094c10:	6109      	btnez	40094c24 <switch_a_to_A+0x24>
40094c12:	9948      	lw	v0,32(s1)
40094c14:	a240      	lbu	v0,0(v0)
40094c16:	5a7b      	sltiu	v0,123
40094c18:	6005      	bteqz	40094c24 <switch_a_to_A+0x24>
40094c1a:	9948      	lw	v0,32(s1)
40094c1c:	a240      	lbu	v0,0(v0)
40094c1e:	4ae0      	addiu	v0,-32
40094c20:	c144      	sb	v0,4(s1)
40094c22:	1003      	b	40094c2a <switch_a_to_A+0x2a>
40094c24:	9948      	lw	v0,32(s1)
40094c26:	a240      	lbu	v0,0(v0)
40094c28:	c144      	sb	v0,4(s1)
40094c2a:	a144      	lbu	v0,4(s1)
40094c2c:	9960      	lw	v1,0(s1)
40094c2e:	c340      	sb	v0,0(v1)
40094c30:	9968      	lw	v1,32(s1)
    ext_name[1] = ((ext_name[1] >= 'a') && (ext_name[1] <= 'z')) ? (ext_name[1] - 'a' + 'A') : ext_name[1];
40094c32:	d962      	sw	v1,8(s1)
40094c34:	9948      	lw	v0,32(s1)
40094c36:	a241      	lbu	v0,1(v0)
40094c38:	5a61      	sltiu	v0,97
40094c3a:	6109      	btnez	40094c4e <switch_a_to_A+0x4e>
40094c3c:	9948      	lw	v0,32(s1)
40094c3e:	a241      	lbu	v0,1(v0)
40094c40:	5a7b      	sltiu	v0,123
40094c42:	6005      	bteqz	40094c4e <switch_a_to_A+0x4e>
40094c44:	9948      	lw	v0,32(s1)
40094c46:	a241      	lbu	v0,1(v0)
40094c48:	4ae0      	addiu	v0,-32
40094c4a:	c14c      	sb	v0,12(s1)
40094c4c:	1003      	b	40094c54 <switch_a_to_A+0x54>
40094c4e:	9948      	lw	v0,32(s1)
40094c50:	a241      	lbu	v0,1(v0)
40094c52:	c14c      	sb	v0,12(s1)
40094c54:	a16c      	lbu	v1,12(s1)
40094c56:	9942      	lw	v0,8(s1)
40094c58:	c261      	sb	v1,1(v0)
40094c5a:	9948      	lw	v0,32(s1)
    ext_name[2] = ((ext_name[2] >= 'a') && (ext_name[2] <= 'z')) ? (ext_name[2] - 'a' + 'A') : ext_name[2];
40094c5c:	d944      	sw	v0,16(s1)
40094c5e:	9948      	lw	v0,32(s1)
40094c60:	a242      	lbu	v0,2(v0)
40094c62:	5a61      	sltiu	v0,97
40094c64:	6109      	btnez	40094c78 <switch_a_to_A+0x78>
40094c66:	9948      	lw	v0,32(s1)
40094c68:	a242      	lbu	v0,2(v0)
40094c6a:	5a7b      	sltiu	v0,123
40094c6c:	6005      	bteqz	40094c78 <switch_a_to_A+0x78>
40094c6e:	9948      	lw	v0,32(s1)
40094c70:	a242      	lbu	v0,2(v0)
40094c72:	4ae0      	addiu	v0,-32
40094c74:	c154      	sb	v0,20(s1)
40094c76:	1003      	b	40094c7e <switch_a_to_A+0x7e>
40094c78:	9948      	lw	v0,32(s1)
40094c7a:	a242      	lbu	v0,2(v0)
40094c7c:	c154      	sb	v0,20(s1)
40094c7e:	a154      	lbu	v0,20(s1)
40094c80:	9964      	lw	v1,16(s1)
40094c82:	c342      	sb	v0,2(v1)
40094c84:	65b9      	move	sp,s1

}
40094c86:	6414      	restore	32,s1
40094c88:	e8a0      	jrc	ra
	...

40094c8c <deal_if_83name>:
40094c8c:	6492      	save	16,s1

static void deal_if_83name(uint8 *name_buf)
{
40094c8e:	673d      	move	s1,sp
40094c90:	d984      	sw	a0,16(s1)
40094c92:	9944      	lw	v0,16(s1)

#if 1
    uint8 i,j;

    if((name_buf[0]==0xff) && (name_buf[1]==0xfe))
40094c94:	a240      	lbu	v0,0(v0)
40094c96:	72ff      	cmpi	v0,255
40094c98:	6758      	move	v0,t8
40094c9a:	5a01      	sltiu	v0,1
40094c9c:	6007      	bteqz	40094cac <deal_if_83name+0x20>
40094c9e:	9944      	lw	v0,16(s1)
40094ca0:	a241      	lbu	v0,1(v0)
40094ca2:	72fe      	cmpi	v0,254
40094ca4:	6758      	move	v0,t8
40094ca6:	5a01      	sltiu	v0,1
40094ca8:	6001      	bteqz	40094cac <deal_if_83name+0x20>
40094caa:	1057      	b	40094d5a <deal_if_83name+0xce>
    {
        return;
40094cac:	6a0b      	li	v0,11
    }

    //扩展名往后移1个字节
    for(i=11;i>8;i--)
40094cae:	c140      	sb	v0,0(s1)
40094cb0:	a140      	lbu	v0,0(s1)
40094cb2:	5a09      	sltiu	v0,9
40094cb4:	610d      	btnez	40094cd0 <deal_if_83name+0x44>
40094cb6:	a160      	lbu	v1,0(s1)
    {
        name_buf[i]=name_buf[i-1];
40094cb8:	9944      	lw	v0,16(s1)
40094cba:	e351      	addu	a0,v1,v0
40094cbc:	a160      	lbu	v1,0(s1)
40094cbe:	9944      	lw	v0,16(s1)
40094cc0:	e349      	addu	v0,v1,v0
40094cc2:	f7ff a25f 	lbu	v0,-1(v0)
40094cc6:	c440      	sb	v0,0(a0)
40094cc8:	a140      	lbu	v0,0(s1)
40094cca:	424f      	addiu	v0,v0,-1
40094ccc:	c140      	sb	v0,0(s1)
40094cce:	17f0      	b	40094cb0 <deal_if_83name+0x24>
40094cd0:	6a07      	li	v0,7
    }

    //过滤文件名空格
    for(i=7;i>0;i--)
40094cd2:	c140      	sb	v0,0(s1)
40094cd4:	a140      	lbu	v0,0(s1)
40094cd6:	220d      	beqz	v0,40094cf2 <deal_if_83name+0x66>
40094cd8:	a160      	lbu	v1,0(s1)
    {
        if(name_buf[i]!=0x20)
40094cda:	9944      	lw	v0,16(s1)
40094cdc:	e349      	addu	v0,v1,v0
40094cde:	a240      	lbu	v0,0(v0)
40094ce0:	7220      	cmpi	v0,32
40094ce2:	6758      	move	v0,t8
40094ce4:	5a01      	sltiu	v0,1
40094ce6:	6101      	btnez	40094cea <deal_if_83name+0x5e>
40094ce8:	1004      	b	40094cf2 <deal_if_83name+0x66>
        {
            break;
40094cea:	a140      	lbu	v0,0(s1)
40094cec:	424f      	addiu	v0,v0,-1
40094cee:	c140      	sb	v0,0(s1)
40094cf0:	17f1      	b	40094cd4 <deal_if_83name+0x48>
40094cf2:	a140      	lbu	v0,0(s1)
        }
    }

    //加点
    i++;
40094cf4:	4241      	addiu	v0,v0,1
40094cf6:	c140      	sb	v0,0(s1)
40094cf8:	a160      	lbu	v1,0(s1)
    name_buf[i]=0x2e; //加"."
40094cfa:	9944      	lw	v0,16(s1)
40094cfc:	e34d      	addu	v1,v0
40094cfe:	6a2e      	li	v0,46
40094d00:	c340      	sb	v0,0(v1)
40094d02:	6a09      	li	v0,9

    //过滤扩展名空格
    for(j=9;j<12;j++)
40094d04:	c141      	sb	v0,1(s1)
40094d06:	a141      	lbu	v0,1(s1)
40094d08:	5a0c      	sltiu	v0,12
40094d0a:	6017      	bteqz	40094d3a <deal_if_83name+0xae>
40094d0c:	a161      	lbu	v1,1(s1)
    {
        if(name_buf[j]!=0x20)
40094d0e:	9944      	lw	v0,16(s1)
40094d10:	e349      	addu	v0,v1,v0
40094d12:	a240      	lbu	v0,0(v0)
40094d14:	7220      	cmpi	v0,32
40094d16:	6758      	move	v0,t8
40094d18:	5a01      	sltiu	v0,1
40094d1a:	610b      	btnez	40094d32 <deal_if_83name+0xa6>
40094d1c:	a140      	lbu	v0,0(s1)
        {
            i++;
40094d1e:	4241      	addiu	v0,v0,1
40094d20:	c140      	sb	v0,0(s1)
40094d22:	a160      	lbu	v1,0(s1)
            name_buf[i]= name_buf[j];
40094d24:	9944      	lw	v0,16(s1)
40094d26:	e351      	addu	a0,v1,v0
40094d28:	a161      	lbu	v1,1(s1)
40094d2a:	9944      	lw	v0,16(s1)
40094d2c:	e349      	addu	v0,v1,v0
40094d2e:	a240      	lbu	v0,0(v0)
40094d30:	c440      	sb	v0,0(a0)
40094d32:	a141      	lbu	v0,1(s1)
40094d34:	4241      	addiu	v0,v0,1
40094d36:	c141      	sb	v0,1(s1)
40094d38:	17e6      	b	40094d06 <deal_if_83name+0x7a>
40094d3a:	a160      	lbu	v1,0(s1)
        }
    }

    if(name_buf[i]!=0x2e)
40094d3c:	9944      	lw	v0,16(s1)
40094d3e:	e349      	addu	v0,v1,v0
40094d40:	a240      	lbu	v0,0(v0)
40094d42:	722e      	cmpi	v0,46
40094d44:	6758      	move	v0,t8
40094d46:	5a01      	sltiu	v0,1
40094d48:	6103      	btnez	40094d50 <deal_if_83name+0xc4>
40094d4a:	a140      	lbu	v0,0(s1)
    {
        i++;
40094d4c:	4241      	addiu	v0,v0,1
40094d4e:	c140      	sb	v0,0(s1)
40094d50:	a160      	lbu	v1,0(s1)
    }

    name_buf[i]=0x00;
40094d52:	9944      	lw	v0,16(s1)
40094d54:	e34d      	addu	v1,v0
40094d56:	6a00      	li	v0,0
40094d58:	c340      	sb	v0,0(v1)
40094d5a:	65b9      	move	sp,s1

#endif

    return;
}
40094d5c:	6412      	restore	16,s1
40094d5e:	e8a0      	jrc	ra

40094d60 <deal_music_id3info>:
40094d60:	64d5      	save	40,ra,s1

/******************************************************************************/
/*
 * \par  Description: 对获取到的ID3信息进行处理
 *
 * \param[in]

 * \param[out]

 * \return

 * \note
 *******************************************************************************/
static void deal_music_id3info(void)
{
40094d62:	0106      	addiu	s1,sp,24
40094d64:	b26d      	lw	v0,40094f18 <.LBE2+0x1c>
    //处理其他的music格式(大于ID3_TYPE_END)，直接获取其文件名信息
    if ((music_f_p->title_string[0] == 0) || (music_f_p->id3_tag_flag == 0))
40094d66:	9a40      	lw	v0,0(v0)
40094d68:	8240      	lb	v0,0(v0)
40094d6a:	2205      	beqz	v0,40094d76 <deal_music_id3info+0x16>
40094d6c:	b26b      	lw	v0,40094f18 <.LBE2+0x1c>
40094d6e:	9a40      	lw	v0,0(v0)
40094d70:	f0a0 a243 	lbu	v0,163(v0)
40094d74:	2a11      	bnez	v0,40094d98 <deal_music_id3info+0x38>
40094d76:	b26a      	lw	v0,40094f1c <.LBE2+0x20>
    {
        //无ID3信息直接读取文件名
        vfs_get_name(ap_vfs_mount, music_f_p->title_string, ID3_TITLE_SIZE / 2);
40094d78:	9a60      	lw	v1,0(v0)
40094d7a:	b268      	lw	v0,40094f18 <.LBE2+0x1c>
40094d7c:	9aa0      	lw	a1,0(v0)
40094d7e:	6a02      	li	v0,2
40094d80:	d204      	sw	v0,16(sp)
40094d82:	6783      	move	a0,v1
40094d84:	6e20      	li	a2,32
40094d86:	6f00      	li	a3,0
40094d88:	b266      	lw	v0,40094f20 <.LBE2+0x24>
40094d8a:	eac0      	jalrc	v0
40094d8c:	b263      	lw	v0,40094f14 <.LBE2+0x18>
        deal_if_83name((uint8*) &music_f_p->title_string);
40094d8e:	9a40      	lw	v0,0(v0)
40094d90:	6782      	move	a0,v0
40094d92:	1840 5323 	jal	40094c8c <deal_if_83name>
40094d96:	6500      	nop
40094d98:	b260      	lw	v0,40094f18 <.LBE2+0x1c>
    }

    if ((music_f_p->artist_string[0] == 0) || (music_f_p->id3_tag_flag == 0))
40094d9a:	9a40      	lw	v0,0(v0)
40094d9c:	f040 8240 	lb	v0,64(v0)
40094da0:	2205      	beqz	v0,40094dac <deal_music_id3info+0x4c>
40094da2:	b25e      	lw	v0,40094f18 <.LBE2+0x1c>
40094da4:	9a40      	lw	v0,0(v0)
40094da6:	f0a0 a243 	lbu	v0,163(v0)
40094daa:	2a0a      	bnez	v0,40094dc0 <deal_music_id3info+0x60>
40094dac:	b25b      	lw	v0,40094f18 <.LBE2+0x1c>
    {
        libc_memcpy(music_f_p->artist_string, no_artist, sizeof(no_artist));
40094dae:	9a40      	lw	v0,0(v0)
40094db0:	4a40      	addiu	v0,64
40094db2:	b35d      	lw	v1,40094f24 <.LBE2+0x28>
40094db4:	6782      	move	a0,v0
40094db6:	67a3      	move	a1,v1
40094db8:	6e0a      	li	a2,10
40094dba:	6f00      	li	a3,0
40094dbc:	b25b      	lw	v0,40094f28 <.LBE2+0x2c>
40094dbe:	eac0      	jalrc	v0
40094dc0:	b256      	lw	v0,40094f14 <.LBE2+0x18>
    }

    if ((music_f_p->album_string[0] == 0) || (music_f_p->id3_tag_flag == 0))
40094dc2:	9a40      	lw	v0,0(v0)
40094dc4:	f040 8258 	lb	v0,88(v0)
40094dc8:	2205      	beqz	v0,40094dd4 <deal_music_id3info+0x74>
40094dca:	b254      	lw	v0,40094f18 <.LBE2+0x1c>
40094dcc:	9a40      	lw	v0,0(v0)
40094dce:	f0a0 a243 	lbu	v0,163(v0)
40094dd2:	2a0a      	bnez	v0,40094de8 <deal_music_id3info+0x88>
40094dd4:	b251      	lw	v0,40094f18 <.LBE2+0x1c>
    {
        libc_memcpy(music_f_p->album_string, no_album, sizeof(no_album));
40094dd6:	9a40      	lw	v0,0(v0)
40094dd8:	4a58      	addiu	v0,88
40094dda:	b355      	lw	v1,40094f2c <.LBE2+0x30>
40094ddc:	6782      	move	a0,v0
40094dde:	67a3      	move	a1,v1
40094de0:	6e09      	li	a2,9
40094de2:	6f00      	li	a3,0
40094de4:	b251      	lw	v0,40094f28 <.LBE2+0x2c>
40094de6:	eac0      	jalrc	v0
40094de8:	b24c      	lw	v0,40094f14 <.LBE2+0x18>
    }
    
#if (ID3_GENRE_SUPPORT == 1)
    if ((music_f_p->gener_string[0] == 0) || (music_f_p->id3_tag_flag == 0))
40094dea:	9a40      	lw	v0,0(v0)
40094dec:	f080 8248 	lb	v0,136(v0)
40094df0:	2205      	beqz	v0,40094dfc <deal_music_id3info+0x9c>
40094df2:	b24a      	lw	v0,40094f18 <.LBE2+0x1c>
40094df4:	9a40      	lw	v0,0(v0)
40094df6:	f0a0 a243 	lbu	v0,163(v0)
40094dfa:	2a0b      	bnez	v0,40094e12 <deal_music_id3info+0xb2>
40094dfc:	b247      	lw	v0,40094f18 <.LBE2+0x1c>
    {
        libc_memcpy(music_f_p->gener_string, no_genre, sizeof(no_genre));
40094dfe:	9a40      	lw	v0,0(v0)
40094e00:	4a7f      	addiu	v0,127
40094e02:	4a09      	addiu	v0,9
40094e04:	b34b      	lw	v1,40094f30 <.LBE2+0x34>
40094e06:	6782      	move	a0,v0
40094e08:	67a3      	move	a1,v1
40094e0a:	6e09      	li	a2,9
40094e0c:	6f00      	li	a3,0
40094e0e:	b247      	lw	v0,40094f28 <.LBE2+0x2c>
40094e10:	eac0      	jalrc	v0
40094e12:	b242      	lw	v0,40094f18 <.LBE2+0x1c>
    }
#endif
#if TRACK_SUPPORT

    if (music_f_p->id3_tag_flag == 0)
40094e14:	9a40      	lw	v0,0(v0)
40094e16:	f0a0 a243 	lbu	v0,163(v0)
40094e1a:	2a06      	bnez	v0,40094e28 <deal_music_id3info+0xc8>
40094e1c:	b23f      	lw	v0,40094f18 <.LBE2+0x1c>
    {
        music_f_p->track_num = 0;
40094e1e:	9a60      	lw	v1,0(v0)
40094e20:	6a00      	li	v0,0
40094e22:	f0e0 cb52 	sh	v0,242(v1)
40094e26:	1075      	b	40094f12 <.LBE2+0x16>
40094e28:	b23c      	lw	v0,40094f18 <.LBE2+0x1c>
    }
    else
    {

        if (music_f_p->track_num == UNICODE_FLAG)
40094e2a:	9a40      	lw	v0,0(v0)
40094e2c:	f0e0 aa72 	lhu	v1,242(v0)
40094e30:	f6ff 6a1f 	li	v0,65279
40094e34:	ea6e      	xor	v0,v1
40094e36:	5a01      	sltiu	v0,1
40094e38:	600e      	bteqz	40094e56 <deal_music_id3info+0xf6>
40094e3a:	b33f      	lw	v1,40094f34 <.LBE2+0x38>
        {
            unicode_to_char(track_string_buf, ID3_TRACK_SIZE, language_id);
40094e3c:	b23f      	lw	v0,40094f38 <.LBE2+0x3c>
40094e3e:	a240      	lbu	v0,0(v0)
40094e40:	6783      	move	a0,v1
40094e42:	6d08      	li	a1,8
40094e44:	67c2      	move	a2,v0
40094e46:	1810 514d 	jal	48014534 <unicode_to_char>
40094e4a:	6500      	nop
40094e4c:	b233      	lw	v0,40094f18 <.LBE2+0x1c>
            music_f_p->track_num = 0;
40094e4e:	9a60      	lw	v1,0(v0)
40094e50:	6a00      	li	v0,0
40094e52:	f0e0 cb52 	sh	v0,242(v1)
40094e56:	b231      	lw	v0,40094f18 <.LBE2+0x1c>
        }

        if ((music_f_p->track_num == 0) && (track_string_buf[0] != 0))
40094e58:	9a40      	lw	v0,0(v0)
40094e5a:	f0e0 aa52 	lhu	v0,242(v0)
40094e5e:	2a4e      	bnez	v0,40094efc <.LBE2>
40094e60:	b235      	lw	v0,40094f34 <.LBE2+0x38>
40094e62:	a240      	lbu	v0,0(v0)
40094e64:	224b      	beqz	v0,40094efc <.LBE2>

40094e66 <.LBB2>:
40094e66:	6a01      	li	v0,1
        {
            uint8 i;
            uint8 j = 1;
40094e68:	c141      	sb	v0,1(s1)
40094e6a:	6a00      	li	v0,0
            for (i = 0; i < 4; i++)
40094e6c:	c140      	sb	v0,0(s1)
40094e6e:	a140      	lbu	v0,0(s1)
40094e70:	5a04      	sltiu	v0,4
40094e72:	6026      	bteqz	40094ec0 <.LBB2+0x5a>
40094e74:	b330      	lw	v1,40094f34 <.LBE2+0x38>
            {
                if ((track_string_buf[i] == 0) || (track_string_buf[i] == '/'))
40094e76:	a140      	lbu	v0,0(s1)
40094e78:	e349      	addu	v0,v1,v0
40094e7a:	a240      	lbu	v0,0(v0)
40094e7c:	2221      	beqz	v0,40094ec0 <.LBB2+0x5a>
40094e7e:	b32e      	lw	v1,40094f34 <.LBE2+0x38>
40094e80:	a140      	lbu	v0,0(s1)
40094e82:	e349      	addu	v0,v1,v0
40094e84:	a240      	lbu	v0,0(v0)
40094e86:	722f      	cmpi	v0,47
40094e88:	6758      	move	v0,t8
40094e8a:	5a01      	sltiu	v0,1
40094e8c:	6119      	btnez	40094ec0 <.LBB2+0x5a>
40094e8e:	b32a      	lw	v1,40094f34 <.LBE2+0x38>
                {
                    break;
                }
                if ((track_string_buf[i] < 0x30) || (track_string_buf[i] > 0x39))
40094e90:	a140      	lbu	v0,0(s1)
40094e92:	e349      	addu	v0,v1,v0
40094e94:	a240      	lbu	v0,0(v0)
40094e96:	5a30      	sltiu	v0,48
40094e98:	6113      	btnez	40094ec0 <.LBB2+0x5a>
40094e9a:	b327      	lw	v1,40094f34 <.LBE2+0x38>
40094e9c:	a140      	lbu	v0,0(s1)
40094e9e:	e349      	addu	v0,v1,v0
40094ea0:	a240      	lbu	v0,0(v0)
40094ea2:	5a3a      	sltiu	v0,58
40094ea4:	600d      	bteqz	40094ec0 <.LBB2+0x5a>
40094ea6:	b324      	lw	v1,40094f34 <.LBE2+0x38>
                {
                    break;
                }
                else
                {
                    track_string_buf[i] -= 0x30;
40094ea8:	a140      	lbu	v0,0(s1)
40094eaa:	e351      	addu	a0,v1,v0
40094eac:	b322      	lw	v1,40094f34 <.LBE2+0x38>
40094eae:	a140      	lbu	v0,0(s1)
40094eb0:	e349      	addu	v0,v1,v0
40094eb2:	a240      	lbu	v0,0(v0)
40094eb4:	4ad0      	addiu	v0,-48
40094eb6:	c440      	sb	v0,0(a0)
40094eb8:	a140      	lbu	v0,0(s1)
40094eba:	4241      	addiu	v0,v0,1
40094ebc:	c140      	sb	v0,0(s1)
40094ebe:	17d7      	b	40094e6e <.LBB2+0x8>
40094ec0:	a140      	lbu	v0,0(s1)
                }
            }
            while (i > 0)
40094ec2:	221c      	beqz	v0,40094efc <.LBE2>
40094ec4:	a140      	lbu	v0,0(s1)
            {
                i--;
40094ec6:	424f      	addiu	v0,v0,-1
40094ec8:	c140      	sb	v0,0(s1)
40094eca:	b214      	lw	v0,40094f18 <.LBE2+0x1c>
                music_f_p->track_num += track_string_buf[i] * j;
40094ecc:	9aa0      	lw	a1,0(v0)
40094ece:	b213      	lw	v0,40094f18 <.LBE2+0x1c>
40094ed0:	9a80      	lw	a0,0(v0)
40094ed2:	b319      	lw	v1,40094f34 <.LBE2+0x38>
40094ed4:	a140      	lbu	v0,0(s1)
40094ed6:	e349      	addu	v0,v1,v0
40094ed8:	a260      	lbu	v1,0(v0)
40094eda:	a141      	lbu	v0,1(s1)
40094edc:	eb58      	mult	v1,v0
40094ede:	ee12      	mflo	a2
40094ee0:	651e      	move	t8,a2
40094ee2:	f0e0 ac72 	lhu	v1,242(a0)
40094ee6:	6758      	move	v0,t8
40094ee8:	e349      	addu	v0,v1,v0
40094eea:	f0e0 cd52 	sh	v0,242(a1)
40094eee:	a161      	lbu	v1,1(s1)
                j *= 10;
40094ef0:	6743      	move	v0,v1
40094ef2:	3248      	sll	v0,2
40094ef4:	e269      	addu	v0,v1
40094ef6:	3244      	sll	v0,1
40094ef8:	c141      	sb	v0,1(s1)
40094efa:	17e2      	b	40094ec0 <.LBB2+0x5a>

40094efc <.LBE2>:
40094efc:	b207      	lw	v0,40094f18 <.LBE2+0x1c>
            }

        }

        if (music_f_p->track_num == 0)
40094efe:	9a40      	lw	v0,0(v0)
40094f00:	f0e0 aa52 	lhu	v0,242(v0)
40094f04:	2a06      	bnez	v0,40094f12 <.LBE2+0x16>
40094f06:	b205      	lw	v0,40094f18 <.LBE2+0x1c>
        {
            music_f_p->track_num = TRACK_NULL;
40094f08:	9a60      	lw	v1,0(v0)
40094f0a:	6a01      	li	v0,1
40094f0c:	ea4b      	neg	v0
40094f0e:	f0e0 cb52 	sh	v0,242(v1)
40094f12:	65b9      	move	sp,s1
        }
    }
#endif

}
40094f14:	6452      	restore	16,ra,s1
40094f16:	e8a0      	jrc	ra
40094f18:	5688      	slti	a2,136
40094f1a:	9fc1      	lw	a2,4(a3)
40094f1c:	5570      	slti	a1,112
40094f1e:	9fc1      	lw	a2,4(a3)
40094f20:	6411      	restore	8,s1
40094f22:	bfc1      	lwu	a2,4(a3)
40094f24:	53b4      	slti	v1,180
40094f26:	4009      	addiu	s0,s0,-7
40094f28:	6409      	restore	72
40094f2a:	bfc1      	lwu	a2,4(a3)
40094f2c:	53c0      	slti	v1,192
40094f2e:	4009      	addiu	s0,s0,-7
40094f30:	53cc      	slti	v1,204
40094f32:	4009      	addiu	s0,s0,-7
40094f34:	59cc      	sltiu	s1,204
40094f36:	9fc1      	lw	a2,4(a3)
40094f38:	5568      	slti	a1,104
40094f3a:	9fc1      	lw	a2,4(a3)

40094f3c <get_music_info>:
40094f3c:	64d5      	save	40,ra,s1
/******************************************************************************/
/*
 * \par  Description: 获取文件的信息(ID3,磁盘信息)
 *
 * \param[in]    ext_name--扩展名

 * \param[out]

 * \return

 * \note
 *******************************************************************************/
void get_music_info(uint32 ext_name)
{
40094f3e:	0106      	addiu	s1,sp,24
40094f40:	d984      	sw	a0,16(s1)
40094f42:	9944      	lw	v0,16(s1)
    id3_type_e id3_type;

    id3_type = check_id3_type(ext_name);
40094f44:	6782      	move	a0,v0
40094f46:	1810 5100 	jal	48014400 <BANK_UI_1_ADDR_BASE>
40094f4a:	6500      	nop
40094f4c:	c140      	sb	v0,0(s1)
40094f4e:	a140      	lbu	v0,0(s1)

    if (id3_type < ID3_TYPE_END)
40094f50:	5a08      	sltiu	v0,8
40094f52:	6025      	bteqz	40094f9e <get_music_info+0x62>
40094f54:	b225      	lw	v0,40094fe8 <get_music_info+0xac>
    {
        if (FALSE != get_id3_info(&id3_file_info, NULL, id3_type))
40094f56:	a160      	lbu	v1,0(s1)
40094f58:	6782      	move	a0,v0
40094f5a:	6d00      	li	a1,0
40094f5c:	67c3      	move	a2,v1
40094f5e:	b224      	lw	v0,40094fec <get_music_info+0xb0>
40094f60:	eac0      	jalrc	v0
40094f62:	651a      	move	t8,v0
40094f64:	6016      	bteqz	40094f92 <get_music_info+0x56>
40094f66:	b223      	lw	v0,40094ff0 <get_music_info+0xb4>
        {
            music_f_p->id3_tag_flag = 1;
40094f68:	9a60      	lw	v1,0(v0)
40094f6a:	6a01      	li	v0,1
40094f6c:	f0a0 c343 	sb	v0,163(v1)
40094f70:	b21e      	lw	v0,40094fe8 <get_music_info+0xac>
            if ((id3_file_info.track_num != 0) && (id3_file_info.track_num != UNICODE_FLAG))
40094f72:	aa51      	lhu	v0,34(v0)
40094f74:	221c      	beqz	v0,40094fae <get_music_info+0x72>
40094f76:	b21d      	lw	v0,40094fe8 <get_music_info+0xac>
40094f78:	aa71      	lhu	v1,34(v0)
40094f7a:	f6ff 6a1f 	li	v0,65279
40094f7e:	ea6e      	xor	v0,v1
40094f80:	5a01      	sltiu	v0,1
40094f82:	6115      	btnez	40094fae <get_music_info+0x72>
40094f84:	b21b      	lw	v0,40094ff0 <get_music_info+0xb4>
            {
                music_f_p->track_num = id3_file_info.track_num;
40094f86:	9a60      	lw	v1,0(v0)
40094f88:	b218      	lw	v0,40094fe8 <get_music_info+0xac>
40094f8a:	aa51      	lhu	v0,34(v0)
40094f8c:	f0e0 cb52 	sh	v0,242(v1)
40094f90:	100e      	b	40094fae <get_music_info+0x72>
40094f92:	b218      	lw	v0,40094ff0 <get_music_info+0xb4>
            }
        }
        else
        {
            music_f_p->id3_tag_flag = 0;
40094f94:	9a60      	lw	v1,0(v0)
40094f96:	6a00      	li	v0,0
40094f98:	f0a0 c343 	sb	v0,163(v1)
40094f9c:	1008      	b	40094fae <get_music_info+0x72>
40094f9e:	b215      	lw	v0,40094ff0 <get_music_info+0xb4>
        }

    }
    else
    {
        music_f_p->id3_tag_flag = 0;
40094fa0:	9a60      	lw	v1,0(v0)
40094fa2:	6a00      	li	v0,0
40094fa4:	f0a0 c343 	sb	v0,163(v1)
40094fa8:	1840 5358 	jal	40094d60 <deal_music_id3info>
        deal_music_id3info();
40094fac:	6500      	nop
40094fae:	b211      	lw	v0,40094ff0 <get_music_info+0xb4>
    }

    *(uint32*) (music_f_p->filename) = ext_name;
40094fb0:	9a60      	lw	v1,0(v0)
40094fb2:	9944      	lw	v0,16(s1)
40094fb4:	f0a0 db44 	sw	v0,164(v1)
40094fb8:	b20f      	lw	v0,40094ff4 <get_music_info+0xb8>
    vfs_file_dir_offset(ap_vfs_mount, &music_f_p->dir_layer_info, &music_f_p->cluster_no, 0);
40094fba:	9a80      	lw	a0,0(v0)
40094fbc:	b20d      	lw	v0,40094ff0 <get_music_info+0xb4>
40094fbe:	9a40      	lw	v0,0(v0)
40094fc0:	f0a0 42a9 	addiu	a1,v0,169
40094fc4:	b20b      	lw	v0,40094ff0 <get_music_info+0xb4>
40094fc6:	9a40      	lw	v0,0(v0)
40094fc8:	f0f0 4264 	addiu	v1,v0,244
40094fcc:	6a03      	li	v0,3
40094fce:	d204      	sw	v0,16(sp)
40094fd0:	67c3      	move	a2,v1
40094fd2:	6f00      	li	a3,0
40094fd4:	b209      	lw	v0,40094ff8 <get_music_info+0xbc>
40094fd6:	eac0      	jalrc	v0
40094fd8:	b206      	lw	v0,40094fec <get_music_info+0xb0>
    music_f_p->flag = 1;
40094fda:	9a60      	lw	v1,0(v0)
40094fdc:	6a01      	li	v0,1
40094fde:	f0a0 c348 	sb	v0,168(v1)
40094fe2:	65b9      	move	sp,s1

}
40094fe4:	6452      	restore	16,ra,s1
40094fe6:	e8a0      	jrc	ra
40094fe8:	565c      	slti	a2,92
40094fea:	9fc1      	lw	a2,4(a3)
40094fec:	b201      	lw	v0,40094ff0 <get_music_info+0xb4>
40094fee:	7805      	sd	s0,40(s0)
40094ff0:	5688      	slti	a2,136
40094ff2:	9fc1      	lw	a2,4(a3)
40094ff4:	5570      	slti	a1,112
40094ff6:	9fc1      	lw	a2,4(a3)
40094ff8:	6411      	restore	8,s1
40094ffa:	bfc1      	lwu	a2,4(a3)

40094ffc <store_music_info>:
40094ffc:	64d3      	save	24,ra,s1

/******************************************************************************/
/*
 * \par  Description: 存储信息到RAM或VM区
 *
 * \param[in]    file_num--当前已存放的文件信息总数

 * \param[out]

 * \return

 * \note    先判断buffer是否满了，再写入
 *******************************************************************************/
void store_music_info(uint16 file_num)
{
40094ffe:	0104      	addiu	s1,sp,16
40095000:	6744      	move	v0,a0
40095002:	c944      	sh	v0,8(s1)
40095004:	a944      	lhu	v0,8(s1)
//libc_print("1",0,0);
    if (file_num != 0)
40095006:	222c      	beqz	v0,40095060 <store_music_info+0x64>
40095008:	b455      	lw	a0,4009515c <store_music_info+0x160>
    {
        title_data_pt  += sort_cmp_len;
4009500a:	b256      	lw	v0,40095160 <store_music_info+0x164>
4009500c:	a260      	lbu	v1,0(v0)
4009500e:	b254      	lw	v0,4009515c <store_music_info+0x160>
40095010:	9a40      	lw	v0,0(v0)
40095012:	e349      	addu	v0,v1,v0
40095014:	dc40      	sw	v0,0(a0)
40095016:	b354      	lw	v1,40095164 <store_music_info+0x168>
        track_data_pt  += TRACK_CMP_LENGTH;//只保留1bytes
40095018:	b253      	lw	v0,40095164 <store_music_info+0x168>
4009501a:	9a40      	lw	v0,0(v0)
4009501c:	4241      	addiu	v0,v0,1
4009501e:	db40      	sw	v0,0(v1)
40095020:	b252      	lw	v0,40095168 <store_music_info+0x16c>
        //libc_print("4",0,0);

        //libc_print("info_size",(sorting_map_level_cur->file_info_buf_size),2);
        if ((file_num % ((sorting_map_level_cur->file_info_buf_size) / PLIST_FILE_SIZE)) == 0)
40095022:	9a40      	lw	v0,0(v0)
40095024:	aa43      	lhu	v0,6(v0)
40095026:	3242      	srl	v0,8
40095028:	a964      	lhu	v1,8(s1)
4009502a:	ea31      	zeh	v0
4009502c:	eb5b      	divu	zero,v1,v0
4009502e:	2a01      	bnez	v0,40095032 <store_music_info+0x36>
40095030:	e8e5      	break	7
40095032:	ec10      	mfhi	a0
40095034:	651c      	move	t8,a0
40095036:	6758      	move	v0,t8
40095038:	ea31      	zeh	v0
4009503a:	2a0c      	bnez	v0,40095054 <store_music_info+0x58>
4009503c:	b34c      	lw	v1,4009516c <store_music_info+0x170>
        { //libc_print("1",0,0);
            save_to_file((uint8*) FILE_INFO_ADDR, (sorting_map_level_cur->file_info_buf_size));
4009503e:	b24b      	lw	v0,40095168 <store_music_info+0x16c>
40095040:	9a40      	lw	v0,0(v0)
40095042:	aa43      	lhu	v0,6(v0)
40095044:	6783      	move	a0,v1
40095046:	67a2      	move	a1,v0
40095048:	b24a      	lw	v0,40095170 <store_music_info+0x174>
4009504a:	eac0      	jalrc	v0
4009504c:	b34a      	lw	v1,40095170 <store_music_info+0x174>
            fileinfo_data_pt = (uint8*) FILE_INFO_ADDR;
4009504e:	b248      	lw	v0,4009516c <store_music_info+0x170>
40095050:	db40      	sw	v0,0(v1)
40095052:	1006      	b	40095060 <store_music_info+0x64>
40095054:	b348      	lw	v1,40095174 <store_music_info+0x178>
        }
        else
        {
            fileinfo_data_pt += PLIST_FILE_SIZE;
40095056:	b248      	lw	v0,40095174 <store_music_info+0x178>
40095058:	9a40      	lw	v0,0(v0)
4009505a:	f100 4a00 	addiu	v0,256
4009505e:	db40      	sw	v0,0(v1)
40095060:	b246      	lw	v0,40095178 <store_music_info+0x17c>
        }
    }
    
    music_f_p->prev_offset = file_num - 1;
40095062:	9a60      	lw	v1,0(v0)
40095064:	a944      	lhu	v0,8(s1)
40095066:	424f      	addiu	v0,v0,-1
40095068:	f0e0 cb5c 	sh	v0,252(v1)
4009506c:	b243      	lw	v0,40095178 <store_music_info+0x17c>
    music_f_p->next_offset = file_num + 1;
4009506e:	9a60      	lw	v1,0(v0)
40095070:	a944      	lhu	v0,8(s1)
40095072:	4241      	addiu	v0,v0,1
40095074:	f0e0 cb5e 	sh	v0,254(v1)
40095078:	b239      	lw	v0,4009515c <store_music_info+0x160>
    
    //ram中只保存title数据,最大64k空间
    copy_deal_string(title_data_pt, music_f_p->title_string, language_id, sort_cmp_len);
4009507a:	9a80      	lw	a0,0(v0)
4009507c:	b23f      	lw	v0,40095178 <store_music_info+0x17c>
4009507e:	9aa0      	lw	a1,0(v0)
40095080:	b23f      	lw	v0,4009517c <store_music_info+0x180>
40095082:	a260      	lbu	v1,0(v0)
40095084:	b237      	lw	v0,40095160 <store_music_info+0x164>
40095086:	a240      	lbu	v0,0(v0)
40095088:	67c3      	move	a2,v1
4009508a:	67e2      	move	a3,v0
4009508c:	1810 51a5 	jal	48014694 <copy_deal_string>
40095090:	6500      	nop
40095092:	b23a      	lw	v0,40095178 <store_music_info+0x17c>
    //libc_print("2",0,0);
 #if TRACK_SUPPORT
 copy_deal_string(music_f_p->track_string, track_string_buf, language_id, 3);
40095094:	9a40      	lw	v0,0(v0)
40095096:	f0a0 4260 	addiu	v1,v0,160
4009509a:	b53a      	lw	a1,40095180 <store_music_info+0x184>
4009509c:	b238      	lw	v0,4009517c <store_music_info+0x180>
4009509e:	a240      	lbu	v0,0(v0)
400950a0:	6783      	move	a0,v1
400950a2:	67c2      	move	a2,v0
400950a4:	6f03      	li	a3,3
400950a6:	1810 51a5 	jal	48014694 <copy_deal_string>
400950aa:	6500      	nop
400950ac:	b232      	lw	v0,40095174 <store_music_info+0x178>
 #endif
  //  libc_print("3",0,0);
    libc_memcpy(fileinfo_data_pt, music_f_p, sizeof(plist_f_info_t));
400950ae:	9a80      	lw	a0,0(v0)
400950b0:	b232      	lw	v0,40095178 <store_music_info+0x17c>
400950b2:	9a40      	lw	v0,0(v0)
400950b4:	6bff      	li	v1,255
400950b6:	4361      	addiu	v1,v1,1
400950b8:	67a2      	move	a1,v0
400950ba:	67c3      	move	a2,v1
400950bc:	6f00      	li	a3,0
400950be:	b232      	lw	v0,40095184 <store_music_info+0x188>
400950c0:	eac0      	jalrc	v0
400950c2:	b22e      	lw	v0,40095178 <store_music_info+0x17c>
		
#if TRACK_SUPPORT
   // libc_print("track_allowed",0,0);
    if ((music_f_p->track_num == 0xFFFF) && (music_f_p->track_string[0] != 0x00))
400950c4:	9a40      	lw	v0,0(v0)
400950c6:	f0e0 aa72 	lhu	v1,242(v0)
400950ca:	f7ff 6a1f 	li	v0,65535
400950ce:	ea6e      	xor	v0,v1
400950d0:	5a01      	sltiu	v0,1
400950d2:	6039      	bteqz	40095146 <store_music_info+0x14a>
400950d4:	b229      	lw	v0,40095178 <store_music_info+0x17c>
400950d6:	9a40      	lw	v0,0(v0)
400950d8:	f0a0 8240 	lb	v0,160(v0)
400950dc:	2234      	beqz	v0,40095146 <store_music_info+0x14a>
400950de:	b227      	lw	v0,40095178 <store_music_info+0x17c>
    {
        if ((music_f_p->track_string[0] >= '0') && (music_f_p->track_string[0] <= '9'))
400950e0:	9a40      	lw	v0,0(v0)
400950e2:	f0a0 8240 	lb	v0,160(v0)
400950e6:	5230      	slti	v0,48
400950e8:	610f      	btnez	40095108 <store_music_info+0x10c>
400950ea:	b224      	lw	v0,40095178 <store_music_info+0x17c>
400950ec:	9a40      	lw	v0,0(v0)
400950ee:	f0a0 8240 	lb	v0,160(v0)
400950f2:	523a      	slti	v0,58
400950f4:	6009      	bteqz	40095108 <store_music_info+0x10c>
400950f6:	b221      	lw	v0,40095178 <store_music_info+0x17c>
        {
            music_f_p->track_num = music_f_p->track_string[0] - '0';
400950f8:	9a60      	lw	v1,0(v0)
400950fa:	b220      	lw	v0,40095178 <store_music_info+0x17c>
400950fc:	9a40      	lw	v0,0(v0)
400950fe:	f0a0 8240 	lb	v0,160(v0)
40095102:	4ad0      	addiu	v0,-48
40095104:	f0e0 cb52 	sh	v0,242(v1)
40095108:	b21c      	lw	v0,40095178 <store_music_info+0x17c>
        }
        if ((music_f_p->track_string[1] >= '0') && (music_f_p->track_string[1] <= '9'))
4009510a:	9a40      	lw	v0,0(v0)
4009510c:	f0a0 8241 	lb	v0,161(v0)
40095110:	5230      	slti	v0,48
40095112:	6119      	btnez	40095146 <store_music_info+0x14a>
40095114:	b219      	lw	v0,40095178 <store_music_info+0x17c>
40095116:	9a40      	lw	v0,0(v0)
40095118:	f0a0 8241 	lb	v0,161(v0)
4009511c:	523a      	slti	v0,58
4009511e:	6013      	bteqz	40095146 <store_music_info+0x14a>
40095120:	b216      	lw	v0,40095178 <store_music_info+0x17c>
        {
            music_f_p->track_num = music_f_p->track_num + (music_f_p->track_string[1] - '0') * 10;
40095122:	9aa0      	lw	a1,0(v0)
40095124:	b215      	lw	v0,40095178 <store_music_info+0x17c>
40095126:	9a80      	lw	a0,0(v0)
40095128:	b214      	lw	v0,40095178 <store_music_info+0x17c>
4009512a:	9a40      	lw	v0,0(v0)
4009512c:	f0a0 8261 	lb	v1,161(v0)
40095130:	6743      	move	v0,v1
40095132:	3248      	sll	v0,2
40095134:	e269      	addu	v0,v1
40095136:	3244      	sll	v0,1
40095138:	f0e0 ac72 	lhu	v1,242(a0)
4009513c:	e349      	addu	v0,v1,v0
4009513e:	f63f 4a00 	addiu	v0,-480
40095142:	f0e0 cd52 	sh	v0,242(a1)
40095146:	b208      	lw	v0,40095164 <store_music_info+0x168>
        }
    }
    *track_data_pt = (uint8) music_f_p->track_num;//只排序低8位->1byte
40095148:	9a60      	lw	v1,0(v0)
4009514a:	b20c      	lw	v0,40095178 <store_music_info+0x17c>
4009514c:	9a40      	lw	v0,0(v0)
4009514e:	f0e0 aa52 	lhu	v0,242(v0)
40095152:	c340      	sb	v0,0(v1)
40095154:	65b9      	move	sp,s1
#endif
}
40095156:	6451      	restore	8,ra,s1
40095158:	e8a0      	jrc	ra
4009515a:	0000      	addiu	s0,sp,0
4009515c:	5628      	slti	a2,40
4009515e:	9fc1      	lw	a2,4(a3)
40095160:	5a28      	sltiu	v0,40
40095162:	9fc1      	lw	a2,4(a3)
40095164:	5630      	slti	a2,48
40095166:	9fc1      	lw	a2,4(a3)
40095168:	5408      	slti	a0,8
4009516a:	9fc1      	lw	a2,4(a3)
4009516c:	0a00      	la	v0,4009516c <store_music_info+0x170>
4009516e:	9fc2      	lw	a2,8(a3)
40095170:	6415      	restore	40,s1
40095172:	bfc1      	lwu	a2,4(a3)
40095174:	562c      	slti	a2,44
40095176:	9fc1      	lw	a2,4(a3)
40095178:	5688      	slti	a2,136
4009517a:	9fc1      	lw	a2,4(a3)
4009517c:	5568      	slti	a1,104
4009517e:	9fc1      	lw	a2,4(a3)
40095180:	59cc      	sltiu	s1,204
40095182:	9fc1      	lw	a2,4(a3)
40095184:	6409      	restore	72
40095186:	bfc1      	lwu	a2,4(a3)

40095188 <init_id3_size_info>:
40095188:	64d5      	save	40,ra,s1

/******************************************************************************/
/*
 * \par  Description: 初始化
 *  static void init_id3_size_info(void)
 * \param[in]
 * \param[out]
 * \return        void
 * \note
 *******************************************************************************/
static void init_id3_size_info(void)
{
4009518a:	0106      	addiu	s1,sp,24
4009518c:	b331      	lw	v1,40095250 <init_id3_size_info+0xc8>
    uint16 tmp;
    music_f_p = (void*) file_buffer;
4009518e:	b232      	lw	v0,40095254 <init_id3_size_info+0xcc>
40095190:	db40      	sw	v0,0(v1)
40095192:	b332      	lw	v1,40095258 <init_id3_size_info+0xd0>
    
    id3_file_info.tit2_buffer  = music_f_p->title_string;
40095194:	b22f      	lw	v0,40095250 <init_id3_size_info+0xc8>
40095196:	9a40      	lw	v0,0(v0)
40095198:	db40      	sw	v0,0(v1)
4009519a:	b330      	lw	v1,40095258 <init_id3_size_info+0xd0>
    id3_file_info.tpe1_buffer  = music_f_p->artist_string;
4009519c:	b22d      	lw	v0,40095250 <init_id3_size_info+0xc8>
4009519e:	9a40      	lw	v0,0(v0)
400951a0:	4a40      	addiu	v0,64
400951a2:	db41      	sw	v0,4(v1)
400951a4:	b32d      	lw	v1,40095258 <init_id3_size_info+0xd0>
    id3_file_info.talb_buffer  = music_f_p->album_string;
400951a6:	b22b      	lw	v0,40095250 <init_id3_size_info+0xc8>
400951a8:	9a40      	lw	v0,0(v0)
400951aa:	4a58      	addiu	v0,88
400951ac:	db42      	sw	v0,8(v1)
400951ae:	b32b      	lw	v1,40095258 <init_id3_size_info+0xd0>
    id3_file_info.track_buffer = track_string_buf;//music_f_p->track_string;
400951b0:	b22b      	lw	v0,4009525c <init_id3_size_info+0xd4>
400951b2:	db45      	sw	v0,20(v1)
400951b4:	b329      	lw	v1,40095258 <init_id3_size_info+0xd0>
#if (ID3_GENRE_SUPPORT == 1)
    id3_file_info.genre_buffer = music_f_p->gener_string;
400951b6:	b227      	lw	v0,40095250 <init_id3_size_info+0xc8>
400951b8:	9a40      	lw	v0,0(v0)
400951ba:	4a7f      	addiu	v0,127
400951bc:	4a09      	addiu	v0,9
400951be:	db43      	sw	v0,12(v1)
400951c0:	b326      	lw	v1,40095258 <init_id3_size_info+0xd0>
#else
    id3_file_info.genre_buffer = NULL;
#endif

    id3_file_info.tit2_length  = ID3_TITLE_SIZE;
400951c2:	6a40      	li	v0,64
400951c4:	c358      	sb	v0,24(v1)
400951c6:	b325      	lw	v1,40095258 <init_id3_size_info+0xd0>
    id3_file_info.tpe1_length  = ID3_ARTIST_SIZE;
400951c8:	6a18      	li	v0,24
400951ca:	c359      	sb	v0,25(v1)
400951cc:	b323      	lw	v1,40095258 <init_id3_size_info+0xd0>
    id3_file_info.talb_length  = ID3_ALBUM_SIZE;
400951ce:	6a30      	li	v0,48
400951d0:	c35a      	sb	v0,26(v1)
400951d2:	b322      	lw	v1,40095258 <init_id3_size_info+0xd0>
    id3_file_info.genre_length = ID3_GENRE_SIZE;
400951d4:	6a18      	li	v0,24
400951d6:	c35b      	sb	v0,27(v1)
400951d8:	b320      	lw	v1,40095258 <init_id3_size_info+0xd0>
    id3_file_info.track_length = ID3_TRACK_SIZE;// 3
400951da:	6a08      	li	v0,8
400951dc:	c35d      	sb	v0,29(v1)
400951de:	b31f      	lw	v1,40095258 <init_id3_size_info+0xd0>

    id3_file_info.drm_length   = 0;
400951e0:	6a00      	li	v0,0
400951e2:	c35c      	sb	v0,28(v1)
400951e4:	b31d      	lw	v1,40095258 <init_id3_size_info+0xd0>
    id3_file_info.drm_buffer   = 0;
400951e6:	6a00      	li	v0,0
400951e8:	db44      	sw	v0,16(v1)
400951ea:	b21e      	lw	v0,40095260 <init_id3_size_info+0xd8>
    
    if (ap_plist_file_total != 0)
400951ec:	aa40      	lhu	v0,0(v0)
400951ee:	221a      	beqz	v0,40095224 <init_id3_size_info+0x9c>
400951f0:	b21d      	lw	v0,40095264 <init_id3_size_info+0xdc>
    {
   // libc_print("file_total",ap_plist_file_total,2);
        tmp = (uint16)((sorting_map_level_cur->sort_buf_size) / ((uint32)ap_plist_file_total));//SORT_BUFFER_SIZE / ap_plist_file_total;
400951f2:	9a80      	lw	a0,0(v0)
400951f4:	b21b      	lw	v0,40095260 <init_id3_size_info+0xd8>
400951f6:	aa60      	lhu	v1,0(v0)
400951f8:	9c40      	lw	v0,0(a0)
400951fa:	ea7b      	divu	zero,v0,v1
400951fc:	2b01      	bnez	v1,40095200 <init_id3_size_info+0x78>
400951fe:	e8e5      	break	7
40095200:	ea12      	mflo	v0
40095202:	c940      	sh	v0,0(s1)
40095204:	b218      	lw	v0,40095264 <init_id3_size_info+0xdc>
        if(tmp > (uint16)(sorting_map_level_cur->title_cmp_lenth))// TITLE_CMP_LENGTH)
40095206:	9a40      	lw	v0,0(v0)
40095208:	a24a      	lbu	v0,10(v0)
4009520a:	6762      	move	v1,v0
4009520c:	eb31      	zeh	v1
4009520e:	a940      	lhu	v0,0(s1)
40095210:	eb43      	sltu	v1,v0
40095212:	6004      	bteqz	4009521c <init_id3_size_info+0x94>
40095214:	b214      	lw	v0,40095264 <init_id3_size_info+0xdc>
        {
            tmp =(uint16) (sorting_map_level_cur->title_cmp_lenth);//TITLE_CMP_LENGTH;
40095216:	9a40      	lw	v0,0(v0)
40095218:	a24a      	lbu	v0,10(v0)
4009521a:	c940      	sh	v0,0(s1)
4009521c:	b311      	lw	v1,40095260 <init_id3_size_info+0xd8>
        }
        ap_plist_file_total = 0;
4009521e:	6a00      	li	v0,0
40095220:	cb40      	sh	v0,0(v1)
40095222:	1002      	b	40095228 <init_id3_size_info+0xa0>
40095224:	6a00      	li	v0,0
    }
    else
    {
        tmp = 0;
40095226:	c940      	sh	v0,0(s1)
40095228:	b310      	lw	v1,40095268 <init_id3_size_info+0xe0>
    }
    
    fsel_scan_flag = 0;//扫描文件标志清零
4009522a:	6a00      	li	v0,0
4009522c:	c340      	sb	v0,0(v1)
4009522e:	b310      	lw	v1,4009526c <init_id3_size_info+0xe4>
    sort_cmp_len = (uint8)tmp;
40095230:	a940      	lhu	v0,0(s1)
40095232:	c340      	sb	v0,0(v1)
40095234:	b20f      	lw	v0,40095270 <init_id3_size_info+0xe8>
    vfs_cd(ap_vfs_mount, CD_ROOT, 0);//回到根目录
40095236:	9a60      	lw	v1,0(v0)
40095238:	6a00      	li	v0,0
4009523a:	d204      	sw	v0,16(sp)
4009523c:	6783      	move	a0,v1
4009523e:	6d3a      	li	a1,58
40095240:	6e00      	li	a2,0
40095242:	6f00      	li	a3,0
40095244:	b20c      	lw	v0,40095274 <init_id3_size_info+0xec>
40095246:	eac0      	jalrc	v0
40095248:	65b9      	move	sp,s1
    plt_print("<len>: ", sort_cmp_len, 2);
}
4009524a:	6452      	restore	16,ra,s1
4009524c:	e8a0      	jrc	ra
4009524e:	0000      	addiu	s0,sp,0
40095250:	5688      	slti	a2,136
40095252:	9fc1      	lw	a2,4(a3)
40095254:	5894      	sltiu	s0,148
40095256:	9fc1      	lw	a2,4(a3)
40095258:	565c      	slti	a2,92
4009525a:	9fc1      	lw	a2,4(a3)
4009525c:	59cc      	sltiu	s1,204
4009525e:	9fc1      	lw	a2,4(a3)
40095260:	5598      	slti	a1,152
40095262:	9fc1      	lw	a2,4(a3)
40095264:	5408      	slti	a0,8
40095266:	9fc1      	lw	a2,4(a3)
40095268:	5a2b      	sltiu	v0,43
4009526a:	9fc1      	lw	a2,4(a3)
4009526c:	5a28      	sltiu	v0,40
4009526e:	9fc1      	lw	a2,4(a3)
40095270:	5570      	slti	a1,112
40095272:	9fc1      	lw	a2,4(a3)
40095274:	6411      	restore	8,s1
40095276:	bfc1      	lwu	a2,4(a3)

40095278 <sorting_map_init>:
40095278:	64d3      	save	24,ra,s1

static sorting_map_init(void)
{
4009527a:	0104      	addiu	s1,sp,16
4009527c:	b205      	lw	v0,40095290 <sorting_map_init+0x18>
	_init_sorting_map_level_4k();
4009527e:	eac0      	jalrc	v0
40095280:	b205      	lw	v0,40095290 <sorting_map_init+0x18>
	_init_sorting_map_level_8k();
40095282:	eac0      	jalrc	v0
40095284:	b205      	lw	v0,40095294 <sorting_map_init+0x1c>
	_init_sorting_map_level_16k();
40095286:	eac0      	jalrc	v0
40095288:	6758      	move	v0,t8

}
4009528a:	65b9      	move	sp,s1
4009528c:	6451      	restore	8,ra,s1
4009528e:	e8a0      	jrc	ra
40095290:	4cb9      	addiu	a0,-71
40095292:	4029      	addiu	s1,s0,-7
40095294:	4c01      	addiu	a0,1
40095296:	4011      	daddiu	s0,s0,1
40095298:	4d29      	addiu	a1,41
4009529a:	4011      	daddiu	s0,s0,1

4009529c <scan_music_file>:
4009529c:	64d4      	save	32,ra,s1
/******************************************************************************/
/* !
 * \par  Description: 扫描文件
 *  uint16 scan_music_file(void)
 * \param[in]
 * \param[out]
 * \return        文件总数
 * \note
 */
/*******************************************************************************/
uint16 scan_music_file(void)
{
4009529e:	0104      	addiu	s1,sp,16
400952a0:	1840 549e 	jal	40095278 <sorting_map_init>
    uint32 temp;
    uint32 ext_name;
    //libc_print("scan0ny04",sys_get_ab_timer(),2);
    sorting_map_init();
400952a4:	6500      	nop
400952a6:	4144      	addiu	v0,s1,4
#ifdef ENHANCED_FIND_MODE
    while(FALSE!=fsel_get_nextfile((char*)&ext_name))
#else
    while (FALSE != plist_fsel_get_nextfile((char*) &ext_name))
400952a8:	6782      	move	a0,v0
400952aa:	b23a      	lw	v0,40095390 <scan_music_file+0xf4>
400952ac:	eac0      	jalrc	v0
400952ae:	651a      	move	t8,v0
400952b0:	600a      	bteqz	400952c6 <scan_music_file+0x2a>
400952b2:	b339      	lw	v1,40095394 <scan_music_file+0xf8>
#endif
    {
        ap_plist_file_total++;//获取文件数
400952b4:	b238      	lw	v0,40095394 <scan_music_file+0xf8>
400952b6:	aa40      	lhu	v0,0(v0)
400952b8:	4241      	addiu	v0,v0,1
400952ba:	cb40      	sh	v0,0(v1)
400952bc:	b236      	lw	v0,40095394 <scan_music_file+0xf8>
        if (ap_plist_file_total >= PLIST_MUSIC_MAX)
400952be:	aa40      	lhu	v0,0(v0)
400952c0:	f687 5a00 	sltiu	v0,16000
400952c4:	61f0      	btnez	400952a6 <scan_music_file+0xa>
400952c6:	b235      	lw	v0,40095398 <scan_music_file+0xfc>
        {
            break;
        }
    }
	set_sorting_level();
400952c8:	eac0      	jalrc	v0
400952ca:	1840 5462 	jal	40095188 <init_id3_size_info>

    
    init_id3_size_info();//初始化
400952ce:	6500      	nop
400952d0:	4144      	addiu	v0,s1,4
    
#ifdef ENHANCED_FIND_MODE
    while(FALSE!=fsel_get_nextfile((char*)&ext_name))
#else
    while (FALSE != plist_fsel_get_nextfile((char*) &ext_name))
400952d2:	6782      	move	a0,v0
400952d4:	b22f      	lw	v0,40095390 <scan_music_file+0xf4>
400952d6:	eac0      	jalrc	v0
400952d8:	651a      	move	t8,v0
400952da:	6032      	bteqz	40095340 <scan_music_file+0xa4>
400952dc:	4144      	addiu	v0,s1,4
#endif
    {
        //针对exFat文件系统类型 转换当前后缀名(转成大写)
        switch_a_to_A((char*) &ext_name);
400952de:	6782      	move	a0,v0
400952e0:	1840 5300 	jal	40094c00 <switch_a_to_A>
400952e4:	6500      	nop
400952e6:	b22c      	lw	v0,40095394 <scan_music_file+0xf8>

        if (0 == (ap_plist_file_total & 0xff))
400952e8:	aa60      	lhu	v1,0(v0)
400952ea:	6aff      	li	v0,255
400952ec:	ea6c      	and	v0,v1
400952ee:	2a02      	bnez	v0,400952f4 <scan_music_file+0x58>
400952f0:	b22b      	lw	v0,4009539c <scan_music_file+0x100>
        {
            plist_get_app_msg();
400952f2:	eac0      	jalrc	v0
400952f4:	b22b      	lw	v0,4009539c <scan_music_file+0x100>
        }
        
        libc_memset(music_f_p, 0x00, sizeof(plist_f_info_t));
400952f6:	9a40      	lw	v0,0(v0)
400952f8:	6bff      	li	v1,255
400952fa:	4361      	addiu	v1,v1,1
400952fc:	6782      	move	a0,v0
400952fe:	6d00      	li	a1,0
40095300:	67c3      	move	a2,v1
40095302:	6f01      	li	a3,1
40095304:	b228      	lw	v0,400953a4 <scan_music_file+0x108>
40095306:	eac0      	jalrc	v0
40095308:	b228      	lw	v0,400953a4 <scan_music_file+0x108>
        #if TRACK_SUPPORT
        libc_memset(track_string_buf, 0x00, ID3_TRACK_SIZE);
4009530a:	6782      	move	a0,v0
4009530c:	6d00      	li	a1,0
4009530e:	6e08      	li	a2,8
40095310:	6f01      	li	a3,1
40095312:	b225      	lw	v0,400953a4 <scan_music_file+0x108>
40095314:	eac0      	jalrc	v0
40095316:	9941      	lw	v0,4(s1)
        #endif
        get_music_info(ext_name);
40095318:	6782      	move	a0,v0
4009531a:	1840 53cf 	jal	40094f3c <get_music_info>
4009531e:	6500      	nop
40095320:	b21d      	lw	v0,40095394 <scan_music_file+0xf8>
        //libc_print("$",0,0);
        store_music_info(ap_plist_file_total);
40095322:	aa40      	lhu	v0,0(v0)
40095324:	6782      	move	a0,v0
40095326:	1840 53ff 	jal	40094ffc <store_music_info>
4009532a:	6500      	nop
4009532c:	b31a      	lw	v1,40095394 <scan_music_file+0xf8>
            
        ap_plist_file_total++;
4009532e:	b21a      	lw	v0,40095394 <scan_music_file+0xf8>
40095330:	aa40      	lhu	v0,0(v0)
40095332:	4241      	addiu	v0,v0,1
40095334:	cb40      	sh	v0,0(v1)
40095336:	b218      	lw	v0,40095394 <scan_music_file+0xf8>
        if (ap_plist_file_total >= PLIST_MUSIC_MAX)
40095338:	aa40      	lhu	v0,0(v0)
4009533a:	f687 5a00 	sltiu	v0,16000
4009533e:	61c8      	btnez	400952d0 <scan_music_file+0x34>
40095340:	b215      	lw	v0,40095394 <scan_music_file+0xf8>
        {
            break;
        }
    }

    if (ap_plist_file_total > 0) {
40095342:	aa40      	lhu	v0,0(v0)
40095344:	221e      	beqz	v0,40095382 <scan_music_file+0xe6>
40095346:	b314      	lw	v1,40095394 <scan_music_file+0xf8>
       // libc_print("#",0,0);      
        temp = (uint32)(ap_plist_file_total % ((sorting_map_level_cur->file_info_buf_size)/PLIST_FILE_SIZE));//(FILE_INFO_BUF_SIZE / PLIST_FILE_SIZE);
40095348:	b219      	lw	v0,400953ac <scan_music_file+0x110>
4009534a:	9a40      	lw	v0,0(v0)
4009534c:	aa43      	lhu	v0,6(v0)
4009534e:	3242      	srl	v0,8
40095350:	ab60      	lhu	v1,0(v1)
40095352:	ea31      	zeh	v0
40095354:	eb5b      	divu	zero,v1,v0
40095356:	2a01      	bnez	v0,4009535a <scan_music_file+0xbe>
40095358:	e8e5      	break	7
4009535a:	ea10      	mfhi	v0
4009535c:	ea31      	zeh	v0
4009535e:	d940      	sw	v0,0(s1)
40095360:	9940      	lw	v0,0(s1)
        if (temp == 0)
40095362:	2a06      	bnez	v0,40095370 <scan_music_file+0xd4>
40095364:	b212      	lw	v0,400953ac <scan_music_file+0x110>
        {
            //刚好写满
            temp = (uint32)((sorting_map_level_cur->file_info_buf_size)/PLIST_FILE_SIZE);//FILE_INFO_BUF_SIZE / PLIST_FILE_SIZE;
40095366:	9a40      	lw	v0,0(v0)
40095368:	aa43      	lhu	v0,6(v0)
4009536a:	3242      	srl	v0,8
4009536c:	ea31      	zeh	v0
4009536e:	d940      	sw	v0,0(s1)
40095370:	b20f      	lw	v0,400953ac <scan_music_file+0x110>
        }
        save_to_file((uint8*) (sorting_map_level_cur->file_info_addr), temp * PLIST_FILE_SIZE);
40095372:	9a40      	lw	v0,0(v0)
40095374:	9a73      	lw	v1,76(v0)
40095376:	9940      	lw	v0,0(s1)
40095378:	3240      	sll	v0,8
4009537a:	6783      	move	a0,v1
4009537c:	67a2      	move	a1,v0
4009537e:	b20d      	lw	v0,400953b0 <scan_music_file+0x114>
40095380:	eac0      	jalrc	v0
40095382:	b205      	lw	v0,40095394 <scan_music_file+0xf8>
    }

    //plist_get_app_msg();
    
    return ap_plist_file_total;
40095384:	aa40      	lhu	v0,0(v0)
40095386:	651a      	move	t8,v0
40095388:	6758      	move	v0,t8

}
4009538a:	65b9      	move	sp,s1
4009538c:	6452      	restore	16,ra,s1
4009538e:	e8a0      	jrc	ra
40095390:	6881      	li	s0,129
40095392:	bfc1      	lwu	a2,4(a3)
40095394:	5598      	slti	a1,152
40095396:	9fc1      	lw	a2,4(a3)
40095398:	4c01      	addiu	a0,1
4009539a:	4029      	addiu	s1,s0,-7
4009539c:	65e9      	move	t7,s1
4009539e:	bfc1      	lwu	a2,4(a3)
400953a0:	5688      	slti	a2,136
400953a2:	9fc1      	lw	a2,4(a3)
400953a4:	6409      	restore	72
400953a6:	bfc1      	lwu	a2,4(a3)
400953a8:	59cc      	sltiu	s1,204
400953aa:	9fc1      	lw	a2,4(a3)
400953ac:	5408      	slti	a0,8
400953ae:	9fc1      	lw	a2,4(a3)
400953b0:	6415      	restore	40,s1
400953b2:	bfc1      	lwu	a2,4(a3)

400953b4 <no_artist>:
400953b4:	6f4e 4120 7472 7369 0074 0000               No Artist...

400953c0 <no_album>:
400953c0:	6f4e 4120 626c 6d75 0000 0000               No Album....

400953cc <no_genre>:
400953cc:	6f4e 4720 6e65 6572 0000 0000 0000 0000     No Genre........
	...
Disassembly of section BANK_FORNT_CONTROL_1_3:

400d4c00 <sort_title>:
400d4c00:	64d4      	save	32,ra,s1
 * \note
 *******************************************************************************/
//music 第一排序
static void sort_title(char *str_buf)
{    
400d4c02:	0106      	addiu	s1,sp,24
400d4c04:	d982      	sw	a0,8(s1)
400d4c06:	b22b      	lw	v0,400d4cb0 <sort_title+0xb0>
    init_file_index();
400d4c08:	eac0      	jalrc	v0
400d4c0a:	b22b      	lw	v0,400d4cb4 <sort_title+0xb4>
		
		
	/*sort the first str_len of string datas*/
	  //libc_print("cmp_len",sort_cmp_len,2);
    list_sort((char*) file_index_buf, sort_file_total, 2, str_buf, SORT_CMP_STRING, sort_cmp_len);
400d4c0c:	9a60      	lw	v1,0(v0)
400d4c0e:	b22b      	lw	v0,400d4cb8 <sort_title+0xb8>
400d4c10:	aaa0      	lhu	a1,0(v0)
400d4c12:	99e2      	lw	a3,8(s1)
400d4c14:	6a02      	li	v0,2
400d4c16:	d204      	sw	v0,16(sp)
400d4c18:	b229      	lw	v0,400d4cbc <sort_title+0xbc>
400d4c1a:	a240      	lbu	v0,0(v0)
400d4c1c:	d205      	sw	v0,20(sp)
400d4c1e:	6783      	move	a0,v1
400d4c20:	6e02      	li	a2,2
400d4c22:	b228      	lw	v0,400d4cc0 <sort_title+0xc0>
400d4c24:	eac0      	jalrc	v0
400d4c26:	b228      	lw	v0,400d4cc4 <sort_title+0xc4>
    plist_get_app_msg();
400d4c28:	eac0      	jalrc	v0
400d4c2a:	b223      	lw	v0,400d4cb4 <sort_title+0xb4>

    list_resort(file_index_buf, sort_file_total, str_buf, PLIST_TITLE, (sorting_map_level_cur->title_cmp_lenth), sort_cmp_len);
400d4c2c:	9a80      	lw	a0,0(v0)
400d4c2e:	b223      	lw	v0,400d4cb8 <sort_title+0xb8>
400d4c30:	aa60      	lhu	v1,0(v0)
400d4c32:	99c2      	lw	a2,8(s1)
400d4c34:	b225      	lw	v0,400d4cc8 <sort_title+0xc8>
400d4c36:	9a40      	lw	v0,0(v0)
400d4c38:	a24a      	lbu	v0,10(v0)
400d4c3a:	d204      	sw	v0,16(sp)
400d4c3c:	b220      	lw	v0,400d4cbc <sort_title+0xbc>
400d4c3e:	a240      	lbu	v0,0(v0)
400d4c40:	d205      	sw	v0,20(sp)
400d4c42:	67a3      	move	a1,v1
400d4c44:	6f00      	li	a3,0
400d4c46:	b222      	lw	v0,400d4ccc <sort_title+0xcc>
400d4c48:	eac0      	jalrc	v0
400d4c4a:	b222      	lw	v0,400d4cd0 <sort_title+0xd0>

#ifdef DEBUG_PRINT
    debug_printf(PLIST_TITLE);
#endif

    //必须在title排序后才能请buffer，因为和title的数据区复用
    //libc_memset(sort_index_buf, 0, INDEX_BUFFER_SIZE); 
    build_ex_index(sort_index_buf); 
400d4c4c:	9a40      	lw	v0,0(v0)
400d4c4e:	6782      	move	a0,v0
400d4c50:	b221      	lw	v0,400d4cd4 <sort_title+0xd4>
400d4c52:	eac0      	jalrc	v0
400d4c54:	b321      	lw	v1,400d4cd4 <sort_title+0xd4>

    ap_file_index_offset[0] = ap_pos_file_offset;
400d4c56:	b222      	lw	v0,400d4cdc <sort_title+0xdc>
400d4c58:	aa40      	lhu	v0,0(v0)
400d4c5a:	cb40      	sh	v0,0(v1)
400d4c5c:	b216      	lw	v0,400d4cb4 <sort_title+0xb4>
    save_to_file((uint8*) file_index_buf, sort_file_total * 2);
400d4c5e:	9a60      	lw	v1,0(v0)
400d4c60:	b216      	lw	v0,400d4cb8 <sort_title+0xb8>
400d4c62:	aa40      	lhu	v0,0(v0)
400d4c64:	3244      	sll	v0,1
400d4c66:	6783      	move	a0,v1
400d4c68:	67a2      	move	a1,v0
400d4c6a:	b21e      	lw	v0,400d4ce0 <sort_title+0xe0>
400d4c6c:	eac0      	jalrc	v0
400d4c6e:	b31e      	lw	v1,400d4ce4 <sort_title+0xe4>

    ap_sort_index_offset[0] = ap_pos_file_offset;
400d4c70:	b21b      	lw	v0,400d4cdc <sort_title+0xdc>
400d4c72:	aa40      	lhu	v0,0(v0)
400d4c74:	cb40      	sh	v0,0(v1)
400d4c76:	b217      	lw	v0,400d4cd0 <sort_title+0xd0>
    save_to_file((uint8*) sort_index_buf, sort_file_total * 2);
400d4c78:	9a60      	lw	v1,0(v0)
400d4c7a:	b210      	lw	v0,400d4cb8 <sort_title+0xb8>
400d4c7c:	aa40      	lhu	v0,0(v0)
400d4c7e:	3244      	sll	v0,1
400d4c80:	6783      	move	a0,v1
400d4c82:	67a2      	move	a1,v0
400d4c84:	b217      	lw	v0,400d4ce0 <sort_title+0xe0>
400d4c86:	eac0      	jalrc	v0
400d4c88:	b218      	lw	v0,400d4ce4 <sort_title+0xe4>

    //根据需求是否存入文件
    if(ap_plist_sorting_level == 16000){
400d4c8a:	aa40      	lhu	v0,0(v0)
400d4c8c:	f687 7200 	cmpi	v0,16000
400d4c90:	6758      	move	v0,t8
400d4c92:	5a01      	sltiu	v0,1
400d4c94:	600a      	bteqz	400d4caa <sort_title+0xaa>
400d4c96:	b316      	lw	v1,400d4cec <sort_title+0xec>
        write_to_file((uint8*)TITLE_SORT_INDEX_VM_ADDR_16k,(uint8*)sort_index_buf,sort_file_total*2);
400d4c98:	b20e      	lw	v0,400d4cd0 <sort_title+0xd0>
400d4c9a:	9aa0      	lw	a1,0(v0)
400d4c9c:	b207      	lw	v0,400d4cb8 <sort_title+0xb8>
400d4c9e:	aa40      	lhu	v0,0(v0)
400d4ca0:	3244      	sll	v0,1
400d4ca2:	6783      	move	a0,v1
400d4ca4:	67c2      	move	a2,v0
400d4ca6:	b213      	lw	v0,400d4cf0 <sort_title+0xf0>
400d4ca8:	eac0      	jalrc	v0
400d4caa:	65b9      	move	sp,s1
    }
    return;
}
400d4cac:	6451      	restore	8,ra,s1
400d4cae:	e8a0      	jrc	ra
400d4cb0:	4de1      	addiu	a1,-31
400d4cb2:	4029      	addiu	s1,s0,-7
400d4cb4:	5640      	slti	a2,64
400d4cb6:	9fc1      	lw	a2,4(a3)
400d4cb8:	560c      	slti	a2,12
400d4cba:	9fc1      	lw	a2,4(a3)
400d4cbc:	5a28      	sltiu	v0,40
400d4cbe:	9fc1      	lw	a2,4(a3)
400d4cc0:	2875      	bnez	s0,400d4dac <sort_album+0xb8>
400d4cc2:	7181      	cmpi	s1,129
400d4cc4:	65e9      	move	t7,s1
400d4cc6:	bfc1      	lwu	a2,4(a3)
400d4cc8:	5408      	slti	a0,8
400d4cca:	9fc1      	lw	a2,4(a3)
400d4ccc:	4ef1      	addiu	a2,-15
400d4cce:	4011      	daddiu	s0,s0,1
400d4cd0:	5644      	slti	a2,68
400d4cd2:	9fc1      	lw	a2,4(a3)
400d4cd4:	4f55      	addiu	a3,85
400d4cd6:	4029      	addiu	s1,s0,-7
400d4cd8:	559c      	slti	a1,156
400d4cda:	9fc1      	lw	a2,4(a3)
400d4cdc:	556a      	slti	a1,106
400d4cde:	9fc1      	lw	a2,4(a3)
400d4ce0:	6415      	restore	40,s1
400d4ce2:	bfc1      	lwu	a2,4(a3)
400d4ce4:	55a8      	slti	a1,168
400d4ce6:	9fc1      	lw	a2,4(a3)
400d4ce8:	5406      	slti	a0,6
400d4cea:	9fc1      	lw	a2,4(a3)
400d4cec:	4000      	addiu	s0,s0,0
400d4cee:	009c      	addiu	s0,sp,624
400d4cf0:	6491      	save	8,s1
400d4cf2:	bfc1      	lwu	a2,4(a3)

400d4cf4 <sort_album>:
400d4cf4:	64f6      	save	48,ra,s0-s1

/******************************************************************************/
/*
 * \par  Description: 排序 album 列表
 *
 * \param[in]    str_buf--排序数据缓存地址

 * \param[out]

 * \return

 * \note
 *******************************************************************************/
//music 第二排序
//album->title
static void sort_album(char *str_buf)
{
400d4cf6:	0106      	addiu	s1,sp,24
400d4cf8:	d986      	sw	a0,24(s1)
400d4cfa:	b265      	lw	v0,400d4e8c <sort_album+0x198>
    uint8 str_len;
    
    init_file_index();
400d4cfc:	eac0      	jalrc	v0
400d4cfe:	b265      	lw	v0,400d4e90 <sort_album+0x19c>
    str_len = sort_cmp_len;
400d4d00:	a240      	lbu	v0,0(v0)
400d4d02:	c140      	sb	v0,0(s1)
400d4d04:	b264      	lw	v0,400d4e94 <sort_album+0x1a0>
    if (str_len > (sorting_map_level_cur->album_cmp_lenth))
400d4d06:	9a40      	lw	v0,0(v0)
400d4d08:	a26b      	lbu	v1,11(v0)
400d4d0a:	a140      	lbu	v0,0(s1)
400d4d0c:	eb43      	sltu	v1,v0
400d4d0e:	6004      	bteqz	400d4d18 <sort_album+0x24>
400d4d10:	b261      	lw	v0,400d4e94 <sort_album+0x1a0>
    {
        str_len = (sorting_map_level_cur->album_cmp_lenth);
400d4d12:	9a40      	lw	v0,0(v0)
400d4d14:	a24b      	lbu	v0,11(v0)
400d4d16:	c140      	sb	v0,0(s1)
400d4d18:	b260      	lw	v0,400d4e98 <sort_album+0x1a4>
    }
    /*read string datas from mmusic.lib for sorting*/
    read_string(file_index_buf, sort_file_total, str_buf, 0, str_len, PLIST_ALBUM);
400d4d1a:	9a60      	lw	v1,0(v0)
400d4d1c:	b260      	lw	v0,400d4e9c <sort_album+0x1a8>
400d4d1e:	aaa0      	lhu	a1,0(v0)
400d4d20:	99c6      	lw	a2,24(s1)
400d4d22:	a140      	lbu	v0,0(s1)
400d4d24:	d204      	sw	v0,16(sp)
400d4d26:	6a01      	li	v0,1
400d4d28:	d205      	sw	v0,20(sp)
400d4d2a:	6783      	move	a0,v1
400d4d2c:	6f00      	li	a3,0
400d4d2e:	1880 5367 	jal	40114d9c <read_string>
400d4d32:	6500      	nop
400d4d34:	b25b      	lw	v0,400d4ea0 <sort_album+0x1ac>
    plist_get_app_msg();
400d4d36:	eac0      	jalrc	v0
400d4d38:	b258      	lw	v0,400d4e94 <sort_album+0x1a0>
    
    /*sort the first str_len of string datas*/
    list_sort((char*) file_index_buf, sort_file_total, 2, str_buf, SORT_CMP_STRING, str_len);
400d4d3a:	9a60      	lw	v1,0(v0)
400d4d3c:	b258      	lw	v0,400d4e9c <sort_album+0x1a8>
400d4d3e:	aaa0      	lhu	a1,0(v0)
400d4d40:	99e6      	lw	a3,24(s1)
400d4d42:	6a02      	li	v0,2
400d4d44:	d204      	sw	v0,16(sp)
400d4d46:	a140      	lbu	v0,0(s1)
400d4d48:	d205      	sw	v0,20(sp)
400d4d4a:	6783      	move	a0,v1
400d4d4c:	6e02      	li	a2,2
400d4d4e:	b256      	lw	v0,400d4ea4 <sort_album+0x1b0>
400d4d50:	eac0      	jalrc	v0
400d4d52:	b254      	lw	v0,400d4ea0 <sort_album+0x1ac>
    plist_get_app_msg();
400d4d54:	eac0      	jalrc	v0
400d4d56:	b251      	lw	v0,400d4e98 <sort_album+0x1a4>

    list_resort(file_index_buf, sort_file_total, str_buf, PLIST_ALBUM, (sorting_map_level_cur->album_cmp_lenth), str_len);
400d4d58:	9a60      	lw	v1,0(v0)
400d4d5a:	b251      	lw	v0,400d4e9c <sort_album+0x1a8>
400d4d5c:	aaa0      	lhu	a1,0(v0)
400d4d5e:	99c6      	lw	a2,24(s1)
400d4d60:	b24d      	lw	v0,400d4e94 <sort_album+0x1a0>
400d4d62:	9a40      	lw	v0,0(v0)
400d4d64:	a24b      	lbu	v0,11(v0)
400d4d66:	d204      	sw	v0,16(sp)
400d4d68:	a140      	lbu	v0,0(s1)
400d4d6a:	d205      	sw	v0,20(sp)
400d4d6c:	6783      	move	a0,v1
400d4d6e:	6f01      	li	a3,1
400d4d70:	b24e      	lw	v0,400d4ea8 <sort_album+0x1b4>
400d4d72:	eac0      	jalrc	v0
400d4d74:	b24e      	lw	v0,400d4ea8 <sort_album+0x1b4>
    
#ifdef DEBUG_PRINT
    debug_printf(PLIST_ALBUM);
#endif
    if(ap_plist_sorting_level != 16000)
400d4d76:	aa40      	lhu	v0,0(v0)
400d4d78:	f687 7200 	cmpi	v0,16000
400d4d7c:	6758      	move	v0,t8
400d4d7e:	5a01      	sltiu	v0,1
400d4d80:	610b      	btnez	400d4d98 <sort_album+0xa4>
400d4d82:	b24c      	lw	v0,400d4eb0 <sort_album+0x1bc>
	   { 
	     tidy_same_table(tidy_buf_a, count_buf_a, file_index_buf);//8+8+8
400d4d84:	9a60      	lw	v1,0(v0)
400d4d86:	b24c      	lw	v0,400d4eb4 <sort_album+0x1c0>
400d4d88:	9aa0      	lw	a1,0(v0)
400d4d8a:	b244      	lw	v0,400d4e98 <sort_album+0x1a4>
400d4d8c:	9a40      	lw	v0,0(v0)
400d4d8e:	6783      	move	a0,v1
400d4d90:	67c2      	move	a2,v0
400d4d92:	b24a      	lw	v0,400d4eb8 <sort_album+0x1c4>
400d4d94:	eac0      	jalrc	v0
400d4d96:	101f      	b	400d4dd6 <sort_album+0xe2>
400d4d98:	b247      	lw	v0,400d4eb4 <sort_album+0x1c0>
	   }
	   else{
			  tidy_same_table(NULL, count_buf_a, file_index_buf);//8+8
400d4d9a:	9a60      	lw	v1,0(v0)
400d4d9c:	b23f      	lw	v0,400d4e98 <sort_album+0x1a4>
400d4d9e:	9a40      	lw	v0,0(v0)
400d4da0:	6c00      	li	a0,0
400d4da2:	67a3      	move	a1,v1
400d4da4:	67c2      	move	a2,v0
400d4da6:	b245      	lw	v0,400d4eb8 <sort_album+0x1c4>
400d4da8:	eac0      	jalrc	v0
400d4daa:	b345      	lw	v1,400d4ebc <sort_album+0x1c8>
			    sort_index_buf	    = (uint16*) COUNT_BUF_B_ADDR_16k; 
400d4dac:	b245      	lw	v0,400d4ec0 <sort_album+0x1cc>
400d4dae:	db40      	sw	v0,0(v1)
400d4db0:	b243      	lw	v0,400d4ebc <sort_album+0x1c8>
			  read_from_file((uint8 *)sort_index_buf, (uint8 *)TITLE_SORT_INDEX_VM_ADDR_16k, sort_file_total*2);
400d4db2:	9a60      	lw	v1,0(v0)
400d4db4:	b544      	lw	a1,400d4ec4 <sort_album+0x1d0>
400d4db6:	b23a      	lw	v0,400d4e9c <sort_album+0x1a8>
400d4db8:	aa40      	lhu	v0,0(v0)
400d4dba:	3244      	sll	v0,1
400d4dbc:	6783      	move	a0,v1
400d4dbe:	67c2      	move	a2,v0
400d4dc0:	b242      	lw	v0,400d4ec8 <sort_album+0x1d4>
400d4dc2:	eac0      	jalrc	v0
400d4dc4:	b242      	lw	v0,400d4ec8 <sort_album+0x1d4>
		    read_from_file((uint8 *)(sorting_map_level_16k.track_data_addr), (uint8 *)ALBUM_SORT_INDEX_VM_ADDR_16k, sort_file_total);
400d4dc6:	9a7b      	lw	v1,108(v0)
400d4dc8:	b542      	lw	a1,400d4ed0 <sort_album+0x1dc>
400d4dca:	b235      	lw	v0,400d4e9c <sort_album+0x1a8>
400d4dcc:	aa40      	lhu	v0,0(v0)
400d4dce:	6783      	move	a0,v1
400d4dd0:	67c2      	move	a2,v0
400d4dd2:	b23e      	lw	v0,400d4ec8 <sort_album+0x1d4>
400d4dd4:	eac0      	jalrc	v0
400d4dd6:	b231      	lw	v0,400d4e98 <sort_album+0x1a4>

	   }
   
    son_sort_index(file_index_buf, count_buf_a, sort_index_buf, SORT_CMP_ALBUM);
400d4dd8:	9a60      	lw	v1,0(v0)
400d4dda:	b237      	lw	v0,400d4eb4 <sort_album+0x1c0>
400d4ddc:	9aa0      	lw	a1,0(v0)
400d4dde:	b238      	lw	v0,400d4ebc <sort_album+0x1c8>
400d4de0:	9a40      	lw	v0,0(v0)
400d4de2:	6783      	move	a0,v1
400d4de4:	67c2      	move	a2,v0
400d4de6:	6f01      	li	a3,1
400d4de8:	b23b      	lw	v0,400d4ed4 <sort_album+0x1e0>
400d4dea:	eac0      	jalrc	v0
400d4dec:	b33b      	lw	v1,400d4ed4 <sort_album+0x1e0>

    ap_son_tree_offset[1][0] = ap_pos_file_offset;
400d4dee:	b23c      	lw	v0,400d4edc <sort_album+0x1e8>
400d4df0:	aa40      	lhu	v0,0(v0)
400d4df2:	cb43      	sh	v0,6(v1)
400d4df4:	b03b      	lw	s0,400d4ee0 <sort_album+0x1ec>
    ap_son_tree_num[1][0] = creat_plist_tree(file_index_buf, count_buf_a, NULL, NULL, PLIST_ALBUM);
400d4df6:	b229      	lw	v0,400d4e98 <sort_album+0x1a4>
400d4df8:	9a60      	lw	v1,0(v0)
400d4dfa:	b22f      	lw	v0,400d4eb4 <sort_album+0x1c0>
400d4dfc:	9aa0      	lw	a1,0(v0)
400d4dfe:	6a01      	li	v0,1
400d4e00:	d204      	sw	v0,16(sp)
400d4e02:	6783      	move	a0,v1
400d4e04:	6e00      	li	a2,0
400d4e06:	6f00      	li	a3,0
400d4e08:	b237      	lw	v0,400d4ee4 <sort_album+0x1f0>
400d4e0a:	eac0      	jalrc	v0
400d4e0c:	c843      	sh	v0,6(s0)
400d4e0e:	b22c      	lw	v0,400d4ebc <sort_album+0x1c8>

    build_ex_index(sort_index_buf);
400d4e10:	9a40      	lw	v0,0(v0)
400d4e12:	6782      	move	a0,v0
400d4e14:	b235      	lw	v0,400d4ee8 <sort_album+0x1f4>
400d4e16:	eac0      	jalrc	v0
400d4e18:	b335      	lw	v1,400d4ee8 <sort_album+0x1f4>
     ap_file_index_offset[1] = ap_pos_file_offset;
400d4e1a:	b231      	lw	v0,400d4edc <sort_album+0x1e8>
400d4e1c:	aa40      	lhu	v0,0(v0)
400d4e1e:	cb41      	sh	v0,2(v1)
400d4e20:	b21e      	lw	v0,400d4e98 <sort_album+0x1a4>
    save_to_file((uint8*) file_index_buf, sort_file_total * 2);
400d4e22:	9a60      	lw	v1,0(v0)
400d4e24:	b21e      	lw	v0,400d4e9c <sort_album+0x1a8>
400d4e26:	aa40      	lhu	v0,0(v0)
400d4e28:	3244      	sll	v0,1
400d4e2a:	6783      	move	a0,v1
400d4e2c:	67a2      	move	a1,v0
400d4e2e:	b231      	lw	v0,400d4ef0 <sort_album+0x1fc>
400d4e30:	eac0      	jalrc	v0
400d4e32:	b331      	lw	v1,400d4ef4 <sort_album+0x200>

    ap_sort_index_offset[1] = ap_pos_file_offset;
400d4e34:	b22a      	lw	v0,400d4edc <sort_album+0x1e8>
400d4e36:	aa40      	lhu	v0,0(v0)
400d4e38:	cb41      	sh	v0,2(v1)
400d4e3a:	b221      	lw	v0,400d4ebc <sort_album+0x1c8>
    save_to_file((uint8*) sort_index_buf, sort_file_total * 2);
400d4e3c:	9a60      	lw	v1,0(v0)
400d4e3e:	b218      	lw	v0,400d4e9c <sort_album+0x1a8>
400d4e40:	aa40      	lhu	v0,0(v0)
400d4e42:	3244      	sll	v0,1
400d4e44:	6783      	move	a0,v1
400d4e46:	67a2      	move	a1,v0
400d4e48:	b22a      	lw	v0,400d4ef0 <sort_album+0x1fc>
400d4e4a:	eac0      	jalrc	v0
400d4e4c:	b32b      	lw	v1,400d4ef4 <sort_album+0x200>

    index_parent_buf = (uint16*) (sorting_map_level_cur->count_buf_c_addr);//空间复用，注意
400d4e4e:	b212      	lw	v0,400d4e94 <sort_album+0x1a0>
400d4e50:	9a40      	lw	v0,0(v0)
400d4e52:	9a5c      	lw	v0,112(v0)
400d4e54:	db40      	sw	v0,0(v1)
400d4e56:	b229      	lw	v0,400d4ef8 <sort_album+0x204>

    creat_index_map(index_parent_buf, file_index_buf, count_buf_a);
400d4e58:	9a60      	lw	v1,0(v0)
400d4e5a:	b210      	lw	v0,400d4e98 <sort_album+0x1a4>
400d4e5c:	9aa0      	lw	a1,0(v0)
400d4e5e:	b216      	lw	v0,400d4eb4 <sort_album+0x1c0>
400d4e60:	9a40      	lw	v0,0(v0)
400d4e62:	6783      	move	a0,v1
400d4e64:	67c2      	move	a2,v0
400d4e66:	b226      	lw	v0,400d4efc <sort_album+0x208>
400d4e68:	eac0      	jalrc	v0
400d4e6a:	b326      	lw	v1,400d4f00 <sort_album+0x20c>

   

    ap_index_parent_offset[1] = ap_pos_file_offset;
400d4e6c:	b21c      	lw	v0,400d4edc <sort_album+0x1e8>
400d4e6e:	aa40      	lhu	v0,0(v0)
400d4e70:	cb41      	sh	v0,2(v1)
400d4e72:	b222      	lw	v0,400d4ef8 <sort_album+0x204>
    save_to_file((uint8*) index_parent_buf, sort_file_total * 2);
400d4e74:	9a60      	lw	v1,0(v0)
400d4e76:	b20a      	lw	v0,400d4e9c <sort_album+0x1a8>
400d4e78:	aa40      	lhu	v0,0(v0)
400d4e7a:	3244      	sll	v0,1
400d4e7c:	6783      	move	a0,v1
400d4e7e:	67a2      	move	a1,v0
400d4e80:	b21c      	lw	v0,400d4ef0 <sort_album+0x1fc>
400d4e82:	eac0      	jalrc	v0
400d4e84:	65b9      	move	sp,s1
    
    /*
	    if (( ap_plist_sorting_level == 4000) && ((MUSIC_MAX == 8000) || (GENRE_LIST_MODE == 1)))
	    //根据需求是否存入文件
		  {  
		      write_to_file((uint8*)(sorting_map_level_cur->album_sort_index_vm_addr), (uint8*)sort_index_buf, sort_file_total*2);
		  }
	  */

    return;
}
400d4e86:	6473      	restore	24,ra,s0-s1
400d4e88:	e8a0      	jrc	ra
400d4e8a:	0000      	addiu	s0,sp,0
400d4e8c:	4de1      	addiu	a1,-31
400d4e8e:	4029      	addiu	s1,s0,-7
400d4e90:	5a28      	sltiu	v0,40
400d4e92:	9fc1      	lw	a2,4(a3)
400d4e94:	5408      	slti	a0,8
400d4e96:	9fc1      	lw	a2,4(a3)
400d4e98:	5640      	slti	a2,64
400d4e9a:	9fc1      	lw	a2,4(a3)
400d4e9c:	560c      	slti	a2,12
400d4e9e:	9fc1      	lw	a2,4(a3)
400d4ea0:	65e9      	move	t7,s1
400d4ea2:	bfc1      	lwu	a2,4(a3)
400d4ea4:	2875      	bnez	s0,400d4f90 <sort_artist+0x8c>
400d4ea6:	7181      	cmpi	s1,129
400d4ea8:	4ef1      	addiu	a2,-15
400d4eaa:	4011      	daddiu	s0,s0,1
400d4eac:	5406      	slti	a0,6
400d4eae:	9fc1      	lw	a2,4(a3)
400d4eb0:	5638      	slti	a2,56
400d4eb2:	9fc1      	lw	a2,4(a3)
400d4eb4:	5648      	slti	a2,72
400d4eb6:	9fc1      	lw	a2,4(a3)
400d4eb8:	4e19      	addiu	a2,25
400d4eba:	4029      	addiu	s1,s0,-7
400d4ebc:	5644      	slti	a2,68
400d4ebe:	9fc1      	lw	a2,4(a3)
400d4ec0:	0400      	addiu	a0,sp,0
400d4ec2:	9fc3      	lw	a2,12(a3)
400d4ec4:	4000      	addiu	s0,s0,0
400d4ec6:	009c      	addiu	s0,sp,624
400d4ec8:	653d      	move	t9,a1
400d4eca:	bfc1      	lwu	a2,4(a3)
400d4ecc:	54f4      	slti	a0,244
400d4ece:	9fc1      	lw	a2,4(a3)
400d4ed0:	bd00      	lwu	s0,0(a1)
400d4ed2:	009c      	addiu	s0,sp,624
400d4ed4:	4f95      	addiu	a3,-107
400d4ed6:	4029      	addiu	s1,s0,-7
400d4ed8:	55e4      	slti	a1,228
400d4eda:	9fc1      	lw	a2,4(a3)
400d4edc:	556a      	slti	a1,106
400d4ede:	9fc1      	lw	a2,4(a3)
400d4ee0:	55c0      	slti	a1,192
400d4ee2:	9fc1      	lw	a2,4(a3)
400d4ee4:	5101      	slti	s1,1
400d4ee6:	4029      	addiu	s1,s0,-7
400d4ee8:	4f55      	addiu	a3,85
400d4eea:	4029      	addiu	s1,s0,-7
400d4eec:	559c      	slti	a1,156
400d4eee:	9fc1      	lw	a2,4(a3)
400d4ef0:	6415      	restore	40,s1
400d4ef2:	bfc1      	lwu	a2,4(a3)
400d4ef4:	55a8      	slti	a1,168
400d4ef6:	9fc1      	lw	a2,4(a3)
400d4ef8:	5654      	slti	a2,84
400d4efa:	9fc1      	lw	a2,4(a3)
400d4efc:	50a9      	slti	s0,169
400d4efe:	4029      	addiu	s1,s0,-7
400d4f00:	55b4      	slti	a1,180
400d4f02:	9fc1      	lw	a2,4(a3)

400d4f04 <sort_artist>:
400d4f04:	64f6      	save	48,ra,s0-s1

/******************************************************************************/
/*
 * \par  Description: 排序 artist 列表
 *
 * \param[in]    str_buf--排序数据缓存地址

 * \param[out]

 * \return

 * \note
 *******************************************************************************/
//music 第三排序
//artist->album->title
static void sort_artist(char *str_buf)
{
400d4f06:	0106      	addiu	s1,sp,24
400d4f08:	d986      	sw	a0,24(s1)
400d4f0a:	b269      	lw	v0,400d50ac <sort_artist+0x1a8>
    uint8 str_len;
    
    init_file_index();
400d4f0c:	eac0      	jalrc	v0
400d4f0e:	b269      	lw	v0,400d50b0 <sort_artist+0x1ac>
    
    str_len = sort_cmp_len;
400d4f10:	a240      	lbu	v0,0(v0)
400d4f12:	c140      	sb	v0,0(s1)
400d4f14:	b268      	lw	v0,400d50b4 <sort_artist+0x1b0>
    if (str_len > (sorting_map_level_cur->artist_cmp_lenth))
400d4f16:	9a40      	lw	v0,0(v0)
400d4f18:	a26c      	lbu	v1,12(v0)
400d4f1a:	a140      	lbu	v0,0(s1)
400d4f1c:	eb43      	sltu	v1,v0
400d4f1e:	6004      	bteqz	400d4f28 <sort_artist+0x24>
400d4f20:	b265      	lw	v0,400d50b4 <sort_artist+0x1b0>
    {
        str_len = (sorting_map_level_cur->artist_cmp_lenth);
400d4f22:	9a40      	lw	v0,0(v0)
400d4f24:	a24c      	lbu	v0,12(v0)
400d4f26:	c140      	sb	v0,0(s1)
400d4f28:	b264      	lw	v0,400d50b8 <sort_artist+0x1b4>
    }
    
    /*read string datas from mmusic.lib for sorting*/
    read_string(file_index_buf, sort_file_total, str_buf, 0, str_len, PLIST_ARTIST);
400d4f2a:	9a60      	lw	v1,0(v0)
400d4f2c:	b264      	lw	v0,400d50bc <sort_artist+0x1b8>
400d4f2e:	aaa0      	lhu	a1,0(v0)
400d4f30:	99c6      	lw	a2,24(s1)
400d4f32:	a140      	lbu	v0,0(s1)
400d4f34:	d204      	sw	v0,16(sp)
400d4f36:	6a02      	li	v0,2
400d4f38:	d205      	sw	v0,20(sp)
400d4f3a:	6783      	move	a0,v1
400d4f3c:	6f00      	li	a3,0
400d4f3e:	1880 5367 	jal	40114d9c <read_string>
400d4f42:	6500      	nop
400d4f44:	b25f      	lw	v0,400d50c0 <sort_artist+0x1bc>
    plist_get_app_msg();
400d4f46:	eac0      	jalrc	v0
400d4f48:	b25c      	lw	v0,400d50b4 <sort_artist+0x1b0>

    /*sort the first str_len of string datas*/
    list_sort((char*) file_index_buf, sort_file_total, 2, str_buf, SORT_CMP_STRING, str_len);
400d4f4a:	9a60      	lw	v1,0(v0)
400d4f4c:	b25c      	lw	v0,400d50bc <sort_artist+0x1b8>
400d4f4e:	aaa0      	lhu	a1,0(v0)
400d4f50:	99e6      	lw	a3,24(s1)
400d4f52:	6a02      	li	v0,2
400d4f54:	d204      	sw	v0,16(sp)
400d4f56:	a140      	lbu	v0,0(s1)
400d4f58:	d205      	sw	v0,20(sp)
400d4f5a:	6783      	move	a0,v1
400d4f5c:	6e02      	li	a2,2
400d4f5e:	b25a      	lw	v0,400d50c4 <sort_artist+0x1c0>
400d4f60:	eac0      	jalrc	v0
400d4f62:	b258      	lw	v0,400d50c0 <sort_artist+0x1bc>
    plist_get_app_msg();
400d4f64:	eac0      	jalrc	v0
400d4f66:	b255      	lw	v0,400d50b8 <sort_artist+0x1b4>
    

    list_resort(file_index_buf, sort_file_total, str_buf, PLIST_ARTIST, (sorting_map_level_cur->artist_cmp_lenth), str_len);
400d4f68:	9a60      	lw	v1,0(v0)
400d4f6a:	b255      	lw	v0,400d50bc <sort_artist+0x1b8>
400d4f6c:	aaa0      	lhu	a1,0(v0)
400d4f6e:	99c6      	lw	a2,24(s1)
400d4f70:	b251      	lw	v0,400d50b4 <sort_artist+0x1b0>
400d4f72:	9a40      	lw	v0,0(v0)
400d4f74:	a24c      	lbu	v0,12(v0)
400d4f76:	d204      	sw	v0,16(sp)
400d4f78:	a140      	lbu	v0,0(s1)
400d4f7a:	d205      	sw	v0,20(sp)
400d4f7c:	6783      	move	a0,v1
400d4f7e:	6f02      	li	a3,2
400d4f80:	b252      	lw	v0,400d50c8 <sort_artist+0x1c4>
400d4f82:	eac0      	jalrc	v0
400d4f84:	b252      	lw	v0,400d50c8 <sort_artist+0x1c4>

#ifdef DEBUG_PRINT
    debug_printf(PLIST_ARTIST);
#endif

		if(ap_plist_sorting_level == 4000)
400d4f86:	aa40      	lhu	v0,0(v0)
400d4f88:	f7a1 7200 	cmpi	v0,4000
400d4f8c:	6758      	move	v0,t8
400d4f8e:	5a01      	sltiu	v0,1
400d4f90:	600b      	bteqz	400d4fa8 <sort_artist+0xa4>
400d4f92:	b250      	lw	v0,400d50d0 <sort_artist+0x1cc>
		{
		    tidy_same_table(tidy_buf_b, count_buf_a, file_index_buf);
400d4f94:	9a60      	lw	v1,0(v0)
400d4f96:	b250      	lw	v0,400d50d4 <sort_artist+0x1d0>
400d4f98:	9aa0      	lw	a1,0(v0)
400d4f9a:	b248      	lw	v0,400d50b8 <sort_artist+0x1b4>
400d4f9c:	9a40      	lw	v0,0(v0)
400d4f9e:	6783      	move	a0,v1
400d4fa0:	67c2      	move	a2,v0
400d4fa2:	b24e      	lw	v0,400d50d8 <sort_artist+0x1d4>
400d4fa4:	eac0      	jalrc	v0
400d4fa6:	1009      	b	400d4fba <sort_artist+0xb6>
400d4fa8:	b24b      	lw	v0,400d50d4 <sort_artist+0x1d0>

		}else{   
		     tidy_same_table(NULL, count_buf_a, file_index_buf);//8+8+8
400d4faa:	9a60      	lw	v1,0(v0)
400d4fac:	b243      	lw	v0,400d50b8 <sort_artist+0x1b4>
400d4fae:	9a40      	lw	v0,0(v0)
400d4fb0:	6c00      	li	a0,0
400d4fb2:	67a3      	move	a1,v1
400d4fb4:	67c2      	move	a2,v0
400d4fb6:	b249      	lw	v0,400d50d8 <sort_artist+0x1d4>
400d4fb8:	eac0      	jalrc	v0
400d4fba:	b240      	lw	v0,400d50b8 <sort_artist+0x1b4>
		}

    son_sort_index(file_index_buf, count_buf_a, sort_index_buf, SORT_CMP_WORD);
400d4fbc:	9a60      	lw	v1,0(v0)
400d4fbe:	b246      	lw	v0,400d50d4 <sort_artist+0x1d0>
400d4fc0:	9aa0      	lw	a1,0(v0)
400d4fc2:	b247      	lw	v0,400d50dc <sort_artist+0x1d8>
400d4fc4:	9a40      	lw	v0,0(v0)
400d4fc6:	6783      	move	a0,v1
400d4fc8:	67c2      	move	a2,v0
400d4fca:	6f00      	li	a3,0
400d4fcc:	b245      	lw	v0,400d50e0 <sort_artist+0x1dc>
400d4fce:	eac0      	jalrc	v0
400d4fd0:	b245      	lw	v0,400d50e0 <sort_artist+0x1dc>
    tidy_son_unit(count_buf_b, file_index_buf, count_buf_a, tidy_buf_a);
400d4fd2:	9a80      	lw	a0,0(v0)
400d4fd4:	b239      	lw	v0,400d50b8 <sort_artist+0x1b4>
400d4fd6:	9aa0      	lw	a1,0(v0)
400d4fd8:	b23f      	lw	v0,400d50d4 <sort_artist+0x1d0>
400d4fda:	9a60      	lw	v1,0(v0)
400d4fdc:	b243      	lw	v0,400d50e8 <sort_artist+0x1e4>
400d4fde:	9a40      	lw	v0,0(v0)
400d4fe0:	67c3      	move	a2,v1
400d4fe2:	67e2      	move	a3,v0
400d4fe4:	b242      	lw	v0,400d50ec <sort_artist+0x1e8>
400d4fe6:	eac0      	jalrc	v0
400d4fe8:	b23d      	lw	v0,400d50d8 <sort_artist+0x1d4>
    build_ex_index(sort_index_buf);
400d4fea:	9a40      	lw	v0,0(v0)
400d4fec:	6782      	move	a0,v0
400d4fee:	b241      	lw	v0,400d50f0 <sort_artist+0x1ec>
400d4ff0:	eac0      	jalrc	v0
400d4ff2:	b341      	lw	v1,400d50f4 <sort_artist+0x1f0>

    ap_son_tree_offset[2][0] = ap_pos_file_offset;
400d4ff4:	b241      	lw	v0,400d50f8 <sort_artist+0x1f4>
400d4ff6:	aa40      	lhu	v0,0(v0)
400d4ff8:	cb46      	sh	v0,12(v1)
400d4ffa:	b041      	lw	s0,400d50fc <sort_artist+0x1f8>
    ap_son_tree_num[2][0] = creat_plist_tree(file_index_buf, count_buf_a, count_buf_b, NULL, PLIST_ARTIST);
400d4ffc:	b22f      	lw	v0,400d50b8 <sort_artist+0x1b4>
400d4ffe:	9a80      	lw	a0,0(v0)
400d5000:	b235      	lw	v0,400d50d4 <sort_artist+0x1d0>
400d5002:	9aa0      	lw	a1,0(v0)
400d5004:	b238      	lw	v0,400d50e4 <sort_artist+0x1e0>
400d5006:	9a60      	lw	v1,0(v0)
400d5008:	6a02      	li	v0,2
400d500a:	d204      	sw	v0,16(sp)
400d500c:	67c3      	move	a2,v1
400d500e:	6f00      	li	a3,0
400d5010:	b23c      	lw	v0,400d5100 <sort_artist+0x1fc>
400d5012:	eac0      	jalrc	v0
400d5014:	c846      	sh	v0,12(s0)
400d5016:	b338      	lw	v1,400d50f4 <sort_artist+0x1f0>
    ap_son_tree_offset[2][1] = ap_pos_file_offset;
400d5018:	b238      	lw	v0,400d50f8 <sort_artist+0x1f4>
400d501a:	aa40      	lhu	v0,0(v0)
400d501c:	cb47      	sh	v0,14(v1)
400d501e:	b038      	lw	s0,400d50fc <sort_artist+0x1f8>
    ap_son_tree_num[2][1] = creat_plist_tree(file_index_buf, count_buf_b, NULL, count_buf_a, PLIST_ALBUM);
400d5020:	b226      	lw	v0,400d50b8 <sort_artist+0x1b4>
400d5022:	9a60      	lw	v1,0(v0)
400d5024:	b230      	lw	v0,400d50e4 <sort_artist+0x1e0>
400d5026:	9aa0      	lw	a1,0(v0)
400d5028:	b22b      	lw	v0,400d50d4 <sort_artist+0x1d0>
400d502a:	9ae0      	lw	a3,0(v0)
400d502c:	6a01      	li	v0,1
400d502e:	d204      	sw	v0,16(sp)
400d5030:	6783      	move	a0,v1
400d5032:	6e00      	li	a2,0
400d5034:	b233      	lw	v0,400d5100 <sort_artist+0x1fc>
400d5036:	eac0      	jalrc	v0
400d5038:	c847      	sh	v0,14(s0)
400d503a:	b333      	lw	v1,400d5104 <sort_artist+0x200>

    index_parent_buf = (uint16*) (sorting_map_level_cur->count_buf_a_addr); //空间复用，注意
400d503c:	b21e      	lw	v0,400d50b4 <sort_artist+0x1b0>
400d503e:	9a40      	lw	v0,0(v0)
400d5040:	9a58      	lw	v0,96(v0)
400d5042:	db40      	sw	v0,0(v1)
400d5044:	b230      	lw	v0,400d5104 <sort_artist+0x200>
    creat_index_map(index_parent_buf, file_index_buf, count_buf_b);
400d5046:	9a60      	lw	v1,0(v0)
400d5048:	b21c      	lw	v0,400d50b8 <sort_artist+0x1b4>
400d504a:	9aa0      	lw	a1,0(v0)
400d504c:	b226      	lw	v0,400d50e4 <sort_artist+0x1e0>
400d504e:	9a40      	lw	v0,0(v0)
400d5050:	6783      	move	a0,v1
400d5052:	67c2      	move	a2,v0
400d5054:	b22d      	lw	v0,400d5108 <sort_artist+0x204>
400d5056:	eac0      	jalrc	v0
400d5058:	b32d      	lw	v1,400d5108 <sort_artist+0x204>

    ap_file_index_offset[2] = ap_pos_file_offset;
400d505a:	b228      	lw	v0,400d50f8 <sort_artist+0x1f4>
400d505c:	aa40      	lhu	v0,0(v0)
400d505e:	cb42      	sh	v0,4(v1)
400d5060:	b216      	lw	v0,400d50b8 <sort_artist+0x1b4>
    save_to_file((uint8*) file_index_buf, sort_file_total * 2);
400d5062:	9a60      	lw	v1,0(v0)
400d5064:	b216      	lw	v0,400d50bc <sort_artist+0x1b8>
400d5066:	aa40      	lhu	v0,0(v0)
400d5068:	3244      	sll	v0,1
400d506a:	6783      	move	a0,v1
400d506c:	67a2      	move	a1,v0
400d506e:	b229      	lw	v0,400d5110 <sort_artist+0x20c>
400d5070:	eac0      	jalrc	v0
400d5072:	b329      	lw	v1,400d5114 <sort_artist+0x210>

    ap_sort_index_offset[2] = ap_pos_file_offset;
400d5074:	b221      	lw	v0,400d50f8 <sort_artist+0x1f4>
400d5076:	aa40      	lhu	v0,0(v0)
400d5078:	cb42      	sh	v0,4(v1)
400d507a:	b219      	lw	v0,400d50dc <sort_artist+0x1d8>
    save_to_file((uint8*) sort_index_buf, sort_file_total * 2);
400d507c:	9a60      	lw	v1,0(v0)
400d507e:	b210      	lw	v0,400d50bc <sort_artist+0x1b8>
400d5080:	aa40      	lhu	v0,0(v0)
400d5082:	3244      	sll	v0,1
400d5084:	6783      	move	a0,v1
400d5086:	67a2      	move	a1,v0
400d5088:	b222      	lw	v0,400d5110 <sort_artist+0x20c>
400d508a:	eac0      	jalrc	v0
400d508c:	b323      	lw	v1,400d5114 <sort_artist+0x210>

    ap_index_parent_offset[2] = ap_pos_file_offset;
400d508e:	b21b      	lw	v0,400d50f8 <sort_artist+0x1f4>
400d5090:	aa40      	lhu	v0,0(v0)
400d5092:	cb42      	sh	v0,4(v1)
400d5094:	b21c      	lw	v0,400d5104 <sort_artist+0x200>
    save_to_file((uint8*) index_parent_buf, sort_file_total * 2);
400d5096:	9a60      	lw	v1,0(v0)
400d5098:	b209      	lw	v0,400d50bc <sort_artist+0x1b8>
400d509a:	aa40      	lhu	v0,0(v0)
400d509c:	3244      	sll	v0,1
400d509e:	6783      	move	a0,v1
400d50a0:	67a2      	move	a1,v0
400d50a2:	b21c      	lw	v0,400d5110 <sort_artist+0x20c>
400d50a4:	eac0      	jalrc	v0
400d50a6:	65b9      	move	sp,s1

    return;
}
400d50a8:	6473      	restore	24,ra,s0-s1
400d50aa:	e8a0      	jrc	ra
400d50ac:	4de1      	addiu	a1,-31
400d50ae:	4029      	addiu	s1,s0,-7
400d50b0:	5a28      	sltiu	v0,40
400d50b2:	9fc1      	lw	a2,4(a3)
400d50b4:	5408      	slti	a0,8
400d50b6:	9fc1      	lw	a2,4(a3)
400d50b8:	5640      	slti	a2,64
400d50ba:	9fc1      	lw	a2,4(a3)
400d50bc:	560c      	slti	a2,12
400d50be:	9fc1      	lw	a2,4(a3)
400d50c0:	65e9      	move	t7,s1
400d50c2:	bfc1      	lwu	a2,4(a3)
400d50c4:	2875      	bnez	s0,400d51b0 <sort_genre+0x94>
400d50c6:	7181      	cmpi	s1,129
400d50c8:	4ef1      	addiu	a2,-15
400d50ca:	4011      	daddiu	s0,s0,1
400d50cc:	5406      	slti	a0,6
400d50ce:	9fc1      	lw	a2,4(a3)
400d50d0:	563c      	slti	a2,60
400d50d2:	9fc1      	lw	a2,4(a3)
400d50d4:	5648      	slti	a2,72
400d50d6:	9fc1      	lw	a2,4(a3)
400d50d8:	4e19      	addiu	a2,25
400d50da:	4029      	addiu	s1,s0,-7
400d50dc:	5644      	slti	a2,68
400d50de:	9fc1      	lw	a2,4(a3)
400d50e0:	4f95      	addiu	a3,-107
400d50e2:	4029      	addiu	s1,s0,-7
400d50e4:	564c      	slti	a2,76
400d50e6:	9fc1      	lw	a2,4(a3)
400d50e8:	5638      	slti	a2,56
400d50ea:	9fc1      	lw	a2,4(a3)
400d50ec:	500d      	slti	s0,13
400d50ee:	4029      	addiu	s1,s0,-7
400d50f0:	4f55      	addiu	a3,85
400d50f2:	4029      	addiu	s1,s0,-7
400d50f4:	55e4      	slti	a1,228
400d50f6:	9fc1      	lw	a2,4(a3)
400d50f8:	556a      	slti	a1,106
400d50fa:	9fc1      	lw	a2,4(a3)
400d50fc:	55c0      	slti	a1,192
400d50fe:	9fc1      	lw	a2,4(a3)
400d5100:	5101      	slti	s1,1
400d5102:	4029      	addiu	s1,s0,-7
400d5104:	5654      	slti	a2,84
400d5106:	9fc1      	lw	a2,4(a3)
400d5108:	50a9      	slti	s0,169
400d510a:	4029      	addiu	s1,s0,-7
400d510c:	559c      	slti	a1,156
400d510e:	9fc1      	lw	a2,4(a3)
400d5110:	6415      	restore	40,s1
400d5112:	bfc1      	lwu	a2,4(a3)
400d5114:	55a8      	slti	a1,168
400d5116:	9fc1      	lw	a2,4(a3)
400d5118:	55b4      	slti	a1,180
400d511a:	9fc1      	lw	a2,4(a3)

400d511c <sort_genre>:
400d511c:	64f6      	save	48,ra,s0-s1

/******************************************************************************/
/*
 * \par  Description: 排序 genre 列表
 *
 * \param[in]    str_buf--排序数据缓存地址

 * \param[out]

 * \return

 * \note
 *******************************************************************************/
//music 第四排序
//genre->artist->album->title (mode=0)
//or genre->album->title (mode=1)
static void sort_genre(char *str_buf)
{
400d511e:	0106      	addiu	s1,sp,24
400d5120:	d986      	sw	a0,24(s1)
400d5122:	b26b      	lw	v0,400d52cc <sort_genre+0x1b0>


    uint8 str_len;
    
    init_file_index();
400d5124:	eac0      	jalrc	v0
400d5126:	b26b      	lw	v0,400d52d0 <sort_genre+0x1b4>
    
    str_len = sort_cmp_len;
400d5128:	a240      	lbu	v0,0(v0)
400d512a:	c140      	sb	v0,0(s1)
400d512c:	a140      	lbu	v0,0(s1)
    if (str_len > GENRE_CMP_LENGTH)
400d512e:	5a19      	sltiu	v0,25
400d5130:	6102      	btnez	400d5136 <sort_genre+0x1a>
400d5132:	6a18      	li	v0,24
    {
        str_len = GENRE_CMP_LENGTH;
400d5134:	c140      	sb	v0,0(s1)
400d5136:	b268      	lw	v0,400d52d4 <sort_genre+0x1b8>
    }
    
    /*read string datas from mmusic.lib for sorting*/
    read_string(file_index_buf, sort_file_total, str_buf, 0, str_len, PLIST_GENRE);
400d5138:	9a60      	lw	v1,0(v0)
400d513a:	b268      	lw	v0,400d52d8 <sort_genre+0x1bc>
400d513c:	aaa0      	lhu	a1,0(v0)
400d513e:	99c6      	lw	a2,24(s1)
400d5140:	a140      	lbu	v0,0(s1)
400d5142:	d204      	sw	v0,16(sp)
400d5144:	6a03      	li	v0,3
400d5146:	d205      	sw	v0,20(sp)
400d5148:	6783      	move	a0,v1
400d514a:	6f00      	li	a3,0
400d514c:	1880 5367 	jal	40114d9c <read_string>
400d5150:	6500      	nop
400d5152:	b263      	lw	v0,400d52dc <sort_genre+0x1c0>
    plist_get_app_msg();
400d5154:	eac0      	jalrc	v0
400d5156:	b260      	lw	v0,400d52d4 <sort_genre+0x1b8>

    /*sort the first str_len of string datas*/
    list_sort((char*) file_index_buf, sort_file_total, 2, str_buf, SORT_CMP_STRING, str_len);
400d5158:	9a60      	lw	v1,0(v0)
400d515a:	b260      	lw	v0,400d52d8 <sort_genre+0x1bc>
400d515c:	aaa0      	lhu	a1,0(v0)
400d515e:	99e6      	lw	a3,24(s1)
400d5160:	6a02      	li	v0,2
400d5162:	d204      	sw	v0,16(sp)
400d5164:	a140      	lbu	v0,0(s1)
400d5166:	d205      	sw	v0,20(sp)
400d5168:	6783      	move	a0,v1
400d516a:	6e02      	li	a2,2
400d516c:	b25d      	lw	v0,400d52e0 <sort_genre+0x1c4>
400d516e:	eac0      	jalrc	v0
400d5170:	b25b      	lw	v0,400d52d8 <sort_genre+0x1bc>
    plist_get_app_msg();
400d5172:	eac0      	jalrc	v0
400d5174:	b258      	lw	v0,400d52d0 <sort_genre+0x1b4>
   

    list_resort(file_index_buf, sort_file_total, str_buf, PLIST_GENRE, GENRE_CMP_LENGTH, str_len);
400d5176:	9a60      	lw	v1,0(v0)
400d5178:	b258      	lw	v0,400d52d8 <sort_genre+0x1bc>
400d517a:	aaa0      	lhu	a1,0(v0)
400d517c:	99c6      	lw	a2,24(s1)
400d517e:	6a18      	li	v0,24
400d5180:	d204      	sw	v0,16(sp)
400d5182:	a140      	lbu	v0,0(s1)
400d5184:	d205      	sw	v0,20(sp)
400d5186:	6783      	move	a0,v1
400d5188:	6f03      	li	a3,3
400d518a:	b257      	lw	v0,400d52e4 <sort_genre+0x1c8>
400d518c:	eac0      	jalrc	v0
400d518e:	b257      	lw	v0,400d52e8 <sort_genre+0x1cc>

#ifdef DEBUG_PRINT
    debug_printf(PLIST_GENRE);
#endif

    tidy_same_table(NULL, count_buf_a, file_index_buf);
400d5190:	9a60      	lw	v1,0(v0)
400d5192:	b251      	lw	v0,400d52d4 <sort_genre+0x1b8>
400d5194:	9a40      	lw	v0,0(v0)
400d5196:	6c00      	li	a0,0
400d5198:	67a3      	move	a1,v1
400d519a:	67c2      	move	a2,v0
400d519c:	b254      	lw	v0,400d52ec <sort_genre+0x1d0>
400d519e:	eac0      	jalrc	v0
400d51a0:	b24d      	lw	v0,400d52d0 <sort_genre+0x1b4>

#if(GENRE_LIST_MODE == 1)
    read_from_file((uint8 *)sort_index_buf, (uint8 *)ALBUM_SORT_INDEX_VM_ADDR, sort_file_total*2);
#else 

#endif

    son_sort_index(file_index_buf, count_buf_a, sort_index_buf, SORT_CMP_WORD);
400d51a2:	9a60      	lw	v1,0(v0)
400d51a4:	b251      	lw	v0,400d52e8 <sort_genre+0x1cc>
400d51a6:	9aa0      	lw	a1,0(v0)
400d51a8:	b252      	lw	v0,400d52f0 <sort_genre+0x1d4>
400d51aa:	9a40      	lw	v0,0(v0)
400d51ac:	6783      	move	a0,v1
400d51ae:	67c2      	move	a2,v0
400d51b0:	6f00      	li	a3,0
400d51b2:	b251      	lw	v0,400d52f4 <sort_genre+0x1d8>
400d51b4:	eac0      	jalrc	v0
400d51b6:	b251      	lw	v0,400d52f8 <sort_genre+0x1dc>

#if(GENRE_LIST_MODE == 1)
    // tidy album
    tidy_son_unit(count_buf_b,file_index_buf,count_buf_a,tidy_buf_a);
#else
    //tidy artist and album
    tidy_son_unit(count_buf_b, file_index_buf, count_buf_a, tidy_buf_b);
400d51b8:	9a80      	lw	a0,0(v0)
400d51ba:	b247      	lw	v0,400d52d4 <sort_genre+0x1b8>
400d51bc:	9aa0      	lw	a1,0(v0)
400d51be:	b24b      	lw	v0,400d52e8 <sort_genre+0x1cc>
400d51c0:	9a60      	lw	v1,0(v0)
400d51c2:	b24f      	lw	v0,400d52fc <sort_genre+0x1e0>
400d51c4:	9a40      	lw	v0,0(v0)
400d51c6:	67c3      	move	a2,v1
400d51c8:	67e2      	move	a3,v0
400d51ca:	b24e      	lw	v0,400d5300 <sort_genre+0x1e4>
400d51cc:	eac0      	jalrc	v0
400d51ce:	b24e      	lw	v0,400d5304 <sort_genre+0x1e8>



    tidy_son_unit(count_buf_c, file_index_buf, count_buf_b, tidy_buf_a);
400d51d0:	9a80      	lw	a0,0(v0)
400d51d2:	b241      	lw	v0,400d52d4 <sort_genre+0x1b8>
400d51d4:	9aa0      	lw	a1,0(v0)
400d51d6:	b249      	lw	v0,400d52f8 <sort_genre+0x1dc>
400d51d8:	9a60      	lw	v1,0(v0)
400d51da:	b24c      	lw	v0,400d5308 <sort_genre+0x1ec>
400d51dc:	9a40      	lw	v0,0(v0)
400d51de:	67c3      	move	a2,v1
400d51e0:	67e2      	move	a3,v0
400d51e2:	b248      	lw	v0,400d5300 <sort_genre+0x1e4>
400d51e4:	eac0      	jalrc	v0
400d51e6:	b34a      	lw	v1,400d530c <sort_genre+0x1f0>
#endif

    ap_son_tree_offset[3][0] = ap_pos_file_offset;
400d51e8:	b24a      	lw	v0,400d5310 <sort_genre+0x1f4>
400d51ea:	aa40      	lhu	v0,0(v0)
400d51ec:	cb49      	sh	v0,18(v1)
400d51ee:	b04a      	lw	s0,400d5314 <sort_genre+0x1f8>
    ap_son_tree_num[3][0] = creat_plist_tree(file_index_buf, count_buf_a, count_buf_b, NULL, PLIST_GENRE);
400d51f0:	b239      	lw	v0,400d52d4 <sort_genre+0x1b8>
400d51f2:	9a80      	lw	a0,0(v0)
400d51f4:	b23d      	lw	v0,400d52e8 <sort_genre+0x1cc>
400d51f6:	9aa0      	lw	a1,0(v0)
400d51f8:	b240      	lw	v0,400d52f8 <sort_genre+0x1dc>
400d51fa:	9a60      	lw	v1,0(v0)
400d51fc:	6a03      	li	v0,3
400d51fe:	d204      	sw	v0,16(sp)
400d5200:	67c3      	move	a2,v1
400d5202:	6f00      	li	a3,0
400d5204:	b245      	lw	v0,400d5318 <sort_genre+0x1fc>
400d5206:	eac0      	jalrc	v0
400d5208:	c849      	sh	v0,18(s0)
400d520a:	b345      	lw	v1,400d531c <sort_genre+0x200>

    index_parent_buf = (uint16*) COUNT_BUF_A_ADDR;//空间复用，注意
400d520c:	b245      	lw	v0,400d5320 <sort_genre+0x204>
400d520e:	db40      	sw	v0,0(v1)
400d5210:	b33f      	lw	v1,400d530c <sort_genre+0x1f0>

#if(GENRE_LIST_MODE == 1)
    ap_son_tree_offset[3][1]=ap_pos_file_offset;
    ap_son_tree_num[3][1]=creat_plist_tree(file_index_buf,count_buf_b,NULL,count_buf_a,PLIST_ALBUM);
    creat_index_map(index_parent_buf,file_index_buf,count_buf_b);
#else
    ap_son_tree_offset[3][1] = ap_pos_file_offset;
400d5212:	b240      	lw	v0,400d5310 <sort_genre+0x1f4>
400d5214:	aa40      	lhu	v0,0(v0)
400d5216:	cb4a      	sh	v0,20(v1)
400d5218:	b03f      	lw	s0,400d5314 <sort_genre+0x1f8>
    ap_son_tree_num[3][1] = creat_plist_tree(file_index_buf, count_buf_b, count_buf_c, count_buf_a, PLIST_ARTIST);
400d521a:	b22f      	lw	v0,400d52d4 <sort_genre+0x1b8>
400d521c:	9a60      	lw	v1,0(v0)
400d521e:	b237      	lw	v0,400d52f8 <sort_genre+0x1dc>
400d5220:	9aa0      	lw	a1,0(v0)
400d5222:	b239      	lw	v0,400d5304 <sort_genre+0x1e8>
400d5224:	9ac0      	lw	a2,0(v0)
400d5226:	b231      	lw	v0,400d52e8 <sort_genre+0x1cc>
400d5228:	9ae0      	lw	a3,0(v0)
400d522a:	6a02      	li	v0,2
400d522c:	d204      	sw	v0,16(sp)
400d522e:	6783      	move	a0,v1
400d5230:	b23a      	lw	v0,400d5318 <sort_genre+0x1fc>
400d5232:	eac0      	jalrc	v0
400d5234:	c84a      	sh	v0,20(s0)
400d5236:	b336      	lw	v1,400d530c <sort_genre+0x1f0>
    ap_son_tree_offset[3][2] = ap_pos_file_offset;
400d5238:	b236      	lw	v0,400d5310 <sort_genre+0x1f4>
400d523a:	aa40      	lhu	v0,0(v0)
400d523c:	cb4b      	sh	v0,22(v1)
400d523e:	b036      	lw	s0,400d5314 <sort_genre+0x1f8>
    ap_son_tree_num[3][2] = creat_plist_tree(file_index_buf, count_buf_c, NULL, count_buf_b, PLIST_ALBUM);
400d5240:	b225      	lw	v0,400d52d4 <sort_genre+0x1b8>
400d5242:	9a60      	lw	v1,0(v0)
400d5244:	b230      	lw	v0,400d5304 <sort_genre+0x1e8>
400d5246:	9aa0      	lw	a1,0(v0)
400d5248:	b22c      	lw	v0,400d52f8 <sort_genre+0x1dc>
400d524a:	9ae0      	lw	a3,0(v0)
400d524c:	6a01      	li	v0,1
400d524e:	d204      	sw	v0,16(sp)
400d5250:	6783      	move	a0,v1
400d5252:	6e00      	li	a2,0
400d5254:	b231      	lw	v0,400d5318 <sort_genre+0x1fc>
400d5256:	eac0      	jalrc	v0
400d5258:	c84b      	sh	v0,22(s0)
400d525a:	b231      	lw	v0,400d531c <sort_genre+0x200>
    creat_index_map(index_parent_buf, file_index_buf, count_buf_c);
400d525c:	9a60      	lw	v1,0(v0)
400d525e:	b21e      	lw	v0,400d52d4 <sort_genre+0x1b8>
400d5260:	9aa0      	lw	a1,0(v0)
400d5262:	b229      	lw	v0,400d5304 <sort_genre+0x1e8>
400d5264:	9a40      	lw	v0,0(v0)
400d5266:	6783      	move	a0,v1
400d5268:	67c2      	move	a2,v0
400d526a:	b22f      	lw	v0,400d5324 <sort_genre+0x208>
400d526c:	eac0      	jalrc	v0
400d526e:	b221      	lw	v0,400d52f0 <sort_genre+0x1d4>
#endif

    build_ex_index(sort_index_buf);
400d5270:	9a40      	lw	v0,0(v0)
400d5272:	6782      	move	a0,v0
400d5274:	b22d      	lw	v0,400d5328 <sort_genre+0x20c>
400d5276:	eac0      	jalrc	v0
400d5278:	b32d      	lw	v1,400d5328 <sort_genre+0x20c>

    ap_file_index_offset[3] = ap_pos_file_offset;
400d527a:	b226      	lw	v0,400d5310 <sort_genre+0x1f4>
400d527c:	aa40      	lhu	v0,0(v0)
400d527e:	cb43      	sh	v0,6(v1)
400d5280:	b215      	lw	v0,400d52d4 <sort_genre+0x1b8>
    save_to_file((uint8*) file_index_buf, sort_file_total * 2);
400d5282:	9a60      	lw	v1,0(v0)
400d5284:	b215      	lw	v0,400d52d8 <sort_genre+0x1bc>
400d5286:	aa40      	lhu	v0,0(v0)
400d5288:	3244      	sll	v0,1
400d528a:	6783      	move	a0,v1
400d528c:	67a2      	move	a1,v0
400d528e:	b229      	lw	v0,400d5330 <sort_genre+0x214>
400d5290:	eac0      	jalrc	v0
400d5292:	b329      	lw	v1,400d5334 <sort_genre+0x218>

    ap_sort_index_offset[3] = ap_pos_file_offset;
400d5294:	b21f      	lw	v0,400d5310 <sort_genre+0x1f4>
400d5296:	aa40      	lhu	v0,0(v0)
400d5298:	cb43      	sh	v0,6(v1)
400d529a:	b216      	lw	v0,400d52f0 <sort_genre+0x1d4>
    save_to_file((uint8*) sort_index_buf, sort_file_total * 2);
400d529c:	9a60      	lw	v1,0(v0)
400d529e:	b20f      	lw	v0,400d52d8 <sort_genre+0x1bc>
400d52a0:	aa40      	lhu	v0,0(v0)
400d52a2:	3244      	sll	v0,1
400d52a4:	6783      	move	a0,v1
400d52a6:	67a2      	move	a1,v0
400d52a8:	b222      	lw	v0,400d5330 <sort_genre+0x214>
400d52aa:	eac0      	jalrc	v0
400d52ac:	b323      	lw	v1,400d5334 <sort_genre+0x218>

    ap_index_parent_offset[3] = ap_pos_file_offset;
400d52ae:	b219      	lw	v0,400d5310 <sort_genre+0x1f4>
400d52b0:	aa40      	lhu	v0,0(v0)
400d52b2:	cb43      	sh	v0,6(v1)
400d52b4:	b21a      	lw	v0,400d531c <sort_genre+0x200>
    save_to_file((uint8*) index_parent_buf, sort_file_total * 2);
400d52b6:	9a60      	lw	v1,0(v0)
400d52b8:	b208      	lw	v0,400d52d8 <sort_genre+0x1bc>
400d52ba:	aa40      	lhu	v0,0(v0)
400d52bc:	3244      	sll	v0,1
400d52be:	6783      	move	a0,v1
400d52c0:	67a2      	move	a1,v0
400d52c2:	b21c      	lw	v0,400d5330 <sort_genre+0x214>
400d52c4:	eac0      	jalrc	v0
400d52c6:	65b9      	move	sp,s1
    

    return;
}
400d52c8:	6473      	restore	24,ra,s0-s1
400d52ca:	e8a0      	jrc	ra
400d52cc:	4de1      	addiu	a1,-31
400d52ce:	4029      	addiu	s1,s0,-7
400d52d0:	5a28      	sltiu	v0,40
400d52d2:	9fc1      	lw	a2,4(a3)
400d52d4:	5640      	slti	a2,64
400d52d6:	9fc1      	lw	a2,4(a3)
400d52d8:	560c      	slti	a2,12
400d52da:	9fc1      	lw	a2,4(a3)
400d52dc:	65e9      	move	t7,s1
400d52de:	bfc1      	lwu	a2,4(a3)
400d52e0:	2875      	bnez	s0,400d53cc <sort_music_list+0x90>
400d52e2:	7181      	cmpi	s1,129
400d52e4:	4ef1      	addiu	a2,-15
400d52e6:	4011      	daddiu	s0,s0,1
400d52e8:	5648      	slti	a2,72
400d52ea:	9fc1      	lw	a2,4(a3)
400d52ec:	4e19      	addiu	a2,25
400d52ee:	4029      	addiu	s1,s0,-7
400d52f0:	5644      	slti	a2,68
400d52f2:	9fc1      	lw	a2,4(a3)
400d52f4:	4f95      	addiu	a3,-107
400d52f6:	4029      	addiu	s1,s0,-7
400d52f8:	564c      	slti	a2,76
400d52fa:	9fc1      	lw	a2,4(a3)
400d52fc:	563c      	slti	a2,60
400d52fe:	9fc1      	lw	a2,4(a3)
400d5300:	500d      	slti	s0,13
400d5302:	4029      	addiu	s1,s0,-7
400d5304:	5650      	slti	a2,80
400d5306:	9fc1      	lw	a2,4(a3)
400d5308:	5638      	slti	a2,56
400d530a:	9fc1      	lw	a2,4(a3)
400d530c:	55e4      	slti	a1,228
400d530e:	9fc1      	lw	a2,4(a3)
400d5310:	556a      	slti	a1,106
400d5312:	9fc1      	lw	a2,4(a3)
400d5314:	55c0      	slti	a1,192
400d5316:	9fc1      	lw	a2,4(a3)
400d5318:	5101      	slti	s1,1
400d531a:	4029      	addiu	s1,s0,-7
400d531c:	5654      	slti	a2,84
400d531e:	9fc1      	lw	a2,4(a3)
400d5320:	6a00      	li	v0,0
400d5322:	9fc2      	lw	a2,8(a3)
400d5324:	50a9      	slti	s0,169
400d5326:	4029      	addiu	s1,s0,-7
400d5328:	4f55      	addiu	a3,85
400d532a:	4029      	addiu	s1,s0,-7
400d532c:	559c      	slti	a1,156
400d532e:	9fc1      	lw	a2,4(a3)
400d5330:	6415      	restore	40,s1
400d5332:	bfc1      	lwu	a2,4(a3)
400d5334:	55a8      	slti	a1,168
400d5336:	9fc1      	lw	a2,4(a3)
400d5338:	55b4      	slti	a1,180
400d533a:	9fc1      	lw	a2,4(a3)

400d533c <sort_music_list>:
400d533c:	64d4      	save	32,ra,s1


/******************************************************************************/
/*
 * \par  Description: 排序列表
 *
 * \param[in]

 * \param[out]

 * \return

 * \note
 *******************************************************************************/
void sort_music_list(void)
{
400d533e:	0104      	addiu	s1,sp,16
400d5340:	b222      	lw	v0,400d53c8 <sort_music_list+0x8c>
    
    char *str_buf = (char*)(sorting_map_level_cur->sort_data_addr);// SORT_DATA_ADDR;//title最少前sort_cmp_len个byte已经缓存在ram中
400d5342:	9a40      	lw	v0,0(v0)
400d5344:	9a54      	lw	v0,80(v0)
400d5346:	d940      	sw	v0,0(s1)
400d5348:	b321      	lw	v1,400d53cc <sort_music_list+0x90>
    sort_file_total = ap_plist_file_total;
400d534a:	b222      	lw	v0,400d53d0 <sort_music_list+0x94>
400d534c:	aa40      	lhu	v0,0(v0)
400d534e:	cb40      	sh	v0,0(v1)
400d5350:	b321      	lw	v1,400d53d4 <sort_music_list+0x98>
    track_buf = (uint8*) (sorting_map_level_cur->track_data_addr);//track前1byte已经保存在RAM中
400d5352:	b21e      	lw	v0,400d53c8 <sort_music_list+0x8c>
400d5354:	9a40      	lw	v0,0(v0)
400d5356:	9a5b      	lw	v0,108(v0)
400d5358:	db40      	sw	v0,0(v1)
400d535a:	b220      	lw	v0,400d53d8 <sort_music_list+0x9c>
  //  libc_print("macro",TRACK_DATA_ADDR,2);
  //  libc_print("p",sorting_map_level_cur->track_data_addr,2);
    
	if(ap_plist_sorting_level == 16000){
400d535c:	aa40      	lhu	v0,0(v0)
400d535e:	f687 7200 	cmpi	v0,16000
400d5362:	6758      	move	v0,t8
400d5364:	5a01      	sltiu	v0,1
400d5366:	6009      	bteqz	400d537a <sort_music_list+0x3e>
400d5368:	b31d      	lw	v1,400d53dc <sort_music_list+0xa0>
						 write_to_file((uint8*)ALBUM_SORT_INDEX_VM_ADDR_16k,(uint8*)(sorting_map_level_16k.track_data_addr),sort_file_total);
400d536a:	b21e      	lw	v0,400d53e0 <sort_music_list+0xa4>
400d536c:	9abb      	lw	a1,108(v0)
400d536e:	b218      	lw	v0,400d53cc <sort_music_list+0x90>
400d5370:	aa40      	lhu	v0,0(v0)
400d5372:	6783      	move	a0,v1
400d5374:	67c2      	move	a2,v0
400d5376:	b21c      	lw	v0,400d53e4 <sort_music_list+0xa8>
400d5378:	eac0      	jalrc	v0
400d537a:	b21c      	lw	v0,400d53e8 <sort_music_list+0xac>
				 }
    //clear buffer
    libc_memset(file_index_buf, 0, (sorting_map_level_cur->file_info_buf_size));
400d537c:	9a60      	lw	v1,0(v0)
400d537e:	b213      	lw	v0,400d53c8 <sort_music_list+0x8c>
400d5380:	9a40      	lw	v0,0(v0)
400d5382:	aa43      	lhu	v0,6(v0)
400d5384:	6783      	move	a0,v1
400d5386:	6d00      	li	a1,0
400d5388:	67c2      	move	a2,v0
400d538a:	6f01      	li	a3,1
400d538c:	b218      	lw	v0,400d53ec <sort_music_list+0xb0>
400d538e:	eac0      	jalrc	v0
400d5390:	9940      	lw	v0,0(s1)

#if 1
    sort_title(str_buf);
400d5392:	6782      	move	a0,v0
400d5394:	1860 5300 	jal	400d4c00 <sort_title>
400d5398:	6500      	nop
400d539a:	b216      	lw	v0,400d53f0 <sort_music_list+0xb4>
#endif

    plist_get_app_msg();
400d539c:	eac0      	jalrc	v0
400d539e:	6cff      	li	a0,255
    plist_reflash_progress(-1);
400d53a0:	b215      	lw	v0,400d53f4 <sort_music_list+0xb8>
400d53a2:	eac0      	jalrc	v0
400d53a4:	9940      	lw	v0,0(s1)
    //libc_print("<album star> ", sys_get_ab_timer(), 2);    
#if 1
    sort_album(str_buf);
400d53a6:	6782      	move	a0,v0
400d53a8:	1860 533d 	jal	400d4cf4 <sort_album>
400d53ac:	6500      	nop
400d53ae:	b211      	lw	v0,400d53f0 <sort_music_list+0xb4>
#endif

    plist_get_app_msg();
400d53b0:	eac0      	jalrc	v0
400d53b2:	6cff      	li	a0,255
    plist_reflash_progress(-1);
400d53b4:	b210      	lw	v0,400d53f4 <sort_music_list+0xb8>
400d53b6:	eac0      	jalrc	v0
400d53b8:	b20e      	lw	v0,400d53ec <sort_music_list+0xb0>
    //libc_print("<artist star> ", sys_get_ab_timer(), 2);
if(ap_plist_sorting_level != 16000)
{
#if 0
    sort_artist(str_buf);
#endif
}
    plist_get_app_msg();
400d53ba:	eac0      	jalrc	v0
400d53bc:	6cff      	li	a0,255
    plist_reflash_progress(-1);
400d53be:	b20e      	lw	v0,400d53f4 <sort_music_list+0xb8>
400d53c0:	eac0      	jalrc	v0
400d53c2:	65b9      	move	sp,s1
#if (ID3_GENRE_SUPPORT == 1)
  if(ap_plist_sorting_level == 4000)
  {   //libc_print("<genre star> ", sys_get_ab_timer(), 2);
    #if 0
    sort_genre(str_buf);
    #endif
  }
#endif

    return;
}
400d53c4:	6452      	restore	16,ra,s1
400d53c6:	e8a0      	jrc	ra
400d53c8:	5408      	slti	a0,8
400d53ca:	9fc1      	lw	a2,4(a3)
400d53cc:	560c      	slti	a2,12
400d53ce:	9fc1      	lw	a2,4(a3)
400d53d0:	5598      	slti	a1,152
400d53d2:	9fc1      	lw	a2,4(a3)
400d53d4:	5608      	slti	a2,8
400d53d6:	9fc1      	lw	a2,4(a3)
400d53d8:	5406      	slti	a0,6
400d53da:	9fc1      	lw	a2,4(a3)
400d53dc:	bd00      	lwu	s0,0(a1)
400d53de:	009c      	addiu	s0,sp,624
400d53e0:	54f4      	slti	a0,244
400d53e2:	9fc1      	lw	a2,4(a3)
400d53e4:	6491      	save	8,s1
400d53e6:	bfc1      	lwu	a2,4(a3)
400d53e8:	5640      	slti	a2,64
400d53ea:	9fc1      	lw	a2,4(a3)
400d53ec:	6409      	restore	72
400d53ee:	bfc1      	lwu	a2,4(a3)
400d53f0:	65e9      	move	t7,s1
400d53f2:	bfc1      	lwu	a2,4(a3)
400d53f4:	4cb1      	addiu	a0,-79
400d53f6:	401d      	daddiu	s0,s0,-3
	...
Disassembly of section BANK_FORNT_CONTROL_1_4:

40114c00 <_init_sorting_map_level_8k>:
40114c00:	6491      	save	8,s1
     vfs_file_seek(ap_vfs_mount, file_offs, SEEK_SET, ap_obj_handle);
}
#endif
	void _init_sorting_map_level_8k(void)
 {
40114c02:	673d      	move	s1,sp
40114c04:	b337      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.sort_buf_size 				= (uint32)SORT_BUFFER_SIZE_8k ;
40114c06:	f40e 6a00 	li	v0,29696
40114c0a:	db40      	sw	v0,0(v1)
40114c0c:	b335      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.index_buf_size				= (uint16)INDEX_BUFFER_SIZE_8k;
40114c0e:	f008 6a00 	li	v0,16384
40114c12:	cb42      	sh	v0,4(v1)
40114c14:	b333      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.file_info_buf_size		= (uint16)FILE_INFO_BUF_SIZE_8k;
40114c16:	f004 6a00 	li	v0,8192
40114c1a:	cb43      	sh	v0,6(v1)
40114c1c:	b331      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.track_buf_size				= (uint16)TRACK_BUFFER_SIZE_8k ;
40114c1e:	f004 6a00 	li	v0,8192
40114c22:	cb44      	sh	v0,8(v1)
40114c24:	b32f      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
		 
			 sorting_map_level_8k.title_cmp_lenth 			= (uint8)TITLE_CMP_LENGTH;
40114c26:	6a18      	li	v0,24
40114c28:	c34a      	sb	v0,10(v1)
40114c2a:	b32e      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.album_cmp_lenth 			= (uint8)ALBUM_CMP_LENGTH;
40114c2c:	6a18      	li	v0,24
40114c2e:	c34b      	sb	v0,11(v1)
40114c30:	b32c      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.artist_cmp_lenth			= (uint8) ARTIST_CMP_LENGTH;
40114c32:	6a18      	li	v0,24
40114c34:	c34c      	sb	v0,12(v1)
40114c36:	b32b      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.genre_cmp_lenth 			= (uint8)GENRE_CMP_LENGTH;
40114c38:	6a18      	li	v0,24
40114c3a:	c34d      	sb	v0,13(v1)
40114c3c:	b329      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.track_cmp_lenth 			= (uint8)TRACK_CMP_LENGTH;
40114c3e:	6a01      	li	v0,1
40114c40:	c34e      	sb	v0,14(v1)
40114c42:	b328      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
		 
			 sorting_map_level_8k.music_lib_size				= (uint32)MUSIC_LIB_SIZE_8k 	;
40114c44:	b228      	lw	v0,40114ce4 <_init_sorting_map_level_8k+0xe4>
40114c46:	db44      	sw	v0,16(v1)
40114c48:	b326      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.audible_lib_size			= (uint32)AUDIBLE_LIB_SIZE;
40114c4a:	b228      	lw	v0,40114ce8 <_init_sorting_map_level_8k+0xe8>
40114c4c:	db45      	sw	v0,20(v1)
40114c4e:	b325      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.m3u_lib_size					= (uint32)M3U_LIB_SIZE_8k;
40114c50:	b227      	lw	v0,40114cec <_init_sorting_map_level_8k+0xec>
40114c52:	db46      	sw	v0,24(v1)
40114c54:	b323      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.userpl_pl_size				= (uint32)USERPL_PL_SIZE;
40114c56:	f60c 6a00 	li	v0,26112
40114c5a:	db47      	sw	v0,28(v1)
40114c5c:	b321      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.album_pic_size				= (uint32)ALBUM_PIC_SIZE;
40114c5e:	f401 6a00 	li	v0,3072
40114c62:	ea4b      	neg	v0
40114c64:	cb50      	sh	v0,32(v1)
40114c66:	b31f      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
		 
			 sorting_map_level_8k.store_music_addr						 = (uint32)STORE_MUSIC_ADDR_8k;
40114c68:	b222      	lw	v0,40114cf0 <_init_sorting_map_level_8k+0xf0>
40114c6a:	db49      	sw	v0,36(v1)
40114c6c:	b31d      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.title_sort_index_vm_addr		 =(uint32)TITLE_SORT_INDEX_VM_ADDR_8k ;
40114c6e:	b221      	lw	v0,40114cf0 <_init_sorting_map_level_8k+0xf0>
40114c70:	db4a      	sw	v0,40(v1)
40114c72:	b31c      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.album_sort_index_vm_addr		 = (uint32)ALBUM_SORT_INDEX_VM_ADDR_8k;
40114c74:	b220      	lw	v0,40114cf4 <_init_sorting_map_level_8k+0xf4>
40114c76:	db4b      	sw	v0,44(v1)
40114c78:	b31a      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.artist_sort_index_vm_addr 	 = (uint32)ARTIST_SORT_INDEX_VM_ADDR_8k;
40114c7a:	b220      	lw	v0,40114cf8 <_init_sorting_map_level_8k+0xf8>
40114c7c:	db4c      	sw	v0,48(v1)
40114c7e:	b319      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.tidy_buf_a_vm_addr					 = (uint32)TIDY_BUF_A_VM_ADDR_8k;
40114c80:	b21f      	lw	v0,40114cfc <_init_sorting_map_level_8k+0xfc>
40114c82:	db4d      	sw	v0,52(v1)
40114c84:	b317      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.tidy_buf_b_vm_addr					 = (uint32)TIDY_BUF_B_VM_ADDR_8k;
40114c86:	b21f      	lw	v0,40114d00 <_init_sorting_map_level_8k+0x100>
40114c88:	db4e      	sw	v0,56(v1)
40114c8a:	b316      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
		 
			 sorting_map_level_8k.store_others_addr 					 = (uint32)STORE_OTHERS_ADDR;
40114c8c:	b21e      	lw	v0,40114d04 <_init_sorting_map_level_8k+0x104>
40114c8e:	db4f      	sw	v0,60(v1)
40114c90:	b314      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.others_title_addr 					 = (uint32)OTHERS_TITLE_ADDR;
40114c92:	b21d      	lw	v0,40114d04 <_init_sorting_map_level_8k+0x104>
40114c94:	db50      	sw	v0,64(v1)
40114c96:	b313      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
		 
			 sorting_map_level_8k.plist_data_base_addr				 = (uint32)PLIST_DATA_BASE_ADDR;
40114c98:	b21c      	lw	v0,40114d08 <_init_sorting_map_level_8k+0x108>
40114c9a:	db51      	sw	v0,68(v1)
40114c9c:	b311      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.plist_data_top_addr 				 = (uint32)PLIST_DATA_TOP_ADDR ;
40114c9e:	b21c      	lw	v0,40114d0c <_init_sorting_map_level_8k+0x10c>
40114ca0:	db52      	sw	v0,72(v1)
40114ca2:	b310      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
		 
		 
			 sorting_map_level_8k.file_info_addr							 = (uint32)FILE_INFO_ADDR_8k;
40114ca4:	b219      	lw	v0,40114d08 <_init_sorting_map_level_8k+0x108>
40114ca6:	db53      	sw	v0,76(v1)
40114ca8:	b30e      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.sort_data_addr							 = (uint32)SORT_DATA_ADDR_8k;
40114caa:	b21a      	lw	v0,40114d10 <_init_sorting_map_level_8k+0x110>
40114cac:	db54      	sw	v0,80(v1)
40114cae:	b30d      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
		 
			 
			 sorting_map_level_8k.file_index_buf_addr 				 = (uint32)FILE_INDEX_BUF_ADDR_8k;
40114cb0:	b216      	lw	v0,40114d08 <_init_sorting_map_level_8k+0x108>
40114cb2:	db55      	sw	v0,84(v1)
40114cb4:	b30b      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.sort_index_buf_addr 				 = (uint32)SORT_INDEX_BUF_ADDR_8k;
40114cb6:	b218      	lw	v0,40114d14 <_init_sorting_map_level_8k+0x114>
40114cb8:	db56      	sw	v0,88(v1)
40114cba:	b30a      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.tidy_buf_a_addr 						 = (uint32)TIDY_BUF_A_ADDR_8k;
40114cbc:	b217      	lw	v0,40114d18 <_init_sorting_map_level_8k+0x118>
40114cbe:	db57      	sw	v0,92(v1)
40114cc0:	b308      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.count_buf_a_addr						 = (uint32)COUNT_BUF_A_ADDR_8k;
40114cc2:	b217      	lw	v0,40114d1c <_init_sorting_map_level_8k+0x11c>
40114cc4:	db58      	sw	v0,96(v1)
40114cc6:	b307      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.tidy_buf_b_addr 						 = (uint32)TIDY_BUF_B_ADDR_8k;
40114cc8:	b216      	lw	v0,40114d20 <_init_sorting_map_level_8k+0x120>
40114cca:	db59      	sw	v0,100(v1)
40114ccc:	b305      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.count_buf_b_addr						 = (uint32)COUNT_BUF_B_ADDR_8k;
40114cce:	b216      	lw	v0,40114d24 <_init_sorting_map_level_8k+0x124>
40114cd0:	db5a      	sw	v0,104(v1)
40114cd2:	b304      	lw	v1,40114ce0 <_init_sorting_map_level_8k+0xe0>
			 sorting_map_level_8k.track_data_addr 						 = (uint32) TRACK_DATA_ADDR_8k;
40114cd4:	b212      	lw	v0,40114d1c <_init_sorting_map_level_8k+0x11c>
40114cd6:	db5b      	sw	v0,108(v1)
40114cd8:	65b9      	move	sp,s1
			 //sorting_map_level_8k.count_buf_c_addr						 = (uint32) COUNT_BUF_C_ADDR_// ;
 
 }
40114cda:	6411      	restore	8,s1
40114cdc:	e8a0      	jrc	ra
40114cde:	0000      	addiu	s0,sp,0
40114ce0:	5480      	slti	a0,128
40114ce2:	9fc1      	lw	a2,4(a3)
40114ce4:	b400      	lw	a0,40114ce4 <_init_sorting_map_level_8k+0xe4>
40114ce6:	009c      	addiu	s0,sp,624
40114ce8:	dc00      	sw	s0,0(a0)
40114cea:	0005      	addiu	s0,sp,20
40114cec:	1e00 0017 	jalx	4040005c <sort_audible_list+0xeb20c>
40114cf0:	4000      	addiu	s0,s0,0
40114cf2:	009c      	addiu	s0,sp,624
40114cf4:	8000      	lb	s0,0(s0)
40114cf6:	009c      	addiu	s0,sp,624
40114cf8:	c000      	sb	s0,0(s0)
40114cfa:	009c      	addiu	s0,sp,624
40114cfc:	0000      	addiu	s0,sp,0
40114cfe:	009d      	addiu	s0,sp,628
40114d00:	4000      	addiu	s0,s0,0
40114d02:	009d      	addiu	s0,sp,628
40114d04:	aa00      	lhu	s0,0(v0)
40114d06:	0016      	addiu	s0,sp,88
40114d08:	0a00      	la	v0,40114d08 <_init_sorting_map_level_8k+0x108>
40114d0a:	9fc2      	lw	a2,8(a3)
40114d0c:	0000      	addiu	s0,sp,0
40114d0e:	9fc4      	lw	a2,16(a3)
40114d10:	8c00      	lh	s0,0(a0)
40114d12:	9fc3      	lw	a2,12(a3)
40114d14:	4a00      	addiu	v0,0
40114d16:	9fc2      	lw	a2,8(a3)
40114d18:	8a00      	lh	s0,0(v0)
40114d1a:	9fc2      	lw	a2,8(a3)
40114d1c:	ca00      	sh	s0,0(v0)
40114d1e:	9fc2      	lw	a2,8(a3)
40114d20:	0a00      	la	v0,40114d20 <_init_sorting_map_level_8k+0x120>
40114d22:	9fc3      	lw	a2,12(a3)
40114d24:	4a00      	addiu	v0,0
40114d26:	9fc3      	lw	a2,12(a3)

40114d28 <_init_sorting_map_level_16k>:
40114d28:	6491      	save	8,s1

 void _init_sorting_map_level_16k(void)
{
40114d2a:	673d      	move	s1,sp
40114d2c:	b315      	lw	v1,40114d80 <_init_sorting_map_level_16k+0x58>
	   sorting_map_level_16k.sort_buf_size				 = (uint32)SORT_BUFFER_SIZE_16k ;
40114d2e:	f687 6a00 	li	v0,16000
40114d32:	db40      	sw	v0,0(v1)
40114d34:	b313      	lw	v1,40114d80 <_init_sorting_map_level_16k+0x58>
			sorting_map_level_16k.file_info_buf_size 	 = (uint16)FILE_INFO_BUF_SIZE_16k;
40114d36:	f008 6a00 	li	v0,16384
40114d3a:	cb43      	sh	v0,6(v1)
40114d3c:	b311      	lw	v1,40114d80 <_init_sorting_map_level_16k+0x58>
			
			sorting_map_level_16k.title_cmp_lenth			 = (uint8)TITLE_CMP_LENGTH;
40114d3e:	6a18      	li	v0,24
40114d40:	c34a      	sb	v0,10(v1)
40114d42:	b310      	lw	v1,40114d80 <_init_sorting_map_level_16k+0x58>
			sorting_map_level_16k.album_cmp_lenth			 = (uint8)ALBUM_CMP_LENGTH;
40114d44:	6a18      	li	v0,24
40114d46:	c34b      	sb	v0,11(v1)
40114d48:	b30e      	lw	v1,40114d80 <_init_sorting_map_level_16k+0x58>
			
			sorting_map_level_16k.file_info_addr               = (uint32)FILE_INFO_ADDR_16k;
40114d4a:	b20f      	lw	v0,40114d84 <_init_sorting_map_level_16k+0x5c>
40114d4c:	db53      	sw	v0,76(v1)
40114d4e:	b30d      	lw	v1,40114d80 <_init_sorting_map_level_16k+0x58>
			sorting_map_level_16k.sort_data_addr               = (uint32)SORT_DATA_ADDR_16k;
40114d50:	b20e      	lw	v0,40114d88 <_init_sorting_map_level_16k+0x60>
40114d52:	db54      	sw	v0,80(v1)
40114d54:	b30b      	lw	v1,40114d80 <_init_sorting_map_level_16k+0x58>
				
			sorting_map_level_16k.file_index_buf_addr          = (uint32)FILE_INDEX_BUF_ADDR_16k;
40114d56:	b20c      	lw	v0,40114d84 <_init_sorting_map_level_16k+0x5c>
40114d58:	db55      	sw	v0,84(v1)
40114d5a:	b30a      	lw	v1,40114d80 <_init_sorting_map_level_16k+0x58>
			sorting_map_level_16k.sort_index_buf_addr          = (uint32)COUNT_BUF_C_ADDR_16k;
40114d5c:	b20c      	lw	v0,40114d8c <_init_sorting_map_level_16k+0x64>
40114d5e:	db56      	sw	v0,88(v1)
40114d60:	b308      	lw	v1,40114d80 <_init_sorting_map_level_16k+0x58>

			sorting_map_level_16k.count_buf_a_addr             = (uint32)COUNT_BUF_A_ADDR_16k;
40114d62:	b20c      	lw	v0,40114d90 <_init_sorting_map_level_16k+0x68>
40114d64:	db58      	sw	v0,96(v1)
40114d66:	b307      	lw	v1,40114d80 <_init_sorting_map_level_16k+0x58>
			sorting_map_level_16k.count_buf_b_addr             = (uint32)COUNT_BUF_B_ADDR_16k;
40114d68:	b20b      	lw	v0,40114d94 <_init_sorting_map_level_16k+0x6c>
40114d6a:	db5a      	sw	v0,104(v1)
40114d6c:	b305      	lw	v1,40114d80 <_init_sorting_map_level_16k+0x58>
			sorting_map_level_16k.count_buf_c_addr             = (uint32) COUNT_BUF_C_ADDR_16k ;
40114d6e:	b208      	lw	v0,40114d8c <_init_sorting_map_level_16k+0x64>
40114d70:	db5c      	sw	v0,112(v1)
40114d72:	b304      	lw	v1,40114d80 <_init_sorting_map_level_16k+0x58>
			sorting_map_level_16k.track_data_addr              = (uint32) TRACK_DATA_ADDR_16k;
40114d74:	b209      	lw	v0,40114d98 <_init_sorting_map_level_16k+0x70>
40114d76:	db5b      	sw	v0,108(v1)
40114d78:	65b9      	move	sp,s1
 return ;
}
40114d7a:	6411      	restore	8,s1
40114d7c:	e8a0      	jrc	ra
40114d7e:	0000      	addiu	s0,sp,0
40114d80:	54f4      	slti	a0,244
40114d82:	9fc1      	lw	a2,4(a3)
40114d84:	0a00      	la	v0,40114d84 <_init_sorting_map_level_16k+0x5c>
40114d86:	9fc2      	lw	a2,8(a3)
40114d88:	4280      	addiu	a0,v0,0
40114d8a:	9fc3      	lw	a2,12(a3)
40114d8c:	8100      	lb	s0,0(s1)
40114d8e:	9fc3      	lw	a2,12(a3)
40114d90:	8700      	lb	s0,0(a3)
40114d92:	9fc2      	lw	a2,8(a3)
40114d94:	0400      	addiu	a0,sp,0
40114d96:	9fc3      	lw	a2,12(a3)
40114d98:	bf80      	lwu	a0,0(a3)
40114d9a:	9fc3      	lw	a2,12(a3)

40114d9c <read_string>:
40114d9c:	64d9      	save	72,ra,s1

/******************************************************************************/
/*
 * \par  Description: 读取title的某一段长度
 *
 * \param[in]   index_buf      --数据索引
                index_num      --数据段数
                str_buf        --保存数据的起始地址
                str_offset_len --偏移的长度
                str_len        --读取的长度
 * \param[out]

 * \return      TRUE

 * \note
 *******************************************************************************/
bool read_string(uint16* index_buf, uint16 index_num, char* buf, uint8 offset, uint8 len, plist_type_e type)
{
40114d9e:	0106      	addiu	s1,sp,24
40114da0:	d98c      	sw	a0,48(s1)
40114da2:	6745      	move	v0,a1
40114da4:	d9ce      	sw	a2,56(s1)
40114da6:	6767      	move	v1,a3
40114da8:	9990      	lw	a0,64(s1)
40114daa:	99b1      	lw	a1,68(s1)
40114dac:	c95a      	sh	v0,52(s1)
40114dae:	f020 c17c 	sb	v1,60(s1)
40114db2:	c180      	sb	a0,0(s1)
40114db4:	c1a1      	sb	a1,1(s1)
40114db6:	b247      	lw	v0,40114ed0 <read_string+0x134>
    char* file_info = temp_plist_buf + PLIST_FILE_SIZE;//copy_deal_string中使用temp_plist_buf前256bytes
40114db8:	d941      	sw	v0,4(s1)
40114dba:	b247      	lw	v0,40114ed4 <read_string+0x138>
    char* data = temp_plist_buf;
40114dbc:	d942      	sw	v0,8(s1)
40114dbe:	a141      	lbu	v0,1(s1)
    uint32 file_offs, tag_addr, tag_size;
    uint32 num;
    uint16 i;

    switch (type)
40114dc0:	d948      	sw	v0,32(s1)
40114dc2:	9948      	lw	v0,32(s1)
40114dc4:	7201      	cmpi	v0,1
40114dc6:	6758      	move	v0,t8
40114dc8:	5a01      	sltiu	v0,1
40114dca:	611b      	btnez	40114e02 <read_string+0x66>
40114dcc:	9948      	lw	v0,32(s1)
40114dce:	5202      	slti	v0,2
40114dd0:	6003      	bteqz	40114dd8 <read_string+0x3c>
40114dd2:	9948      	lw	v0,32(s1)
40114dd4:	220c      	beqz	v0,40114dee <read_string+0x52>
40114dd6:	101e      	b	40114e14 <read_string+0x78>
40114dd8:	9948      	lw	v0,32(s1)
40114dda:	7202      	cmpi	v0,2
40114ddc:	6758      	move	v0,t8
40114dde:	5a01      	sltiu	v0,1
40114de0:	610b      	btnez	40114df8 <read_string+0x5c>
40114de2:	9948      	lw	v0,32(s1)
40114de4:	7203      	cmpi	v0,3
40114de6:	6758      	move	v0,t8
40114de8:	5a01      	sltiu	v0,1
40114dea:	6110      	btnez	40114e0c <read_string+0x70>
40114dec:	1013      	b	40114e14 <read_string+0x78>
40114dee:	6a00      	li	v0,0
    {
        case PLIST_TITLE:
        tag_addr = ID3_TITLE_OFFSET;
40114df0:	d944      	sw	v0,16(s1)
40114df2:	6a40      	li	v0,64
        tag_size = ID3_TITLE_SIZE;
40114df4:	d945      	sw	v0,20(s1)
40114df6:	100e      	b	40114e14 <read_string+0x78>
        break;
40114df8:	6a40      	li	v0,64
        case PLIST_ARTIST:
        tag_addr = ID3_ARTIST_OFFSET;
40114dfa:	d944      	sw	v0,16(s1)
40114dfc:	6a18      	li	v0,24
        tag_size = ID3_ARTIST_SIZE;
40114dfe:	d945      	sw	v0,20(s1)
40114e00:	1009      	b	40114e14 <read_string+0x78>
        break;
40114e02:	6a58      	li	v0,88
        case PLIST_ALBUM:
        tag_addr = ID3_ALBUM_OFFSET;
40114e04:	d944      	sw	v0,16(s1)
40114e06:	6a30      	li	v0,48
        tag_size = ID3_ALBUM_SIZE;
40114e08:	d945      	sw	v0,20(s1)
40114e0a:	1004      	b	40114e14 <read_string+0x78>
        break;
40114e0c:	6a88      	li	v0,136
    #if (ID3_GENRE_SUPPORT == 1)
        case PLIST_GENRE:
        tag_addr = ID3_GENRE_OFFSET;
40114e0e:	d944      	sw	v0,16(s1)
40114e10:	6a18      	li	v0,24
        tag_size = ID3_GENRE_SIZE;
40114e12:	d945      	sw	v0,20(s1)
40114e14:	6a00      	li	v0,0
        break;
    #endif
        default:
        break;
    }
    
    for (i = 0, num = 0; i < index_num; i++)
40114e16:	c94e      	sh	v0,28(s1)
40114e18:	6a00      	li	v0,0
40114e1a:	d946      	sw	v0,24(s1)
40114e1c:	a94e      	lhu	v0,28(s1)
40114e1e:	a97a      	lhu	v1,52(s1)
40114e20:	ea63      	sltu	v0,v1
40114e22:	6041      	bteqz	40114ea6 <read_string+0x10a>
40114e24:	a94e      	lhu	v0,28(s1)
    {
        file_offs = SECTOR_SIZE + index_buf[i] * PLIST_FILE_SIZE + tag_addr;
40114e26:	3344      	sll	v1,v0,1
40114e28:	994c      	lw	v0,48(s1)
40114e2a:	e349      	addu	v0,v1,v0
40114e2c:	aa40      	lhu	v0,0(v0)
40114e2e:	3340      	sll	v1,v0,8
40114e30:	9944      	lw	v0,16(s1)
40114e32:	e349      	addu	v0,v1,v0
40114e34:	f200 4a00 	addiu	v0,512
40114e38:	d943      	sw	v0,12(s1)
40114e3a:	b228      	lw	v0,40114ed8 <read_string+0x13c>
                
        vfs_file_seek(ap_vfs_mount, file_offs, SEEK_SET, ap_obj_handle);
40114e3c:	9a60      	lw	v1,0(v0)
40114e3e:	99a3      	lw	a1,12(s1)
40114e40:	b227      	lw	v0,40114edc <read_string+0x140>
40114e42:	9ae0      	lw	a3,0(v0)
40114e44:	6a0b      	li	v0,11
40114e46:	d204      	sw	v0,16(sp)
40114e48:	6783      	move	a0,v1
40114e4a:	6e00      	li	a2,0
40114e4c:	b225      	lw	v0,40114ee0 <read_string+0x144>
40114e4e:	eac0      	jalrc	v0
40114e50:	b222      	lw	v0,40114ed4 <read_string+0x138>
        vfs_file_read(ap_vfs_mount, file_info, tag_size, ap_obj_handle);
40114e52:	9a60      	lw	v1,0(v0)
40114e54:	99a1      	lw	a1,4(s1)
40114e56:	99c5      	lw	a2,20(s1)
40114e58:	b221      	lw	v0,40114edc <read_string+0x140>
40114e5a:	9ae0      	lw	a3,0(v0)
40114e5c:	6a0d      	li	v0,13
40114e5e:	d204      	sw	v0,16(sp)
40114e60:	6783      	move	a0,v1
40114e62:	b220      	lw	v0,40114ee0 <read_string+0x144>
40114e64:	eac0      	jalrc	v0
40114e66:	99a1      	lw	a1,4(s1)

        /*
         *因为data使用的空间与copy_deal_string使用的是相同的temp_plist_buf
         *故不需要再copy一次,dest参数传NULL即可
         */
        copy_deal_string(NULL, file_info, language_id, tag_size);//按照语言拷贝
40114e68:	b21f      	lw	v0,40114ee4 <read_string+0x148>
40114e6a:	a260      	lbu	v1,0(v0)
40114e6c:	9945      	lw	v0,20(s1)
40114e6e:	ea11      	zeb	v0
40114e70:	6c00      	li	a0,0
40114e72:	67c3      	move	a2,v1
40114e74:	67e2      	move	a3,v0
40114e76:	1810 51a5 	jal	48014694 <copy_deal_string>
40114e7a:	6500      	nop
40114e7c:	996e      	lw	v1,56(s1)
        libc_memcpy(&buf[num], data + offset, (uint32)len);
40114e7e:	9946      	lw	v0,24(s1)
40114e80:	e351      	addu	a0,v1,v0
40114e82:	f020 a17c 	lbu	v1,60(s1)
40114e86:	9942      	lw	v0,8(s1)
40114e88:	e349      	addu	v0,v1,v0
40114e8a:	a160      	lbu	v1,0(s1)
40114e8c:	67a2      	move	a1,v0
40114e8e:	67c3      	move	a2,v1
40114e90:	6f00      	li	a3,0
40114e92:	b216      	lw	v0,40114ee8 <read_string+0x14c>
40114e94:	eac0      	jalrc	v0
40114e96:	a160      	lbu	v1,0(s1)
        
        num += len;
40114e98:	9946      	lw	v0,24(s1)
40114e9a:	e269      	addu	v0,v1
40114e9c:	d946      	sw	v0,24(s1)
40114e9e:	a94e      	lhu	v0,28(s1)
40114ea0:	4241      	addiu	v0,v0,1
40114ea2:	c94e      	sh	v0,28(s1)
40114ea4:	17bb      	b	40114e1c <read_string+0x80>
40114ea6:	b212      	lw	v0,40114eec <read_string+0x150>
    }

    //重新seek到之前的文件偏移地址
    file_offs = ap_pos_file_offset * SECTOR_SIZE;
40114ea8:	aa40      	lhu	v0,0(v0)
40114eaa:	3240      	sll	v0,8
40114eac:	3244      	sll	v0,1
40114eae:	d943      	sw	v0,12(s1)
40114eb0:	b20a      	lw	v0,40114ed8 <read_string+0x13c>
    vfs_file_seek(ap_vfs_mount, file_offs, SEEK_SET, ap_obj_handle);
40114eb2:	9a60      	lw	v1,0(v0)
40114eb4:	99a3      	lw	a1,12(s1)
40114eb6:	b20a      	lw	v0,40114edc <read_string+0x140>
40114eb8:	9ae0      	lw	a3,0(v0)
40114eba:	6a0b      	li	v0,11
40114ebc:	d204      	sw	v0,16(sp)
40114ebe:	6783      	move	a0,v1
40114ec0:	6e00      	li	a2,0
40114ec2:	b208      	lw	v0,40114ee0 <read_string+0x144>
40114ec4:	eac0      	jalrc	v0
40114ec6:	6a01      	li	v0,1

    return TRUE;
40114ec8:	65b9      	move	sp,s1
}
40114eca:	6456      	restore	48,ra,s1
40114ecc:	e8a0      	jrc	ra
40114ece:	0000      	addiu	s0,sp,0
40114ed0:	5794      	slti	a3,148
40114ed2:	9fc1      	lw	a2,4(a3)
40114ed4:	5694      	slti	a2,148
40114ed6:	9fc1      	lw	a2,4(a3)
40114ed8:	5570      	slti	a1,112
40114eda:	9fc1      	lw	a2,4(a3)
40114edc:	556c      	slti	a1,108
40114ede:	9fc1      	lw	a2,4(a3)
40114ee0:	6411      	restore	8,s1
40114ee2:	bfc1      	lwu	a2,4(a3)
40114ee4:	5568      	slti	a1,104
40114ee6:	9fc1      	lw	a2,4(a3)
40114ee8:	6409      	restore	72
40114eea:	bfc1      	lwu	a2,4(a3)
40114eec:	556a      	slti	a1,106
40114eee:	9fc1      	lw	a2,4(a3)

40114ef0 <list_resort>:
40114ef0:	64d8      	save	64,ra,s1
/******************************************************************************/
/*
 * \par  Description: 256字节全排序歌曲title
 *
 * \param[in]   index_buf --序列的起始地址
 index_num --序列的数目
 str_buf   --读取的title前16字节保存地址
 str_len   --title段的长度,不能大于CMPSTR_MAX_BUF
 * \param[out]
 * \return true
 * \note
 *******************************************************************************/
bool list_resort(uint16* index_buf, uint16 index_num, char* str_buf, plist_type_e type, uint8 resort_len, uint8 len)
{
40114ef2:	0106      	addiu	s1,sp,24
40114ef4:	d98a      	sw	a0,40(s1)
40114ef6:	6745      	move	v0,a1
40114ef8:	d9cc      	sw	a2,48(s1)
40114efa:	6767      	move	v1,a3
40114efc:	998e      	lw	a0,56(s1)
40114efe:	99af      	lw	a1,60(s1)
40114f00:	c956      	sh	v0,44(s1)
40114f02:	f020 c174 	sb	v1,52(s1)
40114f06:	c180      	sb	a0,0(s1)
40114f08:	c1a1      	sb	a1,1(s1)
40114f0a:	b2c2      	lw	v0,40115210 <.L23+0x254>
    uint16 *sub_index_buf = (uint16*)(sorting_map_level_cur->count_buf_a_addr);//复用
40114f0c:	9a40      	lw	v0,0(v0)
40114f0e:	9a58      	lw	v0,96(v0)
40114f10:	d941      	sw	v0,4(s1)
40114f12:	b2c0      	lw	v0,40115210 <.L23+0x254>
    uint8  *offsets_len = (uint8*)(sorting_map_level_cur->count_buf_b_addr);//复用1/2 COUNT_BUF_B_ADDR
40114f14:	9a40      	lw	v0,0(v0)
40114f16:	9a5a      	lw	v0,104(v0)
40114f18:	d942      	sw	v0,8(s1)
40114f1a:	6a00      	li	v0,0
    
    uint16 i, j, k, n;
    uint16 sub_str_len = 0;
40114f1c:	c94a      	sh	v0,20(s1)
40114f1e:	6a00      	li	v0,0
    bool resort_flag = FALSE;
40114f20:	c156      	sb	v0,22(s1)
40114f22:	a161      	lbu	v1,1(s1)
    
    if (len < resort_len || (type != PLIST_TITLE))
40114f24:	a140      	lbu	v0,0(s1)
40114f26:	eb43      	sltu	v1,v0
40114f28:	6104      	btnez	40114f32 <list_resort+0x42>
40114f2a:	f020 a154 	lbu	v0,52(s1)
40114f2e:	2a01      	bnez	v0,40114f32 <list_resort+0x42>
40114f30:	103c      	b	40114faa <list_resort+0xba>
40114f32:	b3b9      	lw	v1,40115214 <.L23+0x258>
    {
        //查找str_len长度中不相同的段
        sort_depend_buf = str_buf;
40114f34:	994c      	lw	v0,48(s1)
40114f36:	db40      	sw	v0,0(v1)
40114f38:	b2b8      	lw	v0,40115218 <.L23+0x25c>
        resort_data[0] = 0;
40114f3a:	9a60      	lw	v1,0(v0)
40114f3c:	6a00      	li	v0,0
40114f3e:	cb40      	sh	v0,0(v1)
40114f40:	a976      	lhu	v1,44(s1)
        offsets_len[index_num-1] = len;//不需要排序
40114f42:	9942      	lw	v0,8(s1)
40114f44:	e34d      	addu	v1,v0
40114f46:	a141      	lbu	v0,1(s1)
40114f48:	f7ff c35f 	sb	v0,-1(v1)
40114f4c:	6a01      	li	v0,1
        
        for (i = 1, n = 0; i < index_num; i++)
40114f4e:	c946      	sh	v0,12(s1)
40114f50:	6a00      	li	v0,0
40114f52:	c949      	sh	v0,18(s1)
40114f54:	a946      	lhu	v0,12(s1)
40114f56:	a976      	lhu	v1,44(s1)
40114f58:	ea63      	sltu	v0,v1
40114f5a:	6027      	bteqz	40114faa <list_resort+0xba>
40114f5c:	a946      	lhu	v0,12(s1)
        {
            if (0 != compare_string(&index_buf[i], &index_buf[i - 1], len))
40114f5e:	3344      	sll	v1,v0,1
40114f60:	994a      	lw	v0,40(s1)
40114f62:	e351      	addu	a0,v1,v0
40114f64:	a946      	lhu	v0,12(s1)
40114f66:	3344      	sll	v1,v0,1
40114f68:	994a      	lw	v0,40(s1)
40114f6a:	e349      	addu	v0,v1,v0
40114f6c:	424e      	addiu	v0,v0,-2
40114f6e:	a161      	lbu	v1,1(s1)
40114f70:	67a2      	move	a1,v0
40114f72:	67c3      	move	a2,v1
40114f74:	b2aa      	lw	v0,4011521c <.L23+0x260>
40114f76:	eac0      	jalrc	v0
40114f78:	651a      	move	t8,v0
40114f7a:	6003      	bteqz	40114f82 <list_resort+0x92>
40114f7c:	6a00      	li	v0,0
            {
                //不相等
                
                
                 n = 0;
40114f7e:	c949      	sh	v0,18(s1)
40114f80:	1003      	b	40114f88 <list_resort+0x98>
40114f82:	a949      	lhu	v0,18(s1)
            }
            else
            {
                n++;
40114f84:	4241      	addiu	v0,v0,1
40114f86:	c949      	sh	v0,18(s1)
40114f88:	a946      	lhu	v0,12(s1)
            }

            resort_data[i] = n;
40114f8a:	3344      	sll	v1,v0,1
40114f8c:	b2a3      	lw	v0,40115218 <.L23+0x25c>
40114f8e:	9a40      	lw	v0,0(v0)
40114f90:	e34d      	addu	v1,v0
40114f92:	a949      	lhu	v0,18(s1)
40114f94:	cb40      	sh	v0,0(v1)
40114f96:	a966      	lhu	v1,12(s1)
            offsets_len[i-1] = len;//不需要排序
40114f98:	9942      	lw	v0,8(s1)
40114f9a:	e34d      	addu	v1,v0
40114f9c:	a141      	lbu	v0,1(s1)
40114f9e:	f7ff c35f 	sb	v0,-1(v1)
40114fa2:	a946      	lhu	v0,12(s1)
40114fa4:	4241      	addiu	v0,v0,1
40114fa6:	c946      	sh	v0,12(s1)
40114fa8:	17d5      	b	40114f54 <list_resort+0x64>
40114faa:	b29e      	lw	v0,40115220 <.L23+0x264>
        } 
    }
    
    plist_get_app_msg();
40114fac:	eac0      	jalrc	v0
40114fae:	a161      	lbu	v1,1(s1)
    
    if (len >= resort_len)
40114fb0:	a140      	lbu	v0,0(s1)
40114fb2:	eb43      	sltu	v1,v0
40114fb4:	6103      	btnez	40114fbc <.L23>
40114fb6:	6a01      	li	v0,1
    {
        return TRUE;
40114fb8:	d946      	sw	v0,24(s1)
40114fba:	1125      	b	40115206 <.L23+0x24a>

40114fbc <.L23>:
40114fbc:	6a00      	li	v0,0
    }
   
    resort:
    //读title排序相同的title
    for (i = 0; i < index_num; i++)
40114fbe:	c946      	sh	v0,12(s1)
40114fc0:	a946      	lhu	v0,12(s1)
40114fc2:	a976      	lhu	v1,44(s1)
40114fc4:	ea63      	sltu	v0,v1
40114fc6:	f100 6012 	bteqz	401151ee <.L23+0x232>
40114fca:	a946      	lhu	v0,12(s1)
    {
        if (resort_data[i] != 0)
40114fcc:	3344      	sll	v1,v0,1
40114fce:	b293      	lw	v0,40115218 <.L23+0x25c>
40114fd0:	9a40      	lw	v0,0(v0)
40114fd2:	e349      	addu	v0,v1,v0
40114fd4:	aa40      	lhu	v0,0(v0)
40114fd6:	2201      	beqz	v0,40114fda <.L23+0x1e>
40114fd8:	1106      	b	401151e6 <.L23+0x22a>
        {
            continue;
40114fda:	6a01      	li	v0,1
        }

        n = 1;
40114fdc:	c949      	sh	v0,18(s1)
40114fde:	a966      	lhu	v1,12(s1)

        while (((i + n) < index_num) && (resort_data[i + n] != 0))
40114fe0:	a949      	lhu	v0,18(s1)
40114fe2:	e34d      	addu	v1,v0
40114fe4:	a956      	lhu	v0,44(s1)
40114fe6:	eb42      	slt	v1,v0
40114fe8:	600d      	bteqz	40115004 <.L23+0x48>
40114fea:	a966      	lhu	v1,12(s1)
40114fec:	a949      	lhu	v0,18(s1)
40114fee:	e349      	addu	v0,v1,v0
40114ff0:	3344      	sll	v1,v0,1
40114ff2:	b28a      	lw	v0,40115218 <.L23+0x25c>
40114ff4:	9a40      	lw	v0,0(v0)
40114ff6:	e349      	addu	v0,v1,v0
40114ff8:	aa40      	lhu	v0,0(v0)
40114ffa:	2204      	beqz	v0,40115004 <.L23+0x48>
40114ffc:	a949      	lhu	v0,18(s1)
        {
            n++;
40114ffe:	4241      	addiu	v0,v0,1
40115000:	c949      	sh	v0,18(s1)
40115002:	17ed      	b	40114fde <.L23+0x22>
40115004:	a949      	lhu	v0,18(s1)
        }

        if (n < 2)
40115006:	5a02      	sltiu	v0,2
40115008:	6001      	bteqz	4011500c <.L23+0x50>
4011500a:	10ed      	b	401151e6 <.L23+0x22a>
        {
            continue;
4011500c:	b281      	lw	v0,40115210 <.L23+0x254>
        }

        //求取排序长度
        sub_str_len = (sorting_map_level_cur->sort_buf_size) / n;
4011500e:	9a40      	lw	v0,0(v0)
40115010:	a969      	lhu	v1,18(s1)
40115012:	9a40      	lw	v0,0(v0)
40115014:	ea7b      	divu	zero,v0,v1
40115016:	2b01      	bnez	v1,4011501a <.L23+0x5e>
40115018:	e8e5      	break	7
4011501a:	ea12      	mflo	v0
4011501c:	c94a      	sh	v0,20(s1)
4011501e:	a9aa      	lhu	a1,20(s1)

        if (sub_str_len > (resort_len - offsets_len[i]))
40115020:	a180      	lbu	a0,0(s1)
40115022:	a966      	lhu	v1,12(s1)
40115024:	9942      	lw	v0,8(s1)
40115026:	e349      	addu	v0,v1,v0
40115028:	a240      	lbu	v0,0(v0)
4011502a:	e44b      	subu	v0,a0,v0
4011502c:	eaa2      	slt	v0,a1
4011502e:	6007      	bteqz	4011503e <.L23+0x82>
40115030:	a180      	lbu	a0,0(s1)
        {
            sub_str_len = resort_len - offsets_len[i];
40115032:	a966      	lhu	v1,12(s1)
40115034:	9942      	lw	v0,8(s1)
40115036:	e349      	addu	v0,v1,v0
40115038:	a240      	lbu	v0,0(v0)
4011503a:	e44b      	subu	v0,a0,v0
4011503c:	c94a      	sh	v0,20(s1)
4011503e:	a94a      	lhu	v0,20(s1)
        }

        //不能大于CMPSTR_MAX_BUF
        if (sub_str_len > CMPSTR_MAX_BUF)
40115040:	5a65      	sltiu	v0,101
40115042:	6102      	btnez	40115048 <.L23+0x8c>
40115044:	6a64      	li	v0,100
        {
            sub_str_len = CMPSTR_MAX_BUF;
40115046:	c94a      	sh	v0,20(s1)
40115048:	a966      	lhu	v1,12(s1)
        }

        if ((offsets_len[i] >= resort_len) || (sub_str_len == 0))
4011504a:	9942      	lw	v0,8(s1)
4011504c:	e349      	addu	v0,v1,v0
4011504e:	a260      	lbu	v1,0(v0)
40115050:	a140      	lbu	v0,0(s1)
40115052:	eb43      	sltu	v1,v0
40115054:	6002      	bteqz	4011505a <.L23+0x9e>
40115056:	a94a      	lhu	v0,20(s1)
40115058:	2a06      	bnez	v0,40115066 <.L23+0xaa>
4011505a:	a966      	lhu	v1,12(s1)
        {
            i += n - 1;
4011505c:	a949      	lhu	v0,18(s1)
4011505e:	e349      	addu	v0,v1,v0
40115060:	424f      	addiu	v0,v0,-1
40115062:	c946      	sh	v0,12(s1)
40115064:	10c0      	b	401151e6 <.L23+0x22a>
            continue;
40115066:	a946      	lhu	v0,12(s1)
        }
        //排序长度合理，偏移未越界，继续
        plt_print("len:", sub_str_len, 2);
        plt_print("off:", offsets_len[i], 2);
        plt_print("i:", i, 2);
        plt_print("n:", n, 2);

        //获取n段数据，偏移offsets_len[i]，长度sub_str_len
        read_string(&index_buf[i], n, str_buf, offsets_len[i], (uint8)sub_str_len, type);
40115068:	3344      	sll	v1,v0,1
4011506a:	994a      	lw	v0,40(s1)
4011506c:	e351      	addu	a0,v1,v0
4011506e:	a9a9      	lhu	a1,18(s1)
40115070:	99cc      	lw	a2,48(s1)
40115072:	a966      	lhu	v1,12(s1)
40115074:	9942      	lw	v0,8(s1)
40115076:	e349      	addu	v0,v1,v0
40115078:	a260      	lbu	v1,0(v0)
4011507a:	a94a      	lhu	v0,20(s1)
4011507c:	ea11      	zeb	v0
4011507e:	d204      	sw	v0,16(sp)
40115080:	f020 a154 	lbu	v0,52(s1)
40115084:	d205      	sw	v0,20(sp)
40115086:	67e3      	move	a3,v1
40115088:	1880 5367 	jal	40114d9c <read_string>
4011508c:	6500      	nop
4011508e:	6a00      	li	v0,0
        
        for (j = 0; j < n; j++)
40115090:	c947      	sh	v0,14(s1)
40115092:	a947      	lhu	v0,14(s1)
40115094:	a969      	lhu	v1,18(s1)
40115096:	ea63      	sltu	v0,v1
40115098:	600a      	bteqz	401150ae <.L23+0xf2>
4011509a:	a947      	lhu	v0,14(s1)
        {
            sub_index_buf[j] = j;//初始化
4011509c:	3344      	sll	v1,v0,1
4011509e:	9941      	lw	v0,4(s1)
401150a0:	e34d      	addu	v1,v0
401150a2:	a947      	lhu	v0,14(s1)
401150a4:	cb40      	sh	v0,0(v1)
401150a6:	a947      	lhu	v0,14(s1)
401150a8:	4241      	addiu	v0,v0,1
401150aa:	c947      	sh	v0,14(s1)
401150ac:	17f2      	b	40115092 <.L23+0xd6>
401150ae:	9961      	lw	v1,4(s1)
        }
        
        //重排序,索引信息保存在sub_index_buf
        list_sort((char*)sub_index_buf, n, 2, str_buf, SORT_CMP_STRING, (uint8)sub_str_len);
401150b0:	a9a9      	lhu	a1,18(s1)
401150b2:	99ec      	lw	a3,48(s1)
401150b4:	6a02      	li	v0,2
401150b6:	d204      	sw	v0,16(sp)
401150b8:	a94a      	lhu	v0,20(s1)
401150ba:	ea11      	zeb	v0
401150bc:	d205      	sw	v0,20(sp)
401150be:	6783      	move	a0,v1
401150c0:	6e02      	li	a2,2
401150c2:	b259      	lw	v0,40115224 <.L23+0x268>
401150c4:	eac0      	jalrc	v0
401150c6:	a946      	lhu	v0,12(s1)

        //偏移量增加
        for (j = i; j < (i + n); j++)
401150c8:	c947      	sh	v0,14(s1)
401150ca:	a987      	lhu	a0,14(s1)
401150cc:	a966      	lhu	v1,12(s1)
401150ce:	a949      	lhu	v0,18(s1)
401150d0:	e349      	addu	v0,v1,v0
401150d2:	ec42      	slt	a0,v0
401150d4:	600f      	bteqz	401150f4 <.L23+0x138>
401150d6:	a967      	lhu	v1,14(s1)
        {
            offsets_len[j] += sub_str_len;
401150d8:	9942      	lw	v0,8(s1)
401150da:	e355      	addu	a1,v1,v0
401150dc:	a967      	lhu	v1,14(s1)
401150de:	9942      	lw	v0,8(s1)
401150e0:	e349      	addu	v0,v1,v0
401150e2:	a96a      	lhu	v1,20(s1)
401150e4:	a280      	lbu	a0,0(v0)
401150e6:	6743      	move	v0,v1
401150e8:	e449      	addu	v0,a0,v0
401150ea:	c540      	sb	v0,0(a1)
401150ec:	a947      	lhu	v0,14(s1)
401150ee:	4241      	addiu	v0,v0,1
401150f0:	c947      	sh	v0,14(s1)
401150f2:	17eb      	b	401150ca <.L23+0x10e>
401150f4:	a946      	lhu	v0,12(s1)
        }

        //查找重排后的title段是否还有相同的title
        resort_data[i] = 0;
401150f6:	3344      	sll	v1,v0,1
401150f8:	b248      	lw	v0,40115218 <.L23+0x25c>
401150fa:	9a40      	lw	v0,0(v0)
401150fc:	e34d      	addu	v1,v0
401150fe:	6a00      	li	v0,0
40115100:	cb40      	sh	v0,0(v1)
40115102:	6a01      	li	v0,1
        for (j = 1, k = 0; j < n; j++)
40115104:	c947      	sh	v0,14(s1)
40115106:	6a00      	li	v0,0
40115108:	c948      	sh	v0,16(s1)
4011510a:	a947      	lhu	v0,14(s1)
4011510c:	a969      	lhu	v1,18(s1)
4011510e:	ea63      	sltu	v0,v1
40115110:	6031      	bteqz	40115174 <.L23+0x1b8>
40115112:	a947      	lhu	v0,14(s1)
        {
            if (0 != compare_string(&sub_index_buf[j], &sub_index_buf[j - 1], (uint8)sub_str_len))
40115114:	3344      	sll	v1,v0,1
40115116:	9941      	lw	v0,4(s1)
40115118:	e351      	addu	a0,v1,v0
4011511a:	a947      	lhu	v0,14(s1)
4011511c:	3344      	sll	v1,v0,1
4011511e:	9941      	lw	v0,4(s1)
40115120:	e349      	addu	v0,v1,v0
40115122:	426e      	addiu	v1,v0,-2
40115124:	a94a      	lhu	v0,20(s1)
40115126:	ea11      	zeb	v0
40115128:	67a3      	move	a1,v1
4011512a:	67c2      	move	a2,v0
4011512c:	b23c      	lw	v0,4011521c <.L23+0x260>
4011512e:	eac0      	jalrc	v0
40115130:	651a      	move	t8,v0
40115132:	6003      	bteqz	4011513a <.L23+0x17e>
40115134:	6a00      	li	v0,0
            {
                //不相等
                k = 0;
40115136:	c948      	sh	v0,16(s1)
40115138:	1010      	b	4011515a <.L23+0x19e>
4011513a:	a948      	lhu	v0,16(s1)
            }
            else
            {
                k += 1;
4011513c:	4241      	addiu	v0,v0,1
4011513e:	c948      	sh	v0,16(s1)
40115140:	a156      	lbu	v0,22(s1)
                if ((resort_flag == FALSE) && (k >= 1) && (offsets_len[i] < resort_len))
40115142:	2a0b      	bnez	v0,4011515a <.L23+0x19e>
40115144:	a948      	lhu	v0,16(s1)
40115146:	2209      	beqz	v0,4011515a <.L23+0x19e>
40115148:	a966      	lhu	v1,12(s1)
4011514a:	9942      	lw	v0,8(s1)
4011514c:	e349      	addu	v0,v1,v0
4011514e:	a260      	lbu	v1,0(v0)
40115150:	a140      	lbu	v0,0(s1)
40115152:	eb43      	sltu	v1,v0
40115154:	6002      	bteqz	4011515a <.L23+0x19e>
40115156:	6a01      	li	v0,1
                {
                    //有相同的字段,且没有到尾部
                    resort_flag = TRUE;
40115158:	c156      	sb	v0,22(s1)
4011515a:	a966      	lhu	v1,12(s1)
                }
            }
            resort_data[i+j] = k;
4011515c:	a947      	lhu	v0,14(s1)
4011515e:	e349      	addu	v0,v1,v0
40115160:	3344      	sll	v1,v0,1
40115162:	b22e      	lw	v0,40115218 <.L23+0x25c>
40115164:	9a40      	lw	v0,0(v0)
40115166:	e34d      	addu	v1,v0
40115168:	a948      	lhu	v0,16(s1)
4011516a:	cb40      	sh	v0,0(v1)
4011516c:	a947      	lhu	v0,14(s1)
4011516e:	4241      	addiu	v0,v0,1
40115170:	c947      	sh	v0,14(s1)
40115172:	17cb      	b	4011510a <.L23+0x14e>
40115174:	6a00      	li	v0,0
        }
        
        //更新索引信息到index_buf
        for (j = 0, k = 0; j < n; j++)
40115176:	c947      	sh	v0,14(s1)
40115178:	6a00      	li	v0,0
4011517a:	c948      	sh	v0,16(s1)
4011517c:	a947      	lhu	v0,14(s1)
4011517e:	a969      	lhu	v1,18(s1)
40115180:	ea63      	sltu	v0,v1
40115182:	6016      	bteqz	401151b0 <.L23+0x1f4>
40115184:	a947      	lhu	v0,14(s1)
        {
            k = sub_index_buf[j];
40115186:	3344      	sll	v1,v0,1
40115188:	9941      	lw	v0,4(s1)
4011518a:	e349      	addu	v0,v1,v0
4011518c:	aa40      	lhu	v0,0(v0)
4011518e:	c948      	sh	v0,16(s1)
40115190:	a947      	lhu	v0,14(s1)
            sub_index_buf[j] = index_buf[i + k];
40115192:	3344      	sll	v1,v0,1
40115194:	9941      	lw	v0,4(s1)
40115196:	e351      	addu	a0,v1,v0
40115198:	a966      	lhu	v1,12(s1)
4011519a:	a948      	lhu	v0,16(s1)
4011519c:	e349      	addu	v0,v1,v0
4011519e:	3344      	sll	v1,v0,1
401151a0:	994a      	lw	v0,40(s1)
401151a2:	e349      	addu	v0,v1,v0
401151a4:	aa40      	lhu	v0,0(v0)
401151a6:	cc40      	sh	v0,0(a0)
401151a8:	a947      	lhu	v0,14(s1)
401151aa:	4241      	addiu	v0,v0,1
401151ac:	c947      	sh	v0,14(s1)
401151ae:	17e6      	b	4011517c <.L23+0x1c0>
401151b0:	6a00      	li	v0,0
        }

        for (j = 0; j < n; j++)
401151b2:	c947      	sh	v0,14(s1)
401151b4:	a947      	lhu	v0,14(s1)
401151b6:	a969      	lhu	v1,18(s1)
401151b8:	ea63      	sltu	v0,v1
401151ba:	6010      	bteqz	401151dc <.L23+0x220>
401151bc:	a966      	lhu	v1,12(s1)
        {
            index_buf[i + j] = sub_index_buf[j];
401151be:	a947      	lhu	v0,14(s1)
401151c0:	e349      	addu	v0,v1,v0
401151c2:	3344      	sll	v1,v0,1
401151c4:	994a      	lw	v0,40(s1)
401151c6:	e351      	addu	a0,v1,v0
401151c8:	a947      	lhu	v0,14(s1)
401151ca:	3344      	sll	v1,v0,1
401151cc:	9941      	lw	v0,4(s1)
401151ce:	e349      	addu	v0,v1,v0
401151d0:	aa40      	lhu	v0,0(v0)
401151d2:	cc40      	sh	v0,0(a0)
401151d4:	a947      	lhu	v0,14(s1)
401151d6:	4241      	addiu	v0,v0,1
401151d8:	c947      	sh	v0,14(s1)
401151da:	17ec      	b	401151b4 <.L23+0x1f8>
401151dc:	a966      	lhu	v1,12(s1)
        }

        i += n - 1;
401151de:	a949      	lhu	v0,18(s1)
401151e0:	e349      	addu	v0,v1,v0
401151e2:	424f      	addiu	v0,v0,-1
401151e4:	c946      	sh	v0,12(s1)
401151e6:	a946      	lhu	v0,12(s1)
401151e8:	4241      	addiu	v0,v0,1
401151ea:	c946      	sh	v0,12(s1)
401151ec:	16e9      	b	40114fc0 <.L23+0x4>
401151ee:	a156      	lbu	v0,22(s1)
    }

    //判断是否还有相同的title
    if (resort_flag == TRUE)
401151f0:	7201      	cmpi	v0,1
401151f2:	6758      	move	v0,t8
401151f4:	5a01      	sltiu	v0,1
401151f6:	6005      	bteqz	40115202 <.L23+0x246>
401151f8:	b20a      	lw	v0,40115220 <.L23+0x264>
    {
        plist_get_app_msg();
401151fa:	eac0      	jalrc	v0
401151fc:	6a00      	li	v0,0
        resort_flag = FALSE;
401151fe:	c156      	sb	v0,22(s1)
40115200:	16dd      	b	40114fbc <.L23>
        //需要深一层的重排
        goto resort;
40115202:	6a01      	li	v0,1
    }
    
    return TRUE;
40115204:	d946      	sw	v0,24(s1)
40115206:	9946      	lw	v0,24(s1)
}
40115208:	65b9      	move	sp,s1
4011520a:	6455      	restore	40,ra,s1
4011520c:	e8a0      	jrc	ra
4011520e:	0000      	addiu	s0,sp,0
40115210:	5408      	slti	a0,8
40115212:	9fc1      	lw	a2,4(a3)
40115214:	5610      	slti	a2,16
40115216:	9fc1      	lw	a2,4(a3)
40115218:	5634      	slti	a2,52
4011521a:	9fc1      	lw	a2,4(a3)
4011521c:	2549      	beqz	a1,401152b0 <.L23+0x2f4>
4011521e:	7181      	cmpi	s1,129
40115220:	65e9      	move	t7,s1
40115222:	bfc1      	lwu	a2,4(a3)
40115224:	2875      	bnez	s0,40115310 <.L23+0x354>
40115226:	7181      	cmpi	s1,129
	...
Disassembly of section BANK_FORNT_CONTROL_1_5:

40154c00 <deal_if_83name>:
40154c00:	6492      	save	16,s1

//过滤空格,转换为 xx.yyy格式
//返回字符长度，不包含结束符
static void deal_if_83name(uint8 *nbuf)
{
40154c02:	673d      	move	s1,sp
40154c04:	d984      	sw	a0,16(s1)
40154c06:	9944      	lw	v0,16(s1)
    uint8 i, j;
    uint8 *name_buf = nbuf;
40154c08:	d941      	sw	v0,4(s1)
40154c0a:	9941      	lw	v0,4(s1)

    if ((name_buf[0] == 0xff) && (name_buf[1] == 0xfe))
40154c0c:	a240      	lbu	v0,0(v0)
40154c0e:	72ff      	cmpi	v0,255
40154c10:	6758      	move	v0,t8
40154c12:	5a01      	sltiu	v0,1
40154c14:	6007      	bteqz	40154c24 <deal_if_83name+0x24>
40154c16:	9941      	lw	v0,4(s1)
40154c18:	a241      	lbu	v0,1(v0)
40154c1a:	72fe      	cmpi	v0,254
40154c1c:	6758      	move	v0,t8
40154c1e:	5a01      	sltiu	v0,1
40154c20:	6001      	bteqz	40154c24 <deal_if_83name+0x24>
40154c22:	1057      	b	40154cd2 <deal_if_83name+0xd2>
    {
        return;
40154c24:	6a0b      	li	v0,11
    }

    //扩展名往后移1个字节
    for (i = 11; i > 8; i--)
40154c26:	c140      	sb	v0,0(s1)
40154c28:	a140      	lbu	v0,0(s1)
40154c2a:	5a09      	sltiu	v0,9
40154c2c:	610d      	btnez	40154c48 <deal_if_83name+0x48>
40154c2e:	a160      	lbu	v1,0(s1)
    {
        name_buf[i] = name_buf[i - 1];
40154c30:	9941      	lw	v0,4(s1)
40154c32:	e351      	addu	a0,v1,v0
40154c34:	a160      	lbu	v1,0(s1)
40154c36:	9941      	lw	v0,4(s1)
40154c38:	e349      	addu	v0,v1,v0
40154c3a:	f7ff a25f 	lbu	v0,-1(v0)
40154c3e:	c440      	sb	v0,0(a0)
40154c40:	a140      	lbu	v0,0(s1)
40154c42:	424f      	addiu	v0,v0,-1
40154c44:	c140      	sb	v0,0(s1)
40154c46:	17f0      	b	40154c28 <deal_if_83name+0x28>
40154c48:	6a07      	li	v0,7
    }

    //过滤文件名空格
    for (i = 7; i > 0; i--)
40154c4a:	c140      	sb	v0,0(s1)
40154c4c:	a140      	lbu	v0,0(s1)
40154c4e:	220d      	beqz	v0,40154c6a <deal_if_83name+0x6a>
40154c50:	a160      	lbu	v1,0(s1)
    {
        if (name_buf[i] != 0x20)
40154c52:	9941      	lw	v0,4(s1)
40154c54:	e349      	addu	v0,v1,v0
40154c56:	a240      	lbu	v0,0(v0)
40154c58:	7220      	cmpi	v0,32
40154c5a:	6758      	move	v0,t8
40154c5c:	5a01      	sltiu	v0,1
40154c5e:	6101      	btnez	40154c62 <deal_if_83name+0x62>
40154c60:	1004      	b	40154c6a <deal_if_83name+0x6a>
        {
            break;
40154c62:	a140      	lbu	v0,0(s1)
40154c64:	424f      	addiu	v0,v0,-1
40154c66:	c140      	sb	v0,0(s1)
40154c68:	17f1      	b	40154c4c <deal_if_83name+0x4c>
40154c6a:	a140      	lbu	v0,0(s1)
        }
    }

    //加点
    i++;
40154c6c:	4241      	addiu	v0,v0,1
40154c6e:	c140      	sb	v0,0(s1)
40154c70:	a160      	lbu	v1,0(s1)
    name_buf[i] = 0x2e; //加"."
40154c72:	9941      	lw	v0,4(s1)
40154c74:	e34d      	addu	v1,v0
40154c76:	6a2e      	li	v0,46
40154c78:	c340      	sb	v0,0(v1)
40154c7a:	6a09      	li	v0,9

    //过滤扩展名空格
    for (j = 9; j < 12; j++)
40154c7c:	c141      	sb	v0,1(s1)
40154c7e:	a141      	lbu	v0,1(s1)
40154c80:	5a0c      	sltiu	v0,12
40154c82:	6017      	bteqz	40154cb2 <deal_if_83name+0xb2>
40154c84:	a161      	lbu	v1,1(s1)
    {
        if (name_buf[j] != 0x20)
40154c86:	9941      	lw	v0,4(s1)
40154c88:	e349      	addu	v0,v1,v0
40154c8a:	a240      	lbu	v0,0(v0)
40154c8c:	7220      	cmpi	v0,32
40154c8e:	6758      	move	v0,t8
40154c90:	5a01      	sltiu	v0,1
40154c92:	610b      	btnez	40154caa <deal_if_83name+0xaa>
40154c94:	a140      	lbu	v0,0(s1)
        {
            i++;
40154c96:	4241      	addiu	v0,v0,1
40154c98:	c140      	sb	v0,0(s1)
40154c9a:	a160      	lbu	v1,0(s1)
            name_buf[i] = name_buf[j];
40154c9c:	9941      	lw	v0,4(s1)
40154c9e:	e351      	addu	a0,v1,v0
40154ca0:	a161      	lbu	v1,1(s1)
40154ca2:	9941      	lw	v0,4(s1)
40154ca4:	e349      	addu	v0,v1,v0
40154ca6:	a240      	lbu	v0,0(v0)
40154ca8:	c440      	sb	v0,0(a0)
40154caa:	a141      	lbu	v0,1(s1)
40154cac:	4241      	addiu	v0,v0,1
40154cae:	c141      	sb	v0,1(s1)
40154cb0:	17e6      	b	40154c7e <deal_if_83name+0x7e>
40154cb2:	a160      	lbu	v1,0(s1)
        }
    }

    if (name_buf[i] != 0x2e)
40154cb4:	9941      	lw	v0,4(s1)
40154cb6:	e349      	addu	v0,v1,v0
40154cb8:	a240      	lbu	v0,0(v0)
40154cba:	722e      	cmpi	v0,46
40154cbc:	6758      	move	v0,t8
40154cbe:	5a01      	sltiu	v0,1
40154cc0:	6103      	btnez	40154cc8 <deal_if_83name+0xc8>
40154cc2:	a140      	lbu	v0,0(s1)
    {
        i++;
40154cc4:	4241      	addiu	v0,v0,1
40154cc6:	c140      	sb	v0,0(s1)
40154cc8:	a160      	lbu	v1,0(s1)
    }

    name_buf[i] = 0x00;
40154cca:	9941      	lw	v0,4(s1)
40154ccc:	e34d      	addu	v1,v0
40154cce:	6a00      	li	v0,0
40154cd0:	c340      	sb	v0,0(v1)
40154cd2:	65b9      	move	sp,s1

    return;
}
40154cd4:	6412      	restore	16,s1
40154cd6:	e8a0      	jrc	ra

40154cd8 <get_others_info>:
40154cd8:	64d5      	save	40,ra,s1

/******************************************************************************/
/*
 * \par  Description: 获取找到的文件信息(路径，扩展名等)
 *
 * \param[in]    ext_name--扩展名

 * \param[out]

 * \return

 * \note
 *******************************************************************************/
static void get_others_info(uint32 ext_name)
{
40154cda:	0106      	addiu	s1,sp,24
40154cdc:	d984      	sw	a0,16(s1)
40154cde:	b235      	lw	v0,40154db0 <get_others_info+0xd8>
    uint8 i, len;
    len = (uint8) vfs_get_name(ap_vfs_mount, other_f_p->title_string, (ID3_TITLE_SIZE) / 2);
40154ce0:	9a60      	lw	v1,0(v0)
40154ce2:	b235      	lw	v0,40154db4 <get_others_info+0xdc>
40154ce4:	9aa0      	lw	a1,0(v0)
40154ce6:	6a02      	li	v0,2
40154ce8:	d204      	sw	v0,16(sp)
40154cea:	6783      	move	a0,v1
40154cec:	6e20      	li	a2,32
40154cee:	6f00      	li	a3,0
40154cf0:	b232      	lw	v0,40154db8 <get_others_info+0xe0>
40154cf2:	eac0      	jalrc	v0
40154cf4:	c141      	sb	v0,1(s1)
40154cf6:	b232      	lw	v0,40154dbc <get_others_info+0xe4>

    if (lib_num == 2)
40154cf8:	a240      	lbu	v0,0(v0)
40154cfa:	7202      	cmpi	v0,2
40154cfc:	6758      	move	v0,t8
40154cfe:	5a01      	sltiu	v0,1
40154d00:	6033      	bteqz	40154d68 <get_others_info+0x90>
40154d02:	b22d      	lw	v0,40154db4 <get_others_info+0xdc>
    {
        //m3u.lib
        //m3u列表文件不显示后缀名
        if ((uint8) other_f_p->title_string[0] != 0xff)
40154d04:	9a40      	lw	v0,0(v0)
40154d06:	a240      	lbu	v0,0(v0)
40154d08:	72ff      	cmpi	v0,255
40154d0a:	6758      	move	v0,t8
40154d0c:	5a01      	sltiu	v0,1
40154d0e:	610d      	btnez	40154d2a <get_others_info+0x52>
40154d10:	b229      	lw	v0,40154db4 <get_others_info+0xdc>
        {
            //短名
            other_f_p->title_string[8] = 0x20;
40154d12:	9a60      	lw	v1,0(v0)
40154d14:	6a20      	li	v0,32
40154d16:	c348      	sb	v0,8(v1)
40154d18:	b227      	lw	v0,40154db4 <get_others_info+0xdc>
            other_f_p->title_string[9] = 0x20;
40154d1a:	9a60      	lw	v1,0(v0)
40154d1c:	6a20      	li	v0,32
40154d1e:	c349      	sb	v0,9(v1)
40154d20:	b225      	lw	v0,40154db4 <get_others_info+0xdc>
            other_f_p->title_string[10] = 0x20;
40154d22:	9a60      	lw	v1,0(v0)
40154d24:	6a20      	li	v0,32
40154d26:	c34a      	sb	v0,10(v1)
40154d28:	101f      	b	40154d68 <get_others_info+0x90>
40154d2a:	a141      	lbu	v0,1(s1)
        }
        else
        {
            //长名
            len = (len - 1) << 1;
40154d2c:	424f      	addiu	v0,v0,-1
40154d2e:	3244      	sll	v0,1
40154d30:	c141      	sb	v0,1(s1)
40154d32:	a141      	lbu	v0,1(s1)
            for (i = len - 8; i < len; i = i + 2)
40154d34:	4248      	addiu	v0,v0,-8
40154d36:	c140      	sb	v0,0(s1)
40154d38:	a140      	lbu	v0,0(s1)
40154d3a:	a161      	lbu	v1,1(s1)
40154d3c:	ea63      	sltu	v0,v1
40154d3e:	6014      	bteqz	40154d68 <get_others_info+0x90>
40154d40:	b21d      	lw	v0,40154db4 <get_others_info+0xdc>
            {
                if ((uint8) other_f_p->title_string[i] == 0x2e)
40154d42:	9a60      	lw	v1,0(v0)
40154d44:	a140      	lbu	v0,0(s1)
40154d46:	e349      	addu	v0,v1,v0
40154d48:	a240      	lbu	v0,0(v0)
40154d4a:	722e      	cmpi	v0,46
40154d4c:	6758      	move	v0,t8
40154d4e:	5a01      	sltiu	v0,1
40154d50:	6007      	bteqz	40154d60 <get_others_info+0x88>
40154d52:	b219      	lw	v0,40154db4 <get_others_info+0xdc>
                {
                    other_f_p->title_string[i] = 0x00;
40154d54:	9a60      	lw	v1,0(v0)
40154d56:	a140      	lbu	v0,0(s1)
40154d58:	e34d      	addu	v1,v0
40154d5a:	6a00      	li	v0,0
40154d5c:	c340      	sb	v0,0(v1)
40154d5e:	1004      	b	40154d68 <get_others_info+0x90>
                    break;
40154d60:	a140      	lbu	v0,0(s1)
40154d62:	4242      	addiu	v0,v0,2
40154d64:	c140      	sb	v0,0(s1)
40154d66:	17e8      	b	40154d38 <get_others_info+0x60>
40154d68:	b213      	lw	v0,40154db4 <get_others_info+0xdc>
                }
            }
        }

    }

    deal_if_83name(other_f_p->title_string);
40154d6a:	9a40      	lw	v0,0(v0)
40154d6c:	6782      	move	a0,v0
40154d6e:	18a0 5300 	jal	40154c00 <deal_if_83name>
40154d72:	6500      	nop
40154d74:	b210      	lw	v0,40154db4 <get_others_info+0xdc>

    *(uint32*) (other_f_p->filename) = ext_name;
40154d76:	9a60      	lw	v1,0(v0)
40154d78:	9944      	lw	v0,16(s1)
40154d7a:	f0a0 db44 	sw	v0,164(v1)
40154d7e:	b20d      	lw	v0,40154db0 <get_others_info+0xd8>
    vfs_file_dir_offset(ap_vfs_mount, &other_f_p->dir_layer_info, &other_f_p->cluster_no, 0);
40154d80:	9a80      	lw	a0,0(v0)
40154d82:	b20d      	lw	v0,40154db4 <get_others_info+0xdc>
40154d84:	9a40      	lw	v0,0(v0)
40154d86:	f0a0 42a9 	addiu	a1,v0,169
40154d8a:	b20b      	lw	v0,40154db4 <get_others_info+0xdc>
40154d8c:	9a40      	lw	v0,0(v0)
40154d8e:	f0f0 4264 	addiu	v1,v0,244
40154d92:	6a03      	li	v0,3
40154d94:	d204      	sw	v0,16(sp)
40154d96:	67c3      	move	a2,v1
40154d98:	6f00      	li	a3,0
40154d9a:	b208      	lw	v0,40154db8 <get_others_info+0xe0>
40154d9c:	eac0      	jalrc	v0
40154d9e:	b206      	lw	v0,40154db4 <get_others_info+0xdc>
    other_f_p->flag = 1;
40154da0:	9a60      	lw	v1,0(v0)
40154da2:	6a01      	li	v0,1
40154da4:	f0a0 c348 	sb	v0,168(v1)
40154da8:	65b9      	move	sp,s1
    return;
}
40154daa:	6452      	restore	16,ra,s1
40154dac:	e8a0      	jrc	ra
40154dae:	0000      	addiu	s0,sp,0
40154db0:	5570      	slti	a1,112
40154db2:	9fc1      	lw	a2,4(a3)
40154db4:	5690      	slti	a2,144
40154db6:	9fc1      	lw	a2,4(a3)
40154db8:	6411      	restore	8,s1
40154dba:	bfc1      	lwu	a2,4(a3)
40154dbc:	5a29      	sltiu	v0,41
40154dbe:	9fc1      	lw	a2,4(a3)

40154dc0 <store_others_info>:
40154dc0:	64d3      	save	24,ra,s1
/******************************************************************************/
/*
 * \par  Description: 缓存整理好的文件信息，排序信息
 *
 * \param[in]    file_num--当前已存放的文件个数

 * \param[out]

 * \return

 * \note        先判断buffer是否满了，再写入
 *******************************************************************************/
static void store_others_info(uint16 file_num)
{
40154dc2:	0104      	addiu	s1,sp,16
40154dc4:	6744      	move	v0,a0
40154dc6:	c944      	sh	v0,8(s1)
40154dc8:	a944      	lhu	v0,8(s1)
    if (file_num != 0)
40154dca:	221d      	beqz	v0,40154e06 <store_others_info+0x46>
40154dcc:	b422      	lw	a0,40154e54 <store_others_info+0x94>
    {
        //64K空间排4000*16字节足够,不用写文件
        title_data_pt += sort_cmp_len;
40154dce:	b223      	lw	v0,40154e58 <store_others_info+0x98>
40154dd0:	a260      	lbu	v1,0(v0)
40154dd2:	b221      	lw	v0,40154e54 <store_others_info+0x94>
40154dd4:	9a40      	lw	v0,0(v0)
40154dd6:	e349      	addu	v0,v1,v0
40154dd8:	dc40      	sw	v0,0(a0)
40154dda:	a964      	lhu	v1,8(s1)
  
        if ((file_num % (FILE_INFO_BUF_SIZE / PLIST_FILE_SIZE)) == 0)
40154ddc:	6a1f      	li	v0,31
40154dde:	ea6c      	and	v0,v1
40154de0:	ea31      	zeh	v0
40154de2:	2a0b      	bnez	v0,40154dfa <store_others_info+0x3a>
40154de4:	b21e      	lw	v0,40154e5c <store_others_info+0x9c>
        {
            save_to_file((uint8*) FILE_INFO_ADDR, FILE_INFO_BUF_SIZE);
40154de6:	f004 6b00 	li	v1,8192
40154dea:	6782      	move	a0,v0
40154dec:	67a3      	move	a1,v1
40154dee:	b21d      	lw	v0,40154e60 <store_others_info+0xa0>
40154df0:	eac0      	jalrc	v0
40154df2:	b31d      	lw	v1,40154e64 <store_others_info+0xa4>
            fileinfo_data_pt = (uint8*) FILE_INFO_ADDR;
40154df4:	b21a      	lw	v0,40154e5c <store_others_info+0x9c>
40154df6:	db40      	sw	v0,0(v1)
40154df8:	1006      	b	40154e06 <store_others_info+0x46>
40154dfa:	b31b      	lw	v1,40154e64 <store_others_info+0xa4>
        }
        else
        {

            fileinfo_data_pt += PLIST_FILE_SIZE;
40154dfc:	b21a      	lw	v0,40154e64 <store_others_info+0xa4>
40154dfe:	9a40      	lw	v0,0(v0)
40154e00:	f100 4a00 	addiu	v0,256
40154e04:	db40      	sw	v0,0(v1)
40154e06:	b219      	lw	v0,40154e68 <store_others_info+0xa8>

        }
    }

    other_f_p->prev_offset = file_num - 1;
40154e08:	9a60      	lw	v1,0(v0)
40154e0a:	a944      	lhu	v0,8(s1)
40154e0c:	424f      	addiu	v0,v0,-1
40154e0e:	f0e0 cb5c 	sh	v0,252(v1)
40154e12:	b216      	lw	v0,40154e68 <store_others_info+0xa8>
    other_f_p->next_offset = file_num + 1;
40154e14:	9a60      	lw	v1,0(v0)
40154e16:	a944      	lhu	v0,8(s1)
40154e18:	4241      	addiu	v0,v0,1
40154e1a:	f0e0 cb5e 	sh	v0,254(v1)
40154e1e:	b20e      	lw	v0,40154e54 <store_others_info+0x94>

    copy_deal_string(title_data_pt, other_f_p->title_string, language_id, sort_cmp_len);
40154e20:	9a80      	lw	a0,0(v0)
40154e22:	b212      	lw	v0,40154e68 <store_others_info+0xa8>
40154e24:	9aa0      	lw	a1,0(v0)
40154e26:	b212      	lw	v0,40154e6c <store_others_info+0xac>
40154e28:	a260      	lbu	v1,0(v0)
40154e2a:	b20c      	lw	v0,40154e58 <store_others_info+0x98>
40154e2c:	a240      	lbu	v0,0(v0)
40154e2e:	67c3      	move	a2,v1
40154e30:	67e2      	move	a3,v0
40154e32:	1810 51a5 	jal	48014694 <copy_deal_string>
40154e36:	6500      	nop
40154e38:	b20b      	lw	v0,40154e64 <store_others_info+0xa4>
    libc_memcpy(fileinfo_data_pt, other_f_p, sizeof(plist_f_info_t));
40154e3a:	9a80      	lw	a0,0(v0)
40154e3c:	b20b      	lw	v0,40154e68 <store_others_info+0xa8>
40154e3e:	9a40      	lw	v0,0(v0)
40154e40:	6bff      	li	v1,255
40154e42:	4361      	addiu	v1,v1,1
40154e44:	67a2      	move	a1,v0
40154e46:	67c3      	move	a2,v1
40154e48:	6f00      	li	a3,0
40154e4a:	b20a      	lw	v0,40154e70 <store_others_info+0xb0>
40154e4c:	eac0      	jalrc	v0
40154e4e:	65b9      	move	sp,s1

    return;
}
40154e50:	6451      	restore	8,ra,s1
40154e52:	e8a0      	jrc	ra
40154e54:	5628      	slti	a2,40
40154e56:	9fc1      	lw	a2,4(a3)
40154e58:	5a28      	sltiu	v0,40
40154e5a:	9fc1      	lw	a2,4(a3)
40154e5c:	0a00      	la	v0,40154e5c <store_others_info+0x9c>
40154e5e:	9fc2      	lw	a2,8(a3)
40154e60:	6415      	restore	40,s1
40154e62:	bfc1      	lwu	a2,4(a3)
40154e64:	562c      	slti	a2,44
40154e66:	9fc1      	lw	a2,4(a3)
40154e68:	5690      	slti	a2,144
40154e6a:	9fc1      	lw	a2,4(a3)
40154e6c:	5568      	slti	a1,104
40154e6e:	9fc1      	lw	a2,4(a3)
40154e70:	6409      	restore	72
40154e72:	bfc1      	lwu	a2,4(a3)

40154e74 <init_other_size_info>:
40154e74:	6492      	save	16,s1
/******************************************************************************/
/*
 * \par  Description: 初始化
 *  static void init_other_size_info(void)
 * \param[in]
 * \param[out]
 * \return        void
 * \note
 *******************************************************************************/
static void init_other_size_info(void)
{
40154e76:	673d      	move	s1,sp
40154e78:	b310      	lw	v1,40154eb8 <init_other_size_info+0x44>
    uint16 tmp;
    other_f_p = (plist_f_info_t *) file_buffer;
40154e7a:	b211      	lw	v0,40154ebc <init_other_size_info+0x48>
40154e7c:	db40      	sw	v0,0(v1)
40154e7e:	b211      	lw	v0,40154ec0 <init_other_size_info+0x4c>

    if (ap_plist_file_total != 0)
40154e80:	aa40      	lhu	v0,0(v0)
40154e82:	2211      	beqz	v0,40154ea6 <init_other_size_info+0x32>
40154e84:	b20f      	lw	v0,40154ec0 <init_other_size_info+0x4c>
    {
        tmp = SORT_BUFFER_SIZE / ap_plist_file_total;
40154e86:	aa60      	lhu	v1,0(v0)
40154e88:	b20f      	lw	v0,40154ec4 <init_other_size_info+0x50>
40154e8a:	ea7a      	div	zero,v0,v1
40154e8c:	2b01      	bnez	v1,40154e90 <init_other_size_info+0x1c>
40154e8e:	e8e5      	break	7
40154e90:	ea12      	mflo	v0
40154e92:	c940      	sh	v0,0(s1)
40154e94:	a940      	lhu	v0,0(s1)
        if(tmp > ID3_TITLE_SIZE)
40154e96:	5a41      	sltiu	v0,65
40154e98:	6102      	btnez	40154e9e <init_other_size_info+0x2a>
40154e9a:	6a40      	li	v0,64
        {
            tmp = ID3_TITLE_SIZE;
40154e9c:	c940      	sh	v0,0(s1)
40154e9e:	b309      	lw	v1,40154ec0 <init_other_size_info+0x4c>
        }
        ap_plist_file_total = 0;
40154ea0:	6a00      	li	v0,0
40154ea2:	cb40      	sh	v0,0(v1)
40154ea4:	1002      	b	40154eaa <init_other_size_info+0x36>
40154ea6:	6a00      	li	v0,0
    }
    else
    {
        tmp = 0;
40154ea8:	c940      	sh	v0,0(s1)
40154eaa:	b308      	lw	v1,40154ec8 <init_other_size_info+0x54>
    }
    
    sort_cmp_len = (uint8)tmp;
40154eac:	a940      	lhu	v0,0(s1)
40154eae:	c340      	sb	v0,0(v1)
40154eb0:	65b9      	move	sp,s1
    plt_print("<len>: ", sort_cmp_len, 2);
}
40154eb2:	6412      	restore	16,s1
40154eb4:	e8a0      	jrc	ra
40154eb6:	0000      	addiu	s0,sp,0
40154eb8:	5690      	slti	a2,144
40154eba:	9fc1      	lw	a2,4(a3)
40154ebc:	5894      	sltiu	s0,148
40154ebe:	9fc1      	lw	a2,4(a3)
40154ec0:	5598      	slti	a1,152
40154ec2:	9fc1      	lw	a2,4(a3)
40154ec4:	0000      	addiu	s0,sp,0
40154ec6:	0001      	addiu	s0,sp,4
40154ec8:	5a28      	sltiu	v0,40
40154eca:	9fc1      	lw	a2,4(a3)

40154ecc <scan_others_info>:
40154ecc:	64d5      	save	40,ra,s1

/******************************************************************************/
/*
 * \par  Description:扫描 磁盘上的文件
 *
 * \param[in]

 * \param[out]

 * \return        文件的总数

 * \note
 *******************************************************************************/
uint16 scan_others_info(void)
{
40154ece:	0106      	addiu	s1,sp,24
40154ed0:	4144      	addiu	v0,s1,4
    uint32 temp;
    uint32 ext_name;
    //    uint16 music_num;

#ifdef ENHANCED_FIND_MODE
    while(FALSE!=fsel_get_nextfile((char*)&ext_name))
#else
    while (FALSE != plist_fsel_get_nextfile((char*) &ext_name))
40154ed2:	6782      	move	a0,v0
40154ed4:	b239      	lw	v0,40154fb8 <scan_others_info+0xec>
40154ed6:	eac0      	jalrc	v0
40154ed8:	651a      	move	t8,v0
40154eda:	6010      	bteqz	40154efc <scan_others_info+0x30>
40154edc:	b338      	lw	v1,40154fbc <scan_others_info+0xf0>
#endif
    {
        
        ap_plist_file_total++;//获取文件数
40154ede:	b238      	lw	v0,40154fbc <scan_others_info+0xf0>
40154ee0:	aa40      	lhu	v0,0(v0)
40154ee2:	4241      	addiu	v0,v0,1
40154ee4:	cb40      	sh	v0,0(v1)
40154ee6:	b337      	lw	v1,40154fc0 <scan_others_info+0xf4>
        if (ap_plist_file_total >= others_file_max[lib_num])
40154ee8:	b237      	lw	v0,40154fc4 <scan_others_info+0xf8>
40154eea:	a240      	lbu	v0,0(v0)
40154eec:	ea11      	zeb	v0
40154eee:	3244      	sll	v0,1
40154ef0:	e269      	addu	v0,v1
40154ef2:	b333      	lw	v1,40154fbc <scan_others_info+0xf0>
40154ef4:	aa80      	lhu	a0,0(v0)
40154ef6:	ab40      	lhu	v0,0(v1)
40154ef8:	ea83      	sltu	v0,a0
40154efa:	61ea      	btnez	40154ed0 <scan_others_info+0x4>
40154efc:	b233      	lw	v0,40154fc8 <scan_others_info+0xfc>
        {
            break;
        }
    }

    plist_get_app_msg();
40154efe:	eac0      	jalrc	v0
40154f00:	18a0 539d 	jal	40154e74 <init_other_size_info>
    init_other_size_info();//初始化
40154f04:	6500      	nop
40154f06:	b232      	lw	v0,40154fcc <scan_others_info+0x100>
    vfs_cd(ap_vfs_mount, CD_ROOT, 0);//回到根目录
40154f08:	9a60      	lw	v1,0(v0)
40154f0a:	6a00      	li	v0,0
40154f0c:	d204      	sw	v0,16(sp)
40154f0e:	6783      	move	a0,v1
40154f10:	6d3a      	li	a1,58
40154f12:	6e00      	li	a2,0
40154f14:	6f00      	li	a3,0
40154f16:	b22f      	lw	v0,40154fd0 <scan_others_info+0x104>
40154f18:	eac0      	jalrc	v0
40154f1a:	4144      	addiu	v0,s1,4

#ifdef ENHANCED_FIND_MODE
    while(FALSE!=fsel_get_nextfile((char*)&ext_name))
#else
    while (FALSE != plist_fsel_get_nextfile((char*) &ext_name))
40154f1c:	6782      	move	a0,v0
40154f1e:	b227      	lw	v0,40154fb8 <scan_others_info+0xec>
40154f20:	eac0      	jalrc	v0
40154f22:	651a      	move	t8,v0
40154f24:	602c      	bteqz	40154f7e <scan_others_info+0xb2>
40154f26:	b226      	lw	v0,40154fbc <scan_others_info+0xf0>
#endif
    {
        if (0 == (ap_plist_file_total & 0x07))
40154f28:	aa60      	lhu	v1,0(v0)
40154f2a:	6a07      	li	v0,7
40154f2c:	ea6c      	and	v0,v1
40154f2e:	2a02      	bnez	v0,40154f34 <scan_others_info+0x68>
40154f30:	b226      	lw	v0,40154fc8 <scan_others_info+0xfc>
        {
            plist_get_app_msg();
40154f32:	eac0      	jalrc	v0
40154f34:	b228      	lw	v0,40154fd0 <scan_others_info+0x104>
        }
        
        libc_memset(other_f_p, 0x00, sizeof(plist_f_info_t));
40154f36:	9a40      	lw	v0,0(v0)
40154f38:	6bff      	li	v1,255
40154f3a:	4361      	addiu	v1,v1,1
40154f3c:	6782      	move	a0,v0
40154f3e:	6d00      	li	a1,0
40154f40:	67c3      	move	a2,v1
40154f42:	6f01      	li	a3,1
40154f44:	b225      	lw	v0,40154fd8 <scan_others_info+0x10c>
40154f46:	eac0      	jalrc	v0
40154f48:	9941      	lw	v0,4(s1)
        
        get_others_info(ext_name);
40154f4a:	6782      	move	a0,v0
40154f4c:	18a0 5336 	jal	40154cd8 <get_others_info>
40154f50:	6500      	nop
40154f52:	b21b      	lw	v0,40154fbc <scan_others_info+0xf0>
        
        store_others_info(ap_plist_file_total);
40154f54:	aa40      	lhu	v0,0(v0)
40154f56:	6782      	move	a0,v0
40154f58:	18a0 5370 	jal	40154dc0 <store_others_info>
40154f5c:	6500      	nop
40154f5e:	b318      	lw	v1,40154fbc <scan_others_info+0xf0>

        ap_plist_file_total++;
40154f60:	b217      	lw	v0,40154fbc <scan_others_info+0xf0>
40154f62:	aa40      	lhu	v0,0(v0)
40154f64:	4241      	addiu	v0,v0,1
40154f66:	cb40      	sh	v0,0(v1)
40154f68:	b316      	lw	v1,40154fc0 <scan_others_info+0xf4>
        if (ap_plist_file_total >= others_file_max[lib_num])
40154f6a:	b217      	lw	v0,40154fc4 <scan_others_info+0xf8>
40154f6c:	a240      	lbu	v0,0(v0)
40154f6e:	ea11      	zeb	v0
40154f70:	3244      	sll	v0,1
40154f72:	e269      	addu	v0,v1
40154f74:	b312      	lw	v1,40154fbc <scan_others_info+0xf0>
40154f76:	aa80      	lhu	a0,0(v0)
40154f78:	ab40      	lhu	v0,0(v1)
40154f7a:	ea83      	sltu	v0,a0
40154f7c:	61ce      	btnez	40154f1a <scan_others_info+0x4e>
40154f7e:	b210      	lw	v0,40154fbc <scan_others_info+0xf0>
        {
            break;
        }
    }

    if (ap_plist_file_total > 0)
40154f80:	aa40      	lhu	v0,0(v0)
40154f82:	2211      	beqz	v0,40154fa6 <scan_others_info+0xda>
40154f84:	b20e      	lw	v0,40154fbc <scan_others_info+0xf0>
    {
        temp = ap_plist_file_total % (FILE_INFO_BUF_SIZE / PLIST_FILE_SIZE);
40154f86:	aa60      	lhu	v1,0(v0)
40154f88:	6a1f      	li	v0,31
40154f8a:	ea6c      	and	v0,v1
40154f8c:	ea31      	zeh	v0
40154f8e:	d940      	sw	v0,0(s1)
40154f90:	9940      	lw	v0,0(s1)
        if (temp == 0)
40154f92:	2a02      	bnez	v0,40154f98 <scan_others_info+0xcc>
40154f94:	6a20      	li	v0,32
        {
            temp = FILE_INFO_BUF_SIZE / PLIST_FILE_SIZE;
40154f96:	d940      	sw	v0,0(s1)
40154f98:	b311      	lw	v1,40154fdc <scan_others_info+0x110>
        }
        save_to_file((uint8 *) FILE_INFO_ADDR, temp * PLIST_FILE_SIZE);
40154f9a:	9940      	lw	v0,0(s1)
40154f9c:	3240      	sll	v0,8
40154f9e:	6783      	move	a0,v1
40154fa0:	67a2      	move	a1,v0
40154fa2:	b210      	lw	v0,40154fe0 <scan_others_info+0x114>
40154fa4:	eac0      	jalrc	v0
40154fa6:	b209      	lw	v0,40154fc8 <scan_others_info+0xfc>
    }
    
    plist_get_app_msg();
40154fa8:	eac0      	jalrc	v0
40154faa:	b205      	lw	v0,40154fbc <scan_others_info+0xf0>
    return ap_plist_file_total;
40154fac:	aa40      	lhu	v0,0(v0)
40154fae:	651a      	move	t8,v0
40154fb0:	6758      	move	v0,t8
}
40154fb2:	65b9      	move	sp,s1
40154fb4:	6452      	restore	16,ra,s1
40154fb6:	e8a0      	jrc	ra
40154fb8:	6881      	li	s0,129
40154fba:	bfc1      	lwu	a2,4(a3)
40154fbc:	5598      	slti	a1,152
40154fbe:	9fc1      	lw	a2,4(a3)
40154fc0:	5128      	slti	s1,40
40154fc2:	4015      	daddiu	s0,s0,5
40154fc4:	5a29      	sltiu	v0,41
40154fc6:	9fc1      	lw	a2,4(a3)
40154fc8:	65e9      	move	t7,s1
40154fca:	bfc1      	lwu	a2,4(a3)
40154fcc:	5570      	slti	a1,112
40154fce:	9fc1      	lw	a2,4(a3)
40154fd0:	6411      	restore	8,s1
40154fd2:	bfc1      	lwu	a2,4(a3)
40154fd4:	5690      	slti	a2,144
40154fd6:	9fc1      	lw	a2,4(a3)
40154fd8:	6409      	restore	72
40154fda:	bfc1      	lwu	a2,4(a3)
40154fdc:	0a00      	la	v0,40154fdc <scan_others_info+0x110>
40154fde:	9fc2      	lw	a2,8(a3)
40154fe0:	6415      	restore	40,s1
40154fe2:	bfc1      	lwu	a2,4(a3)

40154fe4 <sort_others_list>:
40154fe4:	64d4      	save	32,ra,s1

/******************************************************************************/
/*
 * \par  Description: 排序列表
 *
 * \param[in]

 * \param[out]

 * \return        NULL

 * \note
 *******************************************************************************/
void sort_others_list(void)
{
40154fe6:	0104      	addiu	s1,sp,16
40154fe8:	b20e      	lw	v0,40155020 <sort_others_list+0x3c>
    uint8 *str_buf;

    //clear buffer
    libc_memset(file_index_buf, 0, FILE_INFO_BUF_SIZE);
40154fea:	9a40      	lw	v0,0(v0)
40154fec:	f004 6b00 	li	v1,8192
40154ff0:	6782      	move	a0,v0
40154ff2:	6d00      	li	a1,0
40154ff4:	67c3      	move	a2,v1
40154ff6:	6f01      	li	a3,1
40154ff8:	b20b      	lw	v0,40155024 <sort_others_list+0x40>
40154ffa:	eac0      	jalrc	v0
40154ffc:	b30b      	lw	v1,40155024 <sort_others_list+0x40>

    sort_file_total = ap_plist_file_total;
40154ffe:	b20c      	lw	v0,4015502c <sort_others_list+0x48>
40155000:	aa40      	lhu	v0,0(v0)
40155002:	cb40      	sh	v0,0(v1)
40155004:	b20b      	lw	v0,40155030 <sort_others_list+0x4c>

    plist_get_app_msg();
40155006:	eac0      	jalrc	v0
40155008:	b20b      	lw	v0,40155030 <sort_others_list+0x4c>

    str_buf = (uint8 *) SORT_DATA_ADDR;//64K
4015500a:	d940      	sw	v0,0(s1)
4015500c:	9940      	lw	v0,0(s1)

    sort_all_file(str_buf);
4015500e:	6782      	move	a0,v0
40155010:	18a0 540e 	jal	40155038 <sort_all_file>
40155014:	6500      	nop
40155016:	b207      	lw	v0,40155030 <sort_others_list+0x4c>
    plist_get_app_msg();
40155018:	eac0      	jalrc	v0
4015501a:	65b9      	move	sp,s1

}
4015501c:	6452      	restore	16,ra,s1
4015501e:	e8a0      	jrc	ra
40155020:	5640      	slti	a2,64
40155022:	9fc1      	lw	a2,4(a3)
40155024:	6409      	restore	72
40155026:	bfc1      	lwu	a2,4(a3)
40155028:	560c      	slti	a2,12
4015502a:	9fc1      	lw	a2,4(a3)
4015502c:	5598      	slti	a1,152
4015502e:	9fc1      	lw	a2,4(a3)
40155030:	65e9      	move	t7,s1
40155032:	bfc1      	lwu	a2,4(a3)
40155034:	0000      	addiu	s0,sp,0
40155036:	9fc3      	lw	a2,12(a3)

40155038 <sort_all_file>:
40155038:	64d5      	save	40,ra,s1

/******************************************************************************/
/*
 * \par  Description: 排序文件名
 *
 * \param[in]

 * \param[out]

 * \return

 * \note
 *******************************************************************************/
static void sort_all_file(char *str_buf)
{
4015503a:	0106      	addiu	s1,sp,24
4015503c:	d984      	sw	a0,16(s1)
4015503e:	1940 5378 	jal	40294de0 <init_file_index>
    uint8 str_len;
    
    init_file_index();
40155042:	6500      	nop
40155044:	b22d      	lw	v0,401550f8 <sort_all_file+0xc0>
    plist_get_app_msg();
40155046:	eac0      	jalrc	v0
40155048:	b22d      	lw	v0,401550f8 <sort_all_file+0xc0>
    str_len = sort_cmp_len;
4015504a:	a240      	lbu	v0,0(v0)
4015504c:	c140      	sb	v0,0(s1)
4015504e:	a140      	lbu	v0,0(s1)
    if (str_len >ID3_TITLE_SIZE)
40155050:	5a41      	sltiu	v0,65
40155052:	6102      	btnez	40155058 <sort_all_file+0x20>
40155054:	6a40      	li	v0,64
    {
        str_len = ID3_TITLE_SIZE;
40155056:	c140      	sb	v0,0(s1)
40155058:	b22a      	lw	v0,40155100 <sort_all_file+0xc8>
    }
    list_sort((void*) file_index_buf, sort_file_total, 2, str_buf, SORT_CMP_STRING, str_len); //64+8k
4015505a:	9a60      	lw	v1,0(v0)
4015505c:	b22a      	lw	v0,40155104 <sort_all_file+0xcc>
4015505e:	aaa0      	lhu	a1,0(v0)
40155060:	99e4      	lw	a3,16(s1)
40155062:	6a02      	li	v0,2
40155064:	d204      	sw	v0,16(sp)
40155066:	a140      	lbu	v0,0(s1)
40155068:	d205      	sw	v0,20(sp)
4015506a:	6783      	move	a0,v1
4015506c:	6e02      	li	a2,2
4015506e:	b227      	lw	v0,40155108 <sort_all_file+0xd0>
40155070:	eac0      	jalrc	v0
40155072:	b222      	lw	v0,401550f8 <sort_all_file+0xc0>
    plist_get_app_msg();
40155074:	eac0      	jalrc	v0
40155076:	b223      	lw	v0,40155100 <sort_all_file+0xc8>
    list_resort(file_index_buf, sort_file_total, str_buf, PLIST_TITLE, ID3_TITLE_SIZE, str_len);//resort
40155078:	9a60      	lw	v1,0(v0)
4015507a:	b223      	lw	v0,40155104 <sort_all_file+0xcc>
4015507c:	aaa0      	lhu	a1,0(v0)
4015507e:	99c4      	lw	a2,16(s1)
40155080:	6a40      	li	v0,64
40155082:	d204      	sw	v0,16(sp)
40155084:	a140      	lbu	v0,0(s1)
40155086:	d205      	sw	v0,20(sp)
40155088:	6783      	move	a0,v1
4015508a:	6f00      	li	a3,0
4015508c:	1880 53bc 	jal	40114ef0 <list_resort>
40155090:	6500      	nop
40155092:	b21f      	lw	v0,4015510c <sort_all_file+0xd4>
    //必须在title排序后才能请buffer，因为和title的数据区复用
    libc_memset(sort_index_buf, 0, INDEX_BUFFER_SIZE);
40155094:	9a40      	lw	v0,0(v0)
40155096:	f004 6b00 	li	v1,8192
4015509a:	6782      	move	a0,v0
4015509c:	6d00      	li	a1,0
4015509e:	67c3      	move	a2,v1
401550a0:	6f01      	li	a3,1
401550a2:	b21c      	lw	v0,40155110 <sort_all_file+0xd8>
401550a4:	eac0      	jalrc	v0
401550a6:	b215      	lw	v0,401550f8 <sort_all_file+0xc0>

    plist_get_app_msg();
401550a8:	eac0      	jalrc	v0
401550aa:	6cff      	li	a0,255
    plist_reflash_progress(-1);
401550ac:	b21a      	lw	v0,40155114 <sort_all_file+0xdc>
401550ae:	eac0      	jalrc	v0
401550b0:	b217      	lw	v0,40155108 <sort_all_file+0xd0>
    
    build_ex_index(sort_index_buf); //8+8k
401550b2:	9a40      	lw	v0,0(v0)
401550b4:	6782      	move	a0,v0
401550b6:	1940 53d5 	jal	40294f54 <build_ex_index>
401550ba:	6500      	nop
401550bc:	b317      	lw	v1,40155118 <sort_all_file+0xe0>

    ap_file_index_offset[0] = ap_pos_file_offset;
401550be:	b218      	lw	v0,4015511c <sort_all_file+0xe4>
401550c0:	aa40      	lhu	v0,0(v0)
401550c2:	cb40      	sh	v0,0(v1)
401550c4:	b20f      	lw	v0,40155100 <sort_all_file+0xc8>
    save_to_file((void*) file_index_buf, sort_file_total * 2);
401550c6:	9a60      	lw	v1,0(v0)
401550c8:	b20f      	lw	v0,40155104 <sort_all_file+0xcc>
401550ca:	aa40      	lhu	v0,0(v0)
401550cc:	3244      	sll	v0,1
401550ce:	6783      	move	a0,v1
401550d0:	67a2      	move	a1,v0
401550d2:	b214      	lw	v0,40155120 <sort_all_file+0xe8>
401550d4:	eac0      	jalrc	v0
401550d6:	b314      	lw	v1,40155124 <sort_all_file+0xec>

    ap_sort_index_offset[0] = ap_pos_file_offset;
401550d8:	b211      	lw	v0,4015511c <sort_all_file+0xe4>
401550da:	aa40      	lhu	v0,0(v0)
401550dc:	cb40      	sh	v0,0(v1)
401550de:	b20c      	lw	v0,4015510c <sort_all_file+0xd4>
    save_to_file((void*) sort_index_buf, sort_file_total * 2);
401550e0:	9a60      	lw	v1,0(v0)
401550e2:	b209      	lw	v0,40155104 <sort_all_file+0xcc>
401550e4:	aa40      	lhu	v0,0(v0)
401550e6:	3244      	sll	v0,1
401550e8:	6783      	move	a0,v1
401550ea:	67a2      	move	a1,v0
401550ec:	b20d      	lw	v0,40155120 <sort_all_file+0xe8>
401550ee:	eac0      	jalrc	v0
401550f0:	65b9      	move	sp,s1

    return;
}
401550f2:	6452      	restore	16,ra,s1
401550f4:	e8a0      	jrc	ra
401550f6:	0000      	addiu	s0,sp,0
401550f8:	65e9      	move	t7,s1
401550fa:	bfc1      	lwu	a2,4(a3)
401550fc:	5a28      	sltiu	v0,40
401550fe:	9fc1      	lw	a2,4(a3)
40155100:	5640      	slti	a2,64
40155102:	9fc1      	lw	a2,4(a3)
40155104:	560c      	slti	a2,12
40155106:	9fc1      	lw	a2,4(a3)
40155108:	2875      	bnez	s0,401551f4 <others_file_max+0xcc>
4015510a:	7181      	cmpi	s1,129
4015510c:	5644      	slti	a2,68
4015510e:	9fc1      	lw	a2,4(a3)
40155110:	6409      	restore	72
40155112:	bfc1      	lwu	a2,4(a3)
40155114:	4cb1      	addiu	a0,-79
40155116:	401d      	daddiu	s0,s0,-3
40155118:	559c      	slti	a1,156
4015511a:	9fc1      	lw	a2,4(a3)
4015511c:	556a      	slti	a1,106
4015511e:	9fc1      	lw	a2,4(a3)
40155120:	6415      	restore	40,s1
40155122:	bfc1      	lwu	a2,4(a3)
40155124:	55a8      	slti	a1,168
40155126:	9fc1      	lw	a2,4(a3)

40155128 <others_file_max>:
40155128:	0000 0000 0032 0000 0000 0000 0000 0000     ....2...........
	...
Disassembly of section BANK_FORNT_CONTROL_1_6:

40194c00 <mbyte_to_wchar>:
40194c00:	6492      	save	16,s1

 * \note    ASC转成UNICODE，自动加入标识符和结束符
 *******************************************************************************/
static uint16 mbyte_to_wchar(uint8 *dest, uint8 *src)
{
40194c02:	673d      	move	s1,sp
40194c04:	d984      	sw	a0,16(s1)
40194c06:	d9a5      	sw	a1,20(s1)
40194c08:	6a00      	li	v0,0
    uint16 num = 0;
40194c0a:	c940      	sh	v0,0(s1)
40194c0c:	9964      	lw	v1,16(s1)

#ifdef USE_83NAME_CREAT

    while(*src!=0x00)
    {
        *dest=*src;
        dest++;
        src++;
        num++;
    }

    dest=0x00;

#else

    *dest = 0xff;
40194c0e:	6a01      	li	v0,1
40194c10:	ea4b      	neg	v0
40194c12:	c340      	sb	v0,0(v1)
40194c14:	9964      	lw	v1,16(s1)
    *(dest + 1) = 0xfe;
40194c16:	6a02      	li	v0,2
40194c18:	ea4b      	neg	v0
40194c1a:	c341      	sb	v0,1(v1)
40194c1c:	9944      	lw	v0,16(s1)
    dest += 2;
40194c1e:	4242      	addiu	v0,v0,2
40194c20:	d944      	sw	v0,16(s1)
40194c22:	9945      	lw	v0,20(s1)

    while (*src != 0x00)
40194c24:	a240      	lbu	v0,0(v0)
40194c26:	2211      	beqz	v0,40194c4a <mbyte_to_wchar+0x4a>
40194c28:	9964      	lw	v1,16(s1)
    {
        *dest = *src;
40194c2a:	9945      	lw	v0,20(s1)
40194c2c:	a240      	lbu	v0,0(v0)
40194c2e:	c340      	sb	v0,0(v1)
40194c30:	9964      	lw	v1,16(s1)
        *(dest + 1) = 0x00;
40194c32:	6a00      	li	v0,0
40194c34:	c341      	sb	v0,1(v1)
40194c36:	9944      	lw	v0,16(s1)
        dest += 2;
40194c38:	4242      	addiu	v0,v0,2
40194c3a:	d944      	sw	v0,16(s1)
40194c3c:	9945      	lw	v0,20(s1)
        src++;
40194c3e:	4241      	addiu	v0,v0,1
40194c40:	d945      	sw	v0,20(s1)
40194c42:	a940      	lhu	v0,0(s1)
        num++;
40194c44:	4241      	addiu	v0,v0,1
40194c46:	c940      	sh	v0,0(s1)
40194c48:	17ec      	b	40194c22 <mbyte_to_wchar+0x22>
40194c4a:	9964      	lw	v1,16(s1)
    }

    *dest = 0x00;
40194c4c:	6a00      	li	v0,0
40194c4e:	c340      	sb	v0,0(v1)
40194c50:	9964      	lw	v1,16(s1)
    *(dest + 1) = 0x00;
40194c52:	6a00      	li	v0,0
40194c54:	c341      	sb	v0,1(v1)
40194c56:	a940      	lhu	v0,0(s1)

#endif

    return num;
40194c58:	651a      	move	t8,v0
40194c5a:	6758      	move	v0,t8

}
40194c5c:	65b9      	move	sp,s1
40194c5e:	6412      	restore	16,s1
40194c60:	e8a0      	jrc	ra
	...

40194c64 <delete_lib_file>:
40194c64:	6491      	save	8,s1

/******************************************************************************/
/*
 * \par  Description: 删除lib文件,并判断磁盘空间
 *
 * \param[in]    type--列表类型,tmp_drv_sn--介质序号

 * \param[out]

 * \return  0--no err; >0--err

 * \note    统一删除，文件系统只建表一次；每个lib预留1M空间
 *******************************************************************************/
int8 delete_lib_file(uint8 lib_bitmap, uint8 tmp_drv_sn)
{
40194c66:	673d      	move	s1,sp
40194c68:	6744      	move	v0,a0
40194c6a:	6765      	move	v1,a1
40194c6c:	c148      	sb	v0,8(s1)
40194c6e:	c16c      	sb	v1,12(s1)
40194c70:	6a00      	li	v0,0

    /*

     uint8 i;
     uint32 need_space,fs_space;

     vfs_cd(ap_vfs_mount, CD_ROOT, 0);

     plist_get_app_msg();

     need_space=0x800;
     fs_space=0;
     for (i = 0; i < PL_LIB_MAX; i++)
     {
     if ((lib_bitmap & 0x01) != 0)
     {
     mbyte_to_wchar(temp_plist_buf, (uint8*) &plist_lib_name[i]);
     vfs_file_dir_remove(ap_vfs_mount, temp_plist_buf, FS_FILE);
     need_space += 0x800;//1M，每个lib预留1M空间
     plist_get_app_msg();
     }
     lib_bitmap = lib_bitmap >> 1;
     }

     if(need_space != 0)
     {
     vfs_get_space(ap_vfs_mount,&fs_space,1);
     if(need_space>fs_space)//fs_space
     {
     plist_reflash_string(stg_space_err[tmp_drv_sn&0x03]);
     sys_os_time_dly(35);//显示界面使用
     return -1;
     }

     plist_get_app_msg();
     }

     */

    return 0;
40194c72:	65b9      	move	sp,s1
}
40194c74:	6411      	restore	8,s1
40194c76:	e8a0      	jrc	ra

40194c78 <creat_plist_lib>:
40194c78:	64f8      	save	64,ra,s0-s1

/******************************************************************************/
/*
 * \par  Description: 创建对应列表文件（lib格式）
 *
 * \param[in]    type--列表类型

 * \param[out]

 * \return       TRUE OR FALSE

 * \note
 *******************************************************************************/
//创建库文件
bool creat_plist_lib(uint8 type)
{
40194c7a:	0106      	addiu	s1,sp,24
40194c7c:	6744      	move	v0,a0
40194c7e:	f020 c148 	sb	v0,40(s1)
40194c82:	6a00      	li	v0,0
    uint32 temp32 = 0;
40194c84:	d940      	sw	v0,0(s1)
40194c86:	f020 a148 	lbu	v0,40(s1)
    plist_head_t *head_p;
    plist_item_t *item_p;
    bool ret_val;

    //先清offset
    libc_memset(plist_lib_offset[type], 0xff, 8);
40194c8a:	334c      	sll	v1,v0,3
40194c8c:	b2ce      	lw	v0,40194fc4 <creat_plist_lib+0x34c>
40194c8e:	e349      	addu	v0,v1,v0
40194c90:	6782      	move	a0,v0
40194c92:	6dff      	li	a1,255
40194c94:	6e08      	li	a2,8
40194c96:	6f01      	li	a3,1
40194c98:	b2cc      	lw	v0,40194fc8 <creat_plist_lib+0x350>
40194c9a:	eac0      	jalrc	v0
40194c9c:	b2cc      	lw	v0,40194fc8 <creat_plist_lib+0x350>

    vfs_cd(ap_vfs_mount, CD_ROOT, 0);
40194c9e:	9a60      	lw	v1,0(v0)
40194ca0:	6a00      	li	v0,0
40194ca2:	d204      	sw	v0,16(sp)
40194ca4:	6783      	move	a0,v1
40194ca6:	6d3a      	li	a1,58
40194ca8:	6e00      	li	a2,0
40194caa:	6f00      	li	a3,0
40194cac:	b2c9      	lw	v0,40194fd0 <creat_plist_lib+0x358>
40194cae:	eac0      	jalrc	v0
40194cb0:	b4c9      	lw	a0,40194fd0 <creat_plist_lib+0x358>

    plt_print(plist_lib_name[type],0,0);
    mbyte_to_wchar(temp_plist_buf, (uint8*) &plist_lib_name[type]);
40194cb2:	f020 a168 	lbu	v1,40(s1)
40194cb6:	6743      	move	v0,v1
40194cb8:	3244      	sll	v0,1
40194cba:	e269      	addu	v0,v1
40194cbc:	3348      	sll	v1,v0,2
40194cbe:	b2c7      	lw	v0,40194fd8 <creat_plist_lib+0x360>
40194cc0:	e349      	addu	v0,v1,v0
40194cc2:	67a2      	move	a1,v0
40194cc4:	18c0 5300 	jal	40194c00 <mbyte_to_wchar>
40194cc8:	6500      	nop
40194cca:	b0c5      	lw	s0,40194fdc <creat_plist_lib+0x364>
    ap_obj_handle = vfs_file_open(ap_vfs_mount, temp_plist_buf, R_NORMAL_SEEK);
40194ccc:	b2c0      	lw	v0,40194fcc <creat_plist_lib+0x354>
40194cce:	9a60      	lw	v1,0(v0)
40194cd0:	b5c1      	lw	a1,40194fd4 <creat_plist_lib+0x35c>
40194cd2:	6a05      	li	v0,5
40194cd4:	d204      	sw	v0,16(sp)
40194cd6:	6783      	move	a0,v1
40194cd8:	6e00      	li	a2,0
40194cda:	6f00      	li	a3,0
40194cdc:	b2bd      	lw	v0,40194fd0 <creat_plist_lib+0x358>
40194cde:	eac0      	jalrc	v0
40194ce0:	d840      	sw	v0,0(s0)
40194ce2:	b2bf      	lw	v0,40194fdc <creat_plist_lib+0x364>

    if (0 != ap_obj_handle)
40194ce4:	9a40      	lw	v0,0(v0)
40194ce6:	2223      	beqz	v0,40194d2e <creat_plist_lib+0xb6>
40194ce8:	b2b9      	lw	v0,40194fcc <creat_plist_lib+0x354>
    {
        vfs_file_get_size(ap_vfs_mount, &temp32, ap_obj_handle, 0);
40194cea:	9a60      	lw	v1,0(v0)
40194cec:	b2bc      	lw	v0,40194fdc <creat_plist_lib+0x364>
40194cee:	9ac0      	lw	a2,0(v0)
40194cf0:	6a09      	li	v0,9
40194cf2:	d204      	sw	v0,16(sp)
40194cf4:	6783      	move	a0,v1
40194cf6:	67b1      	move	a1,s1
40194cf8:	6f00      	li	a3,0
40194cfa:	b2b6      	lw	v0,40194fd0 <creat_plist_lib+0x358>
40194cfc:	eac0      	jalrc	v0
40194cfe:	b3b9      	lw	v1,40194fe0 <creat_plist_lib+0x368>
        if (temp32 < plist_lib_size[type])
40194d00:	f020 a148 	lbu	v0,40(s1)
40194d04:	3248      	sll	v0,2
40194d06:	e269      	addu	v0,v1
40194d08:	9a60      	lw	v1,0(v0)
40194d0a:	9940      	lw	v0,0(s1)
40194d0c:	ea63      	sltu	v0,v1
40194d0e:	604d      	bteqz	40194daa <creat_plist_lib+0x132>
40194d10:	b2af      	lw	v0,40194fcc <creat_plist_lib+0x354>
        {
            //lib文件变大了，需要重新创建
            vfs_file_close(ap_vfs_mount, ap_obj_handle);
40194d12:	9a60      	lw	v1,0(v0)
40194d14:	b2b2      	lw	v0,40194fdc <creat_plist_lib+0x364>
40194d16:	9aa0      	lw	a1,0(v0)
40194d18:	6a07      	li	v0,7
40194d1a:	d204      	sw	v0,16(sp)
40194d1c:	6783      	move	a0,v1
40194d1e:	6e00      	li	a2,0
40194d20:	6f00      	li	a3,0
40194d22:	b2ac      	lw	v0,40194fd0 <creat_plist_lib+0x358>
40194d24:	eac0      	jalrc	v0
40194d26:	b3ae      	lw	v1,40194fdc <creat_plist_lib+0x364>
            ap_obj_handle = 0;
40194d28:	6a00      	li	v0,0
40194d2a:	db40      	sw	v0,0(v1)
40194d2c:	103e      	b	40194daa <creat_plist_lib+0x132>
40194d2e:	f020 a168 	lbu	v1,40(s1)
        }
    }
    else
    {
        libc_memcpy(temp_plist_buf,(uint8*) &plist_lib_name_short[type],libc_strlen(plist_lib_name_short[type]));
40194d32:	6743      	move	v0,v1
40194d34:	3244      	sll	v0,1
40194d36:	e269      	addu	v0,v1
40194d38:	3348      	sll	v1,v0,2
40194d3a:	b2ab      	lw	v0,40194fe4 <creat_plist_lib+0x36c>
40194d3c:	e349      	addu	v0,v1,v0
40194d3e:	6782      	move	a0,v0
40194d40:	6d00      	li	a1,0
40194d42:	6e00      	li	a2,0
40194d44:	6f03      	li	a3,3
40194d46:	b2a1      	lw	v0,40194fc8 <creat_plist_lib+0x350>
40194d48:	eac0      	jalrc	v0
40194d4a:	651a      	move	t8,v0
40194d4c:	b4a2      	lw	a0,40194fd4 <creat_plist_lib+0x35c>
40194d4e:	f020 a168 	lbu	v1,40(s1)
40194d52:	6743      	move	v0,v1
40194d54:	3244      	sll	v0,1
40194d56:	e269      	addu	v0,v1
40194d58:	3348      	sll	v1,v0,2
40194d5a:	b2a3      	lw	v0,40194fe4 <creat_plist_lib+0x36c>
40194d5c:	e349      	addu	v0,v1,v0
40194d5e:	67a2      	move	a1,v0
40194d60:	67d8      	move	a2,t8
40194d62:	6f00      	li	a3,0
40194d64:	b299      	lw	v0,40194fc8 <creat_plist_lib+0x350>
40194d66:	eac0      	jalrc	v0
40194d68:	b299      	lw	v0,40194fc8 <creat_plist_lib+0x350>
        vfs_file_dir_remove(ap_vfs_mount, temp_plist_buf, FS_FILE);
40194d6a:	9a60      	lw	v1,0(v0)
40194d6c:	b59a      	lw	a1,40194fd4 <creat_plist_lib+0x35c>
40194d6e:	6a08      	li	v0,8
40194d70:	d204      	sw	v0,16(sp)
40194d72:	6783      	move	a0,v1
40194d74:	6e01      	li	a2,1
40194d76:	6f00      	li	a3,0
40194d78:	b296      	lw	v0,40194fd0 <creat_plist_lib+0x358>
40194d7a:	eac0      	jalrc	v0
40194d7c:	b496      	lw	a0,40194fd0 <creat_plist_lib+0x358>

        mbyte_to_wchar(temp_plist_buf, (uint8*) &plist_lib_name[type]);
40194d7e:	f020 a168 	lbu	v1,40(s1)
40194d82:	6743      	move	v0,v1
40194d84:	3244      	sll	v0,1
40194d86:	e269      	addu	v0,v1
40194d88:	3348      	sll	v1,v0,2
40194d8a:	b294      	lw	v0,40194fd8 <creat_plist_lib+0x360>
40194d8c:	e349      	addu	v0,v1,v0
40194d8e:	67a2      	move	a1,v0
40194d90:	18c0 5300 	jal	40194c00 <mbyte_to_wchar>
40194d94:	6500      	nop
40194d96:	b28e      	lw	v0,40194fcc <creat_plist_lib+0x354>
        vfs_file_dir_remove(ap_vfs_mount, temp_plist_buf, FS_FILE);
40194d98:	9a60      	lw	v1,0(v0)
40194d9a:	b58f      	lw	a1,40194fd4 <creat_plist_lib+0x35c>
40194d9c:	6a08      	li	v0,8
40194d9e:	d204      	sw	v0,16(sp)
40194da0:	6783      	move	a0,v1
40194da2:	6e01      	li	a2,1
40194da4:	6f00      	li	a3,0
40194da6:	b28b      	lw	v0,40194fd0 <creat_plist_lib+0x358>
40194da8:	eac0      	jalrc	v0
40194daa:	b28d      	lw	v0,40194fdc <creat_plist_lib+0x364>
    }

    if (0 == ap_obj_handle)
40194dac:	9a40      	lw	v0,0(v0)
40194dae:	2a75      	bnez	v0,40194e9a <creat_plist_lib+0x222>
40194db0:	b08b      	lw	s0,40194fdc <creat_plist_lib+0x364>
    {
        ap_obj_handle = vfs_file_create(ap_vfs_mount, temp_plist_buf, plist_lib_size[type]);//创建LIB文件
40194db2:	b287      	lw	v0,40194fcc <creat_plist_lib+0x354>
40194db4:	9a80      	lw	a0,0(v0)
40194db6:	b588      	lw	a1,40194fd4 <creat_plist_lib+0x35c>
40194db8:	b38a      	lw	v1,40194fe0 <creat_plist_lib+0x368>
40194dba:	f020 a148 	lbu	v0,40(s1)
40194dbe:	3248      	sll	v0,2
40194dc0:	e269      	addu	v0,v1
40194dc2:	9a60      	lw	v1,0(v0)
40194dc4:	6a06      	li	v0,6
40194dc6:	d204      	sw	v0,16(sp)
40194dc8:	67c3      	move	a2,v1
40194dca:	6f00      	li	a3,0
40194dcc:	b281      	lw	v0,40194fd0 <creat_plist_lib+0x358>
40194dce:	eac0      	jalrc	v0
40194dd0:	d840      	sw	v0,0(s0)
40194dd2:	b283      	lw	v0,40194fdc <creat_plist_lib+0x364>
        if (0 == ap_obj_handle)
40194dd4:	9a40      	lw	v0,0(v0)
40194dd6:	2a13      	bnez	v0,40194dfe <creat_plist_lib+0x186>
40194dd8:	b484      	lw	a0,40194fe8 <creat_plist_lib+0x370>
        {
            //显示磁盘空间不足
            plist_reflash_string(stg_space_err[drv_sn & 0x03]);
40194dda:	b285      	lw	v0,40194fec <creat_plist_lib+0x374>
40194ddc:	a260      	lbu	v1,0(v0)
40194dde:	6a03      	li	v0,3
40194de0:	ea6c      	and	v0,v1
40194de2:	e449      	addu	v0,a0,v0
40194de4:	a240      	lbu	v0,0(v0)
40194de6:	6782      	move	a0,v0
40194de8:	b282      	lw	v0,40194ff0 <creat_plist_lib+0x378>
40194dea:	eac0      	jalrc	v0
40194dec:	6c23      	li	a0,35
            sys_os_time_dly(35);//显示界面使用
40194dee:	6d00      	li	a1,0
40194df0:	6e00      	li	a2,0
40194df2:	6f31      	li	a3,49
40194df4:	b280      	lw	v0,40194ff4 <creat_plist_lib+0x37c>
40194df6:	eac0      	jalrc	v0
40194df8:	6a00      	li	v0,0
            return FALSE;
40194dfa:	d944      	sw	v0,16(s1)
40194dfc:	10de      	b	40194fba <creat_plist_lib+0x342>
40194dfe:	b274      	lw	v0,40194fcc <creat_plist_lib+0x354>
        }

#ifdef HIDE_FILE_OPT
        vfs_file_attralter(ap_vfs_mount, ATTR_HIDDEN, ap_obj_handle, 0);
40194e00:	9a60      	lw	v1,0(v0)
40194e02:	b277      	lw	v0,40194fdc <creat_plist_lib+0x364>
40194e04:	9ac0      	lw	a2,0(v0)
40194e06:	6a13      	li	v0,19
40194e08:	d204      	sw	v0,16(sp)
40194e0a:	6783      	move	a0,v1
40194e0c:	6d02      	li	a1,2
40194e0e:	6f00      	li	a3,0
40194e10:	b270      	lw	v0,40194fd0 <creat_plist_lib+0x358>
40194e12:	eac0      	jalrc	v0
40194e14:	b26e      	lw	v0,40194fc8 <creat_plist_lib+0x350>
#endif

        vfs_file_close(ap_vfs_mount, ap_obj_handle);
40194e16:	9a60      	lw	v1,0(v0)
40194e18:	b271      	lw	v0,40194fdc <creat_plist_lib+0x364>
40194e1a:	9aa0      	lw	a1,0(v0)
40194e1c:	6a07      	li	v0,7
40194e1e:	d204      	sw	v0,16(sp)
40194e20:	6783      	move	a0,v1
40194e22:	6e00      	li	a2,0
40194e24:	6f00      	li	a3,0
40194e26:	b26b      	lw	v0,40194fd0 <creat_plist_lib+0x358>
40194e28:	eac0      	jalrc	v0
40194e2a:	b06d      	lw	s0,40194fdc <creat_plist_lib+0x364>
        ap_obj_handle = vfs_file_open(ap_vfs_mount, temp_plist_buf, R_NORMAL_SEEK);
40194e2c:	b268      	lw	v0,40194fcc <creat_plist_lib+0x354>
40194e2e:	9a60      	lw	v1,0(v0)
40194e30:	b569      	lw	a1,40194fd4 <creat_plist_lib+0x35c>
40194e32:	6a05      	li	v0,5
40194e34:	d204      	sw	v0,16(sp)
40194e36:	6783      	move	a0,v1
40194e38:	6e00      	li	a2,0
40194e3a:	6f00      	li	a3,0
40194e3c:	b265      	lw	v0,40194fd0 <creat_plist_lib+0x358>
40194e3e:	eac0      	jalrc	v0
40194e40:	d840      	sw	v0,0(s0)
40194e42:	b267      	lw	v0,40194fdc <creat_plist_lib+0x364>
	 if(0 == ap_obj_handle)
40194e44:	9a40      	lw	v0,0(v0)
40194e46:	2a29      	bnez	v0,40194e9a <creat_plist_lib+0x222>
40194e48:	f020 a168 	lbu	v1,40(s1)
	 {
	     libc_memcpy(temp_plist_buf,(uint8*) &plist_lib_name_short[type],libc_strlen(plist_lib_name_short[type]));
40194e4c:	6743      	move	v0,v1
40194e4e:	3244      	sll	v0,1
40194e50:	e269      	addu	v0,v1
40194e52:	3348      	sll	v1,v0,2
40194e54:	b264      	lw	v0,40194fe4 <creat_plist_lib+0x36c>
40194e56:	e349      	addu	v0,v1,v0
40194e58:	6782      	move	a0,v0
40194e5a:	6d00      	li	a1,0
40194e5c:	6e00      	li	a2,0
40194e5e:	6f03      	li	a3,3
40194e60:	b25a      	lw	v0,40194fc8 <creat_plist_lib+0x350>
40194e62:	eac0      	jalrc	v0
40194e64:	651a      	move	t8,v0
40194e66:	b45c      	lw	a0,40194fd4 <creat_plist_lib+0x35c>
40194e68:	f020 a168 	lbu	v1,40(s1)
40194e6c:	6743      	move	v0,v1
40194e6e:	3244      	sll	v0,1
40194e70:	e269      	addu	v0,v1
40194e72:	3348      	sll	v1,v0,2
40194e74:	b25c      	lw	v0,40194fe4 <creat_plist_lib+0x36c>
40194e76:	e349      	addu	v0,v1,v0
40194e78:	67a2      	move	a1,v0
40194e7a:	67d8      	move	a2,t8
40194e7c:	6f00      	li	a3,0
40194e7e:	b253      	lw	v0,40194fc8 <creat_plist_lib+0x350>
40194e80:	eac0      	jalrc	v0
40194e82:	b057      	lw	s0,40194fdc <creat_plist_lib+0x364>
	     ap_obj_handle = vfs_file_open(ap_vfs_mount, temp_plist_buf, R_NORMAL_SEEK);	 
40194e84:	b252      	lw	v0,40194fcc <creat_plist_lib+0x354>
40194e86:	9a60      	lw	v1,0(v0)
40194e88:	b553      	lw	a1,40194fd4 <creat_plist_lib+0x35c>
40194e8a:	6a05      	li	v0,5
40194e8c:	d204      	sw	v0,16(sp)
40194e8e:	6783      	move	a0,v1
40194e90:	6e00      	li	a2,0
40194e92:	6f00      	li	a3,0
40194e94:	b24f      	lw	v0,40194fd0 <creat_plist_lib+0x358>
40194e96:	eac0      	jalrc	v0
40194e98:	d840      	sw	v0,0(s0)
40194e9a:	b251      	lw	v0,40194fdc <creat_plist_lib+0x364>
	 }
		
    }

    if (0 != ap_obj_handle)
40194e9c:	9a40      	lw	v0,0(v0)
40194e9e:	f080 2208 	beqz	v0,40194fb2 <creat_plist_lib+0x33a>
40194ea2:	b24b      	lw	v0,40194fcc <creat_plist_lib+0x354>
    {
        vfs_file_dir_offset(ap_vfs_mount, NULL, plist_lib_offset[type], 0);
40194ea4:	9a80      	lw	a0,0(v0)
40194ea6:	f020 a148 	lbu	v0,40(s1)
40194eaa:	334c      	sll	v1,v0,3
40194eac:	b246      	lw	v0,40194fc4 <creat_plist_lib+0x34c>
40194eae:	e34d      	addu	v1,v0
40194eb0:	6a03      	li	v0,3
40194eb2:	d204      	sw	v0,16(sp)
40194eb4:	6d00      	li	a1,0
40194eb6:	67c3      	move	a2,v1
40194eb8:	6f00      	li	a3,0
40194eba:	b246      	lw	v0,40194fd0 <creat_plist_lib+0x358>
40194ebc:	eac0      	jalrc	v0
40194ebe:	b34f      	lw	v1,40194ff8 <creat_plist_lib+0x380>

        ap_pos_file_offset = 0;
40194ec0:	6a00      	li	v0,0
40194ec2:	cb40      	sh	v0,0(v1)
40194ec4:	b244      	lw	v0,40194fd4 <creat_plist_lib+0x35c>
        libc_memset(temp_plist_buf, 0x00, SECTOR_SIZE);
40194ec6:	f200 6b00 	li	v1,512
40194eca:	6782      	move	a0,v0
40194ecc:	6d00      	li	a1,0
40194ece:	67c3      	move	a2,v1
40194ed0:	6f01      	li	a3,1
40194ed2:	b23e      	lw	v0,40194fc8 <creat_plist_lib+0x350>
40194ed4:	eac0      	jalrc	v0
40194ed6:	b240      	lw	v0,40194fd4 <creat_plist_lib+0x35c>
        head_p = (plist_head_t*) temp_plist_buf;
40194ed8:	d941      	sw	v0,4(s1)
40194eda:	b249      	lw	v0,40194ffc <creat_plist_lib+0x384>
        item_p = (plist_item_t*) (temp_plist_buf + sizeof(plist_head_t));
40194edc:	d942      	sw	v0,8(s1)
40194ede:	9981      	lw	a0,4(s1)
        libc_memcpy(&head_p->plist_name, &plist_lib_name[type][0], (uint32) plist_libname_len[type]);
40194ee0:	f020 a168 	lbu	v1,40(s1)
40194ee4:	6743      	move	v0,v1
40194ee6:	3244      	sll	v0,1
40194ee8:	e269      	addu	v0,v1
40194eea:	3348      	sll	v1,v0,2
40194eec:	b23b      	lw	v0,40194fd8 <creat_plist_lib+0x360>
40194eee:	e355      	addu	a1,v1,v0
40194ef0:	b344      	lw	v1,40195000 <creat_plist_lib+0x388>
40194ef2:	f020 a148 	lbu	v0,40(s1)
40194ef6:	e349      	addu	v0,v1,v0
40194ef8:	a240      	lbu	v0,0(v0)
40194efa:	67c2      	move	a2,v0
40194efc:	6f00      	li	a3,0
40194efe:	b233      	lw	v0,40194fc8 <creat_plist_lib+0x350>
40194f00:	eac0      	jalrc	v0
40194f02:	f020 a148 	lbu	v0,40(s1)
        if (type == 0)//music
40194f06:	2a2a      	bnez	v0,40194f5c <creat_plist_lib+0x2e4>
40194f08:	9942      	lw	v0,8(s1)
        {
            libc_memcpy(item_p->item_name, allsong_name, sizeof(allsong_name));
40194f0a:	b33f      	lw	v1,40195004 <creat_plist_lib+0x38c>
40194f0c:	6782      	move	a0,v0
40194f0e:	67a3      	move	a1,v1
40194f10:	6e08      	li	a2,8
40194f12:	6f00      	li	a3,0
40194f14:	b22d      	lw	v0,40194fc8 <creat_plist_lib+0x350>
40194f16:	eac0      	jalrc	v0
40194f18:	9942      	lw	v0,8(s1)
            item_p++;
40194f1a:	4a1c      	addiu	v0,28
40194f1c:	d942      	sw	v0,8(s1)
40194f1e:	9942      	lw	v0,8(s1)
            libc_memcpy(item_p->item_name, album_name, sizeof(album_name));
40194f20:	b33a      	lw	v1,40195008 <creat_plist_lib+0x390>
40194f22:	6782      	move	a0,v0
40194f24:	67a3      	move	a1,v1
40194f26:	6e06      	li	a2,6
40194f28:	6f00      	li	a3,0
40194f2a:	b228      	lw	v0,40194fc8 <creat_plist_lib+0x350>
40194f2c:	eac0      	jalrc	v0
40194f2e:	9942      	lw	v0,8(s1)
            item_p++;
40194f30:	4a1c      	addiu	v0,28
40194f32:	d942      	sw	v0,8(s1)
40194f34:	9942      	lw	v0,8(s1)
            libc_memcpy(item_p->item_name, artist_name, sizeof(artist_name));
40194f36:	b336      	lw	v1,4019500c <creat_plist_lib+0x394>
40194f38:	6782      	move	a0,v0
40194f3a:	67a3      	move	a1,v1
40194f3c:	6e07      	li	a2,7
40194f3e:	6f00      	li	a3,0
40194f40:	b222      	lw	v0,40194fc8 <creat_plist_lib+0x350>
40194f42:	eac0      	jalrc	v0
40194f44:	9942      	lw	v0,8(s1)
            item_p++;
40194f46:	4a1c      	addiu	v0,28
40194f48:	d942      	sw	v0,8(s1)
40194f4a:	9942      	lw	v0,8(s1)
            libc_memcpy(item_p->item_name, genre_name, sizeof(genre_name));
40194f4c:	b331      	lw	v1,40195010 <creat_plist_lib+0x398>
40194f4e:	6782      	move	a0,v0
40194f50:	67a3      	move	a1,v1
40194f52:	6e06      	li	a2,6
40194f54:	6f00      	li	a3,0
40194f56:	b21d      	lw	v0,40194fc8 <creat_plist_lib+0x350>
40194f58:	eac0      	jalrc	v0
40194f5a:	1022      	b	40194fa0 <creat_plist_lib+0x328>
40194f5c:	f020 a148 	lbu	v0,40(s1)

        }
        else if (type == 1)//audible
40194f60:	7201      	cmpi	v0,1
40194f62:	6758      	move	v0,t8
40194f64:	5a01      	sltiu	v0,1
40194f66:	6014      	bteqz	40194f90 <creat_plist_lib+0x318>
40194f68:	9942      	lw	v0,8(s1)
        {
            //title
            libc_memcpy(item_p->item_name, a_book_name, sizeof(a_book_name));
40194f6a:	b32b      	lw	v1,40195014 <creat_plist_lib+0x39c>
40194f6c:	6782      	move	a0,v0
40194f6e:	67a3      	move	a1,v1
40194f70:	6e05      	li	a2,5
40194f72:	6f00      	li	a3,0
40194f74:	b215      	lw	v0,40194fc8 <creat_plist_lib+0x350>
40194f76:	eac0      	jalrc	v0
40194f78:	9942      	lw	v0,8(s1)
            item_p += 2;
40194f7a:	4a38      	addiu	v0,56
40194f7c:	d942      	sw	v0,8(s1)
40194f7e:	9942      	lw	v0,8(s1)
            //artist
            libc_memcpy(item_p->item_name, a_author_name, sizeof(a_author_name));
40194f80:	b326      	lw	v1,40195018 <creat_plist_lib+0x3a0>
40194f82:	6782      	move	a0,v0
40194f84:	67a3      	move	a1,v1
40194f86:	6e07      	li	a2,7
40194f88:	6f00      	li	a3,0
40194f8a:	b210      	lw	v0,40194fc8 <creat_plist_lib+0x350>
40194f8c:	eac0      	jalrc	v0
40194f8e:	1008      	b	40194fa0 <creat_plist_lib+0x328>
40194f90:	9942      	lw	v0,8(s1)
        }
        else//others
        {
            libc_memcpy(item_p->item_name, allfile_name, sizeof(allfile_name));
40194f92:	b323      	lw	v1,4019501c <creat_plist_lib+0x3a4>
40194f94:	6782      	move	a0,v0
40194f96:	67a3      	move	a1,v1
40194f98:	6e08      	li	a2,8
40194f9a:	6f00      	li	a3,0
40194f9c:	b20b      	lw	v0,40194fc8 <creat_plist_lib+0x350>
40194f9e:	eac0      	jalrc	v0
40194fa0:	b20d      	lw	v0,40194fd0 <creat_plist_lib+0x358>
        }

        ret_val = save_to_file(temp_plist_buf, SECTOR_SIZE);
40194fa2:	f200 6b00 	li	v1,512
40194fa6:	6782      	move	a0,v0
40194fa8:	67a3      	move	a1,v1
40194faa:	b21e      	lw	v0,40195020 <creat_plist_lib+0x3a8>
40194fac:	eac0      	jalrc	v0
40194fae:	c14c      	sb	v0,12(s1)
40194fb0:	1002      	b	40194fb6 <creat_plist_lib+0x33e>
40194fb2:	6a00      	li	v0,0

    }
    else
    {
        ret_val = FALSE;
40194fb4:	c14c      	sb	v0,12(s1)
40194fb6:	a14c      	lbu	v0,12(s1)
    }

    return ret_val;
40194fb8:	d944      	sw	v0,16(s1)
40194fba:	9944      	lw	v0,16(s1)

}
40194fbc:	65b9      	move	sp,s1
40194fbe:	6475      	restore	40,ra,s0-s1
40194fc0:	e8a0      	jrc	ra
40194fc2:	0000      	addiu	s0,sp,0
40194fc4:	5994      	sltiu	s1,148
40194fc6:	9fc1      	lw	a2,4(a3)
40194fc8:	6409      	restore	72
40194fca:	bfc1      	lwu	a2,4(a3)
40194fcc:	5570      	slti	a1,112
40194fce:	9fc1      	lw	a2,4(a3)
40194fd0:	6411      	restore	8,s1
40194fd2:	bfc1      	lwu	a2,4(a3)
40194fd4:	5694      	slti	a2,148
40194fd6:	9fc1      	lw	a2,4(a3)
40194fd8:	529c      	slti	v0,156
40194fda:	4019      	daddiu	s0,s0,-7
40194fdc:	556c      	slti	a1,108
40194fde:	9fc1      	lw	a2,4(a3)
40194fe0:	52d0      	slti	v0,208
40194fe2:	4019      	daddiu	s0,s0,-7
40194fe4:	526c      	slti	v0,108
40194fe6:	4019      	daddiu	s0,s0,-7
40194fe8:	5318      	slti	v1,24
40194fea:	4019      	daddiu	s0,s0,-7
40194fec:	5a2a      	sltiu	v0,42
40194fee:	9fc1      	lw	a2,4(a3)
40194ff0:	4c01      	addiu	a0,1
40194ff2:	401d      	daddiu	s0,s0,-3
40194ff4:	640d      	restore	104
40194ff6:	bfc1      	lwu	a2,4(a3)
40194ff8:	556a      	slti	a1,106
40194ffa:	9fc1      	lw	a2,4(a3)
40194ffc:	56a4      	slti	a2,164
40194ffe:	9fc1      	lw	a2,4(a3)
40195000:	52cc      	slti	v0,204
40195002:	4019      	daddiu	s0,s0,-7
40195004:	52e0      	slti	v0,224
40195006:	4019      	daddiu	s0,s0,-7
40195008:	52e8      	slti	v0,232
4019500a:	4019      	daddiu	s0,s0,-7
4019500c:	52f0      	slti	v0,240
4019500e:	4019      	daddiu	s0,s0,-7
40195010:	52f8      	slti	v0,248
40195012:	4019      	daddiu	s0,s0,-7
40195014:	5300      	slti	v1,0
40195016:	4019      	daddiu	s0,s0,-7
40195018:	5308      	slti	v1,8
4019501a:	4019      	daddiu	s0,s0,-7
4019501c:	5310      	slti	v1,16
4019501e:	4019      	daddiu	s0,s0,-7
40195020:	6415      	restore	40,s1
40195022:	bfc1      	lwu	a2,4(a3)

40195024 <close_plist_lib>:
40195024:	64d5      	save	40,ra,s1
/******************************************************************************/
/*
 * \par  Description: 保存创建的列表
 *
 * \param[in]     type--列表类型

 * \param[out]

 * \return       TRUE OR FALSE

 * \note
 *******************************************************************************/
//关闭库文件
bool close_plist_lib(uint8 type)
{
40195026:	0106      	addiu	s1,sp,24
40195028:	6744      	move	v0,a0
4019502a:	c150      	sb	v0,16(s1)
4019502c:	b20d      	lw	v0,40195060 <close_plist_lib+0x3c>
    bool ret_val;

    ret_val = vfs_file_close(ap_vfs_mount, ap_obj_handle);
4019502e:	9a60      	lw	v1,0(v0)
40195030:	b20d      	lw	v0,40195064 <close_plist_lib+0x40>
40195032:	9aa0      	lw	a1,0(v0)
40195034:	6a07      	li	v0,7
40195036:	d204      	sw	v0,16(sp)
40195038:	6783      	move	a0,v1
4019503a:	6e00      	li	a2,0
4019503c:	6f00      	li	a3,0
4019503e:	b20b      	lw	v0,40195068 <close_plist_lib+0x44>
40195040:	eac0      	jalrc	v0
40195042:	c140      	sb	v0,0(s1)
40195044:	a140      	lbu	v0,0(s1)
    if (ret_val != FALSE)
40195046:	2206      	beqz	v0,40195054 <close_plist_lib+0x30>
40195048:	a150      	lbu	v0,16(s1)
    {
        ret_val = mdy_file_head(type);
4019504a:	6782      	move	a0,v0
4019504c:	18c0 541b 	jal	4019506c <mdy_file_head>
40195050:	6500      	nop
40195052:	c140      	sb	v0,0(s1)
40195054:	a140      	lbu	v0,0(s1)
    }

    return ret_val;
40195056:	651a      	move	t8,v0
40195058:	6758      	move	v0,t8
}
4019505a:	65b9      	move	sp,s1
4019505c:	6452      	restore	16,ra,s1
4019505e:	e8a0      	jrc	ra
40195060:	5570      	slti	a1,112
40195062:	9fc1      	lw	a2,4(a3)
40195064:	556c      	slti	a1,108
40195066:	9fc1      	lw	a2,4(a3)
40195068:	6411      	restore	8,s1
4019506a:	bfc1      	lwu	a2,4(a3)

4019506c <mdy_file_head>:
4019506c:	64f7      	save	56,ra,s0-s1
/******************************************************************************/
/*
 * \par  Description: 修改列表文件的头信息
 *
 * \param[in]    type--列表类型

 * \param[out]

 * \return       TRUE OR FALSE

 * \note
 *******************************************************************************/
//写入头信息
static bool mdy_file_head(uint8 type)
{
4019506e:	0106      	addiu	s1,sp,24
40195070:	6744      	move	v0,a0
40195072:	f020 c140 	sb	v0,32(s1)
40195076:	6a01      	li	v0,1
    bool ret_val = 1;
40195078:	c140      	sb	v0,0(s1)
4019507a:	b26e      	lw	v0,40195230 <mdy_file_head+0x1c4>
    uint8 i;
    plist_head_t *plist_h_p;
    plist_item_t *plist_item_p;

    // 更新文件列表
    vfs_cd(ap_vfs_mount, CD_ROOT, 0);
4019507c:	9a60      	lw	v1,0(v0)
4019507e:	6a00      	li	v0,0
40195080:	d204      	sw	v0,16(sp)
40195082:	6783      	move	a0,v1
40195084:	6d3a      	li	a1,58
40195086:	6e00      	li	a2,0
40195088:	6f00      	li	a3,0
4019508a:	b26b      	lw	v0,40195234 <mdy_file_head+0x1c8>
4019508c:	eac0      	jalrc	v0
4019508e:	b46b      	lw	a0,40195238 <mdy_file_head+0x1cc>

    mbyte_to_wchar(temp_plist_buf, (uint8*) &plist_lib_name[type]);
40195090:	f020 a160 	lbu	v1,32(s1)
40195094:	6743      	move	v0,v1
40195096:	3244      	sll	v0,1
40195098:	e269      	addu	v0,v1
4019509a:	3348      	sll	v1,v0,2
4019509c:	b268      	lw	v0,4019523c <mdy_file_head+0x1d0>
4019509e:	e349      	addu	v0,v1,v0
401950a0:	67a2      	move	a1,v0
401950a2:	18c0 5300 	jal	40194c00 <mbyte_to_wchar>
401950a6:	6500      	nop
401950a8:	b066      	lw	s0,40195240 <mdy_file_head+0x1d4>
    ap_obj_handle = vfs_file_open(ap_vfs_mount, temp_plist_buf, R_NORMAL_SEEK);
401950aa:	b262      	lw	v0,40195230 <mdy_file_head+0x1c4>
401950ac:	9a60      	lw	v1,0(v0)
401950ae:	b563      	lw	a1,40195238 <mdy_file_head+0x1cc>
401950b0:	6a05      	li	v0,5
401950b2:	d204      	sw	v0,16(sp)
401950b4:	6783      	move	a0,v1
401950b6:	6e00      	li	a2,0
401950b8:	6f00      	li	a3,0
401950ba:	b25f      	lw	v0,40195234 <mdy_file_head+0x1c8>
401950bc:	eac0      	jalrc	v0
401950be:	d840      	sw	v0,0(s0)
401950c0:	b260      	lw	v0,40195240 <mdy_file_head+0x1d4>
    if(0 == ap_obj_handle)
401950c2:	9a40      	lw	v0,0(v0)
401950c4:	2a29      	bnez	v0,40195118 <mdy_file_head+0xac>
401950c6:	f020 a160 	lbu	v1,32(s1)
    {
	 libc_memcpy(temp_plist_buf,(uint8*) &plist_lib_name_short[type],libc_strlen(plist_lib_name_short[type]));
401950ca:	6743      	move	v0,v1
401950cc:	3244      	sll	v0,1
401950ce:	e269      	addu	v0,v1
401950d0:	3348      	sll	v1,v0,2
401950d2:	b25d      	lw	v0,40195244 <mdy_file_head+0x1d8>
401950d4:	e349      	addu	v0,v1,v0
401950d6:	6782      	move	a0,v0
401950d8:	6d00      	li	a1,0
401950da:	6e00      	li	a2,0
401950dc:	6f03      	li	a3,3
401950de:	b25b      	lw	v0,40195248 <mdy_file_head+0x1dc>
401950e0:	eac0      	jalrc	v0
401950e2:	651a      	move	t8,v0
401950e4:	b455      	lw	a0,40195238 <mdy_file_head+0x1cc>
401950e6:	f020 a160 	lbu	v1,32(s1)
401950ea:	6743      	move	v0,v1
401950ec:	3244      	sll	v0,1
401950ee:	e269      	addu	v0,v1
401950f0:	3348      	sll	v1,v0,2
401950f2:	b255      	lw	v0,40195244 <mdy_file_head+0x1d8>
401950f4:	e349      	addu	v0,v1,v0
401950f6:	67a2      	move	a1,v0
401950f8:	67d8      	move	a2,t8
401950fa:	6f00      	li	a3,0
401950fc:	b253      	lw	v0,40195248 <mdy_file_head+0x1dc>
401950fe:	eac0      	jalrc	v0
40195100:	b050      	lw	s0,4019523c <mdy_file_head+0x1d0>
	 ap_obj_handle = vfs_file_open(ap_vfs_mount, temp_plist_buf, R_NORMAL_SEEK);	 
40195102:	b24c      	lw	v0,40195230 <mdy_file_head+0x1c4>
40195104:	9a60      	lw	v1,0(v0)
40195106:	b54d      	lw	a1,40195238 <mdy_file_head+0x1cc>
40195108:	6a05      	li	v0,5
4019510a:	d204      	sw	v0,16(sp)
4019510c:	6783      	move	a0,v1
4019510e:	6e00      	li	a2,0
40195110:	6f00      	li	a3,0
40195112:	b249      	lw	v0,40195234 <mdy_file_head+0x1c8>
40195114:	eac0      	jalrc	v0
40195116:	d840      	sw	v0,0(s0)
40195118:	b24a      	lw	v0,40195240 <mdy_file_head+0x1d4>
    }
	

    if (0 != ap_obj_handle)
4019511a:	9a40      	lw	v0,0(v0)
4019511c:	f080 2202 	beqz	v0,40195224 <mdy_file_head+0x1b8>
40195120:	b244      	lw	v0,40195230 <mdy_file_head+0x1c4>
    {
        vfs_file_read(ap_vfs_mount, temp_plist_buf, SECTOR_SIZE, ap_obj_handle);
40195122:	9a60      	lw	v1,0(v0)
40195124:	b545      	lw	a1,40195238 <mdy_file_head+0x1cc>
40195126:	f200 6e00 	li	a2,512
4019512a:	b246      	lw	v0,40195240 <mdy_file_head+0x1d4>
4019512c:	9ae0      	lw	a3,0(v0)
4019512e:	6a0d      	li	v0,13
40195130:	d204      	sw	v0,16(sp)
40195132:	6783      	move	a0,v1
40195134:	b240      	lw	v0,40195234 <mdy_file_head+0x1c8>
40195136:	eac0      	jalrc	v0
40195138:	b340      	lw	v1,40195234 <mdy_file_head+0x1c8>

        //加入标识符
        temp_plist_buf[510] = 0x55;
4019513a:	6a55      	li	v0,85
4019513c:	f1e0 c35e 	sb	v0,510(v1)
40195140:	b33e      	lw	v1,40195238 <mdy_file_head+0x1cc>
        temp_plist_buf[511] = 0xAA;
40195142:	6a56      	li	v0,86
40195144:	ea4b      	neg	v0
40195146:	f1e0 c35f 	sb	v0,511(v1)
4019514a:	b23c      	lw	v0,40195238 <mdy_file_head+0x1cc>

        plist_h_p = (plist_head_t*) temp_plist_buf;
4019514c:	d941      	sw	v0,4(s1)
4019514e:	b240      	lw	v0,4019524c <mdy_file_head+0x1e0>
        plist_item_p = (plist_item_t*) (temp_plist_buf + sizeof(plist_head_t));
40195150:	d942      	sw	v0,8(s1)
40195152:	9961      	lw	v1,4(s1)

        plist_h_p->file_total = ap_plist_file_total;
40195154:	b23f      	lw	v0,40195250 <mdy_file_head+0x1e4>
40195156:	aa40      	lhu	v0,0(v0)
40195158:	cb44      	sh	v0,8(v1)
4019515a:	9961      	lw	v1,4(s1)
        plist_h_p->file_info_offset = ap_plist_file_offset;
4019515c:	b23e      	lw	v0,40195254 <mdy_file_head+0x1e8>
4019515e:	aa40      	lhu	v0,0(v0)
40195160:	cb45      	sh	v0,10(v1)
40195162:	6a00      	li	v0,0

        for (i = 0; i < 4; i++)
40195164:	c141      	sb	v0,1(s1)
40195166:	a141      	lbu	v0,1(s1)
40195168:	5a04      	sltiu	v0,4
4019516a:	603a      	bteqz	401951e0 <mdy_file_head+0x174>
4019516c:	9982      	lw	a0,8(s1)
        {
            plist_item_p->file_index_offset = ap_file_index_offset[i];
4019516e:	b33b      	lw	v1,40195258 <mdy_file_head+0x1ec>
40195170:	a141      	lbu	v0,1(s1)
40195172:	3244      	sll	v0,1
40195174:	e269      	addu	v0,v1
40195176:	aa40      	lhu	v0,0(v0)
40195178:	cc4a      	sh	v0,20(a0)
4019517a:	9982      	lw	a0,8(s1)
            plist_item_p->sort_index_offset = ap_sort_index_offset[i];
4019517c:	b338      	lw	v1,4019525c <mdy_file_head+0x1f0>
4019517e:	a141      	lbu	v0,1(s1)
40195180:	3244      	sll	v0,1
40195182:	e269      	addu	v0,v1
40195184:	aa40      	lhu	v0,0(v0)
40195186:	cc4b      	sh	v0,22(a0)
40195188:	9982      	lw	a0,8(s1)
            plist_item_p->index_parent_offset = ap_index_parent_offset[i];
4019518a:	b336      	lw	v1,40195260 <mdy_file_head+0x1f4>
4019518c:	a141      	lbu	v0,1(s1)
4019518e:	3244      	sll	v0,1
40195190:	e269      	addu	v0,v1
40195192:	aa40      	lhu	v0,0(v0)
40195194:	cc4c      	sh	v0,24(a0)
40195196:	9942      	lw	v0,8(s1)

            libc_memcpy(plist_item_p->son_tree_num, &ap_son_tree_num[i], 6);
40195198:	6782      	move	a0,v0
4019519a:	4c08      	addiu	a0,8
4019519c:	a161      	lbu	v1,1(s1)
4019519e:	6743      	move	v0,v1
401951a0:	3244      	sll	v0,1
401951a2:	e269      	addu	v0,v1
401951a4:	3344      	sll	v1,v0,1
401951a6:	b230      	lw	v0,40195264 <mdy_file_head+0x1f8>
401951a8:	e349      	addu	v0,v1,v0
401951aa:	67a2      	move	a1,v0
401951ac:	6e06      	li	a2,6
401951ae:	6f00      	li	a3,0
401951b0:	b226      	lw	v0,40195248 <mdy_file_head+0x1dc>
401951b2:	eac0      	jalrc	v0
401951b4:	9942      	lw	v0,8(s1)
            libc_memcpy(plist_item_p->son_tree_offset, &ap_son_tree_offset[i], 6);
401951b6:	6782      	move	a0,v0
401951b8:	4c0e      	addiu	a0,14
401951ba:	a161      	lbu	v1,1(s1)
401951bc:	6743      	move	v0,v1
401951be:	3244      	sll	v0,1
401951c0:	e269      	addu	v0,v1
401951c2:	3344      	sll	v1,v0,1
401951c4:	b229      	lw	v0,40195268 <mdy_file_head+0x1fc>
401951c6:	e349      	addu	v0,v1,v0
401951c8:	67a2      	move	a1,v0
401951ca:	6e06      	li	a2,6
401951cc:	6f00      	li	a3,0
401951ce:	b21f      	lw	v0,40195248 <mdy_file_head+0x1dc>
401951d0:	eac0      	jalrc	v0
401951d2:	9942      	lw	v0,8(s1)

            plist_item_p++;
401951d4:	4a1c      	addiu	v0,28
401951d6:	d942      	sw	v0,8(s1)
401951d8:	a141      	lbu	v0,1(s1)
401951da:	4241      	addiu	v0,v0,1
401951dc:	c141      	sb	v0,1(s1)
401951de:	17c3      	b	40195166 <mdy_file_head+0xfa>
401951e0:	b214      	lw	v0,40195230 <mdy_file_head+0x1c4>
        }

        vfs_file_seek(ap_vfs_mount, 0, SEEK_SET, ap_obj_handle);
401951e2:	9a60      	lw	v1,0(v0)
401951e4:	b217      	lw	v0,40195240 <mdy_file_head+0x1d4>
401951e6:	9ae0      	lw	a3,0(v0)
401951e8:	6a0b      	li	v0,11
401951ea:	d204      	sw	v0,16(sp)
401951ec:	6783      	move	a0,v1
401951ee:	6d00      	li	a1,0
401951f0:	6e00      	li	a2,0
401951f2:	b211      	lw	v0,40195234 <mdy_file_head+0x1c8>
401951f4:	eac0      	jalrc	v0
401951f6:	b20f      	lw	v0,40195230 <mdy_file_head+0x1c4>
        vfs_file_write(ap_vfs_mount, temp_plist_buf, SECTOR_SIZE, ap_obj_handle);
401951f8:	9a60      	lw	v1,0(v0)
401951fa:	b510      	lw	a1,40195238 <mdy_file_head+0x1cc>
401951fc:	f200 6e00 	li	a2,512
40195200:	b210      	lw	v0,40195240 <mdy_file_head+0x1d4>
40195202:	9ae0      	lw	a3,0(v0)
40195204:	6a0e      	li	v0,14
40195206:	d204      	sw	v0,16(sp)
40195208:	6783      	move	a0,v1
4019520a:	b20b      	lw	v0,40195234 <mdy_file_head+0x1c8>
4019520c:	eac0      	jalrc	v0
4019520e:	b209      	lw	v0,40195230 <mdy_file_head+0x1c4>

        vfs_file_close(ap_vfs_mount, ap_obj_handle);
40195210:	9a60      	lw	v1,0(v0)
40195212:	b20c      	lw	v0,40195240 <mdy_file_head+0x1d4>
40195214:	9aa0      	lw	a1,0(v0)
40195216:	6a07      	li	v0,7
40195218:	d204      	sw	v0,16(sp)
4019521a:	6783      	move	a0,v1
4019521c:	6e00      	li	a2,0
4019521e:	6f00      	li	a3,0
40195220:	b205      	lw	v0,40195234 <mdy_file_head+0x1c8>
40195222:	eac0      	jalrc	v0
40195224:	a140      	lbu	v0,0(s1)

    }

    return ret_val;
40195226:	651a      	move	t8,v0
40195228:	6758      	move	v0,t8

}
4019522a:	65b9      	move	sp,s1
4019522c:	6474      	restore	32,ra,s0-s1
4019522e:	e8a0      	jrc	ra
40195230:	5570      	slti	a1,112
40195232:	9fc1      	lw	a2,4(a3)
40195234:	6411      	restore	8,s1
40195236:	bfc1      	lwu	a2,4(a3)
40195238:	5694      	slti	a2,148
4019523a:	9fc1      	lw	a2,4(a3)
4019523c:	529c      	slti	v0,156
4019523e:	4019      	daddiu	s0,s0,-7
40195240:	556c      	slti	a1,108
40195242:	9fc1      	lw	a2,4(a3)
40195244:	526c      	slti	v0,108
40195246:	4019      	daddiu	s0,s0,-7
40195248:	6409      	restore	72
4019524a:	bfc1      	lwu	a2,4(a3)
4019524c:	56a4      	slti	a2,164
4019524e:	9fc1      	lw	a2,4(a3)
40195250:	5598      	slti	a1,152
40195252:	9fc1      	lw	a2,4(a3)
40195254:	559a      	slti	a1,154
40195256:	9fc1      	lw	a2,4(a3)
40195258:	559c      	slti	a1,156
4019525a:	9fc1      	lw	a2,4(a3)
4019525c:	55a8      	slti	a1,168
4019525e:	9fc1      	lw	a2,4(a3)
40195260:	55b4      	slti	a1,180
40195262:	9fc1      	lw	a2,4(a3)
40195264:	55c0      	slti	a1,192
40195266:	9fc1      	lw	a2,4(a3)
40195268:	55e4      	slti	a1,228
4019526a:	9fc1      	lw	a2,4(a3)

4019526c <plist_lib_name_short>:
4019526c:	554d 4953 2043 2020 494c 0042 5541 4944     MUSIC   LIB.AUDI
4019527c:	4c42 2045 494c 0042 334d 2055 2020 2020     BLE LIB.M3U     
4019528c:	494c 0042 0000 0000 0000 0000 0000 0000     LIB.............

4019529c <plist_lib_name>:
4019529c:	554d 4953 2e43 494c 0042 0000 5541 4944     MUSIC.LIB...AUDI
401952ac:	4c42 2e45 494c 0042 334d 2e55 494c 0042     BLE.LIB.M3U.LIB.
	...

401952cc <plist_libname_len>:
401952cc:	0705 0003                                   ....

401952d0 <plist_lib_size>:
401952d0:	4000 009d dc00 0005 aa00 0017 0000 0000     .@..............

401952e0 <allsong_name>:
401952e0:	4c41 534c 4e4f 0047                         ALLSONG.

401952e8 <album_name>:
401952e8:	4c41 5542 004d 0000                         ALBUM...

401952f0 <artist_name>:
401952f0:	5241 4954 5453 0000                         ARTIST..

401952f8 <genre_name>:
401952f8:	4547 524e 0045 0000                         GENRE...

40195300 <a_book_name>:
40195300:	4f42 4b4f 0000 0000                         BOOK....

40195308 <a_author_name>:
40195308:	5541 4854 524f 0000                         AUTHOR..

40195310 <allfile_name>:
40195310:	4c41 464c 4c49 0045                         ALLFILE.

40195318 <stg_space_err>:
40195318:	0602 000a 0000 0000 0000 0000 0000 0000     ................
	...
Disassembly of section BANK_FORNT_CONTROL_1_7:

401d4c00 <plist_reflash_string>:
401d4c00:	64d6      	save	48,ra,s1
{ "0%", "10%", "20%", "30%", "40%", "50%", "60%", "70%", "80%", "90%", "100%" };

//定时刷新字符窗口
void plist_reflash_string(uint8 str_id)
{
401d4c02:	0104      	addiu	s1,sp,16
401d4c04:	6744      	move	v0,a0
401d4c06:	f020 c140 	sb	v0,32(s1)
401d4c0a:	b212      	lw	v0,401d4c50 <plist_reflash_string+0x50>
    style_infor_t plist_sty;
    textbox_private_t textbox_param;

    if (ui_cur_strID != str_id)
401d4c0c:	a260      	lbu	v1,0(v0)
401d4c0e:	f020 a140 	lbu	v0,32(s1)
401d4c12:	ea6e      	xor	v0,v1
401d4c14:	5a01      	sltiu	v0,1
401d4c16:	6118      	btnez	401d4c48 <plist_reflash_string+0x48>
401d4c18:	b30e      	lw	v1,401d4c50 <plist_reflash_string+0x50>
    {
        ui_cur_strID = str_id;
401d4c1a:	f020 a140 	lbu	v0,32(s1)
401d4c1e:	c340      	sb	v0,0(v1)
401d4c20:	f004 6a01 	li	v0,8193
        // 显示search字符串
        plist_sty.style_id = PLAYLIST_STRING;
401d4c24:	c940      	sh	v0,0(s1)
401d4c26:	6a00      	li	v0,0
        plist_sty.type = UI_AP;
401d4c28:	c142      	sb	v0,2(s1)
401d4c2a:	6a7e      	li	v0,126
        textbox_param.lang_id = UNICODEID;
401d4c2c:	c14a      	sb	v0,10(s1)
401d4c2e:	f020 a140 	lbu	v0,32(s1)
        textbox_param.str_id = str_id;
401d4c32:	c944      	sh	v0,8(s1)
401d4c34:	6a00      	li	v0,0
        textbox_param.str_value = NULL;
401d4c36:	d943      	sw	v0,12(s1)
401d4c38:	4147      	addiu	v0,s1,7
        ui_show_textbox(&plist_sty, &textbox_param, TEXTBOX_DRAW_NORMAL);
401d4c3a:	4241      	addiu	v0,v0,1
401d4c3c:	6791      	move	a0,s1
401d4c3e:	67a2      	move	a1,v0
401d4c40:	6e01      	li	a2,1
401d4c42:	6f03      	li	a3,3
401d4c44:	b204      	lw	v0,401d4c54 <plist_reflash_string+0x54>
401d4c46:	eac0      	jalrc	v0
401d4c48:	65b9      	move	sp,s1
    }
    return;
}
401d4c4a:	6454      	restore	32,ra,s1
401d4c4c:	e8a0      	jrc	ra
401d4c4e:	0000      	addiu	s0,sp,0
401d4c50:	5a26      	sltiu	v0,38
401d4c52:	9fc1      	lw	a2,4(a3)
401d4c54:	6bb1      	li	v1,177
401d4c56:	bfc1      	lwu	a2,4(a3)

401d4c58 <plist_timer_proc>:
401d4c58:	64d5      	save	40,ra,s1

//app定时器,定时处理程序
void plist_timer_proc(void)
{
401d4c5a:	0104      	addiu	s1,sp,16
401d4c5c:	b313      	lw	v1,401d4ca8 <plist_timer_proc+0x50>
    style_infor_t plist_sty;
    picbox_private_t picbox_param;

    //循环刷新locading图标
    ui_icon_count--;
401d4c5e:	b213      	lw	v0,401d4ca8 <plist_timer_proc+0x50>
401d4c60:	a240      	lbu	v0,0(v0)
401d4c62:	424f      	addiu	v0,v0,-1
401d4c64:	c340      	sb	v0,0(v1)
401d4c66:	b211      	lw	v0,401d4ca8 <plist_timer_proc+0x50>
    if (ui_icon_count > ID_ICON_MAX)
401d4c68:	a240      	lbu	v0,0(v0)
401d4c6a:	5a08      	sltiu	v0,8
401d4c6c:	6103      	btnez	401d4c74 <plist_timer_proc+0x1c>
401d4c6e:	b30f      	lw	v1,401d4ca8 <plist_timer_proc+0x50>
    {
        ui_icon_count = ID_ICON_MAX;
401d4c70:	6a07      	li	v0,7
401d4c72:	c340      	sb	v0,0(v1)
401d4c74:	f002 6a00 	li	v0,4096
    }

    plist_sty.style_id = PLAYLIST_LOAD_CYCLE;
401d4c78:	c940      	sh	v0,0(s1)
401d4c7a:	6a00      	li	v0,0
    plist_sty.type = UI_AP;
401d4c7c:	c142      	sb	v0,2(s1)
401d4c7e:	6a01      	li	v0,1
    picbox_param.pic_id = -1;
401d4c80:	ea4b      	neg	v0
401d4c82:	c944      	sh	v0,8(s1)
401d4c84:	b209      	lw	v0,401d4ca8 <plist_timer_proc+0x50>
    picbox_param.frame_id = ui_icon_count;
401d4c86:	a240      	lbu	v0,0(v0)
401d4c88:	c14a      	sb	v0,10(s1)
401d4c8a:	4147      	addiu	v0,s1,7
    ui_show_picbox(&plist_sty, &picbox_param);
401d4c8c:	4241      	addiu	v0,v0,1
401d4c8e:	6791      	move	a0,s1
401d4c90:	67a2      	move	a1,v0
401d4c92:	6e00      	li	a2,0
401d4c94:	6f02      	li	a3,2
401d4c96:	b206      	lw	v0,401d4cac <plist_timer_proc+0x54>
401d4c98:	eac0      	jalrc	v0
401d4c9a:	6c07      	li	a0,7

    plist_reflash_string(S_PLIST_SEARCH);
401d4c9c:	18e0 5300 	jal	401d4c00 <plist_reflash_string>
401d4ca0:	6500      	nop
401d4ca2:	65b9      	move	sp,s1

}
401d4ca4:	6453      	restore	24,ra,s1
401d4ca6:	e8a0      	jrc	ra
401d4ca8:	5a25      	sltiu	v0,37
401d4caa:	9fc1      	lw	a2,4(a3)
401d4cac:	6bb1      	li	v1,177
401d4cae:	bfc1      	lwu	a2,4(a3)

401d4cb0 <plist_reflash_progress>:
401d4cb0:	64d8      	save	64,ra,s1

//更新进度条和百分比
void plist_reflash_progress(uint8 prog_value)
{
401d4cb2:	0104      	addiu	s1,sp,16
401d4cb4:	6744      	move	v0,a0
401d4cb6:	f020 c150 	sb	v0,48(s1)
401d4cba:	6a01      	li	v0,1
    style_infor_t plist_sty;
    progressbar_private_t progressbar_param;
    textbox_private_t textbox_param;

    bool reflash_flag = TRUE;
401d4cbc:	f020 c140 	sb	v0,32(s1)
401d4cc0:	f020 a150 	lbu	v0,48(s1)

    if (prog_value > (ID_PERCENT_STR_MAX - 1))
401d4cc4:	5a0b      	sltiu	v0,11
401d4cc6:	6110      	btnez	401d4ce8 <plist_reflash_progress+0x38>
401d4cc8:	b332      	lw	v1,401d4d90 <plist_reflash_progress+0xe0>
    {
        ui_precent_count++;
401d4cca:	b232      	lw	v0,401d4d90 <plist_reflash_progress+0xe0>
401d4ccc:	a240      	lbu	v0,0(v0)
401d4cce:	4241      	addiu	v0,v0,1
401d4cd0:	c340      	sb	v0,0(v1)
401d4cd2:	b230      	lw	v0,401d4d90 <plist_reflash_progress+0xe0>

        if (ui_precent_count > (ID_PERCENT_STR_MAX - 2))
401d4cd4:	a240      	lbu	v0,0(v0)
401d4cd6:	5a0a      	sltiu	v0,10
401d4cd8:	610b      	btnez	401d4cf0 <plist_reflash_progress+0x40>
401d4cda:	b22e      	lw	v0,401d4d90 <plist_reflash_progress+0xe0>
        {
            ui_precent_count = ID_PERCENT_STR_MAX - 2;//停在90%
401d4cdc:	6b09      	li	v1,9
401d4cde:	c260      	sb	v1,0(v0)
401d4ce0:	6a00      	li	v0,0
            reflash_flag = FALSE;
401d4ce2:	f020 c140 	sb	v0,32(s1)
401d4ce6:	1004      	b	401d4cf0 <plist_reflash_progress+0x40>
401d4ce8:	b32a      	lw	v1,401d4d90 <plist_reflash_progress+0xe0>
        }
    }
    else
    {
        ui_precent_count = prog_value;
401d4cea:	f020 a150 	lbu	v0,48(s1)
401d4cee:	c340      	sb	v0,0(v1)
401d4cf0:	f020 a140 	lbu	v0,32(s1)
    }

    if (FALSE == reflash_flag)
401d4cf4:	2a01      	bnez	v0,401d4cf8 <plist_reflash_progress+0x48>
401d4cf6:	1049      	b	401d4d8a <plist_reflash_progress+0xda>
    {
        return;
401d4cf8:	f00a 6a00 	li	v0,20480
    }

    //刷新进度条
    plist_sty.style_id = PLAYLIST_PROGRESS;
401d4cfc:	c940      	sh	v0,0(s1)
401d4cfe:	6a00      	li	v0,0
    plist_sty.type = UI_AP;
401d4d00:	c142      	sb	v0,2(s1)
401d4d02:	6a78      	li	v0,120
    progressbar_param.total = 120;
401d4d04:	d943      	sw	v0,12(s1)
401d4d06:	b223      	lw	v0,401d4d90 <plist_reflash_progress+0xe0>
    progressbar_param.value = ui_precent_count * 12;
401d4d08:	a260      	lbu	v1,0(v0)
401d4d0a:	6743      	move	v0,v1
401d4d0c:	3244      	sll	v0,1
401d4d0e:	e269      	addu	v0,v1
401d4d10:	3248      	sll	v0,2
401d4d12:	d942      	sw	v0,8(s1)
401d4d14:	4147      	addiu	v0,s1,7
    ui_show_progressbar(&plist_sty, &progressbar_param, PROGRESS_DRAW_PROGRESS);
401d4d16:	4241      	addiu	v0,v0,1
401d4d18:	6791      	move	a0,s1
401d4d1a:	67a2      	move	a1,v0
401d4d1c:	6e01      	li	a2,1
401d4d1e:	6f06      	li	a3,6
401d4d20:	b21d      	lw	v0,401d4d94 <plist_reflash_progress+0xe4>
401d4d22:	eac0      	jalrc	v0
401d4d24:	f004 6a00 	li	v0,8192

    //刷新百分比
    plist_sty.style_id = PLAYLIST_PERCENT;
401d4d28:	c940      	sh	v0,0(s1)
401d4d2a:	6a00      	li	v0,0
    plist_sty.type = UI_AP;
401d4d2c:	c142      	sb	v0,2(s1)
401d4d2e:	6a7b      	li	v0,123
    textbox_param.lang_id = ANSIDATAAUTO;
401d4d30:	c152      	sb	v0,18(s1)
401d4d32:	b218      	lw	v0,401d4d90 <plist_reflash_progress+0xe0>
    textbox_param.str_value = (uint8*) display_percent_str[ui_precent_count];
401d4d34:	a260      	lbu	v1,0(v0)
401d4d36:	6743      	move	v0,v1
401d4d38:	3248      	sll	v0,2
401d4d3a:	e269      	addu	v0,v1
401d4d3c:	b317      	lw	v1,401d4d98 <plist_reflash_progress+0xe8>
401d4d3e:	e269      	addu	v0,v1
401d4d40:	d945      	sw	v0,20(s1)
401d4d42:	4147      	addiu	v0,s1,7
    ui_show_textbox(&plist_sty, &textbox_param, TEXTBOX_DRAW_NORMAL);
401d4d44:	4a09      	addiu	v0,9
401d4d46:	6791      	move	a0,s1
401d4d48:	67a2      	move	a1,v0
401d4d4a:	6e01      	li	a2,1
401d4d4c:	6f03      	li	a3,3
401d4d4e:	b212      	lw	v0,401d4d94 <plist_reflash_progress+0xe4>
401d4d50:	eac0      	jalrc	v0
401d4d52:	b210      	lw	v0,401d4d90 <plist_reflash_progress+0xe0>

    if (ui_precent_count == 0x0a)
401d4d54:	a240      	lbu	v0,0(v0)
401d4d56:	720a      	cmpi	v0,10
401d4d58:	6758      	move	v0,t8
401d4d5a:	5a01      	sltiu	v0,1
401d4d5c:	6016      	bteqz	401d4d8a <plist_reflash_progress+0xda>
401d4d5e:	f004 6a01 	li	v0,8193
    {
        //刷新字符串显示
        plist_sty.style_id = PLAYLIST_STRING;
401d4d62:	c940      	sh	v0,0(s1)
401d4d64:	6a00      	li	v0,0
        plist_sty.type = UI_AP;
401d4d66:	c142      	sb	v0,2(s1)
401d4d68:	6a7e      	li	v0,126
        textbox_param.lang_id = UNICODEID;
401d4d6a:	c152      	sb	v0,18(s1)
401d4d6c:	6a03      	li	v0,3
        textbox_param.str_id = S_PLIST_COMPLETE;
401d4d6e:	c948      	sh	v0,16(s1)
401d4d70:	6a00      	li	v0,0
        textbox_param.str_value = NULL;
401d4d72:	d945      	sw	v0,20(s1)
401d4d74:	4147      	addiu	v0,s1,7
        ui_show_textbox(&plist_sty, &textbox_param, TEXTBOX_DRAW_NORMAL);
401d4d76:	4a09      	addiu	v0,9
401d4d78:	6791      	move	a0,s1
401d4d7a:	67a2      	move	a1,v0
401d4d7c:	6e01      	li	a2,1
401d4d7e:	6f03      	li	a3,3
401d4d80:	b205      	lw	v0,401d4d94 <plist_reflash_progress+0xe4>
401d4d82:	eac0      	jalrc	v0
401d4d84:	b306      	lw	v1,401d4d98 <plist_reflash_progress+0xe8>
        ui_cur_strID = S_PLIST_COMPLETE;
401d4d86:	6a03      	li	v0,3
401d4d88:	c340      	sb	v0,0(v1)
401d4d8a:	65b9      	move	sp,s1
    }

}
401d4d8c:	6456      	restore	48,ra,s1
401d4d8e:	e8a0      	jrc	ra
401d4d90:	5a24      	sltiu	v0,36
401d4d92:	9fc1      	lw	a2,4(a3)
401d4d94:	6bb1      	li	v1,177
401d4d96:	bfc1      	lwu	a2,4(a3)
401d4d98:	4e7c      	addiu	a2,124
401d4d9a:	401d      	daddiu	s0,s0,-3
401d4d9c:	5a26      	sltiu	v0,38
401d4d9e:	9fc1      	lw	a2,4(a3)

401d4da0 <_app_display_init>:
401d4da0:	64d8      	save	64,ra,s1

//初始化启动界面
void _app_display_init(void)
{
401d4da2:	0104      	addiu	s1,sp,16
401d4da4:	b331      	lw	v1,401d4e68 <_app_display_init+0xc8>
    /*pic_box 接口变量*/
    style_infor_t plist_sty;
    picbox_private_t picbox_param;
    progressbar_private_t progressbar_param;
    textbox_private_t textbox_param;

    ui_precent_count = 0;
401d4da6:	6a00      	li	v0,0
401d4da8:	c340      	sb	v0,0(v1)
401d4daa:	b331      	lw	v1,401d4e6c <_app_display_init+0xcc>
    ui_icon_count = ID_ICON_MAX;
401d4dac:	6a07      	li	v0,7
401d4dae:	c340      	sb	v0,0(v1)
401d4db0:	f0c3 6a03 	li	v0,6339

    //设置字符串滚屏定时器

    //draw bg
    ui_set_backgd_color(Color_BACKCOLOR_def);
401d4db4:	6782      	move	a0,v0
401d4db6:	6d00      	li	a1,0
401d4db8:	6e00      	li	a2,0
401d4dba:	6f14      	li	a3,20
401d4dbc:	b22d      	lw	v0,401d4e70 <_app_display_init+0xd0>
401d4dbe:	eac0      	jalrc	v0
401d4dc0:	6c00      	li	a0,0
    ui_clear_screen(NULL);  
401d4dc2:	6d00      	li	a1,0
401d4dc4:	6e00      	li	a2,0
401d4dc6:	6f12      	li	a3,18
401d4dc8:	b22a      	lw	v0,401d4e70 <_app_display_init+0xd0>
401d4dca:	eac0      	jalrc	v0
401d4dcc:	f002 6a00 	li	v0,4096

    // 显示locading图标
    plist_sty.style_id = PLAYLIST_LOAD_CYCLE;
401d4dd0:	c940      	sh	v0,0(s1)
401d4dd2:	6a00      	li	v0,0
    plist_sty.type = UI_AP;
401d4dd4:	c142      	sb	v0,2(s1)
401d4dd6:	6a01      	li	v0,1
    picbox_param.pic_id = -1;
401d4dd8:	ea4b      	neg	v0
401d4dda:	c944      	sh	v0,8(s1)
401d4ddc:	b224      	lw	v0,401d4e6c <_app_display_init+0xcc>
    picbox_param.frame_id = ui_icon_count;
401d4dde:	a240      	lbu	v0,0(v0)
401d4de0:	c14a      	sb	v0,10(s1)
401d4de2:	4147      	addiu	v0,s1,7
    ui_show_picbox(&plist_sty, &picbox_param);
401d4de4:	4241      	addiu	v0,v0,1
401d4de6:	6791      	move	a0,s1
401d4de8:	67a2      	move	a1,v0
401d4dea:	6e00      	li	a2,0
401d4dec:	6f02      	li	a3,2
401d4dee:	b221      	lw	v0,401d4e70 <_app_display_init+0xd0>
401d4df0:	eac0      	jalrc	v0
401d4df2:	f00a 6a00 	li	v0,20480

    // 显示进度条
    plist_sty.style_id = PLAYLIST_PROGRESS;
401d4df6:	c940      	sh	v0,0(s1)
401d4df8:	6a00      	li	v0,0
    plist_sty.type = UI_AP;
401d4dfa:	c142      	sb	v0,2(s1)
401d4dfc:	6a78      	li	v0,120
    progressbar_param.total = 120;
401d4dfe:	d945      	sw	v0,20(s1)
401d4e00:	6a00      	li	v0,0
    progressbar_param.value = 0;
401d4e02:	d944      	sw	v0,16(s1)
401d4e04:	4147      	addiu	v0,s1,7
    ui_show_progressbar(&plist_sty, &progressbar_param, PROGRESS_DRAW_ALL);
401d4e06:	4a09      	addiu	v0,9
401d4e08:	6791      	move	a0,s1
401d4e0a:	67a2      	move	a1,v0
401d4e0c:	6e06      	li	a2,6
401d4e0e:	6f06      	li	a3,6
401d4e10:	b218      	lw	v0,401d4e70 <_app_display_init+0xd0>
401d4e12:	eac0      	jalrc	v0
401d4e14:	f004 6a01 	li	v0,8193

    // 显示search字符串
    plist_sty.style_id = PLAYLIST_STRING;
401d4e18:	c940      	sh	v0,0(s1)
401d4e1a:	6a00      	li	v0,0
    plist_sty.type = UI_AP;
401d4e1c:	c142      	sb	v0,2(s1)
401d4e1e:	6a7e      	li	v0,126
    textbox_param.lang_id = UNICODEID;
401d4e20:	c15a      	sb	v0,26(s1)
401d4e22:	6a07      	li	v0,7
    textbox_param.str_id = S_PLIST_SEARCH;
401d4e24:	c94c      	sh	v0,24(s1)
401d4e26:	6a00      	li	v0,0
    textbox_param.str_value = NULL;
401d4e28:	d947      	sw	v0,28(s1)
401d4e2a:	4147      	addiu	v0,s1,7
    ui_show_textbox(&plist_sty, &textbox_param, TEXTBOX_DRAW_NORMAL);
401d4e2c:	4a11      	addiu	v0,17
401d4e2e:	6791      	move	a0,s1
401d4e30:	67a2      	move	a1,v0
401d4e32:	6e01      	li	a2,1
401d4e34:	6f03      	li	a3,3
401d4e36:	b20f      	lw	v0,401d4e70 <_app_display_init+0xd0>
401d4e38:	eac0      	jalrc	v0
401d4e3a:	b30f      	lw	v1,401d4e74 <_app_display_init+0xd4>
    ui_cur_strID = S_PLIST_SEARCH;
401d4e3c:	6a07      	li	v0,7
401d4e3e:	c340      	sb	v0,0(v1)
401d4e40:	f004 6a00 	li	v0,8192

    // 显示百分比
    plist_sty.style_id = PLAYLIST_PERCENT;
401d4e44:	c940      	sh	v0,0(s1)
401d4e46:	6a00      	li	v0,0
    plist_sty.type = UI_AP;
401d4e48:	c142      	sb	v0,2(s1)
401d4e4a:	6a7b      	li	v0,123
    textbox_param.lang_id = ANSIDATAAUTO;
401d4e4c:	c15a      	sb	v0,26(s1)
401d4e4e:	b20b      	lw	v0,401d4e78 <_app_display_init+0xd8>
    textbox_param.str_value = (uint8*) display_percent_str[0];
401d4e50:	d947      	sw	v0,28(s1)
401d4e52:	4147      	addiu	v0,s1,7
    ui_show_textbox(&plist_sty, &textbox_param, TEXTBOX_DRAW_NORMAL);
401d4e54:	4a11      	addiu	v0,17
401d4e56:	6791      	move	a0,s1
401d4e58:	67a2      	move	a1,v0
401d4e5a:	6e01      	li	a2,1
401d4e5c:	6f03      	li	a3,3
401d4e5e:	b205      	lw	v0,401d4e70 <_app_display_init+0xd0>
401d4e60:	eac0      	jalrc	v0
401d4e62:	65b9      	move	sp,s1
}
401d4e64:	6456      	restore	48,ra,s1
401d4e66:	e8a0      	jrc	ra
401d4e68:	5a24      	sltiu	v0,36
401d4e6a:	9fc1      	lw	a2,4(a3)
401d4e6c:	5a25      	sltiu	v0,37
401d4e6e:	9fc1      	lw	a2,4(a3)
401d4e70:	6bb1      	li	v1,177
401d4e72:	bfc1      	lwu	a2,4(a3)
401d4e74:	5a26      	sltiu	v0,38
401d4e76:	9fc1      	lw	a2,4(a3)
401d4e78:	4e7c      	addiu	a2,124
401d4e7a:	401d      	daddiu	s0,s0,-3

401d4e7c <display_percent_str>:
401d4e7c:	2530 0000 3100 2530 0000 3032 0025 3300     0%...10%..20%..3
401d4e8c:	2530 0000 3034 0025 3500 2530 0000 3036     0%..40%..50%..60
401d4e9c:	0025 3700 2530 0000 3038 0025 3900 2530     %..70%..80%..90%
401d4eac:	0000 3031 2530 0000 0000 0000 0000 0000     ..100%..........
	...
Disassembly of section BANK_FORNT_CONTROL_1_8:

40214c00 <check_ext_bitmap>:
40214c00:	64d5      	save	40,ra,s1
};

//************************************
uint32 check_ext_bitmap(uint32 tmp_ext_name)
{
40214c02:	0104      	addiu	s1,sp,16
40214c04:	d986      	sw	a0,24(s1)
40214c06:	b216      	lw	v0,40214c5c <check_ext_bitmap+0x5c>
    uint8 i;
    uint32 bit_map = 0x80000000;
40214c08:	d941      	sw	v0,4(s1)
40214c0a:	6a00      	li	v0,0

    for (i = 0; i < 32; i++)
40214c0c:	c140      	sb	v0,0(s1)
40214c0e:	a140      	lbu	v0,0(s1)
40214c10:	5a20      	sltiu	v0,32
40214c12:	6015      	bteqz	40214c3e <check_ext_bitmap+0x3e>
40214c14:	a140      	lbu	v0,0(s1)
    {
        if (0 == libc_memcmp(ext_vec_rom[i], &tmp_ext_name, 3))
40214c16:	3348      	sll	v1,v0,2
40214c18:	b212      	lw	v0,40214c60 <check_ext_bitmap+0x60>
40214c1a:	e349      	addu	v0,v1,v0
40214c1c:	6782      	move	a0,v0
40214c1e:	6d18      	li	a1,24
40214c20:	e535      	addu	a1,s1
40214c22:	6e03      	li	a2,3
40214c24:	6f02      	li	a3,2
40214c26:	b210      	lw	v0,40214c64 <check_ext_bitmap+0x64>
40214c28:	eac0      	jalrc	v0
40214c2a:	651a      	move	t8,v0
40214c2c:	6101      	btnez	40214c30 <check_ext_bitmap+0x30>
40214c2e:	1007      	b	40214c3e <check_ext_bitmap+0x3e>
        {
            break;
40214c30:	9941      	lw	v0,4(s1)
        }
        else
        {
            bit_map = bit_map >> 1;
40214c32:	3246      	srl	v0,1
40214c34:	d941      	sw	v0,4(s1)
40214c36:	a140      	lbu	v0,0(s1)
40214c38:	4241      	addiu	v0,v0,1
40214c3a:	c140      	sb	v0,0(s1)
40214c3c:	17e8      	b	40214c0e <check_ext_bitmap+0xe>
40214c3e:	a140      	lbu	v0,0(s1)
        }
    }

    if (i == 32)
40214c40:	7220      	cmpi	v0,32
40214c42:	6758      	move	v0,t8
40214c44:	5a01      	sltiu	v0,1
40214c46:	6003      	bteqz	40214c4e <check_ext_bitmap+0x4e>
40214c48:	6a00      	li	v0,0
    {
        return 0;
40214c4a:	d942      	sw	v0,8(s1)
40214c4c:	1002      	b	40214c52 <check_ext_bitmap+0x52>
40214c4e:	9941      	lw	v0,4(s1)
    }

    return bit_map;
40214c50:	d942      	sw	v0,8(s1)
40214c52:	9942      	lw	v0,8(s1)

}
40214c54:	65b9      	move	sp,s1
40214c56:	6453      	restore	24,ra,s1
40214c58:	e8a0      	jrc	ra
40214c5a:	0000      	addiu	s0,sp,0
40214c5c:	0000      	addiu	s0,sp,0
40214c5e:	8000      	lb	s0,0(s0)
40214c60:	50c8      	slti	s0,200
40214c62:	4021      	addiu	s1,s0,1
40214c64:	6409      	restore	72
40214c66:	bfc1      	lwu	a2,4(a3)

40214c68 <check_m3u_exist>:
40214c68:	64f6      	save	48,ra,s0-s1

/******************************************************************************/
/*
 * \par  Description: 检查m3u文件是否存在
 *
 * \param[in]

 * \param[out]

 * \return        TRUE OR FALSE

 * \note
 *******************************************************************************/
bool check_m3u_exist(void)
{
40214c6a:	0106      	addiu	s1,sp,24
40214c6c:	6a00      	li	v0,0
    bool retval = FALSE;
40214c6e:	c140      	sb	v0,0(s1)
40214c70:	b22c      	lw	v0,40214d20 <check_m3u_exist+0xb8>
    uint16 m3u_list_total;
    plist_head_t *head_p;

    //定位到根目录
    vfs_cd(ap_vfs_mount, CD_ROOT, 0);
40214c72:	9a60      	lw	v1,0(v0)
40214c74:	6a00      	li	v0,0
40214c76:	d204      	sw	v0,16(sp)
40214c78:	6783      	move	a0,v1
40214c7a:	6d3a      	li	a1,58
40214c7c:	6e00      	li	a2,0
40214c7e:	6f00      	li	a3,0
40214c80:	b229      	lw	v0,40214d24 <check_m3u_exist+0xbc>
40214c82:	eac0      	jalrc	v0
40214c84:	b029      	lw	s0,40214d24 <check_m3u_exist+0xbc>
    ap_obj_handle = vfs_file_open(ap_vfs_mount, m3u_libname, R_NORMAL_SEEK);
40214c86:	b227      	lw	v0,40214d20 <check_m3u_exist+0xb8>
40214c88:	9a60      	lw	v1,0(v0)
40214c8a:	b529      	lw	a1,40214d2c <check_m3u_exist+0xc4>
40214c8c:	6a05      	li	v0,5
40214c8e:	d204      	sw	v0,16(sp)
40214c90:	6783      	move	a0,v1
40214c92:	6e00      	li	a2,0
40214c94:	6f00      	li	a3,0
40214c96:	b224      	lw	v0,40214d24 <check_m3u_exist+0xbc>
40214c98:	eac0      	jalrc	v0
40214c9a:	d840      	sw	v0,0(s0)
40214c9c:	b223      	lw	v0,40214d28 <check_m3u_exist+0xc0>

    if (0 != ap_obj_handle)
40214c9e:	9a40      	lw	v0,0(v0)
40214ca0:	222a      	beqz	v0,40214cf6 <check_m3u_exist+0x8e>
40214ca2:	b220      	lw	v0,40214d20 <check_m3u_exist+0xb8>
    {
        vfs_file_read(ap_vfs_mount, temp_plist_buf, SECTOR_SIZE, ap_obj_handle);
40214ca4:	9a60      	lw	v1,0(v0)
40214ca6:	b523      	lw	a1,40214d30 <check_m3u_exist+0xc8>
40214ca8:	f200 6e00 	li	a2,512
40214cac:	b21f      	lw	v0,40214d28 <check_m3u_exist+0xc0>
40214cae:	9ae0      	lw	a3,0(v0)
40214cb0:	6a0d      	li	v0,13
40214cb2:	d204      	sw	v0,16(sp)
40214cb4:	6783      	move	a0,v1
40214cb6:	b21c      	lw	v0,40214d24 <check_m3u_exist+0xbc>
40214cb8:	eac0      	jalrc	v0
40214cba:	b21e      	lw	v0,40214d30 <check_m3u_exist+0xc8>
        if ((temp_plist_buf[510] == 0x55) && (temp_plist_buf[511] == 0xAA))
40214cbc:	f1e0 a25e 	lbu	v0,510(v0)
40214cc0:	7255      	cmpi	v0,85
40214cc2:	6758      	move	v0,t8
40214cc4:	5a01      	sltiu	v0,1
40214cc6:	6017      	bteqz	40214cf6 <check_m3u_exist+0x8e>
40214cc8:	b21a      	lw	v0,40214d30 <check_m3u_exist+0xc8>
40214cca:	f1e0 a25f 	lbu	v0,511(v0)
40214cce:	72aa      	cmpi	v0,170
40214cd0:	6758      	move	v0,t8
40214cd2:	5a01      	sltiu	v0,1
40214cd4:	6010      	bteqz	40214cf6 <check_m3u_exist+0x8e>
40214cd6:	b217      	lw	v0,40214d30 <check_m3u_exist+0xc8>
        {
            head_p = (plist_head_t*) temp_plist_buf;
40214cd8:	d941      	sw	v0,4(s1)
40214cda:	9941      	lw	v0,4(s1)
            m3u_list_total = head_p->file_total;
40214cdc:	aa44      	lhu	v0,8(v0)
40214cde:	c941      	sh	v0,2(s1)
40214ce0:	a941      	lhu	v0,2(s1)

            if (m3u_list_total != 0)
40214ce2:	2209      	beqz	v0,40214cf6 <check_m3u_exist+0x8e>
40214ce4:	a961      	lhu	v1,2(s1)
            {
                wirte_m3u_dat(m3u_list_total, head_p->file_info_offset);
40214ce6:	9941      	lw	v0,4(s1)
40214ce8:	aa45      	lhu	v0,10(v0)
40214cea:	6783      	move	a0,v1
40214cec:	67a2      	move	a1,v0
40214cee:	b212      	lw	v0,40214d34 <check_m3u_exist+0xcc>
40214cf0:	eac0      	jalrc	v0
40214cf2:	6a01      	li	v0,1
                retval = TRUE;
40214cf4:	c140      	sb	v0,0(s1)
40214cf6:	b20d      	lw	v0,40214d28 <check_m3u_exist+0xc0>
            }
        }
    }

    if (0 != ap_obj_handle)
40214cf8:	9a40      	lw	v0,0(v0)
40214cfa:	220b      	beqz	v0,40214d12 <check_m3u_exist+0xaa>
40214cfc:	b209      	lw	v0,40214d20 <check_m3u_exist+0xb8>
    {
        vfs_file_close(ap_vfs_mount, ap_obj_handle);
40214cfe:	9a60      	lw	v1,0(v0)
40214d00:	b20a      	lw	v0,40214d28 <check_m3u_exist+0xc0>
40214d02:	9aa0      	lw	a1,0(v0)
40214d04:	6a07      	li	v0,7
40214d06:	d204      	sw	v0,16(sp)
40214d08:	6783      	move	a0,v1
40214d0a:	6e00      	li	a2,0
40214d0c:	6f00      	li	a3,0
40214d0e:	b206      	lw	v0,40214d24 <check_m3u_exist+0xbc>
40214d10:	eac0      	jalrc	v0
40214d12:	a140      	lbu	v0,0(s1)
    }

    return retval;
40214d14:	651a      	move	t8,v0
40214d16:	6758      	move	v0,t8
}
40214d18:	65b9      	move	sp,s1
40214d1a:	6473      	restore	24,ra,s0-s1
40214d1c:	e8a0      	jrc	ra
40214d1e:	0000      	addiu	s0,sp,0
40214d20:	5570      	slti	a1,112
40214d22:	9fc1      	lw	a2,4(a3)
40214d24:	6411      	restore	8,s1
40214d26:	bfc1      	lwu	a2,4(a3)
40214d28:	556c      	slti	a1,108
40214d2a:	9fc1      	lw	a2,4(a3)
40214d2c:	50b4      	slti	s0,180
40214d2e:	4021      	addiu	s1,s0,1
40214d30:	5694      	slti	a2,148
40214d32:	9fc1      	lw	a2,4(a3)
40214d34:	4401      	addiu	s0,a0,1
40214d36:	4811      	addiu	s0,17

40214d38 <parse_ext_name>:
40214d38:	6492      	save	16,s1

/******************************************************************************/
/*
 * \par  Description: 整理扩展buffer
 *
 * \param[in]    buf_ext，缓存地址

 * \param[out]

 * \return        TRUE OR FALSE

 * \note
 *******************************************************************************/
void parse_ext_name(uint8 *buf_ext)
{
40214d3a:	673d      	move	s1,sp
40214d3c:	d984      	sw	a0,16(s1)
40214d3e:	9944      	lw	v0,16(s1)
    uint8 *target_buf;
    uint8 val;

    target_buf = (uint8 *) buf_ext;
40214d40:	d940      	sw	v0,0(s1)
40214d42:	9944      	lw	v0,16(s1)

    //处理 .YY ,.YYY和.YYYY情况
    if (*buf_ext == 0x2e)
40214d44:	a240      	lbu	v0,0(v0)
40214d46:	722e      	cmpi	v0,46
40214d48:	6758      	move	v0,t8
40214d4a:	5a01      	sltiu	v0,1
40214d4c:	6004      	bteqz	40214d56 <parse_ext_name+0x1e>
40214d4e:	9944      	lw	v0,16(s1)
    {
        buf_ext++;
40214d50:	4241      	addiu	v0,v0,1
40214d52:	d944      	sw	v0,16(s1)
40214d54:	100c      	b	40214d6e <parse_ext_name+0x36>
40214d56:	9944      	lw	v0,16(s1)
    }
    else if (*(buf_ext + 1) == 0x2e)
40214d58:	a241      	lbu	v0,1(v0)
40214d5a:	722e      	cmpi	v0,46
40214d5c:	6758      	move	v0,t8
40214d5e:	5a01      	sltiu	v0,1
40214d60:	6006      	bteqz	40214d6e <parse_ext_name+0x36>
40214d62:	9944      	lw	v0,16(s1)
    {
        buf_ext = buf_ext + 2;
40214d64:	4242      	addiu	v0,v0,2
40214d66:	d944      	sw	v0,16(s1)
40214d68:	9964      	lw	v1,16(s1)
        *(buf_ext + 2) = 0x20;//两位后缀名,加空格
40214d6a:	6a20      	li	v0,32
40214d6c:	c342      	sb	v0,2(v1)
40214d6e:	9944      	lw	v0,16(s1)
    }
    else
    {
        ;//QAC
    }

    while (*buf_ext != 0)
40214d70:	a240      	lbu	v0,0(v0)
40214d72:	2216      	beqz	v0,40214da0 <parse_ext_name+0x68>
40214d74:	9944      	lw	v0,16(s1)
    {
        val = (uint8) ((*buf_ext) & 0xff);
40214d76:	a240      	lbu	v0,0(v0)
40214d78:	c144      	sb	v0,4(s1)
40214d7a:	9944      	lw	v0,16(s1)
        buf_ext++;
40214d7c:	4241      	addiu	v0,v0,1
40214d7e:	d944      	sw	v0,16(s1)
40214d80:	a144      	lbu	v0,4(s1)
        if ((val >= 'a') && (val <= 'z'))
40214d82:	5a61      	sltiu	v0,97
40214d84:	6106      	btnez	40214d92 <parse_ext_name+0x5a>
40214d86:	a144      	lbu	v0,4(s1)
40214d88:	5a7b      	sltiu	v0,123
40214d8a:	6003      	bteqz	40214d92 <parse_ext_name+0x5a>
40214d8c:	a144      	lbu	v0,4(s1)
        {
            val = val - 0x20;
40214d8e:	4ae0      	addiu	v0,-32
40214d90:	c144      	sb	v0,4(s1)
40214d92:	9960      	lw	v1,0(s1)
        }
        *target_buf = val;
40214d94:	a144      	lbu	v0,4(s1)
40214d96:	c340      	sb	v0,0(v1)
40214d98:	9940      	lw	v0,0(s1)
        target_buf++;
40214d9a:	4241      	addiu	v0,v0,1
40214d9c:	d940      	sw	v0,0(s1)
40214d9e:	17e7      	b	40214d6e <parse_ext_name+0x36>
40214da0:	9960      	lw	v1,0(s1)
    }

    *target_buf = 0x00;
40214da2:	6a00      	li	v0,0
40214da4:	c340      	sb	v0,0(v1)
40214da6:	65b9      	move	sp,s1

    return;

}
40214da8:	6412      	restore	16,s1
40214daa:	e8a0      	jrc	ra

40214dac <parse_obj_name>:
40214dac:	64d5      	save	40,ra,s1

/******************************************************************************/
/*
 * \par  Description: 整理name buff
 *
 * \param[in]     buf_name,缓存地址
 name_len
 dir_flag

 * \param[out]

 * \return        目标文件名 类型，0--短名，1--长名

 * \note          会生产对应的长名
 *******************************************************************************/
uint8 parse_obj_name(uint8* buf_name, uint8 name_len, uint8 dir_flag)
{
40214dae:	0104      	addiu	s1,sp,16
40214db0:	d986      	sw	a0,24(s1)
40214db2:	6745      	move	v0,a1
40214db4:	6766      	move	v1,a2
40214db6:	c15c      	sb	v0,28(s1)
40214db8:	f020 c160 	sb	v1,32(s1)
40214dbc:	6a00      	li	v0,0
    uint8 i, j;
    uint8 flag = 0;
40214dbe:	c142      	sb	v0,2(s1)
40214dc0:	b256      	lw	v0,40214f18 <parse_obj_name+0x16c>
    uint8 *target_buf = (uint8*) (COUNT_BUF_A_ADDR + SECTOR_SIZE * 4); //0.5k
40214dc2:	d941      	sw	v0,4(s1)
40214dc4:	9941      	lw	v0,4(s1)
    uint16 *unicode_pt;

    unicode_pt = (uint16*) (target_buf + 2);
40214dc6:	4242      	addiu	v0,v0,2
40214dc8:	d942      	sw	v0,8(s1)
40214dca:	9942      	lw	v0,8(s1)
    char_to_unicode((uint8*) unicode_pt, buf_name, name_len);
40214dcc:	9966      	lw	v1,24(s1)
40214dce:	a1dc      	lbu	a2,28(s1)
40214dd0:	6782      	move	a0,v0
40214dd2:	67a3      	move	a1,v1
40214dd4:	b252      	lw	v0,40214f1c <parse_obj_name+0x170>
40214dd6:	eac0      	jalrc	v0
40214dd8:	f020 a140 	lbu	v0,32(s1)

    if (dir_flag == 1)
40214ddc:	7201      	cmpi	v0,1
40214dde:	6758      	move	v0,t8
40214de0:	5a01      	sltiu	v0,1
40214de2:	6003      	bteqz	40214dea <parse_obj_name+0x3e>
40214de4:	6a09      	li	v0,9
    {
        j = 9;
40214de6:	c141      	sb	v0,1(s1)
40214de8:	1002      	b	40214dee <parse_obj_name+0x42>
40214dea:	6a0c      	li	v0,12
    }
    else
    {
        j = 12;
40214dec:	c141      	sb	v0,1(s1)
40214dee:	6a00      	li	v0,0
    }

    i = 0;
40214df0:	c140      	sb	v0,0(s1)
40214df2:	9942      	lw	v0,8(s1)
    while (*unicode_pt != 0x0000)
40214df4:	aa40      	lhu	v0,0(v0)
40214df6:	2207      	beqz	v0,40214e06 <parse_obj_name+0x5a>
40214df8:	a140      	lbu	v0,0(s1)
    {
        i++;
40214dfa:	4241      	addiu	v0,v0,1
40214dfc:	c140      	sb	v0,0(s1)
40214dfe:	9942      	lw	v0,8(s1)
        unicode_pt++;
40214e00:	4242      	addiu	v0,v0,2
40214e02:	d942      	sw	v0,8(s1)
40214e04:	17f6      	b	40214df2 <parse_obj_name+0x46>
40214e06:	9961      	lw	v1,4(s1)
    }

    *target_buf = i;
40214e08:	a140      	lbu	v0,0(s1)
40214e0a:	c340      	sb	v0,0(v1)
40214e0c:	9941      	lw	v0,4(s1)
    target_buf = target_buf + 256;
40214e0e:	f100 4a00 	addiu	v0,256
40214e12:	d941      	sw	v0,4(s1)
40214e14:	a17c      	lbu	v1,28(s1)

    if (name_len < j)
40214e16:	a141      	lbu	v0,1(s1)
40214e18:	eb43      	sltu	v1,v0
40214e1a:	6028      	bteqz	40214e6c <parse_obj_name+0xc0>
40214e1c:	6a00      	li	v0,0
    {
        //文件可能是短名
        for (i = 0; i < name_len; i++)
40214e1e:	c140      	sb	v0,0(s1)
40214e20:	a140      	lbu	v0,0(s1)
40214e22:	a17c      	lbu	v1,28(s1)
40214e24:	ea63      	sltu	v0,v1
40214e26:	6024      	bteqz	40214e70 <parse_obj_name+0xc4>
40214e28:	a160      	lbu	v1,0(s1)
        {
            if (buf_name[i] > 0x80)
40214e2a:	9946      	lw	v0,24(s1)
40214e2c:	e349      	addu	v0,v1,v0
40214e2e:	a240      	lbu	v0,0(v0)
40214e30:	5a81      	sltiu	v0,129
40214e32:	6103      	btnez	40214e3a <parse_obj_name+0x8e>
40214e34:	6a01      	li	v0,1
            {
                flag = 1;
40214e36:	c142      	sb	v0,2(s1)
40214e38:	101b      	b	40214e70 <parse_obj_name+0xc4>
                break;
40214e3a:	a160      	lbu	v1,0(s1)
            }
            else if ((buf_name[i] >= 'a') && (buf_name[i] <= 'z'))
40214e3c:	9946      	lw	v0,24(s1)
40214e3e:	e349      	addu	v0,v1,v0
40214e40:	a240      	lbu	v0,0(v0)
40214e42:	5a61      	sltiu	v0,97
40214e44:	610f      	btnez	40214e64 <parse_obj_name+0xb8>
40214e46:	a160      	lbu	v1,0(s1)
40214e48:	9946      	lw	v0,24(s1)
40214e4a:	e349      	addu	v0,v1,v0
40214e4c:	a240      	lbu	v0,0(v0)
40214e4e:	5a7b      	sltiu	v0,123
40214e50:	6009      	bteqz	40214e64 <parse_obj_name+0xb8>
40214e52:	a160      	lbu	v1,0(s1)
            {
                buf_name[i] = buf_name[i] - 0x20;//转成大写
40214e54:	9946      	lw	v0,24(s1)
40214e56:	e351      	addu	a0,v1,v0
40214e58:	a160      	lbu	v1,0(s1)
40214e5a:	9946      	lw	v0,24(s1)
40214e5c:	e349      	addu	v0,v1,v0
40214e5e:	a240      	lbu	v0,0(v0)
40214e60:	4ae0      	addiu	v0,-32
40214e62:	c440      	sb	v0,0(a0)
40214e64:	a140      	lbu	v0,0(s1)
40214e66:	4241      	addiu	v0,v0,1
40214e68:	c140      	sb	v0,0(s1)
40214e6a:	17da      	b	40214e20 <parse_obj_name+0x74>
40214e6c:	6a01      	li	v0,1
            }
            else
            {
                ;//QAC
            }
        }
    }
    else
    {
        //文件是长名
        flag = 1;
40214e6e:	c142      	sb	v0,2(s1)
40214e70:	a142      	lbu	v0,2(s1)
    }

    if (flag == 0)
40214e72:	2a4c      	bnez	v0,40214f0c <parse_obj_name+0x160>
40214e74:	9941      	lw	v0,4(s1)
    {
        libc_memset(target_buf, 0x20, 11);
40214e76:	6782      	move	a0,v0
40214e78:	6d20      	li	a1,32
40214e7a:	6e0b      	li	a2,11
40214e7c:	6f01      	li	a3,1
40214e7e:	b229      	lw	v0,40214f20 <parse_obj_name+0x174>
40214e80:	eac0      	jalrc	v0
40214e82:	f020 a140 	lbu	v0,32(s1)
        //转成 8+3格式
        if (dir_flag == 0)
40214e86:	2a32      	bnez	v0,40214eec <parse_obj_name+0x140>
40214e88:	6a00      	li	v0,0
        {
            for (i = 0; i < name_len; i++)
40214e8a:	c140      	sb	v0,0(s1)
40214e8c:	a140      	lbu	v0,0(s1)
40214e8e:	a17c      	lbu	v1,28(s1)
40214e90:	ea63      	sltu	v0,v1
40214e92:	6014      	bteqz	40214ebc <parse_obj_name+0x110>
40214e94:	a160      	lbu	v1,0(s1)
            {
                if (buf_name[i] != 0x2e)
40214e96:	9946      	lw	v0,24(s1)
40214e98:	e349      	addu	v0,v1,v0
40214e9a:	a240      	lbu	v0,0(v0)
40214e9c:	722e      	cmpi	v0,46
40214e9e:	6758      	move	v0,t8
40214ea0:	5a01      	sltiu	v0,1
40214ea2:	610c      	btnez	40214ebc <parse_obj_name+0x110>
40214ea4:	a160      	lbu	v1,0(s1)
                {
                    target_buf[i] = buf_name[i];
40214ea6:	9941      	lw	v0,4(s1)
40214ea8:	e351      	addu	a0,v1,v0
40214eaa:	a160      	lbu	v1,0(s1)
40214eac:	9946      	lw	v0,24(s1)
40214eae:	e349      	addu	v0,v1,v0
40214eb0:	a240      	lbu	v0,0(v0)
40214eb2:	c440      	sb	v0,0(a0)
40214eb4:	a140      	lbu	v0,0(s1)
40214eb6:	4241      	addiu	v0,v0,1
40214eb8:	c140      	sb	v0,0(s1)
40214eba:	17e8      	b	40214e8c <parse_obj_name+0xe0>
40214ebc:	6a08      	li	v0,8
                }
                else
                {
                    break;
                }
            }

            j = 8;
40214ebe:	c141      	sb	v0,1(s1)
40214ec0:	a140      	lbu	v0,0(s1)
            for (i = i + 1; i < name_len; i++)
40214ec2:	4241      	addiu	v0,v0,1
40214ec4:	c140      	sb	v0,0(s1)
40214ec6:	a140      	lbu	v0,0(s1)
40214ec8:	a17c      	lbu	v1,28(s1)
40214eca:	ea63      	sltu	v0,v1
40214ecc:	6017      	bteqz	40214efc <parse_obj_name+0x150>
40214ece:	a161      	lbu	v1,1(s1)
            {
                target_buf[j] = buf_name[i];
40214ed0:	9941      	lw	v0,4(s1)
40214ed2:	e351      	addu	a0,v1,v0
40214ed4:	a160      	lbu	v1,0(s1)
40214ed6:	9946      	lw	v0,24(s1)
40214ed8:	e349      	addu	v0,v1,v0
40214eda:	a240      	lbu	v0,0(v0)
40214edc:	c440      	sb	v0,0(a0)
40214ede:	a141      	lbu	v0,1(s1)
                j++;
40214ee0:	4241      	addiu	v0,v0,1
40214ee2:	c141      	sb	v0,1(s1)
40214ee4:	a140      	lbu	v0,0(s1)
40214ee6:	4241      	addiu	v0,v0,1
40214ee8:	c140      	sb	v0,0(s1)
40214eea:	17ed      	b	40214ec6 <parse_obj_name+0x11a>
40214eec:	9941      	lw	v0,4(s1)
            }
        }
        else
        {
            libc_memcpy(target_buf, buf_name, (uint32) name_len);
40214eee:	9966      	lw	v1,24(s1)
40214ef0:	a1dc      	lbu	a2,28(s1)
40214ef2:	6782      	move	a0,v0
40214ef4:	67a3      	move	a1,v1
40214ef6:	6f00      	li	a3,0
40214ef8:	b20a      	lw	v0,40214f20 <parse_obj_name+0x174>
40214efa:	eac0      	jalrc	v0
40214efc:	9946      	lw	v0,24(s1)
        }
        libc_memcpy(buf_name, target_buf, 11);
40214efe:	9961      	lw	v1,4(s1)
40214f00:	6782      	move	a0,v0
40214f02:	67a3      	move	a1,v1
40214f04:	6e0b      	li	a2,11
40214f06:	6f00      	li	a3,0
40214f08:	b206      	lw	v0,40214f20 <parse_obj_name+0x174>
40214f0a:	eac0      	jalrc	v0
40214f0c:	a142      	lbu	v0,2(s1)
    }
    return flag;
40214f0e:	651a      	move	t8,v0
40214f10:	6758      	move	v0,t8
}
40214f12:	65b9      	move	sp,s1
40214f14:	6453      	restore	24,ra,s1
40214f16:	e8a0      	jrc	ra
40214f18:	7200      	cmpi	v0,0
40214f1a:	9fc2      	lw	a2,8(a3)
40214f1c:	4561      	addiu	v1,a1,1
40214f1e:	4801      	addiu	s0,1
40214f20:	6409      	restore	72
40214f22:	bfc1      	lwu	a2,4(a3)

40214f24 <compare_name>:
40214f24:	64d6      	save	48,ra,s1

/******************************************************************************/
/*
 * \par  Description: 取出当前位置的文件，比较文件名
 *
 * \param[in]
 name_obj_buf
 buf_cnt--字符个数
 name_type    0--短名，1--长名

 * \param[out]

 * \return        TRUE OR FALSE

 * \note         不能改变 name_obj_buf 的内容
 *******************************************************************************/
bool compare_name(uint8 *name_obj_buf, uint16 buf_cnt, uint8 name_type)
{
40214f26:	0106      	addiu	s1,sp,24
40214f28:	d986      	sw	a0,24(s1)
40214f2a:	6745      	move	v0,a1
40214f2c:	6766      	move	v1,a2
40214f2e:	c94e      	sh	v0,28(s1)
40214f30:	f020 c160 	sb	v1,32(s1)
40214f34:	b226      	lw	v0,40214fcc <compare_name+0xa8>
    uint8 uni_cnt;
    uint16 name_len;
    uint8 *unicode_name_buf;

    unicode_name_buf = (uint8*) (COUNT_BUF_A_ADDR + SECTOR_SIZE * 4);
40214f36:	d941      	sw	v0,4(s1)
40214f38:	9941      	lw	v0,4(s1)
    uni_cnt = *unicode_name_buf;
40214f3a:	a240      	lbu	v0,0(v0)
40214f3c:	c140      	sb	v0,0(s1)
40214f3e:	9941      	lw	v0,4(s1)
    unicode_name_buf = unicode_name_buf + 2;
40214f40:	4242      	addiu	v0,v0,2
40214f42:	d941      	sw	v0,4(s1)
40214f44:	b223      	lw	v0,40214fd0 <compare_name+0xac>

    name_len = vfs_get_name(ap_vfs_mount, m3u_get_name_buf, 32);//64 BYTES
40214f46:	9a60      	lw	v1,0(v0)
40214f48:	b223      	lw	v0,40214fd4 <compare_name+0xb0>
40214f4a:	9aa0      	lw	a1,0(v0)
40214f4c:	6a02      	li	v0,2
40214f4e:	d204      	sw	v0,16(sp)
40214f50:	6783      	move	a0,v1
40214f52:	6e20      	li	a2,32
40214f54:	6f00      	li	a3,0
40214f56:	b221      	lw	v0,40214fd8 <compare_name+0xb4>
40214f58:	eac0      	jalrc	v0
40214f5a:	c941      	sh	v0,2(s1)
40214f5c:	b21e      	lw	v0,40214fd4 <compare_name+0xb0>
    if (*(uint16*) m3u_get_name_buf == UNICODE_FLAG)
40214f5e:	9a40      	lw	v0,0(v0)
40214f60:	aa60      	lhu	v1,0(v0)
40214f62:	f6ff 6a1f 	li	v0,65279
40214f66:	ea6e      	xor	v0,v1
40214f68:	5a01      	sltiu	v0,1
40214f6a:	6018      	bteqz	40214f9c <compare_name+0x78>
40214f6c:	a160      	lbu	v1,0(s1)
    {
        //unicode
        if (uni_cnt > (name_len - 2))//不比较头和结束符
40214f6e:	a941      	lhu	v0,2(s1)
40214f70:	424e      	addiu	v0,v0,-2
40214f72:	ea62      	slt	v0,v1
40214f74:	6003      	bteqz	40214f7c <compare_name+0x58>
40214f76:	a941      	lhu	v0,2(s1)
        {
            uni_cnt = (uint8) name_len - 2;
40214f78:	424e      	addiu	v0,v0,-2
40214f7a:	c140      	sb	v0,0(s1)
40214f7c:	b216      	lw	v0,40214fd4 <compare_name+0xb0>
        }

        //m3u_get_name_buf值不能改
        if (0 == libc_memcmp(m3u_get_name_buf+2, unicode_name_buf, uni_cnt * 2))//去掉头信息 0xfeff,比较
40214f7e:	9a40      	lw	v0,0(v0)
40214f80:	4262      	addiu	v1,v0,2
40214f82:	99a1      	lw	a1,4(s1)
40214f84:	a140      	lbu	v0,0(s1)
40214f86:	3244      	sll	v0,1
40214f88:	6783      	move	a0,v1
40214f8a:	67c2      	move	a2,v0
40214f8c:	6f02      	li	a3,2
40214f8e:	b214      	lw	v0,40214fdc <compare_name+0xb8>
40214f90:	eac0      	jalrc	v0
40214f92:	651a      	move	t8,v0
40214f94:	6114      	btnez	40214fbe <compare_name+0x9a>
40214f96:	6a01      	li	v0,1
        {
            return TRUE;
40214f98:	d942      	sw	v0,8(s1)
40214f9a:	1013      	b	40214fc2 <compare_name+0x9e>
40214f9c:	f020 a140 	lbu	v0,32(s1)
        }
    }
    else if (name_type == 0)
40214fa0:	2a0e      	bnez	v0,40214fbe <compare_name+0x9a>
40214fa2:	b20d      	lw	v0,40214fd4 <compare_name+0xb0>
    {
        //短名固定比较8字节长度
        if (0 == libc_memcmp(m3u_get_name_buf, name_obj_buf, 8))
40214fa4:	9a40      	lw	v0,0(v0)
40214fa6:	9966      	lw	v1,24(s1)
40214fa8:	6782      	move	a0,v0
40214faa:	67a3      	move	a1,v1
40214fac:	6e08      	li	a2,8
40214fae:	6f02      	li	a3,2
40214fb0:	b20b      	lw	v0,40214fdc <compare_name+0xb8>
40214fb2:	eac0      	jalrc	v0
40214fb4:	651a      	move	t8,v0
40214fb6:	6103      	btnez	40214fbe <compare_name+0x9a>
40214fb8:	6a01      	li	v0,1
        {
            return TRUE;
40214fba:	d942      	sw	v0,8(s1)
40214fbc:	1002      	b	40214fc2 <compare_name+0x9e>
40214fbe:	6a00      	li	v0,0
        }
    }
    else
    {
        ;//QAC
    }

    return FALSE;
40214fc0:	d942      	sw	v0,8(s1)
40214fc2:	9942      	lw	v0,8(s1)
}
40214fc4:	65b9      	move	sp,s1
40214fc6:	6453      	restore	24,ra,s1
40214fc8:	e8a0      	jrc	ra
40214fca:	0000      	addiu	s0,sp,0
40214fcc:	7200      	cmpi	v0,0
40214fce:	9fc2      	lw	a2,8(a3)
40214fd0:	5570      	slti	a1,112
40214fd2:	9fc1      	lw	a2,4(a3)
40214fd4:	5a34      	sltiu	v0,52
40214fd6:	9fc1      	lw	a2,4(a3)
40214fd8:	6411      	restore	8,s1
40214fda:	bfc1      	lwu	a2,4(a3)
40214fdc:	6409      	restore	72
40214fde:	bfc1      	lwu	a2,4(a3)

40214fe0 <read_m3u_data>:
40214fe0:	64d5      	save	40,ra,s1

/******************************************************************************/
/*
 * \par  Description: 检查m3u文件是否存在
 *
 * \param[in]

 * \param[out]

 * \return        key value

 * \note
 *******************************************************************************/
/*读取m3u文件offset对应的字节位置信息*/
uint8 read_m3u_data(uint32 offset)
{
40214fe2:	0106      	addiu	s1,sp,24
40214fe4:	d984      	sw	a0,16(s1)
40214fe6:	b21d      	lw	v0,40215058 <read_m3u_data+0x78>
    uint8 *t_data_buf = (uint8*) (COUNT_BUF_A_ADDR + SECTOR_SIZE * 6); //0.5k
40214fe8:	d940      	sw	v0,0(s1)
40214fea:	9944      	lw	v0,16(s1)
    /*读取的数据不在当前的buff*/
    if ((offset / SECTOR_SIZE) != m3u_cursec_num)
40214fec:	3342      	srl	v1,v0,8
40214fee:	3366      	srl	v1,1
40214ff0:	b21b      	lw	v0,4021505c <read_m3u_data+0x7c>
40214ff2:	aa40      	lhu	v0,0(v0)
40214ff4:	ea6e      	xor	v0,v1
40214ff6:	5a01      	sltiu	v0,1
40214ff8:	611f      	btnez	40215038 <read_m3u_data+0x58>
40214ffa:	b319      	lw	v1,4021505c <read_m3u_data+0x7c>
    {
        m3u_cursec_num = (uint16) (offset / SECTOR_SIZE);
40214ffc:	9944      	lw	v0,16(s1)
40214ffe:	3242      	srl	v0,8
40215000:	3246      	srl	v0,1
40215002:	cb40      	sh	v0,0(v1)
40215004:	b217      	lw	v0,40215060 <read_m3u_data+0x80>
        vfs_file_seek(ap_vfs_mount, m3u_cursec_num * SECTOR_SIZE, SEEK_SET, m3u_handle);
40215006:	9a60      	lw	v1,0(v0)
40215008:	b215      	lw	v0,4021505c <read_m3u_data+0x7c>
4021500a:	aa40      	lhu	v0,0(v0)
4021500c:	3540      	sll	a1,v0,8
4021500e:	35a4      	sll	a1,1
40215010:	b215      	lw	v0,40215064 <read_m3u_data+0x84>
40215012:	9ae0      	lw	a3,0(v0)
40215014:	6a0b      	li	v0,11
40215016:	d204      	sw	v0,16(sp)
40215018:	6783      	move	a0,v1
4021501a:	6e00      	li	a2,0
4021501c:	b213      	lw	v0,40215068 <read_m3u_data+0x88>
4021501e:	eac0      	jalrc	v0
40215020:	b210      	lw	v0,4021505c <read_m3u_data+0x7c>
        vfs_file_read(ap_vfs_mount, t_data_buf, SECTOR_SIZE, m3u_handle);
40215022:	9a60      	lw	v1,0(v0)
40215024:	99a0      	lw	a1,0(s1)
40215026:	f200 6e00 	li	a2,512
4021502a:	b20f      	lw	v0,40215064 <read_m3u_data+0x84>
4021502c:	9ae0      	lw	a3,0(v0)
4021502e:	6a0d      	li	v0,13
40215030:	d204      	sw	v0,16(sp)
40215032:	6783      	move	a0,v1
40215034:	b20d      	lw	v0,40215068 <read_m3u_data+0x88>
40215036:	eac0      	jalrc	v0
40215038:	b30d      	lw	v1,40215068 <read_m3u_data+0x88>
    }
    m3u_curpos_offset = (uint16) offset;
4021503a:	9944      	lw	v0,16(s1)
4021503c:	cb40      	sh	v0,0(v1)
4021503e:	9964      	lw	v1,16(s1)
    return t_data_buf[offset % SECTOR_SIZE];
40215040:	f1e0 6a1f 	li	v0,511
40215044:	eb4c      	and	v1,v0
40215046:	9940      	lw	v0,0(s1)
40215048:	e349      	addu	v0,v1,v0
4021504a:	a240      	lbu	v0,0(v0)
4021504c:	651a      	move	t8,v0
4021504e:	6758      	move	v0,t8
}
40215050:	65b9      	move	sp,s1
40215052:	6452      	restore	16,ra,s1
40215054:	e8a0      	jrc	ra
40215056:	0000      	addiu	s0,sp,0
40215058:	7600      	cmpi	a2,0
4021505a:	9fc2      	lw	a2,8(a3)
4021505c:	5a2c      	sltiu	v0,44
4021505e:	9fc1      	lw	a2,4(a3)
40215060:	5570      	slti	a1,112
40215062:	9fc1      	lw	a2,4(a3)
40215064:	5a30      	sltiu	v0,48
40215066:	9fc1      	lw	a2,4(a3)
40215068:	6411      	restore	8,s1
4021506a:	bfc1      	lwu	a2,4(a3)
4021506c:	5a2e      	sltiu	v0,46
4021506e:	9fc1      	lw	a2,4(a3)

40215070 <set_m3ufile_path>:
40215070:	64d4      	save	32,ra,s1

/******************************************************************************/
/*
 * \par  Description: 配置到M3U文件的路径
 *
 * \param[in]

 * \param[out]

 * \return        dir_layer;

 * \note
 *******************************************************************************/

uint8 set_m3ufile_path(void)
{
40215072:	0106      	addiu	s1,sp,24
40215074:	b20d      	lw	v0,402150a8 <set_m3ufile_path+0x38>
    vfs_file_dir_offset(ap_vfs_mount, &other_f_p->dir_layer_info, &other_f_p->cluster_no, 1);
40215076:	9a80      	lw	a0,0(v0)
40215078:	b20d      	lw	v0,402150ac <set_m3ufile_path+0x3c>
4021507a:	9a40      	lw	v0,0(v0)
4021507c:	f0a0 42a9 	addiu	a1,v0,169
40215080:	b20b      	lw	v0,402150ac <set_m3ufile_path+0x3c>
40215082:	9a40      	lw	v0,0(v0)
40215084:	f0f0 4264 	addiu	v1,v0,244
40215088:	6a03      	li	v0,3
4021508a:	d204      	sw	v0,16(sp)
4021508c:	67c3      	move	a2,v1
4021508e:	6f01      	li	a3,1
40215090:	b208      	lw	v0,402150b0 <set_m3ufile_path+0x40>
40215092:	eac0      	jalrc	v0
40215094:	b206      	lw	v0,402150a8 <set_m3ufile_path+0x38>
    return other_f_p->dir_layer_info.buffer[MAX_DIR_LAYER * 8];
40215096:	9a40      	lw	v0,0(v0)
40215098:	f0e0 a251 	lbu	v0,241(v0)
4021509c:	651a      	move	t8,v0
4021509e:	6758      	move	v0,t8
}
402150a0:	65b9      	move	sp,s1
402150a2:	6451      	restore	8,ra,s1
402150a4:	e8a0      	jrc	ra
402150a6:	0000      	addiu	s0,sp,0
402150a8:	5570      	slti	a1,112
402150aa:	9fc1      	lw	a2,4(a3)
402150ac:	5690      	slti	a2,144
402150ae:	9fc1      	lw	a2,4(a3)
402150b0:	6411      	restore	8,s1
402150b2:	bfc1      	lwu	a2,4(a3)

402150b4 <m3u_libname>:
402150b4:	feff 004d 0033 0055 002e 004c 0049 0042     ..M.3.U...L.I.B.
402150c4:	0000 0000                                   ....

402150c8 <ext_vec_rom>:
402150c8:	2a2a 002a 504d 0033 4d57 0041 4157 0056     ***.MP3.WMA.WAV.
402150d8:	4141 0043 4c46 4341 5041 0045 5641 0049     AAC.FLACAPE.AVI.
402150e8:	5854 0054 504a 0047 504a 4745 4d42 0050     TXT.JPG.JPEGBMP.
402150f8:	4947 0046 524c 0043 5341 0046 474f 0047     GIF.LRC.ASF.OGG.
40215108:	4d57 0056 4d41 0056 4141 0058 4141 0020     WMV.AMV.AAX.AA .
40215118:	504d 0031 504d 0032 344d 0041 2a2a 0020     MP1.MP2.M4A.** .
40215128:	4341 0054 2a2a 0020 4941 4646 2a2a 0020     ACT.** .AIFF** .
40215138:	2a2a 0020 2a2a 0000 662a 0000 642a 0000     ** .**..*f..*d..
	...
Disassembly of section BANK_FORNT_CONTROL_1_9:

40254c00 <mbyte_to_wchar>:
40254c00:	6492      	save	16,s1

 * \note    ASC转成UNICODE，自动加入标识符和结束符
 *******************************************************************************/
static uint16 mbyte_to_wchar(uint8 *dest, uint8 *src)
{
40254c02:	673d      	move	s1,sp
40254c04:	d984      	sw	a0,16(s1)
40254c06:	d9a5      	sw	a1,20(s1)
40254c08:	6a00      	li	v0,0
    uint16 num = 0;
40254c0a:	c940      	sh	v0,0(s1)
40254c0c:	9964      	lw	v1,16(s1)

#ifdef USE_83NAME_CREAT

    while(*src!=0x00)
    {
        *dest=*src;
        dest++;
        src++;
        num++;
    }

    dest=0x00;

#else

    *dest = 0xff;
40254c0e:	6a01      	li	v0,1
40254c10:	ea4b      	neg	v0
40254c12:	c340      	sb	v0,0(v1)
40254c14:	9964      	lw	v1,16(s1)
    *(dest + 1) = 0xfe;
40254c16:	6a02      	li	v0,2
40254c18:	ea4b      	neg	v0
40254c1a:	c341      	sb	v0,1(v1)
40254c1c:	9944      	lw	v0,16(s1)
    dest += 2;
40254c1e:	4242      	addiu	v0,v0,2
40254c20:	d944      	sw	v0,16(s1)
40254c22:	9945      	lw	v0,20(s1)

    while (*src != 0x00)
40254c24:	a240      	lbu	v0,0(v0)
40254c26:	2211      	beqz	v0,40254c4a <mbyte_to_wchar+0x4a>
40254c28:	9964      	lw	v1,16(s1)
    {
        *dest = *src;
40254c2a:	9945      	lw	v0,20(s1)
40254c2c:	a240      	lbu	v0,0(v0)
40254c2e:	c340      	sb	v0,0(v1)
40254c30:	9964      	lw	v1,16(s1)
        *(dest + 1) = 0x00;
40254c32:	6a00      	li	v0,0
40254c34:	c341      	sb	v0,1(v1)
40254c36:	9944      	lw	v0,16(s1)
        dest += 2;
40254c38:	4242      	addiu	v0,v0,2
40254c3a:	d944      	sw	v0,16(s1)
40254c3c:	9945      	lw	v0,20(s1)
        src++;
40254c3e:	4241      	addiu	v0,v0,1
40254c40:	d945      	sw	v0,20(s1)
40254c42:	a940      	lhu	v0,0(s1)
        num++;
40254c44:	4241      	addiu	v0,v0,1
40254c46:	c940      	sh	v0,0(s1)
40254c48:	17ec      	b	40254c22 <mbyte_to_wchar+0x22>
40254c4a:	9964      	lw	v1,16(s1)
    }

    *dest = 0x00;
40254c4c:	6a00      	li	v0,0
40254c4e:	c340      	sb	v0,0(v1)
40254c50:	9964      	lw	v1,16(s1)
    *(dest + 1) = 0x00;
40254c52:	6a00      	li	v0,0
40254c54:	c341      	sb	v0,1(v1)
40254c56:	a940      	lhu	v0,0(s1)

#endif

    return num;
40254c58:	651a      	move	t8,v0
40254c5a:	6758      	move	v0,t8

}
40254c5c:	65b9      	move	sp,s1
40254c5e:	6412      	restore	16,s1
40254c60:	e8a0      	jrc	ra
	...

40254c64 <creat_album_pic>:
40254c64:	64d5      	save	40,ra,s1

/******************************************************************************/
/*
 * \par  Description: 在根目录下创建专辑图片文件
 *
 * \param[in]

 * \param[out]

 * \return

 * \note
 *******************************************************************************/
void creat_album_pic(void)
{
40254c66:	0106      	addiu	s1,sp,24
40254c68:	6a00      	li	v0,0
    uint32 album_pic = 0;
40254c6a:	d940      	sw	v0,0(s1)
40254c6c:	6a00      	li	v0,0
    uint32 temp32 = 0;
40254c6e:	d941      	sw	v0,4(s1)
40254c70:	b25b      	lw	v0,40254ddc <creat_album_pic+0x178>
    //if (0 == drv_sn)
    //{
        //nand介质，建表放入VM区域,此处不处理
        //return;
    //}

    vfs_cd(ap_vfs_mount, CD_ROOT, 0);
40254c72:	9a60      	lw	v1,0(v0)
40254c74:	6a00      	li	v0,0
40254c76:	d204      	sw	v0,16(sp)
40254c78:	6783      	move	a0,v1
40254c7a:	6d3a      	li	a1,58
40254c7c:	6e00      	li	a2,0
40254c7e:	6f00      	li	a3,0
40254c80:	b258      	lw	v0,40254de0 <creat_album_pic+0x17c>
40254c82:	eac0      	jalrc	v0
40254c84:	b258      	lw	v0,40254de0 <creat_album_pic+0x17c>
    mbyte_to_wchar(temp_plist_buf, (uint8*) album_pic_name);
40254c86:	b359      	lw	v1,40254de8 <creat_album_pic+0x184>
40254c88:	6782      	move	a0,v0
40254c8a:	67a3      	move	a1,v1
40254c8c:	1920 5300 	jal	40254c00 <mbyte_to_wchar>
40254c90:	6500      	nop
40254c92:	b253      	lw	v0,40254ddc <creat_album_pic+0x178>
    album_pic = vfs_file_open(ap_vfs_mount, temp_plist_buf, R_NORMAL_SEEK);
40254c94:	9a60      	lw	v1,0(v0)
40254c96:	b554      	lw	a1,40254de4 <creat_album_pic+0x180>
40254c98:	6a05      	li	v0,5
40254c9a:	d204      	sw	v0,16(sp)
40254c9c:	6783      	move	a0,v1
40254c9e:	6e00      	li	a2,0
40254ca0:	6f00      	li	a3,0
40254ca2:	b250      	lw	v0,40254de0 <creat_album_pic+0x17c>
40254ca4:	eac0      	jalrc	v0
40254ca6:	d940      	sw	v0,0(s1)
40254ca8:	9940      	lw	v0,0(s1)
    if (0 != album_pic)
40254caa:	221a      	beqz	v0,40254ce0 <creat_album_pic+0x7c>
40254cac:	b24c      	lw	v0,40254ddc <creat_album_pic+0x178>
    {
        vfs_file_get_size(ap_vfs_mount, &temp32, album_pic, 0);
40254cae:	9a60      	lw	v1,0(v0)
40254cb0:	41a4      	addiu	a1,s1,4
40254cb2:	99c0      	lw	a2,0(s1)
40254cb4:	6a09      	li	v0,9
40254cb6:	d204      	sw	v0,16(sp)
40254cb8:	6783      	move	a0,v1
40254cba:	6f00      	li	a3,0
40254cbc:	b249      	lw	v0,40254de0 <creat_album_pic+0x17c>
40254cbe:	eac0      	jalrc	v0
40254cc0:	9961      	lw	v1,4(s1)
        if (temp32 < ALBUM_PIC_SIZE)
40254cc2:	b24b      	lw	v0,40254dec <creat_album_pic+0x188>
40254cc4:	ea63      	sltu	v0,v1
40254cc6:	610c      	btnez	40254ce0 <creat_album_pic+0x7c>
40254cc8:	b245      	lw	v0,40254ddc <creat_album_pic+0x178>
        {
            //文件大小变了，需要重新创建
            vfs_file_close(ap_vfs_mount, album_pic);
40254cca:	9a60      	lw	v1,0(v0)
40254ccc:	99a0      	lw	a1,0(s1)
40254cce:	6a07      	li	v0,7
40254cd0:	d204      	sw	v0,16(sp)
40254cd2:	6783      	move	a0,v1
40254cd4:	6e00      	li	a2,0
40254cd6:	6f00      	li	a3,0
40254cd8:	b242      	lw	v0,40254de0 <creat_album_pic+0x17c>
40254cda:	eac0      	jalrc	v0
40254cdc:	6a00      	li	v0,0
            album_pic = 0;
40254cde:	d940      	sw	v0,0(s1)
40254ce0:	9940      	lw	v0,0(s1)
        }
    }
    
    if (0 == album_pic)
40254ce2:	2a78      	bnez	v0,40254dd4 <creat_album_pic+0x170>
40254ce4:	b240      	lw	v0,40254de4 <creat_album_pic+0x180>
    {
        libc_memcpy(temp_plist_buf, album_pic_name_short, sizeof(album_pic_name_short));
40254ce6:	b343      	lw	v1,40254df0 <creat_album_pic+0x18c>
40254ce8:	6782      	move	a0,v0
40254cea:	67a3      	move	a1,v1
40254cec:	6e0c      	li	a2,12
40254cee:	6f00      	li	a3,0
40254cf0:	b241      	lw	v0,40254df4 <creat_album_pic+0x190>
40254cf2:	eac0      	jalrc	v0
40254cf4:	b23a      	lw	v0,40254dd8 <creat_album_pic+0x174>
        vfs_file_dir_remove(ap_vfs_mount, temp_plist_buf, FS_FILE);//清除短名
40254cf6:	9a60      	lw	v1,0(v0)
40254cf8:	b53b      	lw	a1,40254de4 <creat_album_pic+0x180>
40254cfa:	6a08      	li	v0,8
40254cfc:	d204      	sw	v0,16(sp)
40254cfe:	6783      	move	a0,v1
40254d00:	6e01      	li	a2,1
40254d02:	6f00      	li	a3,0
40254d04:	b237      	lw	v0,40254de0 <creat_album_pic+0x17c>
40254d06:	eac0      	jalrc	v0
40254d08:	b237      	lw	v0,40254de0 <creat_album_pic+0x17c>
        mbyte_to_wchar(temp_plist_buf, (uint8*) album_pic_name);
40254d0a:	b338      	lw	v1,40254de8 <creat_album_pic+0x184>
40254d0c:	6782      	move	a0,v0
40254d0e:	67a3      	move	a1,v1
40254d10:	1920 5300 	jal	40254c00 <mbyte_to_wchar>
40254d14:	6500      	nop
40254d16:	b232      	lw	v0,40254ddc <creat_album_pic+0x178>
        vfs_file_dir_remove(ap_vfs_mount, temp_plist_buf, FS_FILE);//清除长名
40254d18:	9a60      	lw	v1,0(v0)
40254d1a:	b533      	lw	a1,40254de4 <creat_album_pic+0x180>
40254d1c:	6a08      	li	v0,8
40254d1e:	d204      	sw	v0,16(sp)
40254d20:	6783      	move	a0,v1
40254d22:	6e01      	li	a2,1
40254d24:	6f00      	li	a3,0
40254d26:	b22f      	lw	v0,40254de0 <creat_album_pic+0x17c>
40254d28:	eac0      	jalrc	v0
40254d2a:	b22d      	lw	v0,40254ddc <creat_album_pic+0x178>
        
        album_pic = vfs_file_create(ap_vfs_mount, temp_plist_buf, ALBUM_PIC_SIZE);
40254d2c:	9a60      	lw	v1,0(v0)
40254d2e:	b52e      	lw	a1,40254de4 <creat_album_pic+0x180>
40254d30:	b632      	lw	a2,40254df8 <creat_album_pic+0x194>
40254d32:	6a06      	li	v0,6
40254d34:	d204      	sw	v0,16(sp)
40254d36:	6783      	move	a0,v1
40254d38:	6f00      	li	a3,0
40254d3a:	b22a      	lw	v0,40254de0 <creat_album_pic+0x17c>
40254d3c:	eac0      	jalrc	v0
40254d3e:	d940      	sw	v0,0(s1)
40254d40:	9940      	lw	v0,0(s1)
        if (0 != album_pic)
40254d42:	2248      	beqz	v0,40254dd4 <creat_album_pic+0x170>
40254d44:	b226      	lw	v0,40254ddc <creat_album_pic+0x178>
        {
#ifdef HIDE_FILE_OPT
        vfs_file_attralter(ap_vfs_mount, ATTR_HIDDEN, album_pic, 0);
40254d46:	9a60      	lw	v1,0(v0)
40254d48:	99c0      	lw	a2,0(s1)
40254d4a:	6a13      	li	v0,19
40254d4c:	d204      	sw	v0,16(sp)
40254d4e:	6783      	move	a0,v1
40254d50:	6d02      	li	a1,2
40254d52:	6f00      	li	a3,0
40254d54:	b223      	lw	v0,40254de0 <creat_album_pic+0x17c>
40254d56:	eac0      	jalrc	v0
40254d58:	b223      	lw	v0,40254de0 <creat_album_pic+0x17c>
#endif
            libc_memset(temp_plist_buf, 0, SECTOR_SIZE);
40254d5a:	f200 6b00 	li	v1,512
40254d5e:	6782      	move	a0,v0
40254d60:	6d00      	li	a1,0
40254d62:	67c3      	move	a2,v1
40254d64:	6f01      	li	a3,1
40254d66:	b224      	lw	v0,40254df4 <creat_album_pic+0x190>
40254d68:	eac0      	jalrc	v0
40254d6a:	b21f      	lw	v0,40254de4 <creat_album_pic+0x180>
    
            //文件识别符
            libc_memcpy(temp_plist_buf, album_pic_name, 5);
40254d6c:	b31f      	lw	v1,40254de8 <creat_album_pic+0x184>
40254d6e:	6782      	move	a0,v0
40254d70:	67a3      	move	a1,v1
40254d72:	6e05      	li	a2,5
40254d74:	6f00      	li	a3,0
40254d76:	b220      	lw	v0,40254df4 <creat_album_pic+0x190>
40254d78:	eac0      	jalrc	v0
40254d7a:	b31b      	lw	v1,40254de4 <creat_album_pic+0x180>
            //加入标识符
			temp_plist_buf[16] = 'N';
40254d7c:	6a4e      	li	v0,78
40254d7e:	c350      	sb	v0,16(v1)
40254d80:	b319      	lw	v1,40254de4 <creat_album_pic+0x180>
			temp_plist_buf[17] = 'O';
40254d82:	6a4f      	li	v0,79
40254d84:	c351      	sb	v0,17(v1)
40254d86:	b318      	lw	v1,40254de4 <creat_album_pic+0x180>
            temp_plist_buf[510] = 0x55;
40254d88:	6a55      	li	v0,85
40254d8a:	f1e0 c35e 	sb	v0,510(v1)
40254d8e:	b316      	lw	v1,40254de4 <creat_album_pic+0x180>
            temp_plist_buf[511] = 0xAA;
40254d90:	6a56      	li	v0,86
40254d92:	ea4b      	neg	v0
40254d94:	f1e0 c35f 	sb	v0,511(v1)
40254d98:	b211      	lw	v0,40254ddc <creat_album_pic+0x178>
    
            vfs_file_write(ap_vfs_mount, temp_plist_buf, SECTOR_SIZE, album_pic);
40254d9a:	9a60      	lw	v1,0(v0)
40254d9c:	b512      	lw	a1,40254de4 <creat_album_pic+0x180>
40254d9e:	f200 6e00 	li	a2,512
40254da2:	99e0      	lw	a3,0(s1)
40254da4:	6a0e      	li	v0,14
40254da6:	d204      	sw	v0,16(sp)
40254da8:	6783      	move	a0,v1
40254daa:	b20e      	lw	v0,40254de0 <creat_album_pic+0x17c>
40254dac:	eac0      	jalrc	v0
40254dae:	b20e      	lw	v0,40254de4 <creat_album_pic+0x180>
            libc_memset(temp_plist_buf, 0, SECTOR_SIZE);
40254db0:	f200 6b00 	li	v1,512
40254db4:	6782      	move	a0,v0
40254db6:	6d00      	li	a1,0
40254db8:	67c3      	move	a2,v1
40254dba:	6f01      	li	a3,1
40254dbc:	b20e      	lw	v0,40254df4 <creat_album_pic+0x190>
40254dbe:	eac0      	jalrc	v0
40254dc0:	b207      	lw	v0,40254dd8 <creat_album_pic+0x174>
    
            vfs_file_close(ap_vfs_mount, album_pic);
40254dc2:	9a60      	lw	v1,0(v0)
40254dc4:	99a0      	lw	a1,0(s1)
40254dc6:	6a07      	li	v0,7
40254dc8:	d204      	sw	v0,16(sp)
40254dca:	6783      	move	a0,v1
40254dcc:	6e00      	li	a2,0
40254dce:	6f00      	li	a3,0
40254dd0:	b204      	lw	v0,40254de0 <creat_album_pic+0x17c>
40254dd2:	eac0      	jalrc	v0
40254dd4:	65b9      	move	sp,s1
            plt_print(album_pic_name,0,0);
        }
    }
    
    return;
}
40254dd6:	6452      	restore	16,ra,s1
40254dd8:	e8a0      	jrc	ra
40254dda:	0000      	addiu	s0,sp,0
40254ddc:	5570      	slti	a1,112
40254dde:	9fc1      	lw	a2,4(a3)
40254de0:	6411      	restore	8,s1
40254de2:	bfc1      	lwu	a2,4(a3)
40254de4:	5694      	slti	a2,148
40254de6:	9fc1      	lw	a2,4(a3)
40254de8:	4dfc      	addiu	a1,-4
40254dea:	4025      	addiu	s1,s0,5
40254dec:	f3ff 0001 	addiu	s0,sp,-1055
40254df0:	4e08      	addiu	a2,8
40254df2:	4025      	addiu	s1,s0,5
40254df4:	6409      	restore	72
40254df6:	bfc1      	lwu	a2,4(a3)
40254df8:	f400 0001 	addiu	s0,sp,1025

40254dfc <album_pic_name>:
40254dfc:	4c41 5542 2e4d 4950 0043 0000               ALBUM.PIC...

40254e08 <album_pic_name_short>:
40254e08:	4c41 5542 204d 2020 4950 0043 0000 0000     ALBUM   PIC.....
	...
Disassembly of section BANK_FORNT_CONTROL_1_10:

40294c00 <set_sorting_level>:
40294c00:	64d3      	save	24,ra,s1
bool creat_index_map(uint16 *map_buf, uint16 *index_buf, uint16 *count_buf);
uint16* tidy_son_table(uint16 *data_buf, uint16 *record_buf, uint16 count, uint16 *depend_buf);

void set_sorting_level(void)
 {
40294c02:	0104      	addiu	s1,sp,16
40294c04:	b227      	lw	v0,40294ca0 <set_sorting_level+0xa0>
	 if (ap_plist_file_total > 0)
40294c06:	aa40      	lhu	v0,0(v0)
40294c08:	2242      	beqz	v0,40294c8e <set_sorting_level+0x8e>
40294c0a:	b226      	lw	v0,40294ca0 <set_sorting_level+0xa0>
		 {
			
			 if(ap_plist_file_total <= 4000)
40294c0c:	aa40      	lhu	v0,0(v0)
40294c0e:	f7a1 5a01 	sltiu	v0,4001
40294c12:	6013      	bteqz	40294c3a <set_sorting_level+0x3a>
40294c14:	0b20      	la	v1,40294c94 <set_sorting_level+0x94>
			 {
#if 0
			   libc_print("4k_mode",ap_plist_file_total,2);
				 ap_plist_sorting_level= 4000;
				 init_sys_data(0);
         sorting_map_level_cur = &sorting_map_level_4k;
 #else
         libc_print("16k_mode",ap_plist_file_total,2);
40294c16:	b223      	lw	v0,40294ca0 <set_sorting_level+0xa0>
40294c18:	aa40      	lhu	v0,0(v0)
40294c1a:	6783      	move	a0,v1
40294c1c:	67a2      	move	a1,v0
40294c1e:	6e02      	li	a2,2
40294c20:	6f4b      	li	a3,75
40294c22:	b221      	lw	v0,40294ca4 <set_sorting_level+0xa4>
40294c24:	eac0      	jalrc	v0
40294c26:	b321      	lw	v1,40294ca8 <set_sorting_level+0xa8>
				 ap_plist_sorting_level = 16000;
40294c28:	f687 6a00 	li	v0,16000
40294c2c:	cb40      	sh	v0,0(v1)
40294c2e:	b220      	lw	v0,40294cac <set_sorting_level+0xac>
			 	 init_mem_by_songs_16k();
40294c30:	eac0      	jalrc	v0
40294c32:	b320      	lw	v1,40294cb0 <set_sorting_level+0xb0>
				 sorting_map_level_cur = & sorting_map_level_16k;
40294c34:	b220      	lw	v0,40294cb4 <set_sorting_level+0xb4>
40294c36:	db40      	sw	v0,0(v1)
40294c38:	102a      	b	40294c8e <set_sorting_level+0x8e>
40294c3a:	b21a      	lw	v0,40294ca0 <set_sorting_level+0xa0>

 
 #endif
			 }
			 else if(ap_plist_file_total <= 8000)
			 {
40294c3c:	aa40      	lhu	v0,0(v0)
40294c3e:	f743 5a01 	sltiu	v0,8001
40294c42:	6013      	bteqz	40294c6a <set_sorting_level+0x6a>
40294c44:	0b14      	la	v1,40294c94 <set_sorting_level+0x94>
#if 0 
			   libc_print("8k_mode",ap_plist_file_total,2);
				 ap_plist_sorting_level = 8000;
				 init_mem_by_songs_num();
				 sorting_map_level_cur = &sorting_map_level_8k;
				  #else
         libc_print("16k_mode",ap_plist_file_total,2);
				 ap_plist_sorting_level = 16000;
40294c46:	b217      	lw	v0,40294ca0 <set_sorting_level+0xa0>
40294c48:	aa40      	lhu	v0,0(v0)
40294c4a:	6783      	move	a0,v1
40294c4c:	67a2      	move	a1,v0
40294c4e:	6e02      	li	a2,2
40294c50:	6f4b      	li	a3,75
40294c52:	b215      	lw	v0,40294ca4 <set_sorting_level+0xa4>
40294c54:	eac0      	jalrc	v0
40294c56:	b315      	lw	v1,40294ca8 <set_sorting_level+0xa8>
			 	 init_mem_by_songs_16k();
40294c58:	f687 6a00 	li	v0,16000
40294c5c:	cb40      	sh	v0,0(v1)
40294c5e:	b214      	lw	v0,40294cac <set_sorting_level+0xac>
				 sorting_map_level_cur = & sorting_map_level_16k;
40294c60:	eac0      	jalrc	v0
40294c62:	b314      	lw	v1,40294cb0 <set_sorting_level+0xb0>

40294c64:	b214      	lw	v0,40294cb4 <set_sorting_level+0xb4>
40294c66:	db40      	sw	v0,0(v1)
40294c68:	1012      	b	40294c8e <set_sorting_level+0x8e>
40294c6a:	0b0b      	la	v1,40294c94 <set_sorting_level+0x94>
 
 #endif
			 }
			 else
			 {
			   libc_print("16k_mode",ap_plist_file_total,2);
				 ap_plist_sorting_level = 16000;
			 	 init_mem_by_songs_16k();
40294c6c:	b20d      	lw	v0,40294ca0 <set_sorting_level+0xa0>
40294c6e:	aa40      	lhu	v0,0(v0)
40294c70:	6783      	move	a0,v1
40294c72:	67a2      	move	a1,v0
40294c74:	6e02      	li	a2,2
40294c76:	6f4b      	li	a3,75
40294c78:	b20b      	lw	v0,40294ca4 <set_sorting_level+0xa4>
40294c7a:	eac0      	jalrc	v0
40294c7c:	b30b      	lw	v1,40294ca4 <set_sorting_level+0xa4>
				 sorting_map_level_cur = & sorting_map_level_16k;
40294c7e:	f687 6a00 	li	v0,16000
40294c82:	cb40      	sh	v0,0(v1)
40294c84:	b20a      	lw	v0,40294cac <set_sorting_level+0xac>
			 }
40294c86:	eac0      	jalrc	v0
40294c88:	b30a      	lw	v1,40294cac <set_sorting_level+0xac>
			}
40294c8a:	b20b      	lw	v0,40294cb4 <set_sorting_level+0xb4>
40294c8c:	db40      	sw	v0,0(v1)
40294c8e:	65b9      	move	sp,s1
			else{
          ;
			}
			   
		return ;
 }

 void _init_sorting_map_level_4k(void)
{
40294c90:	6451      	restore	8,ra,s1
40294c92:	e8a0      	jrc	ra
40294c94:	3631      	dsll	a2,s1,4
40294c96:	5f6b      	sltiu	a3,107
40294c98:	6f6d      	li	a3,109
40294c9a:	6564      	move	v1,a0
40294c9c:	0000      	addiu	s0,sp,0
40294c9e:	0000      	addiu	s0,sp,0
40294ca0:	5598      	slti	a1,152
40294ca2:	9fc1      	lw	a2,4(a3)
40294ca4:	640d      	restore	104
40294ca6:	bfc1      	lwu	a2,4(a3)
40294ca8:	5406      	slti	a0,6
40294caa:	9fc1      	lw	a2,4(a3)
40294cac:	51d5      	slti	s1,213
40294cae:	4005      	addiu	s0,s0,5
40294cb0:	5408      	slti	a0,8
40294cb2:	9fc1      	lw	a2,4(a3)
40294cb4:	54f4      	slti	a0,244
40294cb6:	9fc1      	lw	a2,4(a3)

40294cb8 <_init_sorting_map_level_4k>:
40294cb8:	6491      	save	8,s1
	  sorting_map_level_4k.sort_buf_size         = (uint32)SORT_BUFFER_SIZE ;
		sorting_map_level_4k.index_buf_size 			 = (uint16)INDEX_BUFFER_SIZE;
		sorting_map_level_4k.file_info_buf_size    = (uint16)FILE_INFO_BUF_SIZE;
40294cba:	673d      	move	s1,sp
40294cbc:	b335      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
		sorting_map_level_4k.track_buf_size				 = (uint16)TRACK_BUFFER_SIZE ;
40294cbe:	b236      	lw	v0,40294d94 <_init_sorting_map_level_4k+0xdc>
40294cc0:	db40      	sw	v0,0(v1)
40294cc2:	b334      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
	
40294cc4:	f004 6a00 	li	v0,8192
40294cc8:	cb42      	sh	v0,4(v1)
40294cca:	b332      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
		sorting_map_level_4k.title_cmp_lenth 			 = (uint8)TITLE_CMP_LENGTH;
40294ccc:	f004 6a00 	li	v0,8192
40294cd0:	cb43      	sh	v0,6(v1)
40294cd2:	b330      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
		sorting_map_level_4k.album_cmp_lenth       = (uint8) ALBUM_CMP_LENGTH;
40294cd4:	f002 6a00 	li	v0,4096
40294cd8:	cb44      	sh	v0,8(v1)
40294cda:	b32e      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
		sorting_map_level_4k.artist_cmp_lenth      = (uint8)ARTIST_CMP_LENGTH;
		sorting_map_level_4k.genre_cmp_lenth       = (uint8)GENRE_CMP_LENGTH;
40294cdc:	6a18      	li	v0,24
40294cde:	c34a      	sb	v0,10(v1)
40294ce0:	b32c      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
		sorting_map_level_4k.track_cmp_lenth       = (uint8)TRACK_CMP_LENGTH;
40294ce2:	6a18      	li	v0,24
40294ce4:	c34b      	sb	v0,11(v1)
40294ce6:	b32b      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
	
40294ce8:	6a18      	li	v0,24
40294cea:	c34c      	sb	v0,12(v1)
40294cec:	b329      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
		sorting_map_level_4k.music_lib_size        = (uint32)MUSIC_LIB_SIZE    ;
40294cee:	6a18      	li	v0,24
40294cf0:	c34d      	sb	v0,13(v1)
40294cf2:	b328      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
		sorting_map_level_4k.audible_lib_size			 = (uint32)AUDIBLE_LIB_SIZE;
40294cf4:	6a01      	li	v0,1
40294cf6:	c34e      	sb	v0,14(v1)
40294cf8:	b326      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
		sorting_map_level_4k.m3u_lib_size 				 = (uint32)M3U_LIB_SIZE;
		sorting_map_level_4k.userpl_pl_size 			 = (uint32)USERPL_PL_SIZE;
40294cfa:	b228      	lw	v0,40294d98 <_init_sorting_map_level_4k+0xe0>
40294cfc:	db44      	sw	v0,16(v1)
40294cfe:	b325      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
		sorting_map_level_4k.album_pic_size 			 = (uint32)ALBUM_PIC_SIZE;
40294d00:	b227      	lw	v0,40294d9c <_init_sorting_map_level_4k+0xe4>
40294d02:	db45      	sw	v0,20(v1)
40294d04:	b323      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
	
40294d06:	b227      	lw	v0,40294da0 <_init_sorting_map_level_4k+0xe8>
40294d08:	db46      	sw	v0,24(v1)
40294d0a:	b322      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
		sorting_map_level_4k.store_music_addr             =    (uint32)STORE_MUSIC_ADDR;
40294d0c:	f60c 6a00 	li	v0,26112
40294d10:	db47      	sw	v0,28(v1)
40294d12:	b320      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
		sorting_map_level_4k.title_sort_index_vm_addr     = (uint32)TITLE_SORT_INDEX_VM_ADDR ;
40294d14:	f401 6a00 	li	v0,3072
40294d18:	ea4b      	neg	v0
40294d1a:	cb50      	sh	v0,32(v1)
40294d1c:	b31d      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
		sorting_map_level_4k.album_sort_index_vm_addr     = (uint32)ALBUM_SORT_INDEX_VM_ADDR;
		sorting_map_level_4k.artist_sort_index_vm_addr    = (uint32)ARTIST_SORT_INDEX_VM_ADDR;
40294d1e:	b222      	lw	v0,40294da4 <_init_sorting_map_level_4k+0xec>
40294d20:	db49      	sw	v0,36(v1)
40294d22:	b31c      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
		sorting_map_level_4k.tidy_buf_a_vm_addr           = (uint32)TIDY_BUF_A_VM_ADDR;
40294d24:	b220      	lw	v0,40294da4 <_init_sorting_map_level_4k+0xec>
40294d26:	db4a      	sw	v0,40(v1)
40294d28:	b31a      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
		sorting_map_level_4k.tidy_buf_b_vm_addr           = (uint32)TIDY_BUF_B_VM_ADDR;
40294d2a:	b220      	lw	v0,40294da8 <_init_sorting_map_level_4k+0xf0>
40294d2c:	db4b      	sw	v0,44(v1)
40294d2e:	b319      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
	
40294d30:	b21f      	lw	v0,40294dac <_init_sorting_map_level_4k+0xf4>
40294d32:	db4c      	sw	v0,48(v1)
40294d34:	b317      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
		sorting_map_level_4k.store_others_addr            = (uint32)STORE_OTHERS_ADDR;
40294d36:	b21f      	lw	v0,40294db0 <_init_sorting_map_level_4k+0xf8>
40294d38:	db4d      	sw	v0,52(v1)
40294d3a:	b316      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
		sorting_map_level_4k.others_title_addr            = (uint32)OTHERS_TITLE_ADDR;
40294d3c:	b21e      	lw	v0,40294db4 <_init_sorting_map_level_4k+0xfc>
40294d3e:	db4e      	sw	v0,56(v1)
40294d40:	b314      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
	
		//sorting_map_level_4k.plist_data_base_addr         = (uint32)PLIST_DATA_BASE_ADDR;
40294d42:	b21e      	lw	v0,40294db8 <_init_sorting_map_level_4k+0x100>
40294d44:	db4f      	sw	v0,60(v1)
40294d46:	b313      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
		//sorting_map_level_4k.plist_data_top_addr          = (uint32)PLIST_DATA_TOP_ADDR ;
40294d48:	b21c      	lw	v0,40294db8 <_init_sorting_map_level_4k+0x100>
40294d4a:	db50      	sw	v0,64(v1)
40294d4c:	b311      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
	
	
		sorting_map_level_4k.file_info_addr               = (uint32)FILE_INFO_ADDR;
		sorting_map_level_4k.sort_data_addr               = (uint32)SORT_DATA_ADDR;
	
		
40294d4e:	b21c      	lw	v0,40294dbc <_init_sorting_map_level_4k+0x104>
40294d50:	db53      	sw	v0,76(v1)
40294d52:	b310      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
		sorting_map_level_4k.file_index_buf_addr          = (uint32)FILE_INDEX_BUF_ADDR;
40294d54:	b21b      	lw	v0,40294dc0 <_init_sorting_map_level_4k+0x108>
40294d56:	db54      	sw	v0,80(v1)
40294d58:	b30e      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
		sorting_map_level_4k.sort_index_buf_addr          = (uint32)SORT_INDEX_BUF_ADDR;
		sorting_map_level_4k.tidy_buf_a_addr              = (uint32)TIDY_BUF_A_ADDR;
		sorting_map_level_4k.count_buf_a_addr             = (uint32)COUNT_BUF_A_ADDR;
40294d5a:	b219      	lw	v0,40294dbc <_init_sorting_map_level_4k+0x104>
40294d5c:	db55      	sw	v0,84(v1)
40294d5e:	b30d      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
		sorting_map_level_4k.tidy_buf_b_addr              = (uint32)TIDY_BUF_B_ADDR;
40294d60:	b219      	lw	v0,40294dc4 <_init_sorting_map_level_4k+0x10c>
40294d62:	db56      	sw	v0,88(v1)
40294d64:	b30b      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
		sorting_map_level_4k.count_buf_b_addr             = (uint32)COUNT_BUF_B_ADDR;
40294d66:	b219      	lw	v0,40294dc8 <_init_sorting_map_level_4k+0x110>
40294d68:	db57      	sw	v0,92(v1)
40294d6a:	b30a      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
		sorting_map_level_4k.track_data_addr              = (uint32)TRACK_DATA_ADDR; 
40294d6c:	b218      	lw	v0,40294dcc <_init_sorting_map_level_4k+0x114>
40294d6e:	db58      	sw	v0,96(v1)
40294d70:	b308      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
		sorting_map_level_4k.count_buf_c_addr             = (uint32)COUNT_BUF_C_ADDR;
40294d72:	b218      	lw	v0,40294dd0 <_init_sorting_map_level_4k+0x118>
40294d74:	db59      	sw	v0,100(v1)
40294d76:	b307      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>

40294d78:	b217      	lw	v0,40294dd4 <_init_sorting_map_level_4k+0x11c>
40294d7a:	db5a      	sw	v0,104(v1)
40294d7c:	b305      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>
}
40294d7e:	b217      	lw	v0,40294dd8 <_init_sorting_map_level_4k+0x120>
40294d80:	db5b      	sw	v0,108(v1)
40294d82:	b304      	lw	v1,40294d90 <_init_sorting_map_level_4k+0xd8>

40294d84:	b216      	lw	v0,40294ddc <_init_sorting_map_level_4k+0x124>
40294d86:	db5c      	sw	v0,112(v1)
40294d88:	65b9      	move	sp,s1

/******************************************************************************/
40294d8a:	6411      	restore	8,s1
40294d8c:	e8a0      	jrc	ra
40294d8e:	0000      	addiu	s0,sp,0
40294d90:	540c      	slti	a0,12
40294d92:	9fc1      	lw	a2,4(a3)
40294d94:	0000      	addiu	s0,sp,0
40294d96:	0001      	addiu	s0,sp,4
40294d98:	4000      	addiu	s0,s0,0
40294d9a:	009d      	addiu	s0,sp,628
40294d9c:	dc00      	sw	s0,0(a0)
40294d9e:	0005      	addiu	s0,sp,20
40294da0:	aa00      	lhu	s0,0(v0)
40294da2:	0017      	addiu	s0,sp,92
40294da4:	4000      	addiu	s0,s0,0
40294da6:	009c      	addiu	s0,sp,624
40294da8:	6000      	bteqz	40294daa <_init_sorting_map_level_4k+0xf2>
40294daa:	009c      	addiu	s0,sp,624
40294dac:	8000      	lb	s0,0(s0)
40294dae:	009c      	addiu	s0,sp,624
40294db0:	a000      	lbu	s0,0(s0)
40294db2:	009c      	addiu	s0,sp,624
40294db4:	c000      	sb	s0,0(s0)
40294db6:	009c      	addiu	s0,sp,624
40294db8:	aa00      	lhu	s0,0(v0)
40294dba:	0016      	addiu	s0,sp,88
40294dbc:	0a00      	la	v0,40294dbc <_init_sorting_map_level_4k+0x104>
40294dbe:	9fc2      	lw	a2,8(a3)
40294dc0:	0000      	addiu	s0,sp,0
40294dc2:	9fc3      	lw	a2,12(a3)
40294dc4:	2a00      	bnez	v0,40294dc6 <_init_sorting_map_level_4k+0x10e>
40294dc6:	9fc2      	lw	a2,8(a3)
40294dc8:	4a00      	addiu	v0,0
40294dca:	9fc2      	lw	a2,8(a3)
40294dcc:	6a00      	li	v0,0
40294dce:	9fc2      	lw	a2,8(a3)
40294dd0:	8a00      	lh	s0,0(v0)
40294dd2:	9fc2      	lw	a2,8(a3)
40294dd4:	aa00      	lhu	s0,0(v0)
40294dd6:	9fc2      	lw	a2,8(a3)
40294dd8:	ba00      	lwu	s0,0(v0)
40294dda:	9fc2      	lw	a2,8(a3)
40294ddc:	ca00      	sh	s0,0(v0)
40294dde:	9fc2      	lw	a2,8(a3)

40294de0 <init_file_index>:
40294de0:	6492      	save	16,s1
/*
 * \par  Description: 初始化索引缓存
 *
 * \param[in]

 * \param[out]

 * \return

 * \note
 *******************************************************************************/
void init_file_index(void)
{
    uint16 i = 0;

    while (i < sort_file_total)
40294de2:	673d      	move	s1,sp
40294de4:	6a00      	li	v0,0
    {
40294de6:	c940      	sh	v0,0(s1)
40294de8:	b20a      	lw	v0,40294e10 <init_file_index+0x30>
        file_index_buf[i] = i;
        i++;
40294dea:	a960      	lhu	v1,0(s1)
40294dec:	aa40      	lhu	v0,0(v0)
40294dee:	eb43      	sltu	v1,v0
40294df0:	600b      	bteqz	40294e08 <init_file_index+0x28>
40294df2:	a940      	lhu	v0,0(s1)
    }
}
40294df4:	3344      	sll	v1,v0,1
40294df6:	b208      	lw	v0,40294e14 <init_file_index+0x34>
40294df8:	9a40      	lw	v0,0(v0)
40294dfa:	e34d      	addu	v1,v0
40294dfc:	a940      	lhu	v0,0(s1)
40294dfe:	cb40      	sh	v0,0(v1)
40294e00:	a940      	lhu	v0,0(s1)

40294e02:	4241      	addiu	v0,v0,1
40294e04:	c940      	sh	v0,0(s1)
40294e06:	17f0      	b	40294de8 <init_file_index+0x8>
40294e08:	65b9      	move	sp,s1
/******************************************************************************/
/*
40294e0a:	6412      	restore	16,s1
40294e0c:	e8a0      	jrc	ra
40294e0e:	0000      	addiu	s0,sp,0
40294e10:	560c      	slti	a2,12
40294e12:	9fc1      	lw	a2,4(a3)
40294e14:	5640      	slti	a2,64
40294e16:	9fc1      	lw	a2,4(a3)

40294e18 <tidy_same_table>:
40294e18:	64d5      	save	40,ra,s1
 * \par  Description:查找相同的，整理成个数表
 *

 * \param[out]   tidy_buf   --object 分类编号
 * \param[out]   record_buf --save the same object 's number
 * \param[in]    index_buf  --file_index,save file's serial
 * \param[in]    depend_buf --compare data
 * \param[in]    cmp_len  --compare data's length (unit:8bit)

 * \return

 * \note
 *******************************************************************************/
void tidy_same_table(uint16 *tidy_buf, uint16 *record_buf, uint16 *index_buf)
{
    uint16 i;
    uint16 j, n;

40294e1a:	0104      	addiu	s1,sp,16
40294e1c:	d986      	sw	a0,24(s1)
40294e1e:	d9a7      	sw	a1,28(s1)
40294e20:	d9c8      	sw	a2,32(s1)
40294e22:	9948      	lw	v0,32(s1)
    uint16 *same_p;
    uint16 *index_p;

    index_p = index_buf;
    same_p = record_buf;

    libc_memset(same_p, 0x00, sort_file_total * 2 + 2);
40294e24:	d943      	sw	v0,12(s1)
40294e26:	9947      	lw	v0,28(s1)

40294e28:	d942      	sw	v0,8(s1)
40294e2a:	9962      	lw	v1,8(s1)
    j = 0;
    n = 1;
40294e2c:	b225      	lw	v0,40294ec0 <tidy_same_table+0xa8>
40294e2e:	aa40      	lhu	v0,0(v0)
40294e30:	3244      	sll	v0,1
40294e32:	4242      	addiu	v0,v0,2
40294e34:	6783      	move	a0,v1
40294e36:	6d00      	li	a1,0
40294e38:	67c2      	move	a2,v0
40294e3a:	6f01      	li	a3,1
40294e3c:	b222      	lw	v0,40294ec4 <tidy_same_table+0xac>
40294e3e:	eac0      	jalrc	v0
40294e40:	6a00      	li	v0,0
    *same_p = n;
    if (tidy_buf != NULL)
40294e42:	c941      	sh	v0,2(s1)
40294e44:	6a01      	li	v0,1
    {
40294e46:	c942      	sh	v0,4(s1)
40294e48:	9962      	lw	v1,8(s1)
        tidy_buf[index_p[0]] = j;
40294e4a:	a942      	lhu	v0,4(s1)
40294e4c:	cb40      	sh	v0,0(v1)
40294e4e:	9946      	lw	v0,24(s1)
    }
40294e50:	2207      	beqz	v0,40294e60 <tidy_same_table+0x48>
40294e52:	9943      	lw	v0,12(s1)

    for (i = 1; i < sort_file_total; i++)
40294e54:	aa40      	lhu	v0,0(v0)
40294e56:	3344      	sll	v1,v0,1
40294e58:	9946      	lw	v0,24(s1)
40294e5a:	e34d      	addu	v1,v0
40294e5c:	a941      	lhu	v0,2(s1)
40294e5e:	cb40      	sh	v0,0(v1)
40294e60:	6a01      	li	v0,1
    {
        if (0 == resort_data[i])
        {
40294e62:	c940      	sh	v0,0(s1)
40294e64:	b217      	lw	v0,40294ec0 <tidy_same_table+0xa8>
40294e66:	a960      	lhu	v1,0(s1)
40294e68:	aa40      	lhu	v0,0(v0)
40294e6a:	eb43      	sltu	v1,v0
40294e6c:	6026      	bteqz	40294eba <tidy_same_table+0xa2>
40294e6e:	a940      	lhu	v0,0(s1)
            //不相等
            j++;
40294e70:	3344      	sll	v1,v0,1
40294e72:	b216      	lw	v0,40294ec8 <tidy_same_table+0xb0>
40294e74:	9a40      	lw	v0,0(v0)
40294e76:	e349      	addu	v0,v1,v0
40294e78:	aa40      	lhu	v0,0(v0)
40294e7a:	2a09      	bnez	v0,40294e8e <tidy_same_table+0x76>
40294e7c:	a941      	lhu	v0,2(s1)
            n = 1;
            same_p++;
        }
40294e7e:	4241      	addiu	v0,v0,1
40294e80:	c941      	sh	v0,2(s1)
40294e82:	6a01      	li	v0,1
        else
40294e84:	c942      	sh	v0,4(s1)
40294e86:	9942      	lw	v0,8(s1)
        {
40294e88:	4242      	addiu	v0,v0,2
40294e8a:	d942      	sw	v0,8(s1)
40294e8c:	1003      	b	40294e94 <tidy_same_table+0x7c>
40294e8e:	a942      	lhu	v0,4(s1)
            n++;
        }

        if (tidy_buf != NULL)
40294e90:	4241      	addiu	v0,v0,1
40294e92:	c942      	sh	v0,4(s1)
40294e94:	9946      	lw	v0,24(s1)
        {
            tidy_buf[index_p[i]] = j;
        }
40294e96:	220a      	beqz	v0,40294eac <tidy_same_table+0x94>
40294e98:	a940      	lhu	v0,0(s1)

        *same_p = n;
40294e9a:	3344      	sll	v1,v0,1
40294e9c:	9943      	lw	v0,12(s1)
40294e9e:	e349      	addu	v0,v1,v0
40294ea0:	aa40      	lhu	v0,0(v0)
40294ea2:	3344      	sll	v1,v0,1
40294ea4:	9946      	lw	v0,24(s1)
40294ea6:	e34d      	addu	v1,v0
40294ea8:	a941      	lhu	v0,2(s1)
40294eaa:	cb40      	sh	v0,0(v1)
40294eac:	9962      	lw	v1,8(s1)
    }
}
/******************************************************************************/
40294eae:	a942      	lhu	v0,4(s1)
40294eb0:	cb40      	sh	v0,0(v1)
40294eb2:	a940      	lhu	v0,0(s1)
40294eb4:	4241      	addiu	v0,v0,1
40294eb6:	c940      	sh	v0,0(s1)
40294eb8:	17d5      	b	40294e64 <tidy_same_table+0x4c>
40294eba:	65b9      	move	sp,s1
/*
 * \par  Description:整理指定长度的index,统计相同的个数,返回存放个数指针位置
40294ebc:	6453      	restore	24,ra,s1
40294ebe:	e8a0      	jrc	ra
40294ec0:	560c      	slti	a2,12
40294ec2:	9fc1      	lw	a2,4(a3)
40294ec4:	6409      	restore	72
40294ec6:	bfc1      	lwu	a2,4(a3)
40294ec8:	5634      	slti	a2,52
40294eca:	9fc1      	lw	a2,4(a3)

40294ecc <tidy_son_table>:
40294ecc:	64d4      	save	32,ra,s1
 *
 * \param[in]    data_buf ---排序后的file_index
 * \param[out]   record_buf ---统计个数存放表
 * \param[in]    count         ---子个数
 * \param[in]    depend_buf ---统计依赖的数据来源

 * \return       当前写入的地址

 * \note
 *******************************************************************************/
uint16* tidy_son_table(uint16 *data_buf, uint16 *record_buf, uint16 count, uint16 *depend_buf)
{
    uint16 i;
    uint16 n;

40294ece:	0104      	addiu	s1,sp,16
40294ed0:	d984      	sw	a0,16(s1)
40294ed2:	d9a5      	sw	a1,20(s1)
40294ed4:	6746      	move	v0,a2
40294ed6:	d9e7      	sw	a3,28(s1)
40294ed8:	c94c      	sh	v0,24(s1)
40294eda:	b31d      	lw	v1,40294f4c <tidy_son_table+0x80>
    uint16 *same_p;

    sort_depend_buf = (void*) depend_buf;
    same_p = record_buf;

    n = 1;
40294edc:	9947      	lw	v0,28(s1)
40294ede:	db40      	sw	v0,0(v1)
40294ee0:	9945      	lw	v0,20(s1)
    *same_p = n;
40294ee2:	d941      	sw	v0,4(s1)
40294ee4:	6a01      	li	v0,1

    for (i = 1; i < count; i++)
40294ee6:	c941      	sh	v0,2(s1)
40294ee8:	9961      	lw	v1,4(s1)
    {
40294eea:	a941      	lhu	v0,2(s1)
40294eec:	cb40      	sh	v0,0(v1)
40294eee:	6a01      	li	v0,1
        if (0 != compare_word(data_buf + i, data_buf + i - 1, 2))
        {
40294ef0:	c940      	sh	v0,0(s1)
40294ef2:	a940      	lhu	v0,0(s1)
40294ef4:	a96c      	lhu	v1,24(s1)
40294ef6:	ea63      	sltu	v0,v1
40294ef8:	601f      	bteqz	40294f38 <tidy_son_table+0x6c>
40294efa:	a940      	lhu	v0,0(s1)
            //不相等
            n = 1;
40294efc:	3344      	sll	v1,v0,1
40294efe:	9944      	lw	v0,16(s1)
40294f00:	e351      	addu	a0,v1,v0
40294f02:	a940      	lhu	v0,0(s1)
40294f04:	3344      	sll	v1,v0,1
40294f06:	9944      	lw	v0,16(s1)
40294f08:	e349      	addu	v0,v1,v0
40294f0a:	424e      	addiu	v0,v0,-2
40294f0c:	67a2      	move	a1,v0
40294f0e:	6e02      	li	a2,2
40294f10:	b210      	lw	v0,40294f50 <tidy_son_table+0x84>
40294f12:	eac0      	jalrc	v0
40294f14:	651a      	move	t8,v0
40294f16:	6006      	bteqz	40294f24 <tidy_son_table+0x58>
40294f18:	6a01      	li	v0,1
            same_p++;
        }
        else
40294f1a:	c941      	sh	v0,2(s1)
40294f1c:	9941      	lw	v0,4(s1)
        {
40294f1e:	4242      	addiu	v0,v0,2
40294f20:	d941      	sw	v0,4(s1)
40294f22:	1003      	b	40294f2a <tidy_son_table+0x5e>
40294f24:	a941      	lhu	v0,2(s1)
            n++;
        }
        *same_p = n;
    }
40294f26:	4241      	addiu	v0,v0,1
40294f28:	c941      	sh	v0,2(s1)
40294f2a:	9961      	lw	v1,4(s1)

    same_p++;
40294f2c:	a941      	lhu	v0,2(s1)
40294f2e:	cb40      	sh	v0,0(v1)
40294f30:	a940      	lhu	v0,0(s1)
40294f32:	4241      	addiu	v0,v0,1
40294f34:	c940      	sh	v0,0(s1)
40294f36:	17dd      	b	40294ef2 <tidy_son_table+0x26>
40294f38:	9941      	lw	v0,4(s1)

    return same_p;

40294f3a:	4242      	addiu	v0,v0,2
40294f3c:	d941      	sw	v0,4(s1)
40294f3e:	9941      	lw	v0,4(s1)
}

40294f40:	651a      	move	t8,v0
40294f42:	6758      	move	v0,t8
/******************************************************************************/
/*
40294f44:	65b9      	move	sp,s1
40294f46:	6452      	restore	16,ra,s1
40294f48:	e8a0      	jrc	ra
40294f4a:	0000      	addiu	s0,sp,0
40294f4c:	5610      	slti	a2,16
40294f4e:	9fc1      	lw	a2,4(a3)
40294f50:	2651      	beqz	a2,40294ff4 <son_sort_index+0x60>
40294f52:	7181      	cmpi	s1,129

40294f54 <build_ex_index>:
40294f54:	6492      	save	16,s1
 * \par  Description: 生成file_index的反向映射表
 *
 * \param[in]

 * \param[out]        ex_buf---反向影射表

 * \return

 * \note
 *******************************************************************************/
//生成存sort_index
void build_ex_index(uint16 *ex_buf)
{
    uint16 i;
    for (i = 0; i < sort_file_total; i++)
    {
40294f56:	673d      	move	s1,sp
40294f58:	d984      	sw	a0,16(s1)
40294f5a:	6a00      	li	v0,0
        ex_buf[file_index_buf[i]] = i;
    }
40294f5c:	c940      	sh	v0,0(s1)
40294f5e:	b20c      	lw	v0,40294f8c <build_ex_index+0x38>
40294f60:	a960      	lhu	v1,0(s1)
40294f62:	aa40      	lhu	v0,0(v0)
40294f64:	eb43      	sltu	v1,v0
40294f66:	600f      	bteqz	40294f86 <build_ex_index+0x32>
40294f68:	a940      	lhu	v0,0(s1)
}
/******************************************************************************/
40294f6a:	3344      	sll	v1,v0,1
40294f6c:	b209      	lw	v0,40294f90 <build_ex_index+0x3c>
40294f6e:	9a40      	lw	v0,0(v0)
40294f70:	e349      	addu	v0,v1,v0
40294f72:	aa40      	lhu	v0,0(v0)
40294f74:	3344      	sll	v1,v0,1
40294f76:	9944      	lw	v0,16(s1)
40294f78:	e34d      	addu	v1,v0
40294f7a:	a940      	lhu	v0,0(s1)
40294f7c:	cb40      	sh	v0,0(v1)
40294f7e:	a940      	lhu	v0,0(s1)
40294f80:	4241      	addiu	v0,v0,1
40294f82:	c940      	sh	v0,0(s1)
40294f84:	17ec      	b	40294f5e <build_ex_index+0xa>
40294f86:	65b9      	move	sp,s1
/*
 * \par  Description: 排序列表的子级
40294f88:	6412      	restore	16,s1
40294f8a:	e8a0      	jrc	ra
40294f8c:	560c      	slti	a2,12
40294f8e:	9fc1      	lw	a2,4(a3)
40294f90:	5640      	slti	a2,64
40294f92:	9fc1      	lw	a2,4(a3)

40294f94 <son_sort_index>:
40294f94:	64d6      	save	48,ra,s1
 *
 * \param[in][out]   data_buf ---file_index,排序列
 * \param[in]        count_buf ---统计子级的相同个数
 * \param[in]        depend_buf ---依赖的比较数据
 * \param[in]        cmp_type  ---比较的类型

 * \return

 * \note
 *******************************************************************************/
//排序子级
void son_sort_index(uint16 *data_buf, uint16 *count_buf, uint16 *depend_buf, uint8 cmp_type)
{
    uint16 *same_p, *data_p;
    uint16 i, count;
    same_p = count_buf;
40294f96:	0106      	addiu	s1,sp,24
40294f98:	d986      	sw	a0,24(s1)
40294f9a:	d9a7      	sw	a1,28(s1)
40294f9c:	d9c8      	sw	a2,32(s1)
40294f9e:	6747      	move	v0,a3
40294fa0:	f020 c144 	sb	v0,36(s1)
40294fa4:	9947      	lw	v0,28(s1)
    data_p = data_buf;

    for (i = 0; *same_p > 0;)
40294fa6:	d940      	sw	v0,0(s1)
40294fa8:	9946      	lw	v0,24(s1)
    {
40294faa:	d941      	sw	v0,4(s1)
40294fac:	6a00      	li	v0,0
        if (*same_p > 1)
        {
40294fae:	c944      	sh	v0,8(s1)
40294fb0:	9940      	lw	v0,0(s1)
40294fb2:	aa40      	lhu	v0,0(v0)
40294fb4:	2225      	beqz	v0,40295000 <son_sort_index+0x6c>
40294fb6:	9940      	lw	v0,0(s1)
            count = *same_p;
            list_sort((void*) (data_buf + i), count, 2, depend_buf, cmp_type, 2);
40294fb8:	aa40      	lhu	v0,0(v0)
40294fba:	5a02      	sltiu	v0,2
40294fbc:	6117      	btnez	40294fec <son_sort_index+0x58>
40294fbe:	9940      	lw	v0,0(s1)
            i = i + count;
        }
40294fc0:	aa40      	lhu	v0,0(v0)
40294fc2:	c945      	sh	v0,10(s1)
40294fc4:	a944      	lhu	v0,8(s1)
        else
40294fc6:	3344      	sll	v1,v0,1
40294fc8:	9946      	lw	v0,24(s1)
40294fca:	e34d      	addu	v1,v0
40294fcc:	a9a5      	lhu	a1,10(s1)
40294fce:	99e8      	lw	a3,32(s1)
40294fd0:	f020 a144 	lbu	v0,36(s1)
40294fd4:	d204      	sw	v0,16(sp)
40294fd6:	6a02      	li	v0,2
40294fd8:	d205      	sw	v0,20(sp)
40294fda:	6783      	move	a0,v1
40294fdc:	6e02      	li	a2,2
40294fde:	b20b      	lw	v0,40295008 <son_sort_index+0x74>
40294fe0:	eac0      	jalrc	v0
40294fe2:	a964      	lhu	v1,8(s1)
        {
40294fe4:	a945      	lhu	v0,10(s1)
40294fe6:	e349      	addu	v0,v1,v0
40294fe8:	c944      	sh	v0,8(s1)
40294fea:	1006      	b	40294ff8 <son_sort_index+0x64>
40294fec:	9941      	lw	v0,4(s1)
            data_p++;
            i++;
        }
        same_p++;
40294fee:	4242      	addiu	v0,v0,2
40294ff0:	d941      	sw	v0,4(s1)
40294ff2:	a944      	lhu	v0,8(s1)
    }
40294ff4:	4241      	addiu	v0,v0,1
40294ff6:	c944      	sh	v0,8(s1)
40294ff8:	9940      	lw	v0,0(s1)

}
40294ffa:	4242      	addiu	v0,v0,2
40294ffc:	d940      	sw	v0,0(s1)
40294ffe:	17d8      	b	40294fb0 <son_sort_index+0x1c>
40295000:	65b9      	move	sp,s1
/******************************************************************************/
/*
 * \par  Description:由父级的个数，分段统计子级相同的个数
40295002:	6453      	restore	24,ra,s1
40295004:	e8a0      	jrc	ra
40295006:	0000      	addiu	s0,sp,0
40295008:	2875      	bnez	s0,402950f4 <creat_index_map+0x4c>
4029500a:	7181      	cmpi	s1,129

4029500c <tidy_son_unit>:
4029500c:	64d5      	save	40,ra,s1
 *
 * \param[out]   record_buf   ---记录统计的子级相同个数表
 * \param[in]    data_buf   ---排序好的file_index
 * \param[in]    same_buf   ---父级相同个数表
 * \param[in]    depend_buf ---统计依赖的数据来源

 * \return

 * \note
 *******************************************************************************/
void tidy_son_unit(uint16 *record_buf, uint16 *data_buf, uint16 *same_buf, uint16 *depend_buf)
{
    uint16 *same_p, *record_p, *data_p;
    uint16 i, count;
    same_p = same_buf;
4029500e:	0104      	addiu	s1,sp,16
40295010:	d986      	sw	a0,24(s1)
40295012:	d9a7      	sw	a1,28(s1)
40295014:	d9c8      	sw	a2,32(s1)
40295016:	d9e9      	sw	a3,36(s1)
40295018:	9948      	lw	v0,32(s1)
    data_p = data_buf;
    record_p = record_buf;

4029501a:	d940      	sw	v0,0(s1)
4029501c:	9947      	lw	v0,28(s1)
    libc_memset(record_p, 0x00, sort_file_total * 2 + 2);
4029501e:	d942      	sw	v0,8(s1)
40295020:	9946      	lw	v0,24(s1)

40295022:	d941      	sw	v0,4(s1)
40295024:	9961      	lw	v1,4(s1)
    for (i = 0; *same_p > 0;)
    {
40295026:	b21f      	lw	v0,402950a0 <tidy_son_unit+0x94>
40295028:	aa40      	lhu	v0,0(v0)
4029502a:	3244      	sll	v0,1
4029502c:	4242      	addiu	v0,v0,2
4029502e:	6783      	move	a0,v1
40295030:	6d00      	li	a1,0
40295032:	67c2      	move	a2,v0
40295034:	6f01      	li	a3,1
40295036:	b21c      	lw	v0,402950a4 <tidy_son_unit+0x98>
40295038:	eac0      	jalrc	v0
4029503a:	6a00      	li	v0,0
        if (*same_p > 1)
        {
4029503c:	c946      	sh	v0,12(s1)
4029503e:	9940      	lw	v0,0(s1)
40295040:	aa40      	lhu	v0,0(v0)
40295042:	222b      	beqz	v0,4029509a <tidy_son_unit+0x8e>
40295044:	9940      	lw	v0,0(s1)
            count = *same_p;
            record_p = tidy_son_table(data_p, record_p, count, depend_buf);
40295046:	aa40      	lhu	v0,0(v0)
40295048:	5a02      	sltiu	v0,2
4029504a:	6117      	btnez	4029507a <tidy_son_unit+0x6e>
4029504c:	9940      	lw	v0,0(s1)
            data_p = data_p + count;
            i = i + count;
4029504e:	aa40      	lhu	v0,0(v0)
40295050:	c947      	sh	v0,14(s1)
40295052:	9942      	lw	v0,8(s1)
        }
40295054:	9961      	lw	v1,4(s1)
40295056:	a9c7      	lhu	a2,14(s1)
40295058:	99e9      	lw	a3,36(s1)
4029505a:	6782      	move	a0,v0
4029505c:	67a3      	move	a1,v1
4029505e:	1940 53b3 	jal	40294ecc <tidy_son_table>
40295062:	6500      	nop
40295064:	d941      	sw	v0,4(s1)
40295066:	a947      	lhu	v0,14(s1)
        else
40295068:	3344      	sll	v1,v0,1
4029506a:	9942      	lw	v0,8(s1)
4029506c:	e269      	addu	v0,v1
4029506e:	d942      	sw	v0,8(s1)
40295070:	a966      	lhu	v1,12(s1)
        {
40295072:	a947      	lhu	v0,14(s1)
40295074:	e349      	addu	v0,v1,v0
40295076:	c946      	sh	v0,12(s1)
40295078:	100c      	b	40295092 <tidy_son_unit+0x86>
4029507a:	9961      	lw	v1,4(s1)
            //            *record_p++=1;
            *record_p = 1;
            record_p++;
            i++;
            data_p++;
4029507c:	6a01      	li	v0,1
4029507e:	cb40      	sh	v0,0(v1)
40295080:	9941      	lw	v0,4(s1)
        }
40295082:	4242      	addiu	v0,v0,2
40295084:	d941      	sw	v0,4(s1)
40295086:	a946      	lhu	v0,12(s1)
        same_p++;
40295088:	4241      	addiu	v0,v0,1
4029508a:	c946      	sh	v0,12(s1)
4029508c:	9942      	lw	v0,8(s1)
    }
4029508e:	4242      	addiu	v0,v0,2
40295090:	d942      	sw	v0,8(s1)
40295092:	9940      	lw	v0,0(s1)

}
40295094:	4242      	addiu	v0,v0,2
40295096:	d940      	sw	v0,0(s1)
40295098:	17d2      	b	4029503e <tidy_son_unit+0x32>
4029509a:	65b9      	move	sp,s1

/******************************************************************************/
/*
4029509c:	6453      	restore	24,ra,s1
4029509e:	e8a0      	jrc	ra
402950a0:	560c      	slti	a2,12
402950a2:	9fc1      	lw	a2,4(a3)
402950a4:	6409      	restore	72
402950a6:	bfc1      	lwu	a2,4(a3)

402950a8 <creat_index_map>:
402950a8:	6492      	save	16,s1
 * \par  Description: 创建file_index 的parent位置映射表,
 *
 * \param[out]     map_buf  ---父级的tree位置偏移
 * \param[in]      index_buf---file_index
 * \param[in]      count_buf ---父级tree统计相同个数表

 * \return         TRUE or FALSE

 * \note
 *******************************************************************************/
bool creat_index_map(uint16 *map_buf, uint16 *index_buf, uint16 *count_buf)
{
    uint16 i, count;
    uint16 son_offset;

402950aa:	673d      	move	s1,sp
402950ac:	d984      	sw	a0,16(s1)
402950ae:	d9a5      	sw	a1,20(s1)
402950b0:	d9c6      	sw	a2,24(s1)
402950b2:	6a00      	li	v0,0
    son_offset = 0;
    while (*count_buf > 0)
    {
        i = 0;
402950b4:	c942      	sh	v0,4(s1)
402950b6:	9946      	lw	v0,24(s1)
        count = *count_buf;
402950b8:	aa40      	lhu	v0,0(v0)
402950ba:	221e      	beqz	v0,402950f8 <creat_index_map+0x50>
402950bc:	6a00      	li	v0,0
        while (i < count)
        {
402950be:	c940      	sh	v0,0(s1)
402950c0:	9946      	lw	v0,24(s1)
            map_buf[*index_buf] = son_offset;
402950c2:	aa40      	lhu	v0,0(v0)
402950c4:	c941      	sh	v0,2(s1)
402950c6:	a940      	lhu	v0,0(s1)
            i++;
402950c8:	a961      	lhu	v1,2(s1)
402950ca:	ea63      	sltu	v0,v1
402950cc:	600e      	bteqz	402950ea <creat_index_map+0x42>
402950ce:	9945      	lw	v0,20(s1)
            index_buf++;
        }
402950d0:	aa40      	lhu	v0,0(v0)
402950d2:	3344      	sll	v1,v0,1
402950d4:	9944      	lw	v0,16(s1)
402950d6:	e34d      	addu	v1,v0
402950d8:	a942      	lhu	v0,4(s1)
402950da:	cb40      	sh	v0,0(v1)
402950dc:	a940      	lhu	v0,0(s1)
        son_offset++;
402950de:	4241      	addiu	v0,v0,1
402950e0:	c940      	sh	v0,0(s1)
402950e2:	9945      	lw	v0,20(s1)
        count_buf++;
402950e4:	4242      	addiu	v0,v0,2
402950e6:	d945      	sw	v0,20(s1)
402950e8:	17ee      	b	402950c6 <creat_index_map+0x1e>
402950ea:	a942      	lhu	v0,4(s1)
    }

402950ec:	4241      	addiu	v0,v0,1
402950ee:	c942      	sh	v0,4(s1)
402950f0:	9946      	lw	v0,24(s1)
    return TRUE;
402950f2:	4242      	addiu	v0,v0,2
402950f4:	d946      	sw	v0,24(s1)
402950f6:	17df      	b	402950b6 <creat_index_map+0xe>
402950f8:	6a01      	li	v0,1
}

/******************************************************************************/
402950fa:	65b9      	move	sp,s1
/*
402950fc:	6412      	restore	16,s1
402950fe:	e8a0      	jrc	ra

40295100 <creat_plist_tree>:
40295100:	64d9      	save	72,ra,s1
 * \par  Description: 创建树结构,返回TREE的个数
 *
 * \param[in]     index_buf  ---file_index
 * \param[in]     cur_buf  ---当前级统计子集的相同个数表
 * \param[in]     son_buf ---子级统计到子级的相同个数表
 * \param[in]     parent_buf ---父级统计到子级的相同个数表
 * \param[in]    type---创建tree的类型

 * \return        TREE的个数

 * \note
 *******************************************************************************/
uint16 creat_plist_tree(uint16 *index_buf, uint16 *cur_buf, uint16 *son_buf, uint16 *parent_buf, uint8 type)
{
    plist_tree_t *tree_p;
    uint16 *cur_p, *son_p, *pare_p;
    uint16 i, j, count, n;
40295102:	0104      	addiu	s1,sp,16
40295104:	d98e      	sw	a0,56(s1)
40295106:	d9af      	sw	a1,60(s1)
40295108:	d9d0      	sw	a2,64(s1)
4029510a:	d9f1      	sw	a3,68(s1)
4029510c:	9952      	lw	v0,72(s1)
4029510e:	c140      	sb	v0,0(s1)
40295110:	b263      	lw	v0,4029529c <creat_plist_tree+0x19c>
    uint16 s_offset, p_offset;//子tree和父tree偏移
    uint16 list_offset, son_num;
    uint16 tree_count;

    tree_p = (plist_tree_t *) temp_plist_buf;
    cur_p = cur_buf;
    son_p = son_buf;
    pare_p = parent_buf;
40295112:	d941      	sw	v0,4(s1)
40295114:	994f      	lw	v0,60(s1)

40295116:	d942      	sw	v0,8(s1)
40295118:	9950      	lw	v0,64(s1)
    if (*cur_p == 0)
4029511a:	d943      	sw	v0,12(s1)
4029511c:	9951      	lw	v0,68(s1)
    {
4029511e:	d944      	sw	v0,16(s1)
40295120:	9942      	lw	v0,8(s1)
        //buffer error
        return 0;
40295122:	aa40      	lhu	v0,0(v0)
40295124:	2a03      	bnez	v0,4029512c <creat_plist_tree+0x2c>
40295126:	6a00      	li	v0,0
    }

    j = 0;
40295128:	d94a      	sw	v0,40(s1)
4029512a:	10b4      	b	40295294 <creat_plist_tree+0x194>
4029512c:	6a00      	li	v0,0
    s_offset = 0;
    p_offset = 0;
    list_offset = 0;
4029512e:	c94b      	sh	v0,22(s1)
40295130:	6a00      	li	v0,0
    tree_count = 0;
40295132:	c94e      	sh	v0,28(s1)
40295134:	6a00      	li	v0,0

40295136:	c94f      	sh	v0,30(s1)
40295138:	6a00      	li	v0,0
    libc_memset(temp_plist_buf, 0, sizeof(temp_plist_buf));
4029513a:	c950      	sh	v0,32(s1)
4029513c:	6a00      	li	v0,0

4029513e:	c952      	sh	v0,36(s1)
40295140:	b257      	lw	v0,4029529c <creat_plist_tree+0x19c>
    while (*cur_p > 0)
    {
40295142:	f200 6b00 	li	v1,512
40295146:	6782      	move	a0,v0
40295148:	6d00      	li	a1,0
4029514a:	67c3      	move	a2,v1
4029514c:	6f01      	li	a3,1
4029514e:	b255      	lw	v0,402952a0 <creat_plist_tree+0x1a0>
40295150:	eac0      	jalrc	v0
40295152:	9942      	lw	v0,8(s1)
        if ((0 != tree_count) && (0 == (tree_count % (SECTOR_SIZE / sizeof(plist_tree_t)))))
        {
40295154:	aa40      	lhu	v0,0(v0)
40295156:	f080 220d 	beqz	v0,40295274 <creat_plist_tree+0x174>
4029515a:	a952      	lhu	v0,36(s1)
            //buffer is full,write to file
            save_to_file(temp_plist_buf, SECTOR_SIZE);
4029515c:	2220      	beqz	v0,4029519e <creat_plist_tree+0x9e>
4029515e:	a972      	lhu	v1,36(s1)
40295160:	6a1f      	li	v0,31
40295162:	ea6c      	and	v0,v1
40295164:	ea31      	zeh	v0
40295166:	2a1b      	bnez	v0,4029519e <creat_plist_tree+0x9e>
40295168:	b24d      	lw	v0,4029529c <creat_plist_tree+0x19c>
            libc_memset(temp_plist_buf, 0x00, SECTOR_SIZE);
            tree_p = (plist_tree_t *) temp_plist_buf;
            libc_memset(temp_plist_buf, 0, sizeof(temp_plist_buf));
4029516a:	f200 6b00 	li	v1,512
4029516e:	6782      	move	a0,v0
40295170:	67a3      	move	a1,v1
40295172:	b24d      	lw	v0,402952a4 <creat_plist_tree+0x1a4>
40295174:	eac0      	jalrc	v0
40295176:	b24a      	lw	v0,4029529c <creat_plist_tree+0x19c>
        }
40295178:	f200 6b00 	li	v1,512
4029517c:	6782      	move	a0,v0
4029517e:	6d00      	li	a1,0
40295180:	67c3      	move	a2,v1
40295182:	6f01      	li	a3,1
40295184:	b247      	lw	v0,402952a0 <creat_plist_tree+0x1a0>
40295186:	eac0      	jalrc	v0
40295188:	b245      	lw	v0,40295298 <creat_plist_tree+0x198>

4029518a:	d941      	sw	v0,4(s1)
4029518c:	b244      	lw	v0,4029529c <creat_plist_tree+0x19c>
        son_num = 0;//每个tree的子tree个数
4029518e:	f200 6b00 	li	v1,512
40295192:	6782      	move	a0,v0
40295194:	6d00      	li	a1,0
40295196:	67c3      	move	a2,v1
40295198:	6f01      	li	a3,1
4029519a:	b242      	lw	v0,402952a0 <creat_plist_tree+0x1a0>
4029519c:	eac0      	jalrc	v0
4029519e:	6a00      	li	v0,0
        count = *cur_p;
        cur_p++;
        tree_p->flag = 1;
402951a0:	c951      	sh	v0,34(s1)
402951a2:	9942      	lw	v0,8(s1)
        tree_p->type = type;
402951a4:	aa40      	lhu	v0,0(v0)
402951a6:	c94c      	sh	v0,24(s1)
402951a8:	9942      	lw	v0,8(s1)
        tree_p->file_index = *index_buf;
402951aa:	4242      	addiu	v0,v0,2
402951ac:	d942      	sw	v0,8(s1)
402951ae:	9961      	lw	v1,4(s1)
        tree_p->file_total = count;
402951b0:	6a01      	li	v0,1
402951b2:	c340      	sb	v0,0(v1)
402951b4:	9961      	lw	v1,4(s1)
        tree_p->prev_offset = list_offset - 1;
402951b6:	a140      	lbu	v0,0(s1)
402951b8:	c341      	sb	v0,1(v1)
402951ba:	9961      	lw	v1,4(s1)
        tree_p->next_offset = list_offset + 1;
402951bc:	994e      	lw	v0,56(s1)
402951be:	aa40      	lhu	v0,0(v0)
402951c0:	cb43      	sh	v0,6(v1)
402951c2:	9961      	lw	v1,4(s1)
        list_offset++;
402951c4:	a94c      	lhu	v0,24(s1)
402951c6:	cb42      	sh	v0,4(v1)
402951c8:	9961      	lw	v1,4(s1)

402951ca:	a950      	lhu	v0,32(s1)
402951cc:	424f      	addiu	v0,v0,-1
402951ce:	cb46      	sh	v0,12(v1)
402951d0:	9961      	lw	v1,4(s1)
        if (parent_buf == NULL)
402951d2:	a950      	lhu	v0,32(s1)
402951d4:	4241      	addiu	v0,v0,1
402951d6:	cb47      	sh	v0,14(v1)
402951d8:	a950      	lhu	v0,32(s1)
        {
402951da:	4241      	addiu	v0,v0,1
402951dc:	c950      	sh	v0,32(s1)
402951de:	9951      	lw	v0,68(s1)
            //没有父树级
            tree_p->parent_offset = 0xffff;
402951e0:	2a05      	bnez	v0,402951ec <creat_plist_tree+0xec>
402951e2:	9961      	lw	v1,4(s1)
        }
        else
        { //有父级
402951e4:	6a01      	li	v0,1
402951e6:	ea4b      	neg	v0
402951e8:	cb45      	sh	v0,10(v1)
402951ea:	1014      	b	40295214 <creat_plist_tree+0x114>
402951ec:	9961      	lw	v1,4(s1)
            tree_p->parent_offset = p_offset;
            j = j + count;
            if (j >= *pare_p)
            {
402951ee:	a94f      	lhu	v0,30(s1)
402951f0:	cb45      	sh	v0,10(v1)
402951f2:	a96b      	lhu	v1,22(s1)
                j = 0;
402951f4:	a94c      	lhu	v0,24(s1)
402951f6:	e349      	addu	v0,v1,v0
402951f8:	c94b      	sh	v0,22(s1)
402951fa:	9944      	lw	v0,16(s1)
                pare_p++;
402951fc:	aa60      	lhu	v1,0(v0)
402951fe:	a94b      	lhu	v0,22(s1)
40295200:	ea63      	sltu	v0,v1
40295202:	6108      	btnez	40295214 <creat_plist_tree+0x114>
40295204:	6a00      	li	v0,0
                p_offset++;
            }
40295206:	c94b      	sh	v0,22(s1)
40295208:	9944      	lw	v0,16(s1)
        }
4029520a:	4242      	addiu	v0,v0,2
4029520c:	d944      	sw	v0,16(s1)
4029520e:	a94f      	lhu	v0,30(s1)

40295210:	4241      	addiu	v0,v0,1
40295212:	c94f      	sh	v0,30(s1)
40295214:	9950      	lw	v0,64(s1)
        if (son_buf == NULL)
        { //没有子树级
            tree_p->son_offset = 0xffff;
        }
40295216:	2a05      	bnez	v0,40295222 <creat_plist_tree+0x122>
40295218:	9961      	lw	v1,4(s1)
        else
        { //有子树级
4029521a:	6a01      	li	v0,1
4029521c:	ea4b      	neg	v0
4029521e:	cb44      	sh	v0,8(v1)
40295220:	101a      	b	40295256 <creat_plist_tree+0x156>
40295222:	9961      	lw	v1,4(s1)
            tree_p->son_offset = s_offset;
            i = 0;
            n = 0;
            while (i < count)
40295224:	a94e      	lhu	v0,28(s1)
40295226:	cb44      	sh	v0,8(v1)
40295228:	6a00      	li	v0,0
            {
4029522a:	c94a      	sh	v0,20(s1)
4029522c:	6a00      	li	v0,0
                i = *son_buf + i;
4029522e:	c94d      	sh	v0,26(s1)
40295230:	a94a      	lhu	v0,20(s1)
                son_buf++;
40295232:	a96c      	lhu	v1,24(s1)
40295234:	ea63      	sltu	v0,v1
40295236:	600f      	bteqz	40295256 <creat_plist_tree+0x156>
40295238:	9950      	lw	v0,64(s1)
                son_num++;
                s_offset++;
4029523a:	a96a      	lhu	v1,20(s1)
4029523c:	aa40      	lhu	v0,0(v0)
4029523e:	e349      	addu	v0,v1,v0
40295240:	c94a      	sh	v0,20(s1)
40295242:	9950      	lw	v0,64(s1)
            }
40295244:	4242      	addiu	v0,v0,2
40295246:	d950      	sw	v0,64(s1)
40295248:	a951      	lhu	v0,34(s1)
        }
4029524a:	4241      	addiu	v0,v0,1
4029524c:	c951      	sh	v0,34(s1)
4029524e:	a94e      	lhu	v0,28(s1)

40295250:	4241      	addiu	v0,v0,1
40295252:	c94e      	sh	v0,28(s1)
40295254:	17ed      	b	40295230 <creat_plist_tree+0x130>
40295256:	9961      	lw	v1,4(s1)
        tree_p->son_num = son_num;

        index_buf = count + index_buf;
        tree_p++;
40295258:	a951      	lhu	v0,34(s1)
4029525a:	cb41      	sh	v0,2(v1)
4029525c:	a94c      	lhu	v0,24(s1)
        tree_count++;

4029525e:	3344      	sll	v1,v0,1
40295260:	994e      	lw	v0,56(s1)
40295262:	e269      	addu	v0,v1
40295264:	d94e      	sw	v0,56(s1)
40295266:	9941      	lw	v0,4(s1)
    }
40295268:	4a10      	addiu	v0,16
4029526a:	d941      	sw	v0,4(s1)
4029526c:	a952      	lhu	v0,36(s1)

4029526e:	4241      	addiu	v0,v0,1
40295270:	c952      	sh	v0,36(s1)
40295272:	176f      	b	40295152 <creat_plist_tree+0x52>
40295274:	9941      	lw	v0,4(s1)
    //modify last tree's next point
    tree_p--;
    tree_p->next_offset = 0xffff;

    //save last sector
40295276:	4af0      	addiu	v0,-16
40295278:	d941      	sw	v0,4(s1)
4029527a:	9961      	lw	v1,4(s1)
    save_to_file(temp_plist_buf, SECTOR_SIZE);
4029527c:	6a01      	li	v0,1
4029527e:	ea4b      	neg	v0
40295280:	cb47      	sh	v0,14(v1)
40295282:	b207      	lw	v0,4029529c <creat_plist_tree+0x19c>

    return tree_count;

40295284:	f200 6b00 	li	v1,512
40295288:	6782      	move	a0,v0
4029528a:	67a3      	move	a1,v1
4029528c:	b206      	lw	v0,402952a4 <creat_plist_tree+0x1a4>
4029528e:	eac0      	jalrc	v0
40295290:	a952      	lhu	v0,36(s1)
}

40295292:	d94a      	sw	v0,40(s1)
40295294:	994a      	lw	v0,40(s1)
40295296:	65b9      	move	sp,s1
40295298:	6457      	restore	56,ra,s1
4029529a:	e8a0      	jrc	ra
4029529c:	5694      	slti	a2,148
4029529e:	9fc1      	lw	a2,4(a3)
402952a0:	6409      	restore	72
402952a2:	bfc1      	lwu	a2,4(a3)
402952a4:	6415      	restore	40,s1
402952a6:	bfc1      	lwu	a2,4(a3)
	...
Disassembly of section BANK_FORNT_CONTROL_1_11:

402d4c00 <get_audible_info>:
402d4c00:	64d5      	save	40,ra,s1

 * \note
 *******************************************************************************/
static bool get_audible_info(uint32 ext_name)
{
402d4c02:	0106      	addiu	s1,sp,24
402d4c04:	d984      	sw	a0,16(s1)
402d4c06:	9944      	lw	v0,16(s1)
    id3_type_e id3_type;
    id3_type = check_id3_type(ext_name);
402d4c08:	6782      	move	a0,v0
402d4c0a:	b229      	lw	v0,402d4cac <get_audible_info+0xac>
402d4c0c:	eac0      	jalrc	v0
402d4c0e:	c140      	sb	v0,0(s1)
402d4c10:	a140      	lbu	v0,0(s1)

    if (id3_type < ID3_TYPE_END)
402d4c12:	5a08      	sltiu	v0,8
402d4c14:	6025      	bteqz	402d4c60 <get_audible_info+0x60>
402d4c16:	b227      	lw	v0,402d4cb0 <get_audible_info+0xb0>
    {
        if (FALSE != get_id3_info(&id3_file_info, NULL, id3_type))
402d4c18:	a160      	lbu	v1,0(s1)
402d4c1a:	6782      	move	a0,v0
402d4c1c:	6d00      	li	a1,0
402d4c1e:	67c3      	move	a2,v1
402d4c20:	b225      	lw	v0,402d4cb4 <get_audible_info+0xb4>
402d4c22:	eac0      	jalrc	v0
402d4c24:	651a      	move	t8,v0
402d4c26:	6016      	bteqz	402d4c54 <get_audible_info+0x54>
402d4c28:	b224      	lw	v0,402d4cb8 <get_audible_info+0xb8>
        {
            audible_f_p->id3_tag_flag = 1;
402d4c2a:	9a60      	lw	v1,0(v0)
402d4c2c:	6a01      	li	v0,1
402d4c2e:	f0a0 c343 	sb	v0,163(v1)
402d4c32:	b220      	lw	v0,402d4cb0 <get_audible_info+0xb0>
            if ((id3_file_info.track_num != 0) && (id3_file_info.track_num != UNICODE_FLAG))
402d4c34:	aa51      	lhu	v0,34(v0)
402d4c36:	221c      	beqz	v0,402d4c70 <get_audible_info+0x70>
402d4c38:	b21e      	lw	v0,402d4cb0 <get_audible_info+0xb0>
402d4c3a:	aa71      	lhu	v1,34(v0)
402d4c3c:	f6ff 6a1f 	li	v0,65279
402d4c40:	ea6e      	xor	v0,v1
402d4c42:	5a01      	sltiu	v0,1
402d4c44:	6115      	btnez	402d4c70 <get_audible_info+0x70>
402d4c46:	b21d      	lw	v0,402d4cb8 <get_audible_info+0xb8>
            {
                audible_f_p->track_num = id3_file_info.track_num;
402d4c48:	9a60      	lw	v1,0(v0)
402d4c4a:	b21a      	lw	v0,402d4cb0 <get_audible_info+0xb0>
402d4c4c:	aa51      	lhu	v0,34(v0)
402d4c4e:	f0e0 cb52 	sh	v0,242(v1)
402d4c52:	100e      	b	402d4c70 <get_audible_info+0x70>
402d4c54:	b219      	lw	v0,402d4cb8 <get_audible_info+0xb8>
            }
        }
        else
        {
            audible_f_p->id3_tag_flag = 0;
402d4c56:	9a60      	lw	v1,0(v0)
402d4c58:	6a00      	li	v0,0
402d4c5a:	f0a0 c343 	sb	v0,163(v1)
402d4c5e:	1008      	b	402d4c70 <get_audible_info+0x70>
402d4c60:	b216      	lw	v0,402d4cb8 <get_audible_info+0xb8>
        }

    }
    else
    {
        audible_f_p->id3_tag_flag = 0;  
402d4c62:	9a60      	lw	v1,0(v0)
402d4c64:	6a00      	li	v0,0
402d4c66:	f0a0 c343 	sb	v0,163(v1)
402d4c6a:	1960 5366 	jal	402d4d98 <deal_audible_id3info>
        deal_audible_id3info();
402d4c6e:	6500      	nop
402d4c70:	b212      	lw	v0,402d4cb8 <get_audible_info+0xb8>
    }

    *(uint32*) (audible_f_p->filename) = ext_name;
402d4c72:	9a60      	lw	v1,0(v0)
402d4c74:	9944      	lw	v0,16(s1)
402d4c76:	f0a0 db44 	sw	v0,164(v1)
402d4c7a:	b211      	lw	v0,402d4cbc <get_audible_info+0xbc>
    vfs_file_dir_offset(ap_vfs_mount, &audible_f_p->dir_layer_info, &audible_f_p->cluster_no, 0);
402d4c7c:	9a80      	lw	a0,0(v0)
402d4c7e:	b20f      	lw	v0,402d4cb8 <get_audible_info+0xb8>
402d4c80:	9a40      	lw	v0,0(v0)
402d4c82:	f0a0 42a9 	addiu	a1,v0,169
402d4c86:	b20d      	lw	v0,402d4cb8 <get_audible_info+0xb8>
402d4c88:	9a40      	lw	v0,0(v0)
402d4c8a:	f0f0 4264 	addiu	v1,v0,244
402d4c8e:	6a03      	li	v0,3
402d4c90:	d204      	sw	v0,16(sp)
402d4c92:	67c3      	move	a2,v1
402d4c94:	6f00      	li	a3,0
402d4c96:	b20b      	lw	v0,402d4cc0 <get_audible_info+0xc0>
402d4c98:	eac0      	jalrc	v0
402d4c9a:	b208      	lw	v0,402d4cb8 <get_audible_info+0xb8>
    audible_f_p->flag = 1;
402d4c9c:	9a60      	lw	v1,0(v0)
402d4c9e:	6a01      	li	v0,1
402d4ca0:	f0a0 c348 	sb	v0,168(v1)
402d4ca4:	6a01      	li	v0,1

    return TRUE;
402d4ca6:	65b9      	move	sp,s1
}
402d4ca8:	6452      	restore	16,ra,s1
402d4caa:	e8a0      	jrc	ra
402d4cac:	4401      	addiu	s0,a0,1
402d4cae:	4801      	addiu	s0,1
402d4cb0:	565c      	slti	a2,92
402d4cb2:	9fc1      	lw	a2,4(a3)
402d4cb4:	b201      	lw	v0,402d4cb8 <get_audible_info+0xb8>
402d4cb6:	7805      	sd	s0,40(s0)
402d4cb8:	568c      	slti	a2,140
402d4cba:	9fc1      	lw	a2,4(a3)
402d4cbc:	5570      	slti	a1,112
402d4cbe:	9fc1      	lw	a2,4(a3)
402d4cc0:	6411      	restore	8,s1
402d4cc2:	bfc1      	lwu	a2,4(a3)

402d4cc4 <deal_if_83name>:
402d4cc4:	6492      	save	16,s1

//过滤空格,转换为 xx.yyy格式
//返回字符长度，不包含结束符
static void deal_if_83name(uint8 *name_buf)
{
402d4cc6:	673d      	move	s1,sp
402d4cc8:	d984      	sw	a0,16(s1)
402d4cca:	9944      	lw	v0,16(s1)
    uint8 i,j;

    if((name_buf[0]==0xff) && (name_buf[1]==0xfe))
402d4ccc:	a240      	lbu	v0,0(v0)
402d4cce:	72ff      	cmpi	v0,255
402d4cd0:	6758      	move	v0,t8
402d4cd2:	5a01      	sltiu	v0,1
402d4cd4:	6007      	bteqz	402d4ce4 <deal_if_83name+0x20>
402d4cd6:	9944      	lw	v0,16(s1)
402d4cd8:	a241      	lbu	v0,1(v0)
402d4cda:	72fe      	cmpi	v0,254
402d4cdc:	6758      	move	v0,t8
402d4cde:	5a01      	sltiu	v0,1
402d4ce0:	6001      	bteqz	402d4ce4 <deal_if_83name+0x20>
402d4ce2:	1057      	b	402d4d92 <deal_if_83name+0xce>
    {
        return;
402d4ce4:	6a0b      	li	v0,11
    }

    //扩展名往后移1个字节
    for(i=11;i>8;i--)
402d4ce6:	c140      	sb	v0,0(s1)
402d4ce8:	a140      	lbu	v0,0(s1)
402d4cea:	5a09      	sltiu	v0,9
402d4cec:	610d      	btnez	402d4d08 <deal_if_83name+0x44>
402d4cee:	a160      	lbu	v1,0(s1)
    {
        name_buf[i]=name_buf[i-1];
402d4cf0:	9944      	lw	v0,16(s1)
402d4cf2:	e351      	addu	a0,v1,v0
402d4cf4:	a160      	lbu	v1,0(s1)
402d4cf6:	9944      	lw	v0,16(s1)
402d4cf8:	e349      	addu	v0,v1,v0
402d4cfa:	f7ff a25f 	lbu	v0,-1(v0)
402d4cfe:	c440      	sb	v0,0(a0)
402d4d00:	a140      	lbu	v0,0(s1)
402d4d02:	424f      	addiu	v0,v0,-1
402d4d04:	c140      	sb	v0,0(s1)
402d4d06:	17f0      	b	402d4ce8 <deal_if_83name+0x24>
402d4d08:	6a07      	li	v0,7
    }

    //过滤文件名空格
    for(i=7;i>0;i--)
402d4d0a:	c140      	sb	v0,0(s1)
402d4d0c:	a140      	lbu	v0,0(s1)
402d4d0e:	220d      	beqz	v0,402d4d2a <deal_if_83name+0x66>
402d4d10:	a160      	lbu	v1,0(s1)
    {
        if(name_buf[i]!=0x20)
402d4d12:	9944      	lw	v0,16(s1)
402d4d14:	e349      	addu	v0,v1,v0
402d4d16:	a240      	lbu	v0,0(v0)
402d4d18:	7220      	cmpi	v0,32
402d4d1a:	6758      	move	v0,t8
402d4d1c:	5a01      	sltiu	v0,1
402d4d1e:	6101      	btnez	402d4d22 <deal_if_83name+0x5e>
402d4d20:	1004      	b	402d4d2a <deal_if_83name+0x66>
        {
            break;
402d4d22:	a140      	lbu	v0,0(s1)
402d4d24:	424f      	addiu	v0,v0,-1
402d4d26:	c140      	sb	v0,0(s1)
402d4d28:	17f1      	b	402d4d0c <deal_if_83name+0x48>
402d4d2a:	a140      	lbu	v0,0(s1)
        }
    }

    //加点
    i++;
402d4d2c:	4241      	addiu	v0,v0,1
402d4d2e:	c140      	sb	v0,0(s1)
402d4d30:	a160      	lbu	v1,0(s1)
    name_buf[i]=0x2e; //加"."
402d4d32:	9944      	lw	v0,16(s1)
402d4d34:	e34d      	addu	v1,v0
402d4d36:	6a2e      	li	v0,46
402d4d38:	c340      	sb	v0,0(v1)
402d4d3a:	6a09      	li	v0,9

    //过滤扩展名空格
    for(j=9;j<12;j++)
402d4d3c:	c141      	sb	v0,1(s1)
402d4d3e:	a141      	lbu	v0,1(s1)
402d4d40:	5a0c      	sltiu	v0,12
402d4d42:	6017      	bteqz	402d4d72 <deal_if_83name+0xae>
402d4d44:	a161      	lbu	v1,1(s1)
    {
        if(name_buf[j]!=0x20)
402d4d46:	9944      	lw	v0,16(s1)
402d4d48:	e349      	addu	v0,v1,v0
402d4d4a:	a240      	lbu	v0,0(v0)
402d4d4c:	7220      	cmpi	v0,32
402d4d4e:	6758      	move	v0,t8
402d4d50:	5a01      	sltiu	v0,1
402d4d52:	610b      	btnez	402d4d6a <deal_if_83name+0xa6>
402d4d54:	a140      	lbu	v0,0(s1)
        {
            i++;
402d4d56:	4241      	addiu	v0,v0,1
402d4d58:	c140      	sb	v0,0(s1)
402d4d5a:	a160      	lbu	v1,0(s1)
            name_buf[i]= name_buf[j];
402d4d5c:	9944      	lw	v0,16(s1)
402d4d5e:	e351      	addu	a0,v1,v0
402d4d60:	a161      	lbu	v1,1(s1)
402d4d62:	9944      	lw	v0,16(s1)
402d4d64:	e349      	addu	v0,v1,v0
402d4d66:	a240      	lbu	v0,0(v0)
402d4d68:	c440      	sb	v0,0(a0)
402d4d6a:	a141      	lbu	v0,1(s1)
402d4d6c:	4241      	addiu	v0,v0,1
402d4d6e:	c141      	sb	v0,1(s1)
402d4d70:	17e6      	b	402d4d3e <deal_if_83name+0x7a>
402d4d72:	a160      	lbu	v1,0(s1)
        }
    }

    if(name_buf[i]!=0x2e)
402d4d74:	9944      	lw	v0,16(s1)
402d4d76:	e349      	addu	v0,v1,v0
402d4d78:	a240      	lbu	v0,0(v0)
402d4d7a:	722e      	cmpi	v0,46
402d4d7c:	6758      	move	v0,t8
402d4d7e:	5a01      	sltiu	v0,1
402d4d80:	6103      	btnez	402d4d88 <deal_if_83name+0xc4>
402d4d82:	a140      	lbu	v0,0(s1)
    {
        i++;
402d4d84:	4241      	addiu	v0,v0,1
402d4d86:	c140      	sb	v0,0(s1)
402d4d88:	a160      	lbu	v1,0(s1)
    }

    name_buf[i]=0x00;
402d4d8a:	9944      	lw	v0,16(s1)
402d4d8c:	e34d      	addu	v1,v0
402d4d8e:	6a00      	li	v0,0
402d4d90:	c340      	sb	v0,0(v1)
402d4d92:	65b9      	move	sp,s1

    return;
}
402d4d94:	6412      	restore	16,s1
402d4d96:	e8a0      	jrc	ra

402d4d98 <deal_audible_id3info>:
402d4d98:	64d5      	save	40,ra,s1

/******************************************************************************/
/*
 * \par  Description: 对获取到的ID3信息进行处理
 *
 * \param[in]

 * \param[out]

 * \return

 * \note
 *******************************************************************************/
static void deal_audible_id3info(void)
{
402d4d9a:	0106      	addiu	s1,sp,24
402d4d9c:	b259      	lw	v0,402d4f00 <.LBE2+0x1e>

    //此处判断ID3信息是否为空可以去掉，因为在获取id3是已自动填入谢谢
    if ((audible_f_p->title_string == 0) || (audible_f_p->id3_tag_flag == 0))
402d4d9e:	9a40      	lw	v0,0(v0)
402d4da0:	2205      	beqz	v0,402d4dac <deal_audible_id3info+0x14>
402d4da2:	b258      	lw	v0,402d4f00 <.LBE2+0x1e>
402d4da4:	9a40      	lw	v0,0(v0)
402d4da6:	f0a0 a243 	lbu	v0,163(v0)
402d4daa:	2a11      	bnez	v0,402d4dce <deal_audible_id3info+0x36>
402d4dac:	b256      	lw	v0,402d4f04 <.LBE2+0x22>
    {
        vfs_get_name(ap_vfs_mount, audible_f_p->title_string, ID3_TITLE_SIZE / 2);
402d4dae:	9a60      	lw	v1,0(v0)
402d4db0:	b254      	lw	v0,402d4f00 <.LBE2+0x1e>
402d4db2:	9aa0      	lw	a1,0(v0)
402d4db4:	6a02      	li	v0,2
402d4db6:	d204      	sw	v0,16(sp)
402d4db8:	6783      	move	a0,v1
402d4dba:	6e20      	li	a2,32
402d4dbc:	6f00      	li	a3,0
402d4dbe:	b253      	lw	v0,402d4f08 <.LBE2+0x26>
402d4dc0:	eac0      	jalrc	v0
402d4dc2:	b250      	lw	v0,402d4f00 <.LBE2+0x1e>
        deal_if_83name((uint8*) &audible_f_p->title_string);
402d4dc4:	9a40      	lw	v0,0(v0)
402d4dc6:	6782      	move	a0,v0
402d4dc8:	1960 5331 	jal	402d4cc4 <deal_if_83name>
402d4dcc:	6500      	nop
402d4dce:	b24d      	lw	v0,402d4f00 <.LBE2+0x1e>
    }

    if ((audible_f_p->artist_string == 0) || (audible_f_p->id3_tag_flag == 0))
402d4dd0:	9a60      	lw	v1,0(v0)
402d4dd2:	6a40      	li	v0,64
402d4dd4:	ea4b      	neg	v0
402d4dd6:	ea6e      	xor	v0,v1
402d4dd8:	5a01      	sltiu	v0,1
402d4dda:	6105      	btnez	402d4de6 <deal_audible_id3info+0x4e>
402d4ddc:	b249      	lw	v0,402d4f00 <.LBE2+0x1e>
402d4dde:	9a40      	lw	v0,0(v0)
402d4de0:	f0a0 a243 	lbu	v0,163(v0)
402d4de4:	2a0a      	bnez	v0,402d4dfa <deal_audible_id3info+0x62>
402d4de6:	b247      	lw	v0,402d4f00 <.LBE2+0x1e>
    {
        libc_memcpy(audible_f_p->artist_string, no_author, sizeof(no_author));
402d4de8:	9a40      	lw	v0,0(v0)
402d4dea:	4a40      	addiu	v0,64
402d4dec:	b348      	lw	v1,402d4f0c <.LBE2+0x2a>
402d4dee:	6782      	move	a0,v0
402d4df0:	67a3      	move	a1,v1
402d4df2:	6e0a      	li	a2,10
402d4df4:	6f00      	li	a3,0
402d4df6:	b247      	lw	v0,402d4f10 <.LBE2+0x2e>
402d4df8:	eac0      	jalrc	v0
402d4dfa:	b242      	lw	v0,402d4f00 <.LBE2+0x1e>
    }

    if (audible_f_p->id3_tag_flag == 0)
402d4dfc:	9a40      	lw	v0,0(v0)
402d4dfe:	f0a0 a243 	lbu	v0,163(v0)
402d4e02:	2a06      	bnez	v0,402d4e10 <deal_audible_id3info+0x78>
402d4e04:	b23f      	lw	v0,402d4f00 <.LBE2+0x1e>
    {
        audible_f_p->track_num = 0;
402d4e06:	9a60      	lw	v1,0(v0)
402d4e08:	6a00      	li	v0,0
402d4e0a:	f0e0 cb52 	sh	v0,242(v1)
402d4e0e:	1074      	b	402d4ef8 <.LBE2+0x16>
402d4e10:	b23c      	lw	v0,402d4f00 <.LBE2+0x1e>
    }
    else
    {

        if (audible_f_p->track_num == UNICODE_FLAG)
402d4e12:	9a40      	lw	v0,0(v0)
402d4e14:	f0e0 aa72 	lhu	v1,242(v0)
402d4e18:	f6ff 6a1f 	li	v0,65279
402d4e1c:	ea6e      	xor	v0,v1
402d4e1e:	5a01      	sltiu	v0,1
402d4e20:	600d      	bteqz	402d4e3c <deal_audible_id3info+0xa4>
402d4e22:	b33d      	lw	v1,402d4f14 <.LBE2+0x32>
        {
            unicode_to_char(track_string_buf, ID3_TRACK_SIZE, language_id);
402d4e24:	b23d      	lw	v0,402d4f18 <.LBE2+0x36>
402d4e26:	a240      	lbu	v0,0(v0)
402d4e28:	6783      	move	a0,v1
402d4e2a:	6d08      	li	a1,8
402d4e2c:	67c2      	move	a2,v0
402d4e2e:	b23c      	lw	v0,402d4f1c <.LBE2+0x3a>
402d4e30:	eac0      	jalrc	v0
402d4e32:	b234      	lw	v0,402d4f00 <.LBE2+0x1e>
            audible_f_p->track_num = 0;
402d4e34:	9a60      	lw	v1,0(v0)
402d4e36:	6a00      	li	v0,0
402d4e38:	f0e0 cb52 	sh	v0,242(v1)
402d4e3c:	b231      	lw	v0,402d4f00 <.LBE2+0x1e>
        }

        if ((audible_f_p->track_num == 0) && (track_string_buf[0] != 0))
402d4e3e:	9a40      	lw	v0,0(v0)
402d4e40:	f0e0 aa52 	lhu	v0,242(v0)
402d4e44:	2a4e      	bnez	v0,402d4ee2 <.LBE2>
402d4e46:	b234      	lw	v0,402d4f14 <.LBE2+0x32>
402d4e48:	a240      	lbu	v0,0(v0)
402d4e4a:	224b      	beqz	v0,402d4ee2 <.LBE2>

402d4e4c <.LBB2>:
402d4e4c:	6a01      	li	v0,1
        {
            uint8 i;
            uint8 j = 1;
402d4e4e:	c141      	sb	v0,1(s1)
402d4e50:	6a00      	li	v0,0
            for (i = 0; i < 4; i++)
402d4e52:	c140      	sb	v0,0(s1)
402d4e54:	a140      	lbu	v0,0(s1)
402d4e56:	5a04      	sltiu	v0,4
402d4e58:	6026      	bteqz	402d4ea6 <.LBB2+0x5a>
402d4e5a:	b32f      	lw	v1,402d4f14 <.LBE2+0x32>
            {
                if ((track_string_buf[i] == 0) || (track_string_buf[i] == '/'))
402d4e5c:	a140      	lbu	v0,0(s1)
402d4e5e:	e349      	addu	v0,v1,v0
402d4e60:	a240      	lbu	v0,0(v0)
402d4e62:	2221      	beqz	v0,402d4ea6 <.LBB2+0x5a>
402d4e64:	b32c      	lw	v1,402d4f14 <.LBE2+0x32>
402d4e66:	a140      	lbu	v0,0(s1)
402d4e68:	e349      	addu	v0,v1,v0
402d4e6a:	a240      	lbu	v0,0(v0)
402d4e6c:	722f      	cmpi	v0,47
402d4e6e:	6758      	move	v0,t8
402d4e70:	5a01      	sltiu	v0,1
402d4e72:	6119      	btnez	402d4ea6 <.LBB2+0x5a>
402d4e74:	b328      	lw	v1,402d4f14 <.LBE2+0x32>
                {
                    break;
                }
                if ((track_string_buf[i] < 0x30) || (track_string_buf[i] > 0x39))
402d4e76:	a140      	lbu	v0,0(s1)
402d4e78:	e349      	addu	v0,v1,v0
402d4e7a:	a240      	lbu	v0,0(v0)
402d4e7c:	5a30      	sltiu	v0,48
402d4e7e:	6113      	btnez	402d4ea6 <.LBB2+0x5a>
402d4e80:	b325      	lw	v1,402d4f14 <.LBE2+0x32>
402d4e82:	a140      	lbu	v0,0(s1)
402d4e84:	e349      	addu	v0,v1,v0
402d4e86:	a240      	lbu	v0,0(v0)
402d4e88:	5a3a      	sltiu	v0,58
402d4e8a:	600d      	bteqz	402d4ea6 <.LBB2+0x5a>
402d4e8c:	b322      	lw	v1,402d4f14 <.LBE2+0x32>
                {
                    break;
                }
                else
                {
                    track_string_buf[i] -= 0x30;
402d4e8e:	a140      	lbu	v0,0(s1)
402d4e90:	e351      	addu	a0,v1,v0
402d4e92:	b321      	lw	v1,402d4f14 <.LBE2+0x32>
402d4e94:	a140      	lbu	v0,0(s1)
402d4e96:	e349      	addu	v0,v1,v0
402d4e98:	a240      	lbu	v0,0(v0)
402d4e9a:	4ad0      	addiu	v0,-48
402d4e9c:	c440      	sb	v0,0(a0)
402d4e9e:	a140      	lbu	v0,0(s1)
402d4ea0:	4241      	addiu	v0,v0,1
402d4ea2:	c140      	sb	v0,0(s1)
402d4ea4:	17d7      	b	402d4e54 <.LBB2+0x8>
402d4ea6:	a140      	lbu	v0,0(s1)
                }
            }
            while (i > 0)
402d4ea8:	221c      	beqz	v0,402d4ee2 <.LBE2>
402d4eaa:	a140      	lbu	v0,0(s1)
            {
                i--;
402d4eac:	424f      	addiu	v0,v0,-1
402d4eae:	c140      	sb	v0,0(s1)
402d4eb0:	b214      	lw	v0,402d4f00 <.LBE2+0x1e>
                audible_f_p->track_num += track_string_buf[i] * j;
402d4eb2:	9aa0      	lw	a1,0(v0)
402d4eb4:	b213      	lw	v0,402d4f00 <.LBE2+0x1e>
402d4eb6:	9a80      	lw	a0,0(v0)
402d4eb8:	b317      	lw	v1,402d4f14 <.LBE2+0x32>
402d4eba:	a140      	lbu	v0,0(s1)
402d4ebc:	e349      	addu	v0,v1,v0
402d4ebe:	a260      	lbu	v1,0(v0)
402d4ec0:	a141      	lbu	v0,1(s1)
402d4ec2:	eb58      	mult	v1,v0
402d4ec4:	ee12      	mflo	a2
402d4ec6:	651e      	move	t8,a2
402d4ec8:	f0e0 ac72 	lhu	v1,242(a0)
402d4ecc:	6758      	move	v0,t8
402d4ece:	e349      	addu	v0,v1,v0
402d4ed0:	f0e0 cd52 	sh	v0,242(a1)
402d4ed4:	a161      	lbu	v1,1(s1)
                j *= 10;
402d4ed6:	6743      	move	v0,v1
402d4ed8:	3248      	sll	v0,2
402d4eda:	e269      	addu	v0,v1
402d4edc:	3244      	sll	v0,1
402d4ede:	c141      	sb	v0,1(s1)
402d4ee0:	17e2      	b	402d4ea6 <.LBB2+0x5a>

402d4ee2 <.LBE2>:
402d4ee2:	b208      	lw	v0,402d4f00 <.LBE2+0x1e>

            }
        }

        if (audible_f_p->track_num == 0)
402d4ee4:	9a40      	lw	v0,0(v0)
402d4ee6:	f0e0 aa52 	lhu	v0,242(v0)
402d4eea:	2a06      	bnez	v0,402d4ef8 <.LBE2+0x16>
402d4eec:	b205      	lw	v0,402d4f00 <.LBE2+0x1e>
        {
            audible_f_p->track_num = TRACK_NULL;
402d4eee:	9a60      	lw	v1,0(v0)
402d4ef0:	6a01      	li	v0,1
402d4ef2:	ea4b      	neg	v0
402d4ef4:	f0e0 cb52 	sh	v0,242(v1)
402d4ef8:	65b9      	move	sp,s1
        }

    }

}
402d4efa:	6452      	restore	16,ra,s1
402d4efc:	e8a0      	jrc	ra
402d4efe:	0000      	addiu	s0,sp,0
402d4f00:	568c      	slti	a2,140
402d4f02:	9fc1      	lw	a2,4(a3)
402d4f04:	5570      	slti	a1,112
402d4f06:	9fc1      	lw	a2,4(a3)
402d4f08:	6411      	restore	8,s1
402d4f0a:	bfc1      	lwu	a2,4(a3)
402d4f0c:	5198      	slti	s1,152
402d4f0e:	402d      	addiu	s1,s0,-3
402d4f10:	6409      	restore	72
402d4f12:	bfc1      	lwu	a2,4(a3)
402d4f14:	59cc      	sltiu	s1,204
402d4f16:	9fc1      	lw	a2,4(a3)
402d4f18:	5568      	slti	a1,104
402d4f1a:	9fc1      	lw	a2,4(a3)
402d4f1c:	4535      	daddiu	s1,a1,5
402d4f1e:	4801      	addiu	s0,1

402d4f20 <store_audible_info>:
402d4f20:	64d3      	save	24,ra,s1

/******************************************************************************/
/*
 * \par  Description: 存储信息到RAM或VM区
 *
 * \param[in]    file_num--当前已存放的文件信息总数

 * \param[out]

 * \return

 * \note        先判断buffer是否满了，再写入
 *******************************************************************************/
static void store_audible_info(uint16 file_num)
{
402d4f22:	0104      	addiu	s1,sp,16
402d4f24:	6744      	move	v0,a0
402d4f26:	c944      	sh	v0,8(s1)
402d4f28:	a944      	lhu	v0,8(s1)

    if (file_num != 0)
402d4f2a:	221d      	beqz	v0,402d4f66 <store_audible_info+0x46>
402d4f2c:	b422      	lw	a0,402d4fb4 <store_audible_info+0x94>
    {

        title_data_pt += sort_cmp_len;
402d4f2e:	b223      	lw	v0,402d4fb8 <store_audible_info+0x98>
402d4f30:	a260      	lbu	v1,0(v0)
402d4f32:	b221      	lw	v0,402d4fb4 <store_audible_info+0x94>
402d4f34:	9a40      	lw	v0,0(v0)
402d4f36:	e349      	addu	v0,v1,v0
402d4f38:	dc40      	sw	v0,0(a0)
402d4f3a:	a964      	lhu	v1,8(s1)

        if ((file_num % (FILE_INFO_BUF_SIZE / PLIST_FILE_SIZE)) == 0)
402d4f3c:	6a1f      	li	v0,31
402d4f3e:	ea6c      	and	v0,v1
402d4f40:	ea31      	zeh	v0
402d4f42:	2a0b      	bnez	v0,402d4f5a <store_audible_info+0x3a>
402d4f44:	b21e      	lw	v0,402d4fbc <store_audible_info+0x9c>
        {
            save_to_file((uint8*) FILE_INFO_ADDR, FILE_INFO_BUF_SIZE);
402d4f46:	f004 6b00 	li	v1,8192
402d4f4a:	6782      	move	a0,v0
402d4f4c:	67a3      	move	a1,v1
402d4f4e:	b21d      	lw	v0,402d4fc0 <store_audible_info+0xa0>
402d4f50:	eac0      	jalrc	v0
402d4f52:	b31d      	lw	v1,402d4fc4 <store_audible_info+0xa4>
            fileinfo_data_pt = (uint8*) FILE_INFO_ADDR;
402d4f54:	b21a      	lw	v0,402d4fbc <store_audible_info+0x9c>
402d4f56:	db40      	sw	v0,0(v1)
402d4f58:	1006      	b	402d4f66 <store_audible_info+0x46>
402d4f5a:	b31b      	lw	v1,402d4fc4 <store_audible_info+0xa4>
        }
        else
        {
            fileinfo_data_pt += PLIST_FILE_SIZE;
402d4f5c:	b21a      	lw	v0,402d4fc4 <store_audible_info+0xa4>
402d4f5e:	9a40      	lw	v0,0(v0)
402d4f60:	f100 4a00 	addiu	v0,256
402d4f64:	db40      	sw	v0,0(v1)
402d4f66:	b219      	lw	v0,402d4fc8 <store_audible_info+0xa8>
        }
    }

    audible_f_p->prev_offset = file_num - 1;
402d4f68:	9a60      	lw	v1,0(v0)
402d4f6a:	a944      	lhu	v0,8(s1)
402d4f6c:	424f      	addiu	v0,v0,-1
402d4f6e:	f0e0 cb5c 	sh	v0,252(v1)
402d4f72:	b216      	lw	v0,402d4fc8 <store_audible_info+0xa8>
    audible_f_p->next_offset = file_num + 1;
402d4f74:	9a60      	lw	v1,0(v0)
402d4f76:	a944      	lhu	v0,8(s1)
402d4f78:	4241      	addiu	v0,v0,1
402d4f7a:	f0e0 cb5e 	sh	v0,254(v1)
402d4f7e:	b20e      	lw	v0,402d4fb4 <store_audible_info+0x94>

    copy_deal_string(title_data_pt, audible_f_p->title_string, language_id, sort_cmp_len);
402d4f80:	9a80      	lw	a0,0(v0)
402d4f82:	b212      	lw	v0,402d4fc8 <store_audible_info+0xa8>
402d4f84:	9aa0      	lw	a1,0(v0)
402d4f86:	b212      	lw	v0,402d4fcc <store_audible_info+0xac>
402d4f88:	a260      	lbu	v1,0(v0)
402d4f8a:	b20c      	lw	v0,402d4fb8 <store_audible_info+0x98>
402d4f8c:	a240      	lbu	v0,0(v0)
402d4f8e:	67c3      	move	a2,v1
402d4f90:	67e2      	move	a3,v0
402d4f92:	b210      	lw	v0,402d4fd0 <store_audible_info+0xb0>
402d4f94:	eac0      	jalrc	v0
402d4f96:	b20c      	lw	v0,402d4fc4 <store_audible_info+0xa4>
    //copy_deal_string(audible_f_p->track_string, track_string_buf, language_id, 3);
    libc_memcpy(fileinfo_data_pt, audible_f_p, sizeof(plist_f_info_t));
402d4f98:	9a80      	lw	a0,0(v0)
402d4f9a:	b20c      	lw	v0,402d4fc8 <store_audible_info+0xa8>
402d4f9c:	9a40      	lw	v0,0(v0)
402d4f9e:	6bff      	li	v1,255
402d4fa0:	4361      	addiu	v1,v1,1
402d4fa2:	67a2      	move	a1,v0
402d4fa4:	67c3      	move	a2,v1
402d4fa6:	6f00      	li	a3,0
402d4fa8:	b20b      	lw	v0,402d4fd4 <store_audible_info+0xb4>
402d4faa:	eac0      	jalrc	v0
402d4fac:	65b9      	move	sp,s1

}
402d4fae:	6451      	restore	8,ra,s1
402d4fb0:	e8a0      	jrc	ra
402d4fb2:	0000      	addiu	s0,sp,0
402d4fb4:	5628      	slti	a2,40
402d4fb6:	9fc1      	lw	a2,4(a3)
402d4fb8:	5a28      	sltiu	v0,40
402d4fba:	9fc1      	lw	a2,4(a3)
402d4fbc:	0a00      	la	v0,402d4fbc <store_audible_info+0x9c>
402d4fbe:	9fc2      	lw	a2,8(a3)
402d4fc0:	6415      	restore	40,s1
402d4fc2:	bfc1      	lwu	a2,4(a3)
402d4fc4:	562c      	slti	a2,44
402d4fc6:	9fc1      	lw	a2,4(a3)
402d4fc8:	568c      	slti	a2,140
402d4fca:	9fc1      	lw	a2,4(a3)
402d4fcc:	5568      	slti	a1,104
402d4fce:	9fc1      	lw	a2,4(a3)
402d4fd0:	4695      	daddiu	a0,a2,5
402d4fd2:	4801      	addiu	s0,1
402d4fd4:	6409      	restore	72
402d4fd6:	bfc1      	lwu	a2,4(a3)

402d4fd8 <init_id3_size_info>:
402d4fd8:	64d5      	save	40,ra,s1
/******************************************************************************/
/*
 * \par  Description: 初始化
 *  static void init_id3_size_info(void)
 * \param[in]
 * \param[out]
 * \return        void
 * \note
 *******************************************************************************/
static void init_id3_size_info(void)
{
402d4fda:	0106      	addiu	s1,sp,24
402d4fdc:	b32a      	lw	v1,402d5084 <init_id3_size_info+0xac>
    uint16 tmp;
    audible_f_p = (void*) file_buffer;
402d4fde:	b22b      	lw	v0,402d5088 <init_id3_size_info+0xb0>
402d4fe0:	db40      	sw	v0,0(v1)
402d4fe2:	b32b      	lw	v1,402d508c <init_id3_size_info+0xb4>
    
    id3_file_info.tit2_buffer  = audible_f_p->title_string;
402d4fe4:	b228      	lw	v0,402d5084 <init_id3_size_info+0xac>
402d4fe6:	9a40      	lw	v0,0(v0)
402d4fe8:	db40      	sw	v0,0(v1)
402d4fea:	b329      	lw	v1,402d508c <init_id3_size_info+0xb4>
    id3_file_info.tpe1_buffer  = audible_f_p->artist_string;
402d4fec:	b226      	lw	v0,402d5084 <init_id3_size_info+0xac>
402d4fee:	9a40      	lw	v0,0(v0)
402d4ff0:	4a40      	addiu	v0,64
402d4ff2:	db41      	sw	v0,4(v1)
402d4ff4:	b326      	lw	v1,402d508c <init_id3_size_info+0xb4>
    id3_file_info.track_buffer = track_string_buf;
402d4ff6:	b227      	lw	v0,402d5090 <init_id3_size_info+0xb8>
402d4ff8:	db45      	sw	v0,20(v1)
402d4ffa:	b325      	lw	v1,402d508c <init_id3_size_info+0xb4>
    id3_file_info.talb_buffer  = NULL;
402d4ffc:	6a00      	li	v0,0
402d4ffe:	db42      	sw	v0,8(v1)
402d5000:	b323      	lw	v1,402d508c <init_id3_size_info+0xb4>
    id3_file_info.genre_buffer = NULL;
402d5002:	6a00      	li	v0,0
402d5004:	db43      	sw	v0,12(v1)
402d5006:	b322      	lw	v1,402d508c <init_id3_size_info+0xb4>

    id3_file_info.tit2_length  = ID3_TITLE_SIZE;
402d5008:	6a40      	li	v0,64
402d500a:	c358      	sb	v0,24(v1)
402d500c:	b320      	lw	v1,402d508c <init_id3_size_info+0xb4>
    id3_file_info.tpe1_length  = ID3_ARTIST_SIZE;
402d500e:	6a18      	li	v0,24
402d5010:	c359      	sb	v0,25(v1)
402d5012:	b31f      	lw	v1,402d508c <init_id3_size_info+0xb4>
    id3_file_info.track_length = ID3_TRACK_SIZE;
402d5014:	6a08      	li	v0,8
402d5016:	c35d      	sb	v0,29(v1)
402d5018:	b31d      	lw	v1,402d508c <init_id3_size_info+0xb4>
    id3_file_info.talb_length  = 0;
402d501a:	6a00      	li	v0,0
402d501c:	c35a      	sb	v0,26(v1)
402d501e:	b31c      	lw	v1,402d508c <init_id3_size_info+0xb4>
    id3_file_info.genre_length = 0;
402d5020:	6a00      	li	v0,0
402d5022:	c35b      	sb	v0,27(v1)
402d5024:	b31a      	lw	v1,402d508c <init_id3_size_info+0xb4>
    id3_file_info.drm_length   = 0;
402d5026:	6a00      	li	v0,0
402d5028:	c35c      	sb	v0,28(v1)
402d502a:	b319      	lw	v1,402d508c <init_id3_size_info+0xb4>
    id3_file_info.drm_buffer   = 0;
402d502c:	6a00      	li	v0,0
402d502e:	db44      	sw	v0,16(v1)
402d5030:	b219      	lw	v0,402d5094 <init_id3_size_info+0xbc>
    
    if (ap_plist_file_total != 0)
402d5032:	aa40      	lhu	v0,0(v0)
402d5034:	2211      	beqz	v0,402d5058 <init_id3_size_info+0x80>
402d5036:	b218      	lw	v0,402d5094 <init_id3_size_info+0xbc>
    {
        tmp = SORT_BUFFER_SIZE / ap_plist_file_total;
402d5038:	aa60      	lhu	v1,0(v0)
402d503a:	b218      	lw	v0,402d5098 <init_id3_size_info+0xc0>
402d503c:	ea7a      	div	zero,v0,v1
402d503e:	2b01      	bnez	v1,402d5042 <init_id3_size_info+0x6a>
402d5040:	e8e5      	break	7
402d5042:	ea12      	mflo	v0
402d5044:	c940      	sh	v0,0(s1)
402d5046:	a940      	lhu	v0,0(s1)
        if(tmp > TITLE_CMP_LENGTH)
402d5048:	5a19      	sltiu	v0,25
402d504a:	6102      	btnez	402d5050 <init_id3_size_info+0x78>
402d504c:	6a18      	li	v0,24
        {
            tmp = TITLE_CMP_LENGTH;
402d504e:	c940      	sh	v0,0(s1)
402d5050:	b311      	lw	v1,402d5094 <init_id3_size_info+0xbc>
        }
        ap_plist_file_total = 0;
402d5052:	6a00      	li	v0,0
402d5054:	cb40      	sh	v0,0(v1)
402d5056:	1002      	b	402d505c <init_id3_size_info+0x84>
402d5058:	6a00      	li	v0,0
    }
    else
    {
        tmp = 0;
402d505a:	c940      	sh	v0,0(s1)
402d505c:	b310      	lw	v1,402d509c <init_id3_size_info+0xc4>
    }
    
    fsel_scan_flag = 0;//扫描文件标志清零
402d505e:	6a00      	li	v0,0
402d5060:	c340      	sb	v0,0(v1)
402d5062:	b310      	lw	v1,402d50a0 <init_id3_size_info+0xc8>
    sort_cmp_len = (uint8)tmp;
402d5064:	a940      	lhu	v0,0(s1)
402d5066:	c340      	sb	v0,0(v1)
402d5068:	b20f      	lw	v0,402d50a4 <init_id3_size_info+0xcc>
    vfs_cd(ap_vfs_mount, CD_ROOT, 0);//回到根目录
402d506a:	9a60      	lw	v1,0(v0)
402d506c:	6a00      	li	v0,0
402d506e:	d204      	sw	v0,16(sp)
402d5070:	6783      	move	a0,v1
402d5072:	6d3a      	li	a1,58
402d5074:	6e00      	li	a2,0
402d5076:	6f00      	li	a3,0
402d5078:	b20c      	lw	v0,402d50a8 <init_id3_size_info+0xd0>
402d507a:	eac0      	jalrc	v0
402d507c:	65b9      	move	sp,s1
    plt_print("<len>: ", sort_cmp_len, 2);
}
402d507e:	6452      	restore	16,ra,s1
402d5080:	e8a0      	jrc	ra
402d5082:	0000      	addiu	s0,sp,0
402d5084:	568c      	slti	a2,140
402d5086:	9fc1      	lw	a2,4(a3)
402d5088:	5894      	sltiu	s0,148
402d508a:	9fc1      	lw	a2,4(a3)
402d508c:	565c      	slti	a2,92
402d508e:	9fc1      	lw	a2,4(a3)
402d5090:	59cc      	sltiu	s1,204
402d5092:	9fc1      	lw	a2,4(a3)
402d5094:	5598      	slti	a1,152
402d5096:	9fc1      	lw	a2,4(a3)
402d5098:	0000      	addiu	s0,sp,0
402d509a:	0001      	addiu	s0,sp,4
402d509c:	5a2b      	sltiu	v0,43
402d509e:	9fc1      	lw	a2,4(a3)
402d50a0:	5a28      	sltiu	v0,40
402d50a2:	9fc1      	lw	a2,4(a3)
402d50a4:	5570      	slti	a1,112
402d50a6:	9fc1      	lw	a2,4(a3)
402d50a8:	6411      	restore	8,s1
402d50aa:	bfc1      	lwu	a2,4(a3)

402d50ac <scan_audible_file>:
402d50ac:	64d4      	save	32,ra,s1

/******************************************************************************/
/*
 * \par  Description: 扫描文件信息
 *
 * \param[in]

 * \param[out]

 * \return        文件的总数

 * \note
 *******************************************************************************/
uint16 scan_audible_file(void)
{
402d50ae:	0104      	addiu	s1,sp,16
402d50b0:	4144      	addiu	v0,s1,4
    uint32 temp;
    uint32 ext_name;

#ifdef ENHANCED_FIND_MODE
    while(FALSE!=fsel_get_nextfile((char*)&ext_name))
#else
    while (FALSE != plist_fsel_get_nextfile((char*) &ext_name))
402d50b2:	6782      	move	a0,v0
402d50b4:	b231      	lw	v0,402d5178 <scan_audible_file+0xcc>
402d50b6:	eac0      	jalrc	v0
402d50b8:	651a      	move	t8,v0
402d50ba:	600a      	bteqz	402d50d0 <scan_audible_file+0x24>
402d50bc:	b330      	lw	v1,402d517c <scan_audible_file+0xd0>
#endif
    {
        ap_plist_file_total++;//获取Audible文件总数
402d50be:	b230      	lw	v0,402d517c <scan_audible_file+0xd0>
402d50c0:	aa40      	lhu	v0,0(v0)
402d50c2:	4241      	addiu	v0,v0,1
402d50c4:	cb40      	sh	v0,0(v1)
402d50c6:	b22e      	lw	v0,402d517c <scan_audible_file+0xd0>
        if (ap_plist_file_total >= PLIST_AUDIBLE_MAX)
402d50c8:	aa40      	lhu	v0,0(v0)
402d50ca:	f3e0 5a08 	sltiu	v0,1000
402d50ce:	61f0      	btnez	402d50b0 <scan_audible_file+0x4>
402d50d0:	1960 53f6 	jal	402d4fd8 <init_id3_size_info>
        {
            break;
        }
    }

    //初始化数据
    init_id3_size_info();
402d50d4:	6500      	nop
402d50d6:	4144      	addiu	v0,s1,4
#ifdef ENHANCED_FIND_MODE
    while(FALSE!=fsel_get_nextfile((char*)&ext_name))
#else
    while (FALSE != plist_fsel_get_nextfile((char*) &ext_name))
402d50d8:	6782      	move	a0,v0
402d50da:	b228      	lw	v0,402d5178 <scan_audible_file+0xcc>
402d50dc:	eac0      	jalrc	v0
402d50de:	651a      	move	t8,v0
402d50e0:	602d      	bteqz	402d513c <scan_audible_file+0x90>
402d50e2:	b227      	lw	v0,402d517c <scan_audible_file+0xd0>
#endif
    {
        if (0 == (ap_plist_file_total & 0x07))
402d50e4:	aa60      	lhu	v1,0(v0)
402d50e6:	6a07      	li	v0,7
402d50e8:	ea6c      	and	v0,v1
402d50ea:	2a02      	bnez	v0,402d50f0 <scan_audible_file+0x44>
402d50ec:	b225      	lw	v0,402d5180 <scan_audible_file+0xd4>
        {
            plist_get_app_msg();
402d50ee:	eac0      	jalrc	v0
402d50f0:	b225      	lw	v0,402d5180 <scan_audible_file+0xd4>
        }
        libc_memset(audible_f_p, 0x00, sizeof(plist_f_info_t));
402d50f2:	9a40      	lw	v0,0(v0)
402d50f4:	6bff      	li	v1,255
402d50f6:	4361      	addiu	v1,v1,1
402d50f8:	6782      	move	a0,v0
402d50fa:	6d00      	li	a1,0
402d50fc:	67c3      	move	a2,v1
402d50fe:	6f01      	li	a3,1
402d5100:	b222      	lw	v0,402d5188 <scan_audible_file+0xdc>
402d5102:	eac0      	jalrc	v0
402d5104:	b222      	lw	v0,402d5188 <scan_audible_file+0xdc>
        libc_memset(track_string_buf, 0x00, ID3_TRACK_SIZE);
402d5106:	6782      	move	a0,v0
402d5108:	6d00      	li	a1,0
402d510a:	6e08      	li	a2,8
402d510c:	6f01      	li	a3,1
402d510e:	b21f      	lw	v0,402d5188 <scan_audible_file+0xdc>
402d5110:	eac0      	jalrc	v0
402d5112:	9941      	lw	v0,4(s1)
        get_audible_info(ext_name);
402d5114:	6782      	move	a0,v0
402d5116:	1960 5300 	jal	402d4c00 <get_audible_info>
402d511a:	6500      	nop
402d511c:	b218      	lw	v0,402d517c <scan_audible_file+0xd0>
        store_audible_info(ap_plist_file_total);
402d511e:	aa40      	lhu	v0,0(v0)
402d5120:	6782      	move	a0,v0
402d5122:	1960 53c8 	jal	402d4f20 <store_audible_info>
402d5126:	6500      	nop
402d5128:	b315      	lw	v1,402d517c <scan_audible_file+0xd0>
        ap_plist_file_total++;
402d512a:	b215      	lw	v0,402d517c <scan_audible_file+0xd0>
402d512c:	aa40      	lhu	v0,0(v0)
402d512e:	4241      	addiu	v0,v0,1
402d5130:	cb40      	sh	v0,0(v1)
402d5132:	b213      	lw	v0,402d517c <scan_audible_file+0xd0>
        if (ap_plist_file_total >= PLIST_AUDIBLE_MAX)
402d5134:	aa40      	lhu	v0,0(v0)
402d5136:	f3e0 5a08 	sltiu	v0,1000
402d513a:	61cd      	btnez	402d50d6 <scan_audible_file+0x2a>
402d513c:	b210      	lw	v0,402d517c <scan_audible_file+0xd0>
        {
            break;
        }
    }

    if (ap_plist_file_total > 0)
402d513e:	aa40      	lhu	v0,0(v0)
402d5140:	2211      	beqz	v0,402d5164 <scan_audible_file+0xb8>
402d5142:	b20f      	lw	v0,402d517c <scan_audible_file+0xd0>
    {
        temp = ap_plist_file_total % (FILE_INFO_BUF_SIZE / PLIST_FILE_SIZE);
402d5144:	aa60      	lhu	v1,0(v0)
402d5146:	6a1f      	li	v0,31
402d5148:	ea6c      	and	v0,v1
402d514a:	ea31      	zeh	v0
402d514c:	d940      	sw	v0,0(s1)
402d514e:	9940      	lw	v0,0(s1)
        if (temp == 0)
402d5150:	2a02      	bnez	v0,402d5156 <scan_audible_file+0xaa>
402d5152:	6a20      	li	v0,32
        {
            //刚好写满
            temp = FILE_INFO_BUF_SIZE / PLIST_FILE_SIZE;
402d5154:	d940      	sw	v0,0(s1)
402d5156:	b30f      	lw	v1,402d5190 <scan_audible_file+0xe4>
        }
        save_to_file((uint8*) FILE_INFO_ADDR, temp * PLIST_FILE_SIZE);
402d5158:	9940      	lw	v0,0(s1)
402d515a:	3240      	sll	v0,8
402d515c:	6783      	move	a0,v1
402d515e:	67a2      	move	a1,v0
402d5160:	b20d      	lw	v0,402d5194 <scan_audible_file+0xe8>
402d5162:	eac0      	jalrc	v0
402d5164:	b207      	lw	v0,402d517c <scan_audible_file+0xd0>
    }

    plist_get_app_msg();
402d5166:	eac0      	jalrc	v0
402d5168:	b205      	lw	v0,402d5178 <scan_audible_file+0xcc>
    return ap_plist_file_total;
402d516a:	aa40      	lhu	v0,0(v0)
402d516c:	651a      	move	t8,v0
402d516e:	6758      	move	v0,t8

}
402d5170:	65b9      	move	sp,s1
402d5172:	6452      	restore	16,ra,s1
402d5174:	e8a0      	jrc	ra
402d5176:	0000      	addiu	s0,sp,0
402d5178:	6881      	li	s0,129
402d517a:	bfc1      	lwu	a2,4(a3)
402d517c:	5598      	slti	a1,152
402d517e:	9fc1      	lw	a2,4(a3)
402d5180:	65e9      	move	t7,s1
402d5182:	bfc1      	lwu	a2,4(a3)
402d5184:	568c      	slti	a2,140
402d5186:	9fc1      	lw	a2,4(a3)
402d5188:	6409      	restore	72
402d518a:	bfc1      	lwu	a2,4(a3)
402d518c:	59cc      	sltiu	s1,204
402d518e:	9fc1      	lw	a2,4(a3)
402d5190:	0a00      	la	v0,402d5190 <scan_audible_file+0xe4>
402d5192:	9fc2      	lw	a2,8(a3)
402d5194:	6415      	restore	40,s1
402d5196:	bfc1      	lwu	a2,4(a3)

402d5198 <no_author>:
402d5198:	6f4e 4120 7475 6f68 0072 0000 0000 0000     No Author.......
	...
Disassembly of section BANK_FORNT_CONTROL_1_12:

40314c00 <sort_book>:
40314c00:	64d4      	save	32,ra,s1
 * \note             title
 *******************************************************************************/
//audible 第一排序
static void sort_book(char *str_buf)
{
40314c02:	0106      	addiu	s1,sp,24
40314c04:	d982      	sw	a0,8(s1)
40314c06:	b221      	lw	v0,40314c88 <sort_book+0x88>
    init_file_index();
40314c08:	eac0      	jalrc	v0
40314c0a:	b221      	lw	v0,40314c8c <sort_book+0x8c>
    list_sort((char*) file_index_buf, sort_file_total, 2, str_buf, SORT_CMP_STRING, sort_cmp_len); //64+8k
40314c0c:	9a60      	lw	v1,0(v0)
40314c0e:	b221      	lw	v0,40314c90 <sort_book+0x90>
40314c10:	aaa0      	lhu	a1,0(v0)
40314c12:	99e2      	lw	a3,8(s1)
40314c14:	6a02      	li	v0,2
40314c16:	d204      	sw	v0,16(sp)
40314c18:	b21f      	lw	v0,40314c94 <sort_book+0x94>
40314c1a:	a240      	lbu	v0,0(v0)
40314c1c:	d205      	sw	v0,20(sp)
40314c1e:	6783      	move	a0,v1
40314c20:	6e02      	li	a2,2
40314c22:	b21e      	lw	v0,40314c98 <sort_book+0x98>
40314c24:	eac0      	jalrc	v0
40314c26:	b21a      	lw	v0,40314c8c <sort_book+0x8c>
    list_resort(file_index_buf, sort_file_total, str_buf, PLIST_TITLE, TITLE_CMP_LENGTH, sort_cmp_len);
40314c28:	9a60      	lw	v1,0(v0)
40314c2a:	b21a      	lw	v0,40314c90 <sort_book+0x90>
40314c2c:	aaa0      	lhu	a1,0(v0)
40314c2e:	99c2      	lw	a2,8(s1)
40314c30:	6a18      	li	v0,24
40314c32:	d204      	sw	v0,16(sp)
40314c34:	b218      	lw	v0,40314c94 <sort_book+0x94>
40314c36:	a240      	lbu	v0,0(v0)
40314c38:	d205      	sw	v0,20(sp)
40314c3a:	6783      	move	a0,v1
40314c3c:	6f00      	li	a3,0
40314c3e:	b218      	lw	v0,40314c9c <sort_book+0x9c>
40314c40:	eac0      	jalrc	v0
40314c42:	b218      	lw	v0,40314ca0 <sort_book+0xa0>
    build_ex_index(sort_index_buf); //8+8k
40314c44:	9a40      	lw	v0,0(v0)
40314c46:	6782      	move	a0,v0
40314c48:	b217      	lw	v0,40314ca4 <sort_book+0xa4>
40314c4a:	eac0      	jalrc	v0
40314c4c:	b317      	lw	v1,40314ca4 <sort_book+0xa4>

    ap_file_index_offset[0] = ap_pos_file_offset;
40314c4e:	b218      	lw	v0,40314cac <sort_book+0xac>
40314c50:	aa40      	lhu	v0,0(v0)
40314c52:	cb40      	sh	v0,0(v1)
40314c54:	b20e      	lw	v0,40314c8c <sort_book+0x8c>
    save_to_file((uint8*) file_index_buf, sort_file_total * 2);
40314c56:	9a60      	lw	v1,0(v0)
40314c58:	b20e      	lw	v0,40314c90 <sort_book+0x90>
40314c5a:	aa40      	lhu	v0,0(v0)
40314c5c:	3244      	sll	v0,1
40314c5e:	6783      	move	a0,v1
40314c60:	67a2      	move	a1,v0
40314c62:	b214      	lw	v0,40314cb0 <sort_book+0xb0>
40314c64:	eac0      	jalrc	v0
40314c66:	b314      	lw	v1,40314cb4 <sort_book+0xb4>

    ap_sort_index_offset[0] = ap_pos_file_offset;
40314c68:	b211      	lw	v0,40314cac <sort_book+0xac>
40314c6a:	aa40      	lhu	v0,0(v0)
40314c6c:	cb40      	sh	v0,0(v1)
40314c6e:	b20d      	lw	v0,40314ca0 <sort_book+0xa0>
    save_to_file((uint8*) sort_index_buf, sort_file_total * 2);
40314c70:	9a60      	lw	v1,0(v0)
40314c72:	b208      	lw	v0,40314c90 <sort_book+0x90>
40314c74:	aa40      	lhu	v0,0(v0)
40314c76:	3244      	sll	v0,1
40314c78:	6783      	move	a0,v1
40314c7a:	67a2      	move	a1,v0
40314c7c:	b20d      	lw	v0,40314cb0 <sort_book+0xb0>
40314c7e:	eac0      	jalrc	v0
40314c80:	65b9      	move	sp,s1

    return;
}
40314c82:	6451      	restore	8,ra,s1
40314c84:	e8a0      	jrc	ra
40314c86:	0000      	addiu	s0,sp,0
40314c88:	4de1      	addiu	a1,-31
40314c8a:	4029      	addiu	s1,s0,-7
40314c8c:	5640      	slti	a2,64
40314c8e:	9fc1      	lw	a2,4(a3)
40314c90:	560c      	slti	a2,12
40314c92:	9fc1      	lw	a2,4(a3)
40314c94:	5a28      	sltiu	v0,40
40314c96:	9fc1      	lw	a2,4(a3)
40314c98:	2875      	bnez	s0,40314d84 <sort_author+0xcc>
40314c9a:	7181      	cmpi	s1,129
40314c9c:	4ef1      	addiu	a2,-15
40314c9e:	4011      	daddiu	s0,s0,1
40314ca0:	5644      	slti	a2,68
40314ca2:	9fc1      	lw	a2,4(a3)
40314ca4:	4f55      	addiu	a3,85
40314ca6:	4029      	addiu	s1,s0,-7
40314ca8:	559c      	slti	a1,156
40314caa:	9fc1      	lw	a2,4(a3)
40314cac:	556a      	slti	a1,106
40314cae:	9fc1      	lw	a2,4(a3)
40314cb0:	6415      	restore	40,s1
40314cb2:	bfc1      	lwu	a2,4(a3)
40314cb4:	55a8      	slti	a1,168
40314cb6:	9fc1      	lw	a2,4(a3)

40314cb8 <sort_author>:
40314cb8:	64f6      	save	48,ra,s0-s1
/******************************************************************************/
/*
 * \par  Description: 排序作者
 *
 * \param[in]       str_buf--排序数据缓存地址

 * \param[out]

 * \return

 * \note           author->title
 *******************************************************************************/
//audible 第二排序

static void sort_author(char *str_buf)
{
40314cba:	0106      	addiu	s1,sp,24
40314cbc:	d986      	sw	a0,24(s1)
40314cbe:	b24d      	lw	v0,40314df0 <sort_author+0x138>
    uint8 str_len;
    
    init_file_index();
40314cc0:	eac0      	jalrc	v0
40314cc2:	b24d      	lw	v0,40314df4 <sort_author+0x13c>
    
    str_len = sort_cmp_len;
40314cc4:	a240      	lbu	v0,0(v0)
40314cc6:	c140      	sb	v0,0(s1)
40314cc8:	a140      	lbu	v0,0(s1)
    if (str_len > ARTIST_CMP_LENGTH)
40314cca:	5a19      	sltiu	v0,25
40314ccc:	6102      	btnez	40314cd2 <sort_author+0x1a>
40314cce:	6a18      	li	v0,24
    {
        str_len = ARTIST_CMP_LENGTH;
40314cd0:	c140      	sb	v0,0(s1)
40314cd2:	b24a      	lw	v0,40314df8 <sort_author+0x140>
    }
    /*read string datas from mmusic.lib for sorting*/
    read_string(file_index_buf, sort_file_total, str_buf, 0, str_len, PLIST_ARTIST);
40314cd4:	9a60      	lw	v1,0(v0)
40314cd6:	b24a      	lw	v0,40314dfc <sort_author+0x144>
40314cd8:	aaa0      	lhu	a1,0(v0)
40314cda:	99c6      	lw	a2,24(s1)
40314cdc:	a140      	lbu	v0,0(s1)
40314cde:	d204      	sw	v0,16(sp)
40314ce0:	6a02      	li	v0,2
40314ce2:	d205      	sw	v0,20(sp)
40314ce4:	6783      	move	a0,v1
40314ce6:	6f00      	li	a3,0
40314ce8:	1880 5367 	jal	40114d9c <read_string>
40314cec:	6500      	nop
40314cee:	b243      	lw	v0,40314df8 <sort_author+0x140>
    
    list_sort((char*) file_index_buf, sort_file_total, 2, str_buf, SORT_CMP_STRING, str_len); //64+8k
40314cf0:	9a60      	lw	v1,0(v0)
40314cf2:	b243      	lw	v0,40314dfc <sort_author+0x144>
40314cf4:	aaa0      	lhu	a1,0(v0)
40314cf6:	99e6      	lw	a3,24(s1)
40314cf8:	6a02      	li	v0,2
40314cfa:	d204      	sw	v0,16(sp)
40314cfc:	a140      	lbu	v0,0(s1)
40314cfe:	d205      	sw	v0,20(sp)
40314d00:	6783      	move	a0,v1
40314d02:	6e02      	li	a2,2
40314d04:	b23f      	lw	v0,40314e00 <sort_author+0x148>
40314d06:	eac0      	jalrc	v0
40314d08:	b23f      	lw	v0,40314e00 <sort_author+0x148>

    plist_get_app_msg();
40314d0a:	eac0      	jalrc	v0
40314d0c:	b23b      	lw	v0,40314df4 <sort_author+0x13c>
    list_resort(file_index_buf, sort_file_total, str_buf, PLIST_ARTIST, ARTIST_CMP_LENGTH, str_len);
40314d0e:	9a60      	lw	v1,0(v0)
40314d10:	b23b      	lw	v0,40314dfc <sort_author+0x144>
40314d12:	aaa0      	lhu	a1,0(v0)
40314d14:	99c6      	lw	a2,24(s1)
40314d16:	6a18      	li	v0,24
40314d18:	d204      	sw	v0,16(sp)
40314d1a:	a140      	lbu	v0,0(s1)
40314d1c:	d205      	sw	v0,20(sp)
40314d1e:	6783      	move	a0,v1
40314d20:	6f02      	li	a3,2
40314d22:	b23a      	lw	v0,40314e08 <sort_author+0x150>
40314d24:	eac0      	jalrc	v0
40314d26:	b23a      	lw	v0,40314e0c <sort_author+0x154>
    
    tidy_same_table(tidy_buf_a, count_buf_a, file_index_buf);//8+8+8
40314d28:	9a60      	lw	v1,0(v0)
40314d2a:	b23a      	lw	v0,40314e10 <sort_author+0x158>
40314d2c:	9aa0      	lw	a1,0(v0)
40314d2e:	b233      	lw	v0,40314df8 <sort_author+0x140>
40314d30:	9a40      	lw	v0,0(v0)
40314d32:	6783      	move	a0,v1
40314d34:	67c2      	move	a2,v0
40314d36:	b238      	lw	v0,40314e14 <sort_author+0x15c>
40314d38:	eac0      	jalrc	v0
40314d3a:	b230      	lw	v0,40314df8 <sort_author+0x140>
    son_sort_index(file_index_buf, count_buf_a, sort_index_buf, SORT_CMP_WORD);
40314d3c:	9a60      	lw	v1,0(v0)
40314d3e:	b235      	lw	v0,40314e10 <sort_author+0x158>
40314d40:	9aa0      	lw	a1,0(v0)
40314d42:	b236      	lw	v0,40314e18 <sort_author+0x160>
40314d44:	9a40      	lw	v0,0(v0)
40314d46:	6783      	move	a0,v1
40314d48:	67c2      	move	a2,v0
40314d4a:	6f00      	li	a3,0
40314d4c:	b234      	lw	v0,40314e1c <sort_author+0x164>
40314d4e:	eac0      	jalrc	v0
40314d50:	b334      	lw	v1,40314e1c <sort_author+0x164>

    //tidy_same_table(tidy_buf_a, count_buf_a, file_index_buf, str_buf, str_len);//8+8+8
    //son_sort_index(file_index_buf, count_buf_a, sort_index_buf, SORT_CMP_WORD); //8+8+8+8

    ap_son_tree_offset[2][0] = ap_pos_file_offset;
40314d52:	b235      	lw	v0,40314e24 <sort_author+0x16c>
40314d54:	aa40      	lhu	v0,0(v0)
40314d56:	cb46      	sh	v0,12(v1)
40314d58:	b034      	lw	s0,40314e28 <sort_author+0x170>
    ap_son_tree_num[2][0] = creat_plist_tree(file_index_buf, count_buf_a, NULL, NULL, PLIST_AUTHOR);
40314d5a:	b228      	lw	v0,40314df8 <sort_author+0x140>
40314d5c:	9a60      	lw	v1,0(v0)
40314d5e:	b22d      	lw	v0,40314e10 <sort_author+0x158>
40314d60:	9aa0      	lw	a1,0(v0)
40314d62:	6a12      	li	v0,18
40314d64:	d204      	sw	v0,16(sp)
40314d66:	6783      	move	a0,v1
40314d68:	6e00      	li	a2,0
40314d6a:	6f00      	li	a3,0
40314d6c:	b230      	lw	v0,40314e2c <sort_author+0x174>
40314d6e:	eac0      	jalrc	v0
40314d70:	c846      	sh	v0,12(s0)
40314d72:	b22a      	lw	v0,40314e18 <sort_author+0x160>

    build_ex_index(sort_index_buf);//8+8+8+8
40314d74:	9a40      	lw	v0,0(v0)
40314d76:	6782      	move	a0,v0
40314d78:	b22e      	lw	v0,40314e30 <sort_author+0x178>
40314d7a:	eac0      	jalrc	v0
40314d7c:	b222      	lw	v0,40314e00 <sort_author+0x148>

    plist_get_app_msg();
40314d7e:	eac0      	jalrc	v0
40314d80:	b32d      	lw	v1,40314e30 <sort_author+0x178>

    index_parent_buf = (uint16*) COUNT_BUF_B_ADDR;//空间复用，注意
40314d82:	b22e      	lw	v0,40314e38 <sort_author+0x180>
40314d84:	db40      	sw	v0,0(v1)
40314d86:	b22c      	lw	v0,40314e34 <sort_author+0x17c>

    creat_index_map(index_parent_buf, file_index_buf, count_buf_a);
40314d88:	9a60      	lw	v1,0(v0)
40314d8a:	b21c      	lw	v0,40314df8 <sort_author+0x140>
40314d8c:	9aa0      	lw	a1,0(v0)
40314d8e:	b221      	lw	v0,40314e10 <sort_author+0x158>
40314d90:	9a40      	lw	v0,0(v0)
40314d92:	6783      	move	a0,v1
40314d94:	67c2      	move	a2,v0
40314d96:	b22a      	lw	v0,40314e3c <sort_author+0x184>
40314d98:	eac0      	jalrc	v0
40314d9a:	b32a      	lw	v1,40314e40 <sort_author+0x188>

    ap_file_index_offset[2] = ap_pos_file_offset;
40314d9c:	b222      	lw	v0,40314e24 <sort_author+0x16c>
40314d9e:	aa40      	lhu	v0,0(v0)
40314da0:	cb42      	sh	v0,4(v1)
40314da2:	b216      	lw	v0,40314df8 <sort_author+0x140>
    save_to_file((uint8*) file_index_buf, sort_file_total * 2);
40314da4:	9a60      	lw	v1,0(v0)
40314da6:	b216      	lw	v0,40314dfc <sort_author+0x144>
40314da8:	aa40      	lhu	v0,0(v0)
40314daa:	3244      	sll	v0,1
40314dac:	6783      	move	a0,v1
40314dae:	67a2      	move	a1,v0
40314db0:	b225      	lw	v0,40314e44 <sort_author+0x18c>
40314db2:	eac0      	jalrc	v0
40314db4:	b325      	lw	v1,40314e44 <sort_author+0x18c>

    ap_sort_index_offset[2] = ap_pos_file_offset;
40314db6:	b21c      	lw	v0,40314e24 <sort_author+0x16c>
40314db8:	aa40      	lhu	v0,0(v0)
40314dba:	cb42      	sh	v0,4(v1)
40314dbc:	b217      	lw	v0,40314e18 <sort_author+0x160>
    save_to_file((uint8*) sort_index_buf, sort_file_total * 2);
40314dbe:	9a60      	lw	v1,0(v0)
40314dc0:	b20f      	lw	v0,40314dfc <sort_author+0x144>
40314dc2:	aa40      	lhu	v0,0(v0)
40314dc4:	3244      	sll	v0,1
40314dc6:	6783      	move	a0,v1
40314dc8:	67a2      	move	a1,v0
40314dca:	b21f      	lw	v0,40314e44 <sort_author+0x18c>
40314dcc:	eac0      	jalrc	v0
40314dce:	b320      	lw	v1,40314e4c <sort_author+0x194>

    ap_index_parent_offset[2] = ap_pos_file_offset;
40314dd0:	b215      	lw	v0,40314e24 <sort_author+0x16c>
40314dd2:	aa40      	lhu	v0,0(v0)
40314dd4:	cb42      	sh	v0,4(v1)
40314dd6:	b218      	lw	v0,40314e34 <sort_author+0x17c>
    save_to_file((uint8*) index_parent_buf, sort_file_total * 2);
40314dd8:	9a60      	lw	v1,0(v0)
40314dda:	b209      	lw	v0,40314dfc <sort_author+0x144>
40314ddc:	aa40      	lhu	v0,0(v0)
40314dde:	3244      	sll	v0,1
40314de0:	6783      	move	a0,v1
40314de2:	67a2      	move	a1,v0
40314de4:	b218      	lw	v0,40314e44 <sort_author+0x18c>
40314de6:	eac0      	jalrc	v0
40314de8:	65b9      	move	sp,s1

    return;
}
40314dea:	6473      	restore	24,ra,s0-s1
40314dec:	e8a0      	jrc	ra
40314dee:	0000      	addiu	s0,sp,0
40314df0:	4de1      	addiu	a1,-31
40314df2:	4029      	addiu	s1,s0,-7
40314df4:	5a28      	sltiu	v0,40
40314df6:	9fc1      	lw	a2,4(a3)
40314df8:	5640      	slti	a2,64
40314dfa:	9fc1      	lw	a2,4(a3)
40314dfc:	560c      	slti	a2,12
40314dfe:	9fc1      	lw	a2,4(a3)
40314e00:	2875      	bnez	s0,40314eec <sort_audible_list+0x9c>
40314e02:	7181      	cmpi	s1,129
40314e04:	65e9      	move	t7,s1
40314e06:	bfc1      	lwu	a2,4(a3)
40314e08:	4ef1      	addiu	a2,-15
40314e0a:	4011      	daddiu	s0,s0,1
40314e0c:	5638      	slti	a2,56
40314e0e:	9fc1      	lw	a2,4(a3)
40314e10:	5648      	slti	a2,72
40314e12:	9fc1      	lw	a2,4(a3)
40314e14:	4e19      	addiu	a2,25
40314e16:	4029      	addiu	s1,s0,-7
40314e18:	5644      	slti	a2,68
40314e1a:	9fc1      	lw	a2,4(a3)
40314e1c:	4f95      	addiu	a3,-107
40314e1e:	4029      	addiu	s1,s0,-7
40314e20:	55e4      	slti	a1,228
40314e22:	9fc1      	lw	a2,4(a3)
40314e24:	556a      	slti	a1,106
40314e26:	9fc1      	lw	a2,4(a3)
40314e28:	55c0      	slti	a1,192
40314e2a:	9fc1      	lw	a2,4(a3)
40314e2c:	5101      	slti	s1,1
40314e2e:	4029      	addiu	s1,s0,-7
40314e30:	4f55      	addiu	a3,85
40314e32:	4029      	addiu	s1,s0,-7
40314e34:	5654      	slti	a2,84
40314e36:	9fc1      	lw	a2,4(a3)
40314e38:	aa00      	lhu	s0,0(v0)
40314e3a:	9fc2      	lw	a2,8(a3)
40314e3c:	50a9      	slti	s0,169
40314e3e:	4029      	addiu	s1,s0,-7
40314e40:	559c      	slti	a1,156
40314e42:	9fc1      	lw	a2,4(a3)
40314e44:	6415      	restore	40,s1
40314e46:	bfc1      	lwu	a2,4(a3)
40314e48:	55a8      	slti	a1,168
40314e4a:	9fc1      	lw	a2,4(a3)
40314e4c:	55b4      	slti	a1,180
40314e4e:	9fc1      	lw	a2,4(a3)

40314e50 <sort_audible_list>:
40314e50:	64d4      	save	32,ra,s1

/******************************************************************************/
/*
 * \par  Description: 排序列表
 *
 * \param[in]

 * \param[out]

 * \return

 * \note
 *******************************************************************************/
void sort_audible_list(void)
{
40314e52:	0104      	addiu	s1,sp,16
40314e54:	b212      	lw	v0,40314e9c <sort_audible_list+0x4c>
    char *str_buf = (char*) SORT_DATA_ADDR;//title最少前sort_cmp_len个byte已经缓存在ram中
40314e56:	d940      	sw	v0,0(s1)
40314e58:	b312      	lw	v1,40314ea0 <sort_audible_list+0x50>
    sort_file_total = ap_plist_file_total;
40314e5a:	b213      	lw	v0,40314ea4 <sort_audible_list+0x54>
40314e5c:	aa40      	lhu	v0,0(v0)
40314e5e:	cb40      	sh	v0,0(v1)
40314e60:	b212      	lw	v0,40314ea8 <sort_audible_list+0x58>
    libc_memset(file_index_buf, 0, FILE_INFO_BUF_SIZE);
40314e62:	9a40      	lw	v0,0(v0)
40314e64:	f004 6b00 	li	v1,8192
40314e68:	6782      	move	a0,v0
40314e6a:	6d00      	li	a1,0
40314e6c:	67c3      	move	a2,v1
40314e6e:	6f01      	li	a3,1
40314e70:	b20f      	lw	v0,40314eac <sort_audible_list+0x5c>
40314e72:	eac0      	jalrc	v0
40314e74:	b20f      	lw	v0,40314eac <sort_audible_list+0x5c>
    
    plist_get_app_msg();
40314e76:	eac0      	jalrc	v0
40314e78:	9940      	lw	v0,0(s1)
    sort_book(str_buf);
40314e7a:	6782      	move	a0,v0
40314e7c:	1980 5300 	jal	40314c00 <sort_book>
40314e80:	6500      	nop
40314e82:	b20c      	lw	v0,40314eb0 <sort_audible_list+0x60>

    plist_get_app_msg();
40314e84:	eac0      	jalrc	v0
40314e86:	9940      	lw	v0,0(s1)
    sort_author(str_buf);
40314e88:	6782      	move	a0,v0
40314e8a:	1980 532e 	jal	40314cb8 <sort_author>
40314e8e:	6500      	nop
40314e90:	b208      	lw	v0,40314eb0 <sort_audible_list+0x60>

    plist_get_app_msg();
40314e92:	eac0      	jalrc	v0
40314e94:	65b9      	move	sp,s1
    
    return;
}
40314e96:	6452      	restore	16,ra,s1
40314e98:	e8a0      	jrc	ra
40314e9a:	0000      	addiu	s0,sp,0
40314e9c:	0000      	addiu	s0,sp,0
40314e9e:	9fc3      	lw	a2,12(a3)
40314ea0:	560c      	slti	a2,12
40314ea2:	9fc1      	lw	a2,4(a3)
40314ea4:	5598      	slti	a1,152
40314ea6:	9fc1      	lw	a2,4(a3)
40314ea8:	5640      	slti	a2,64
40314eaa:	9fc1      	lw	a2,4(a3)
40314eac:	6409      	restore	72
40314eae:	bfc1      	lwu	a2,4(a3)
40314eb0:	65e9      	move	t7,s1
40314eb2:	bfc1      	lwu	a2,4(a3)
	...
Disassembly of section BANK_UI_1_0:

48014400 <check_id3_type>:
48014400:	6492      	save	16,s1

 * \note
 *******************************************************************************/
id3_type_e check_id3_type(uint32 ext_name)
{
48014402:	673d      	move	s1,sp
48014404:	d984      	sw	a0,16(s1)
48014406:	9944      	lw	v0,16(s1)
    id3_type_e id3_type;
    switch (ext_name)
48014408:	d941      	sw	v0,4(s1)
4801440a:	b23e      	lw	v0,48014500 <BANK_UI_1_ADDR_BASE+0x100>
4801440c:	9961      	lw	v1,4(s1)
4801440e:	ea6e      	xor	v0,v1
48014410:	5a01      	sltiu	v0,1
48014412:	6159      	btnez	480144c6 <BANK_UI_1_ADDR_BASE+0xc6>
48014414:	b23b      	lw	v0,48014500 <BANK_UI_1_ADDR_BASE+0x100>
48014416:	9961      	lw	v1,4(s1)
48014418:	ea63      	sltu	v0,v1
4801441a:	6129      	btnez	4801446e <BANK_UI_1_ADDR_BASE+0x6e>
4801441c:	b23a      	lw	v0,48014504 <BANK_UI_1_ADDR_BASE+0x104>
4801441e:	9961      	lw	v1,4(s1)
48014420:	ea6e      	xor	v0,v1
48014422:	5a01      	sltiu	v0,1
48014424:	614d      	btnez	480144c0 <BANK_UI_1_ADDR_BASE+0xc0>
48014426:	b238      	lw	v0,48014504 <BANK_UI_1_ADDR_BASE+0x104>
48014428:	9961      	lw	v1,4(s1)
4801442a:	ea63      	sltu	v0,v1
4801442c:	610b      	btnez	48014444 <BANK_UI_1_ADDR_BASE+0x44>
4801442e:	b237      	lw	v0,48014508 <BANK_UI_1_ADDR_BASE+0x108>
48014430:	9961      	lw	v1,4(s1)
48014432:	ea6e      	xor	v0,v1
48014434:	5a01      	sltiu	v0,1
48014436:	6153      	btnez	480144de <BANK_UI_1_ADDR_BASE+0xde>
48014438:	b235      	lw	v0,4801450c <BANK_UI_1_ADDR_BASE+0x10c>
4801443a:	9961      	lw	v1,4(s1)
4801443c:	ea6e      	xor	v0,v1
4801443e:	5a01      	sltiu	v0,1
48014440:	613f      	btnez	480144c0 <BANK_UI_1_ADDR_BASE+0xc0>
48014442:	1056      	b	480144f0 <BANK_UI_1_ADDR_BASE+0xf0>
48014444:	b233      	lw	v0,48014510 <BANK_UI_1_ADDR_BASE+0x110>
48014446:	9961      	lw	v1,4(s1)
48014448:	ea6e      	xor	v0,v1
4801444a:	5a01      	sltiu	v0,1
4801444c:	614b      	btnez	480144e4 <BANK_UI_1_ADDR_BASE+0xe4>
4801444e:	b231      	lw	v0,48014510 <BANK_UI_1_ADDR_BASE+0x110>
48014450:	9961      	lw	v1,4(s1)
48014452:	ea63      	sltu	v0,v1
48014454:	6106      	btnez	48014462 <BANK_UI_1_ADDR_BASE+0x62>
48014456:	b230      	lw	v0,48014514 <BANK_UI_1_ADDR_BASE+0x114>
48014458:	9961      	lw	v1,4(s1)
4801445a:	ea6e      	xor	v0,v1
4801445c:	5a01      	sltiu	v0,1
4801445e:	6130      	btnez	480144c0 <BANK_UI_1_ADDR_BASE+0xc0>
48014460:	1047      	b	480144f0 <BANK_UI_1_ADDR_BASE+0xf0>
48014462:	b22e      	lw	v0,48014518 <BANK_UI_1_ADDR_BASE+0x118>
48014464:	9961      	lw	v1,4(s1)
48014466:	ea6e      	xor	v0,v1
48014468:	5a01      	sltiu	v0,1
4801446a:	6136      	btnez	480144d8 <BANK_UI_1_ADDR_BASE+0xd8>
4801446c:	1041      	b	480144f0 <BANK_UI_1_ADDR_BASE+0xf0>
4801446e:	b22c      	lw	v0,4801451c <BANK_UI_1_ADDR_BASE+0x11c>
48014470:	9961      	lw	v1,4(s1)
48014472:	ea6e      	xor	v0,v1
48014474:	5a01      	sltiu	v0,1
48014476:	6127      	btnez	480144c6 <BANK_UI_1_ADDR_BASE+0xc6>
48014478:	b229      	lw	v0,4801451c <BANK_UI_1_ADDR_BASE+0x11c>
4801447a:	9961      	lw	v1,4(s1)
4801447c:	ea63      	sltu	v0,v1
4801447e:	610b      	btnez	48014496 <BANK_UI_1_ADDR_BASE+0x96>
48014480:	b228      	lw	v0,48014520 <BANK_UI_1_ADDR_BASE+0x120>
48014482:	9961      	lw	v1,4(s1)
48014484:	ea6e      	xor	v0,v1
48014486:	5a01      	sltiu	v0,1
48014488:	6130      	btnez	480144ea <BANK_UI_1_ADDR_BASE+0xea>
4801448a:	b227      	lw	v0,48014524 <BANK_UI_1_ADDR_BASE+0x124>
4801448c:	9961      	lw	v1,4(s1)
4801448e:	ea6e      	xor	v0,v1
48014490:	5a01      	sltiu	v0,1
48014492:	611f      	btnez	480144d2 <BANK_UI_1_ADDR_BASE+0xd2>
48014494:	102d      	b	480144f0 <BANK_UI_1_ADDR_BASE+0xf0>
48014496:	b225      	lw	v0,48014528 <BANK_UI_1_ADDR_BASE+0x128>
48014498:	9961      	lw	v1,4(s1)
4801449a:	ea6e      	xor	v0,v1
4801449c:	5a01      	sltiu	v0,1
4801449e:	6113      	btnez	480144c6 <BANK_UI_1_ADDR_BASE+0xc6>
480144a0:	b222      	lw	v0,48014528 <BANK_UI_1_ADDR_BASE+0x128>
480144a2:	9961      	lw	v1,4(s1)
480144a4:	ea63      	sltu	v0,v1
480144a6:	6106      	btnez	480144b4 <BANK_UI_1_ADDR_BASE+0xb4>
480144a8:	b221      	lw	v0,4801452c <BANK_UI_1_ADDR_BASE+0x12c>
480144aa:	9961      	lw	v1,4(s1)
480144ac:	ea6e      	xor	v0,v1
480144ae:	5a01      	sltiu	v0,1
480144b0:	610d      	btnez	480144cc <BANK_UI_1_ADDR_BASE+0xcc>
480144b2:	101e      	b	480144f0 <BANK_UI_1_ADDR_BASE+0xf0>
480144b4:	b21f      	lw	v0,48014530 <BANK_UI_1_ADDR_BASE+0x130>
480144b6:	9961      	lw	v1,4(s1)
480144b8:	ea6e      	xor	v0,v1
480144ba:	5a01      	sltiu	v0,1
480144bc:	6113      	btnez	480144e4 <BANK_UI_1_ADDR_BASE+0xe4>
480144be:	1018      	b	480144f0 <BANK_UI_1_ADDR_BASE+0xf0>
480144c0:	6a05      	li	v0,5
    {
        case MP3_VAL:
        case MP1_VAL:
        case MP2_VAL:
        {
            id3_type = ID3_TYPE_MP3;
480144c2:	c140      	sb	v0,0(s1)
480144c4:	1017      	b	480144f4 <BANK_UI_1_ADDR_BASE+0xf4>
            break;
480144c6:	6a07      	li	v0,7
        }
        case WMA_VAL:
        case ASF_VAL:
        case WMV_VAL:
        {
            id3_type = ID3_TYPE_WMA;
480144c8:	c140      	sb	v0,0(s1)
480144ca:	1014      	b	480144f4 <BANK_UI_1_ADDR_BASE+0xf4>
            break;
480144cc:	6a06      	li	v0,6
        }
        case OGG_VAL:
        {
            id3_type = ID3_TYPE_OGG;
480144ce:	c140      	sb	v0,0(s1)
480144d0:	1011      	b	480144f4 <BANK_UI_1_ADDR_BASE+0xf4>
            break;
480144d2:	6a03      	li	v0,3
        }
        case APE_VAL:
        {
            id3_type = ID3_TYPE_APE;
480144d4:	c140      	sb	v0,0(s1)
480144d6:	100e      	b	480144f4 <BANK_UI_1_ADDR_BASE+0xf4>
            break;
480144d8:	6a04      	li	v0,4
        }
        case FLAC_VAL:
        {
            id3_type = ID3_TYPE_FLAC;
480144da:	c140      	sb	v0,0(s1)
480144dc:	100b      	b	480144f4 <BANK_UI_1_ADDR_BASE+0xf4>
            break;
480144de:	6a00      	li	v0,0
        }
        case AA_VAL:
        {
            id3_type = ID3_TYPE_AA;
480144e0:	c140      	sb	v0,0(s1)
480144e2:	1008      	b	480144f4 <BANK_UI_1_ADDR_BASE+0xf4>
            break;
480144e4:	6a02      	li	v0,2
        }
        case AAX_VAL:
        case M4A_VAL:
        {
            id3_type = ID3_TYPE_AAX;
480144e6:	c140      	sb	v0,0(s1)
480144e8:	1005      	b	480144f4 <BANK_UI_1_ADDR_BASE+0xf4>
            break;
480144ea:	6a01      	li	v0,1
        }
        case AAC_VAL:
        {
            id3_type = ID3_TYPE_AAC;
480144ec:	c140      	sb	v0,0(s1)
480144ee:	1002      	b	480144f4 <BANK_UI_1_ADDR_BASE+0xf4>
            break;
480144f0:	6a08      	li	v0,8
        }

        default:
        {
            id3_type = ID3_TYPE_END;
480144f2:	c140      	sb	v0,0(s1)
480144f4:	a140      	lbu	v0,0(s1)
            break;
        }
    }

    return id3_type;
480144f6:	651a      	move	t8,v0
480144f8:	6758      	move	v0,t8
}
480144fa:	65b9      	move	sp,s1
480144fc:	6412      	restore	16,s1
480144fe:	e8a0      	jrc	ra
48014500:	4d57      	addiu	a1,87
48014502:	0041      	addiu	s0,sp,260
48014504:	504d      	slti	s0,77
48014506:	0032      	addiu	s0,sp,200
48014508:	4141      	addiu	v0,s1,1
4801450a:	0020      	addiu	s0,sp,128
4801450c:	504d      	slti	s0,77
4801450e:	0031      	addiu	s0,sp,196
48014510:	344d      	dsll	a0,v0,3
48014512:	0041      	addiu	s0,sp,260
48014514:	504d      	slti	s0,77
48014516:	0033      	addiu	s0,sp,204
48014518:	4c46      	addiu	a0,70
4801451a:	0041      	addiu	s0,sp,260
4801451c:	5341      	slti	v1,65
4801451e:	0046      	addiu	s0,sp,280
48014520:	4141      	addiu	v0,s1,1
48014522:	0043      	addiu	s0,sp,268
48014524:	5041      	slti	s0,65
48014526:	0045      	addiu	s0,sp,276
48014528:	4d57      	addiu	a1,87
4801452a:	0056      	addiu	s0,sp,344
4801452c:	474f      	addiu	v0,a3,-1
4801452e:	0047      	addiu	s0,sp,284
48014530:	4141      	addiu	v0,s1,1
48014532:	0058      	addiu	s0,sp,352

48014534 <unicode_to_char>:
48014534:	64d3      	save	24,ra,s1

/******************************************************************************/
/*
 * \par  Description: unicode转换成对应的语言
 *
 * \param[in]    str--unicode字符
                 len--长度
                 encode--语言类型
 * \param[out]

 * \return       TRUE OR FALSE

 * \note
 *******************************************************************************/
bool unicode_to_char(char *str, uint16 len, uint8 encode)
{
48014536:	0104      	addiu	s1,sp,16
48014538:	d982      	sw	a0,8(s1)
4801453a:	6745      	move	v0,a1
4801453c:	6766      	move	v1,a2
4801453e:	c946      	sh	v0,12(s1)
48014540:	c170      	sb	v1,16(s1)
48014542:	9942      	lw	v0,8(s1)
    ui_unicode_to_char(str, (uint32) len, (uint32) encode);
48014544:	a966      	lhu	v1,12(s1)
48014546:	a1d0      	lbu	a2,16(s1)
48014548:	6782      	move	a0,v0
4801454a:	67a3      	move	a1,v1
4801454c:	6f1a      	li	a3,26
4801454e:	b204      	lw	v0,4801455c <unicode_to_char+0x28>
48014550:	eac0      	jalrc	v0
48014552:	6a01      	li	v0,1
    return TRUE;
48014554:	65b9      	move	sp,s1
}
48014556:	6451      	restore	8,ra,s1
48014558:	e8a0      	jrc	ra
4801455a:	0000      	addiu	s0,sp,0
4801455c:	6bb1      	li	v1,177
4801455e:	bfc1      	lwu	a2,4(a3)

48014560 <char_to_unicode>:
48014560:	64d3      	save	24,ra,s1

/******************************************************************************/
/*
 * \par  Description: unicode转换成对应的语言
 *
 * \param[in]    str--unicode字符
 len--长度
 encode--语言类型
 * \param[out]

 * \return       TRUE OR FALSE

 * \note
 *******************************************************************************/
bool char_to_unicode(uint8 *dest, uint8 *src, uint16 len)
{
48014562:	0104      	addiu	s1,sp,16
48014564:	d982      	sw	a0,8(s1)
48014566:	d9a3      	sw	a1,12(s1)
48014568:	6746      	move	v0,a2
4801456a:	c948      	sh	v0,16(s1)
4801456c:	9942      	lw	v0,8(s1)
    ui_char_to_unicode(dest, src, len);
4801456e:	9963      	lw	v1,12(s1)
48014570:	a9c8      	lhu	a2,16(s1)
48014572:	6782      	move	a0,v0
48014574:	67a3      	move	a1,v1
48014576:	6f1b      	li	a3,27
48014578:	b203      	lw	v0,48014584 <char_to_unicode+0x24>
4801457a:	eac0      	jalrc	v0
4801457c:	6a01      	li	v0,1
    return TRUE;
4801457e:	65b9      	move	sp,s1
}
48014580:	6451      	restore	8,ra,s1
48014582:	e8a0      	jrc	ra
48014584:	6bb1      	li	v1,177
48014586:	bfc1      	lwu	a2,4(a3)

48014588 <utf8_to_char>:
48014588:	64d4      	save	32,ra,s1

/******************************************************************************/
/*
 * \par  Description: utf8 转换成对应的语言
 *
 * \param[in]    str--unicode字符
                 len--长度
                 encode--语言类型

 * \param[out]

 * \return       TRUE OR FALSE

 * \note
 *******************************************************************************/
bool utf8_to_char(char *str, uint16 len, uint8 encode)
{
4801458a:	0104      	addiu	s1,sp,16
4801458c:	d984      	sw	a0,16(s1)
4801458e:	6745      	move	v0,a1
48014590:	6766      	move	v1,a2
48014592:	c94a      	sh	v0,20(s1)
48014594:	c178      	sb	v1,24(s1)
48014596:	9944      	lw	v0,16(s1)
    int16 unicode_len;

    ui_utf8_to_unicode(str, temp_plist_buf + 256, &unicode_len);
48014598:	b30e      	lw	v1,480145d0 <utf8_to_char+0x48>
4801459a:	6782      	move	a0,v0
4801459c:	67a3      	move	a1,v1
4801459e:	67d1      	move	a2,s1
480145a0:	6f1d      	li	a3,29
480145a2:	b20d      	lw	v0,480145d4 <utf8_to_char+0x4c>
480145a4:	eac0      	jalrc	v0
480145a6:	b20b      	lw	v0,480145d0 <utf8_to_char+0x48>
    ui_unicode_to_char(temp_plist_buf + 256, (uint32) unicode_len, (uint32) encode);
480145a8:	8960      	lh	v1,0(s1)
480145aa:	a1d8      	lbu	a2,24(s1)
480145ac:	6782      	move	a0,v0
480145ae:	67a3      	move	a1,v1
480145b0:	6f1a      	li	a3,26
480145b2:	b209      	lw	v0,480145d4 <utf8_to_char+0x4c>
480145b4:	eac0      	jalrc	v0
480145b6:	9944      	lw	v0,16(s1)
    libc_memcpy(str, temp_plist_buf + 256, (uint32) len);
480145b8:	b306      	lw	v1,480145d0 <utf8_to_char+0x48>
480145ba:	a9ca      	lhu	a2,20(s1)
480145bc:	6782      	move	a0,v0
480145be:	67a3      	move	a1,v1
480145c0:	6f00      	li	a3,0
480145c2:	b206      	lw	v0,480145d8 <utf8_to_char+0x50>
480145c4:	eac0      	jalrc	v0
480145c6:	6a01      	li	v0,1

    return TRUE;
480145c8:	65b9      	move	sp,s1
}
480145ca:	6452      	restore	16,ra,s1
480145cc:	e8a0      	jrc	ra
480145ce:	0000      	addiu	s0,sp,0
480145d0:	5794      	slti	a3,148
480145d2:	9fc1      	lw	a2,4(a3)
480145d4:	6bb1      	li	v1,177
480145d6:	bfc1      	lwu	a2,4(a3)
480145d8:	6409      	restore	72
480145da:	bfc1      	lwu	a2,4(a3)

480145dc <alltype_to_char>:
480145dc:	64d3      	save	24,ra,s1

/******************************************************************************/
/*
 * \par  Description: 所有的类型转换成对应的语言
 *
 * \param[in]    source  --字符串地址
                 land_id --语言类型
                 size    --长度

 * \param[out]

 * \return       TRUE OR FALSE

 * \note
 *******************************************************************************/
bool alltype_to_char(char * source, uint8 land_id, uint8 size)
{
480145de:	0104      	addiu	s1,sp,16
480145e0:	d982      	sw	a0,8(s1)
480145e2:	6745      	move	v0,a1
480145e4:	6766      	move	v1,a2
480145e6:	c14c      	sb	v0,12(s1)
480145e8:	c170      	sb	v1,16(s1)
480145ea:	9942      	lw	v0,8(s1)
    if (*((uint16 *) (source)) == UNICODE_FLAG)
480145ec:	aa60      	lhu	v1,0(v0)
480145ee:	f6ff 6a1f 	li	v0,65279
480145f2:	ea6e      	xor	v0,v1
480145f4:	5a01      	sltiu	v0,1
480145f6:	6015      	bteqz	48014622 <alltype_to_char+0x46>
480145f8:	b425      	lw	a0,4801468c <alltype_to_char+0xb0>
    {
        //若是UNICODE需转换后再存储
        libc_memcpy(temp_plist_buf, source + 2, size * 2);
480145fa:	9942      	lw	v0,8(s1)
480145fc:	4262      	addiu	v1,v0,2
480145fe:	a150      	lbu	v0,16(s1)
48014600:	3244      	sll	v0,1
48014602:	67a3      	move	a1,v1
48014604:	67c2      	move	a2,v0
48014606:	6f00      	li	a3,0
48014608:	b222      	lw	v0,48014690 <alltype_to_char+0xb4>
4801460a:	eac0      	jalrc	v0
4801460c:	b420      	lw	a0,48014688 <alltype_to_char+0xac>
        //转换成内码
        unicode_to_char(temp_plist_buf, (uint16) (size * 2), land_id);
4801460e:	a150      	lbu	v0,16(s1)
48014610:	3244      	sll	v0,1
48014612:	ea31      	zeh	v0
48014614:	a16c      	lbu	v1,12(s1)
48014616:	67a2      	move	a1,v0
48014618:	67c3      	move	a2,v1
4801461a:	1810 514d 	jal	48014534 <unicode_to_char>
4801461e:	6500      	nop
48014620:	1031      	b	48014684 <alltype_to_char+0xa8>
48014622:	9942      	lw	v0,8(s1)
    }
    else if (((uint8) source[0] == UTF8_FLAG_0)
48014624:	a240      	lbu	v0,0(v0)
48014626:	72ef      	cmpi	v0,239
48014628:	6758      	move	v0,t8
4801462a:	5a01      	sltiu	v0,1
4801462c:	6023      	bteqz	48014674 <alltype_to_char+0x98>
4801462e:	9942      	lw	v0,8(s1)
48014630:	a241      	lbu	v0,1(v0)
48014632:	72bb      	cmpi	v0,187
48014634:	6758      	move	v0,t8
48014636:	5a01      	sltiu	v0,1
48014638:	601d      	bteqz	48014674 <alltype_to_char+0x98>
4801463a:	9942      	lw	v0,8(s1)
4801463c:	a242      	lbu	v0,2(v0)
4801463e:	72bf      	cmpi	v0,191
48014640:	6758      	move	v0,t8
48014642:	5a01      	sltiu	v0,1
48014644:	6017      	bteqz	48014674 <alltype_to_char+0x98>
48014646:	b412      	lw	a0,4801468c <alltype_to_char+0xb0>
           &&((uint8) source[1] == UTF8_FLAG_1)
           &&((uint8) source[2] == UTF8_FLAG_2))
    {
        //若是UTF8需转换后再存储
        libc_memcpy(temp_plist_buf, source + 3, size * 2);
48014648:	9942      	lw	v0,8(s1)
4801464a:	4263      	addiu	v1,v0,3
4801464c:	a150      	lbu	v0,16(s1)
4801464e:	3244      	sll	v0,1
48014650:	67a3      	move	a1,v1
48014652:	67c2      	move	a2,v0
48014654:	6f00      	li	a3,0
48014656:	b20f      	lw	v0,48014690 <alltype_to_char+0xb4>
48014658:	eac0      	jalrc	v0
4801465a:	b40d      	lw	a0,4801468c <alltype_to_char+0xb0>
        //utf8转换成内码
        utf8_to_char(temp_plist_buf, (uint16) (size * 3), land_id);
4801465c:	a170      	lbu	v1,16(s1)
4801465e:	6743      	move	v0,v1
48014660:	3244      	sll	v0,1
48014662:	e269      	addu	v0,v1
48014664:	ea31      	zeh	v0
48014666:	a16c      	lbu	v1,12(s1)
48014668:	67a2      	move	a1,v0
4801466a:	67c3      	move	a2,v1
4801466c:	1810 5162 	jal	48014588 <utf8_to_char>
48014670:	6500      	nop
48014672:	1008      	b	48014684 <alltype_to_char+0xa8>
48014674:	b206      	lw	v0,4801468c <alltype_to_char+0xb0>
    }
    else
    {
        libc_memcpy(temp_plist_buf, source, (uint32) size);
48014676:	9962      	lw	v1,8(s1)
48014678:	a1d0      	lbu	a2,16(s1)
4801467a:	6782      	move	a0,v0
4801467c:	67a3      	move	a1,v1
4801467e:	6f00      	li	a3,0
48014680:	b204      	lw	v0,48014690 <alltype_to_char+0xb4>
48014682:	eac0      	jalrc	v0
48014684:	6a01      	li	v0,1
    }
    
    return TRUE;
48014686:	65b9      	move	sp,s1
}
48014688:	6451      	restore	8,ra,s1
4801468a:	e8a0      	jrc	ra
4801468c:	5694      	slti	a2,148
4801468e:	9fc1      	lw	a2,4(a3)
48014690:	6409      	restore	72
48014692:	bfc1      	lwu	a2,4(a3)

48014694 <copy_deal_string>:
48014694:	64d3      	save	24,ra,s1
/******************************************************************************/
/*
 * \par  Description:   拷贝字符串，若是UNICODE或UTF8会转换成对应的语言
 *
 * \param[in]    dest--目的字符串
 source--源字符串
 land_id--语言id
 size--字符长度

 * \param[out]

 * \return

 * \note
 *******************************************************************************/
//拷贝信息字符串
void copy_deal_string(char *dest, char * source, uint8 land_id, uint8 size)
{
48014696:	0104      	addiu	s1,sp,16
48014698:	d982      	sw	a0,8(s1)
4801469a:	d9a3      	sw	a1,12(s1)
4801469c:	6746      	move	v0,a2
4801469e:	6767      	move	v1,a3
480146a0:	c150      	sb	v0,16(s1)
480146a2:	c174      	sb	v1,20(s1)
480146a4:	9943      	lw	v0,12(s1)
    alltype_to_char(source, land_id, size);
480146a6:	a170      	lbu	v1,16(s1)
480146a8:	a1d4      	lbu	a2,20(s1)
480146aa:	6782      	move	a0,v0
480146ac:	67a3      	move	a1,v1
480146ae:	1810 5177 	jal	480145dc <alltype_to_char>
480146b2:	6500      	nop
480146b4:	9942      	lw	v0,8(s1)
    libc_memcpy(dest, temp_plist_buf, (uint32) size);
480146b6:	b306      	lw	v1,480146cc <copy_deal_string+0x38>
480146b8:	a1d4      	lbu	a2,20(s1)
480146ba:	6782      	move	a0,v0
480146bc:	67a3      	move	a1,v1
480146be:	6f00      	li	a3,0
480146c0:	b204      	lw	v0,480146d0 <copy_deal_string+0x3c>
480146c2:	eac0      	jalrc	v0
480146c4:	65b9      	move	sp,s1
}
480146c6:	6451      	restore	8,ra,s1
480146c8:	e8a0      	jrc	ra
480146ca:	0000      	addiu	s0,sp,0
480146cc:	5694      	slti	a2,148
480146ce:	9fc1      	lw	a2,4(a3)
480146d0:	6409      	restore	72
480146d2:	bfc1      	lwu	a2,4(a3)
	...
Disassembly of section BANK_UI_1_1:

48054400 <mbyte_to_wchar>:
48054400:	6492      	save	16,s1

 * \note    ASC转成UNICODE，自动加入标识符和结束符
 *******************************************************************************/
static uint16 mbyte_to_wchar(uint8 *dest, uint8 *src)
{
48054402:	673d      	move	s1,sp
48054404:	d984      	sw	a0,16(s1)
48054406:	d9a5      	sw	a1,20(s1)
48054408:	6a00      	li	v0,0
    uint16 num = 0;
4805440a:	c940      	sh	v0,0(s1)
4805440c:	9964      	lw	v1,16(s1)

#ifdef USE_83NAME_CREAT

    while(*src!=0x00)
    {
        *dest=*src;
        dest++;
        src++;
        num++;
    }

    dest=0x00;

#else

    *dest = 0xff;
4805440e:	6a01      	li	v0,1
48054410:	ea4b      	neg	v0
48054412:	c340      	sb	v0,0(v1)
48054414:	9964      	lw	v1,16(s1)
    *(dest + 1) = 0xfe;
48054416:	6a02      	li	v0,2
48054418:	ea4b      	neg	v0
4805441a:	c341      	sb	v0,1(v1)
4805441c:	9944      	lw	v0,16(s1)
    dest += 2;
4805441e:	4242      	addiu	v0,v0,2
48054420:	d944      	sw	v0,16(s1)
48054422:	9945      	lw	v0,20(s1)

    while (*src != 0x00)
48054424:	a240      	lbu	v0,0(v0)
48054426:	2211      	beqz	v0,4805444a <mbyte_to_wchar+0x4a>
48054428:	9964      	lw	v1,16(s1)
    {
        *dest = *src;
4805442a:	9945      	lw	v0,20(s1)
4805442c:	a240      	lbu	v0,0(v0)
4805442e:	c340      	sb	v0,0(v1)
48054430:	9964      	lw	v1,16(s1)
        *(dest + 1) = 0x00;
48054432:	6a00      	li	v0,0
48054434:	c341      	sb	v0,1(v1)
48054436:	9944      	lw	v0,16(s1)
        dest += 2;
48054438:	4242      	addiu	v0,v0,2
4805443a:	d944      	sw	v0,16(s1)
4805443c:	9945      	lw	v0,20(s1)
        src++;
4805443e:	4241      	addiu	v0,v0,1
48054440:	d945      	sw	v0,20(s1)
48054442:	a940      	lhu	v0,0(s1)
        num++;
48054444:	4241      	addiu	v0,v0,1
48054446:	c940      	sh	v0,0(s1)
48054448:	17ec      	b	48054422 <mbyte_to_wchar+0x22>
4805444a:	9964      	lw	v1,16(s1)
    }

    *dest = 0x00;
4805444c:	6a00      	li	v0,0
4805444e:	c340      	sb	v0,0(v1)
48054450:	9964      	lw	v1,16(s1)
    *(dest + 1) = 0x00;
48054452:	6a00      	li	v0,0
48054454:	c341      	sb	v0,1(v1)
48054456:	a940      	lhu	v0,0(s1)

#endif

    return num;
48054458:	651a      	move	t8,v0
4805445a:	6758      	move	v0,t8

}
4805445c:	65b9      	move	sp,s1
4805445e:	6412      	restore	16,s1
48054460:	e8a0      	jrc	ra
	...

48054464 <creat_userpl_table>:
48054464:	64d6      	save	48,ra,s1

/******************************************************************************/
/*
 * \par  Description: 创建收藏夹文件
 *
 * \param[in]

 * \param[out]

 * \return

 * \note
 *******************************************************************************/
bool creat_userpl_table(void)
{
48054466:	0106      	addiu	s1,sp,24
48054468:	6a00      	li	v0,0
    handle ret_hdl;
    uint8 tmp_sn;
    userpl_head_t *tmp_user_pl_head;
    uint32 temp32 = 0;
4805446a:	d943      	sw	v0,12(s1)
4805446c:	b29c      	lw	v0,480546dc <.L11+0x17c>


    tmp_user_pl_head = (userpl_head_t*) temp_plist_buf;
4805446e:	d942      	sw	v0,8(s1)
48054470:	6a00      	li	v0,0
            
    for (tmp_sn = 0; tmp_sn < USERPL_MAX; tmp_sn++)
48054472:	c144      	sb	v0,4(s1)
48054474:	a144      	lbu	v0,4(s1)
48054476:	5a03      	sltiu	v0,3
48054478:	f120 600b 	bteqz	480546d2 <.L11+0x172>
4805447c:	b299      	lw	v0,480546e0 <.L11+0x180>
    {
        //判断文件会改变路径，必须每次回到根目录
        vfs_cd(ap_vfs_mount, CD_ROOT, 0);
4805447e:	9a60      	lw	v1,0(v0)
48054480:	6a00      	li	v0,0
48054482:	d204      	sw	v0,16(sp)
48054484:	6783      	move	a0,v1
48054486:	6d3a      	li	a1,58
48054488:	6e00      	li	a2,0
4805448a:	6f00      	li	a3,0
4805448c:	b296      	lw	v0,480546e4 <.L11+0x184>
4805448e:	eac0      	jalrc	v0
48054490:	b493      	lw	a0,480546d8 <.L11+0x178>
        mbyte_to_wchar(temp_plist_buf, (uint8*) &userpl_name[tmp_sn]);
48054492:	a164      	lbu	v1,4(s1)
48054494:	6743      	move	v0,v1
48054496:	3244      	sll	v0,1
48054498:	e269      	addu	v0,v1
4805449a:	3348      	sll	v1,v0,2
4805449c:	b293      	lw	v0,480546e8 <.L11+0x188>
4805449e:	e349      	addu	v0,v1,v0
480544a0:	67a2      	move	a1,v0
480544a2:	1830 5100 	jal	48054400 <mbyte_to_wchar>
480544a6:	6500      	nop
480544a8:	b28e      	lw	v0,480546e0 <.L11+0x180>
        ret_hdl = vfs_file_open(ap_vfs_mount, temp_plist_buf, R_NORMAL_SEEK);
480544aa:	9a60      	lw	v1,0(v0)
480544ac:	b58c      	lw	a1,480546dc <.L11+0x17c>
480544ae:	6a05      	li	v0,5
480544b0:	d204      	sw	v0,16(sp)
480544b2:	6783      	move	a0,v1
480544b4:	6e00      	li	a2,0
480544b6:	6f00      	li	a3,0
480544b8:	b28b      	lw	v0,480546e4 <.L11+0x184>
480544ba:	eac0      	jalrc	v0
480544bc:	d940      	sw	v0,0(s1)
480544be:	9940      	lw	v0,0(s1)

        if (ret_hdl != 0)
480544c0:	221c      	beqz	v0,480544fa <creat_userpl_table+0x96>
480544c2:	b288      	lw	v0,480546e0 <.L11+0x180>
        {
            //判断文件是否改变大小了
            vfs_file_get_size(ap_vfs_mount, &temp32, ret_hdl, 0);
480544c4:	9a60      	lw	v1,0(v0)
480544c6:	41a7      	addiu	a1,s1,7
480544c8:	45a5      	addiu	a1,a1,5
480544ca:	99c0      	lw	a2,0(s1)
480544cc:	6a09      	li	v0,9
480544ce:	d204      	sw	v0,16(sp)
480544d0:	6783      	move	a0,v1
480544d2:	6f00      	li	a3,0
480544d4:	b284      	lw	v0,480546e4 <.L11+0x184>
480544d6:	eac0      	jalrc	v0
480544d8:	9943      	lw	v0,12(s1)
            if (temp32 < (((USERPL_FILE_MAX / USERPL_PRE_SEC) + USERPL_HEAD_SEC) * SECTOR_SIZE))
480544da:	f60c 5a00 	sltiu	v0,26112
480544de:	6040      	bteqz	48054560 <.L11>
480544e0:	b280      	lw	v0,480546e0 <.L11+0x180>
            {
                //收藏夹文件变大了，需要重新创建
                vfs_file_close(ap_vfs_mount, ret_hdl);
480544e2:	9a60      	lw	v1,0(v0)
480544e4:	99a0      	lw	a1,0(s1)
480544e6:	6a07      	li	v0,7
480544e8:	d204      	sw	v0,16(sp)
480544ea:	6783      	move	a0,v1
480544ec:	6e00      	li	a2,0
480544ee:	6f00      	li	a3,0
480544f0:	b27d      	lw	v0,480546e4 <.L11+0x184>
480544f2:	eac0      	jalrc	v0
480544f4:	6a00      	li	v0,0
                ret_hdl = 0;
480544f6:	d940      	sw	v0,0(s1)
480544f8:	1033      	b	48054560 <.L11>
480544fa:	a164      	lbu	v1,4(s1)
            }
        }
        else
        {
            libc_memcpy(temp_plist_buf,(uint8*) &userpl_name_short[tmp_sn],libc_strlen(userpl_name_short[tmp_sn]));
480544fc:	6743      	move	v0,v1
480544fe:	3244      	sll	v0,1
48054500:	e269      	addu	v0,v1
48054502:	3348      	sll	v1,v0,2
48054504:	b27a      	lw	v0,480546ec <.L11+0x18c>
48054506:	e349      	addu	v0,v1,v0
48054508:	6782      	move	a0,v0
4805450a:	6d00      	li	a1,0
4805450c:	6e00      	li	a2,0
4805450e:	6f03      	li	a3,3
48054510:	b278      	lw	v0,480546f0 <.L11+0x190>
48054512:	eac0      	jalrc	v0
48054514:	651a      	move	t8,v0
48054516:	b472      	lw	a0,480546dc <.L11+0x17c>
48054518:	a164      	lbu	v1,4(s1)
4805451a:	6743      	move	v0,v1
4805451c:	3244      	sll	v0,1
4805451e:	e269      	addu	v0,v1
48054520:	3348      	sll	v1,v0,2
48054522:	b273      	lw	v0,480546ec <.L11+0x18c>
48054524:	e349      	addu	v0,v1,v0
48054526:	67a2      	move	a1,v0
48054528:	67d8      	move	a2,t8
4805452a:	6f00      	li	a3,0
4805452c:	b271      	lw	v0,480546f0 <.L11+0x190>
4805452e:	eac0      	jalrc	v0
48054530:	b26c      	lw	v0,480546dc <.L11+0x17c>
            vfs_file_dir_remove(ap_vfs_mount, temp_plist_buf, FS_FILE);//清除短名
48054532:	9a60      	lw	v1,0(v0)
48054534:	b56a      	lw	a1,480546dc <.L11+0x17c>
48054536:	6a08      	li	v0,8
48054538:	d204      	sw	v0,16(sp)
4805453a:	6783      	move	a0,v1
4805453c:	6e01      	li	a2,1
4805453e:	6f00      	li	a3,0
48054540:	b269      	lw	v0,480546e4 <.L11+0x184>
48054542:	eac0      	jalrc	v0
48054544:	6a00      	li	v0,0
            ret_hdl = 0;
48054546:	d940      	sw	v0,0(s1)
48054548:	b465      	lw	a0,480546dc <.L11+0x17c>
            mbyte_to_wchar(temp_plist_buf, (uint8*) &userpl_name[tmp_sn]);
4805454a:	a164      	lbu	v1,4(s1)
4805454c:	6743      	move	v0,v1
4805454e:	3244      	sll	v0,1
48054550:	e269      	addu	v0,v1
48054552:	3348      	sll	v1,v0,2
48054554:	b265      	lw	v0,480546e8 <.L11+0x188>
48054556:	e349      	addu	v0,v1,v0
48054558:	67a2      	move	a1,v0
4805455a:	1830 5100 	jal	48054400 <mbyte_to_wchar>
4805455e:	6500      	nop

48054560 <.L11>:
48054560:	9940      	lw	v0,0(s1)
        }

        creat_file: if (ret_hdl == 0)
48054562:	2a70      	bnez	v0,48054644 <.L11+0xe4>
48054564:	b25f      	lw	v0,480546e0 <.L11+0x180>
        {

            vfs_file_dir_remove(ap_vfs_mount, temp_plist_buf, FS_FILE);//清除长名
48054566:	9a60      	lw	v1,0(v0)
48054568:	b55d      	lw	a1,480546dc <.L11+0x17c>
4805456a:	6a08      	li	v0,8
4805456c:	d204      	sw	v0,16(sp)
4805456e:	6783      	move	a0,v1
48054570:	6e01      	li	a2,1
48054572:	6f00      	li	a3,0
48054574:	b25c      	lw	v0,480546e4 <.L11+0x184>
48054576:	eac0      	jalrc	v0
48054578:	b25a      	lw	v0,480546dc <.L11+0x17c>
            ret_hdl = vfs_file_create(ap_vfs_mount, temp_plist_buf, USERPL_PL_SIZE);
4805457a:	9a60      	lw	v1,0(v0)
4805457c:	b558      	lw	a1,480546dc <.L11+0x17c>
4805457e:	f60c 6e00 	li	a2,26112
48054582:	6a06      	li	v0,6
48054584:	d204      	sw	v0,16(sp)
48054586:	6783      	move	a0,v1
48054588:	6f00      	li	a3,0
4805458a:	b257      	lw	v0,480546e4 <.L11+0x184>
4805458c:	eac0      	jalrc	v0
4805458e:	d940      	sw	v0,0(s1)
48054590:	9940      	lw	v0,0(s1)

            if (0 != ret_hdl)
48054592:	f080 221a 	beqz	v0,480546ca <.L11+0x16a>
48054596:	b253      	lw	v0,480546e0 <.L11+0x180>
            {
#ifdef HIDE_FILE_OPT
                vfs_file_attralter(ap_vfs_mount, ATTR_HIDDEN, ret_hdl, 0);
48054598:	9a60      	lw	v1,0(v0)
4805459a:	99c0      	lw	a2,0(s1)
4805459c:	6a13      	li	v0,19
4805459e:	d204      	sw	v0,16(sp)
480545a0:	6783      	move	a0,v1
480545a2:	6d02      	li	a1,2
480545a4:	6f00      	li	a3,0
480545a6:	b250      	lw	v0,480546e4 <.L11+0x184>
480545a8:	eac0      	jalrc	v0
480545aa:	b24d      	lw	v0,480546dc <.L11+0x17c>
#endif                
                libc_memset(temp_plist_buf, 0, SECTOR_SIZE);
480545ac:	f200 6b00 	li	v1,512
480545b0:	6782      	move	a0,v0
480545b2:	6d00      	li	a1,0
480545b4:	67c3      	move	a2,v1
480545b6:	6f01      	li	a3,1
480545b8:	b24e      	lw	v0,480546f0 <.L11+0x190>
480545ba:	eac0      	jalrc	v0
480545bc:	9982      	lw	a0,8(s1)

                libc_memcpy(tmp_user_pl_head->file_name, &userpl_name[tmp_sn], 8);
480545be:	a164      	lbu	v1,4(s1)
480545c0:	6743      	move	v0,v1
480545c2:	3244      	sll	v0,1
480545c4:	e269      	addu	v0,v1
480545c6:	3348      	sll	v1,v0,2
480545c8:	b248      	lw	v0,480546e8 <.L11+0x188>
480545ca:	e349      	addu	v0,v1,v0
480545cc:	67a2      	move	a1,v0
480545ce:	6e08      	li	a2,8
480545d0:	6f00      	li	a3,0
480545d2:	b248      	lw	v0,480546f0 <.L11+0x190>
480545d4:	eac0      	jalrc	v0
480545d6:	9962      	lw	v1,8(s1)

                tmp_user_pl_head->file_num = 0;
480545d8:	6a00      	li	v0,0
480545da:	cb44      	sh	v0,8(v1)
480545dc:	9962      	lw	v1,8(s1)
                tmp_user_pl_head->first_offset = 0;
480545de:	6a00      	li	v0,0
480545e0:	cb45      	sh	v0,10(v1)
480545e2:	9962      	lw	v1,8(s1)
                tmp_user_pl_head->last_offset = USERPL_FILE_MAX - 1;
480545e4:	6a63      	li	v0,99
480545e6:	cb46      	sh	v0,12(v1)
480545e8:	b33d      	lw	v1,480546dc <.L11+0x17c>
                
                //加入标识符
                temp_plist_buf[510] = 0x55;
480545ea:	6a55      	li	v0,85
480545ec:	f1e0 c35e 	sb	v0,510(v1)
480545f0:	b33b      	lw	v1,480546dc <.L11+0x17c>
                temp_plist_buf[511] = 0xAA;
480545f2:	6a56      	li	v0,86
480545f4:	ea4b      	neg	v0
480545f6:	f1e0 c35f 	sb	v0,511(v1)
480545fa:	b23a      	lw	v0,480546e0 <.L11+0x180>
                
                //写入第1个扇区
                vfs_file_write(ap_vfs_mount, temp_plist_buf, SECTOR_SIZE, ret_hdl);   
480545fc:	9a60      	lw	v1,0(v0)
480545fe:	b538      	lw	a1,480546dc <.L11+0x17c>
48054600:	f200 6e00 	li	a2,512
48054604:	99e0      	lw	a3,0(s1)
48054606:	6a0e      	li	v0,14
48054608:	d204      	sw	v0,16(sp)
4805460a:	6783      	move	a0,v1
4805460c:	b236      	lw	v0,480546e4 <.L11+0x184>
4805460e:	eac0      	jalrc	v0
48054610:	b233      	lw	v0,480546d8 <.L11+0x178>

                //初始化链表
                libc_memset(temp_plist_buf, 0, SECTOR_SIZE);
48054612:	f200 6b00 	li	v1,512
48054616:	6782      	move	a0,v0
48054618:	6d00      	li	a1,0
4805461a:	67c3      	move	a2,v1
4805461c:	6f01      	li	a3,1
4805461e:	b235      	lw	v0,480546f0 <.L11+0x190>
48054620:	eac0      	jalrc	v0
48054622:	9940      	lw	v0,0(s1)
                init_userpl_table(ret_hdl, temp_plist_buf);
48054624:	b32e      	lw	v1,480546dc <.L11+0x17c>
48054626:	6782      	move	a0,v0
48054628:	67a3      	move	a1,v1
4805462a:	b233      	lw	v0,480546f4 <.L11+0x194>
4805462c:	eac0      	jalrc	v0
4805462e:	b22d      	lw	v0,480546e0 <.L11+0x180>
                
                vfs_file_close(ap_vfs_mount, ret_hdl);
48054630:	9a60      	lw	v1,0(v0)
48054632:	99a0      	lw	a1,0(s1)
48054634:	6a07      	li	v0,7
48054636:	d204      	sw	v0,16(sp)
48054638:	6783      	move	a0,v1
4805463a:	6e00      	li	a2,0
4805463c:	6f00      	li	a3,0
4805463e:	b22a      	lw	v0,480546e4 <.L11+0x184>
48054640:	eac0      	jalrc	v0
48054642:	1043      	b	480546ca <.L11+0x16a>
48054644:	b227      	lw	v0,480546e0 <.L11+0x180>
            }

        }
        else
        {
            vfs_file_read(ap_vfs_mount, temp_plist_buf, SECTOR_SIZE, ret_hdl);
48054646:	9a60      	lw	v1,0(v0)
48054648:	b525      	lw	a1,480546dc <.L11+0x17c>
4805464a:	f200 6e00 	li	a2,512
4805464e:	99e0      	lw	a3,0(s1)
48054650:	6a0d      	li	v0,13
48054652:	d204      	sw	v0,16(sp)
48054654:	6783      	move	a0,v1
48054656:	b224      	lw	v0,480546e4 <.L11+0x184>
48054658:	eac0      	jalrc	v0
4805465a:	b221      	lw	v0,480546dc <.L11+0x17c>

            if ((temp_plist_buf[510] != 0x55) || (temp_plist_buf[511] != 0xAA))
4805465c:	f1e0 a25e 	lbu	v0,510(v0)
48054660:	7255      	cmpi	v0,85
48054662:	6758      	move	v0,t8
48054664:	5a01      	sltiu	v0,1
48054666:	6008      	bteqz	48054678 <.L11+0x118>
48054668:	b21d      	lw	v0,480546dc <.L11+0x17c>
4805466a:	f1e0 a25f 	lbu	v0,511(v0)
4805466e:	72aa      	cmpi	v0,170
48054670:	6758      	move	v0,t8
48054672:	5a01      	sltiu	v0,1
48054674:	6001      	bteqz	48054678 <.L11+0x118>
48054676:	1019      	b	480546aa <.L11+0x14a>
48054678:	b419      	lw	a0,480546dc <.L11+0x17c>
            {
                //表格式不对，重建
                mbyte_to_wchar(temp_plist_buf, (uint8*) &userpl_name[tmp_sn]);
4805467a:	a164      	lbu	v1,4(s1)
4805467c:	6743      	move	v0,v1
4805467e:	3244      	sll	v0,1
48054680:	e269      	addu	v0,v1
48054682:	3348      	sll	v1,v0,2
48054684:	b219      	lw	v0,480546e8 <.L11+0x188>
48054686:	e349      	addu	v0,v1,v0
48054688:	67a2      	move	a1,v0
4805468a:	1830 5100 	jal	48054400 <mbyte_to_wchar>
4805468e:	6500      	nop
48054690:	b214      	lw	v0,480546e0 <.L11+0x180>
                vfs_file_close(ap_vfs_mount, ret_hdl);
48054692:	9a60      	lw	v1,0(v0)
48054694:	99a0      	lw	a1,0(s1)
48054696:	6a07      	li	v0,7
48054698:	d204      	sw	v0,16(sp)
4805469a:	6783      	move	a0,v1
4805469c:	6e00      	li	a2,0
4805469e:	6f00      	li	a3,0
480546a0:	b211      	lw	v0,480546e4 <.L11+0x184>
480546a2:	eac0      	jalrc	v0
480546a4:	6a00      	li	v0,0
                ret_hdl = 0;
480546a6:	d940      	sw	v0,0(s1)
480546a8:	175b      	b	48054560 <.L11>
                goto creat_file;
480546aa:	b20d      	lw	v0,480546dc <.L11+0x17c>
            }

            reflash_userpl_table(temp_plist_buf, ret_hdl);
480546ac:	9960      	lw	v1,0(s1)
480546ae:	6782      	move	a0,v0
480546b0:	67a3      	move	a1,v1
480546b2:	b212      	lw	v0,480546f8 <.L11+0x198>
480546b4:	eac0      	jalrc	v0
480546b6:	b20b      	lw	v0,480546e0 <.L11+0x180>
            vfs_file_close(ap_vfs_mount, ret_hdl);
480546b8:	9a60      	lw	v1,0(v0)
480546ba:	99a0      	lw	a1,0(s1)
480546bc:	6a07      	li	v0,7
480546be:	d204      	sw	v0,16(sp)
480546c0:	6783      	move	a0,v1
480546c2:	6e00      	li	a2,0
480546c4:	6f00      	li	a3,0
480546c6:	b208      	lw	v0,480546e4 <.L11+0x184>
480546c8:	eac0      	jalrc	v0
480546ca:	a144      	lbu	v0,4(s1)
480546cc:	4241      	addiu	v0,v0,1
480546ce:	c144      	sb	v0,4(s1)
480546d0:	16d1      	b	48054474 <creat_userpl_table+0x10>
480546d2:	6a01      	li	v0,1
        }

    }
    return TRUE;
480546d4:	65b9      	move	sp,s1
}
480546d6:	6453      	restore	24,ra,s1
480546d8:	e8a0      	jrc	ra
480546da:	0000      	addiu	s0,sp,0
480546dc:	5694      	slti	a2,148
480546de:	9fc1      	lw	a2,4(a3)
480546e0:	5570      	slti	a1,112
480546e2:	9fc1      	lw	a2,4(a3)
480546e4:	6411      	restore	8,s1
480546e6:	bfc1      	lwu	a2,4(a3)
480546e8:	4708      	addiu	s0,a3,-8
480546ea:	4805      	addiu	s0,5
480546ec:	472c      	addiu	s1,a3,-4
480546ee:	4805      	addiu	s0,5
480546f0:	6409      	restore	72
480546f2:	bfc1      	lwu	a2,4(a3)
480546f4:	b485      	lw	a0,48054908 <userpl_name_short+0x1dc>
480546f6:	7881      	sd	a0,8(s0)
480546f8:	b519      	lw	a1,4805475c <userpl_name_short+0x30>
480546fa:	7881      	sd	a0,8(s0)

480546fc <creat_vm_userpl_table>:
480546fc:	6491      	save	8,s1

/******************************************************************************/
/*
 * \par  Description: 创建收藏夹文件，放在VM空间
 *
 * \param[in]

 * \param[out]

 * \return

 * \note
 *******************************************************************************/
static bool creat_vm_userpl_table(void)
{
480546fe:	673d      	move	s1,sp
48054700:	6a01      	li	v0,1
 /*   uint8 tmp_sn, temp;
    userpl_head_t *tmp_user_pl_head;
    uint32 uspl_vm_addr;

    tmp_user_pl_head = (userpl_head_t*) temp_plist_buf;

    for (tmp_sn = 0; tmp_sn < USERPL_MAX; tmp_sn++)
    {
        uspl_vm_addr = VM_USERPL_INFO + (uint32) tmp_sn * USERPL_VM_SIZE;
        sys_vm_read(temp_plist_buf, uspl_vm_addr, SECTOR_SIZE);

        if ((temp_plist_buf[510] != 0x55) || (temp_plist_buf[511] != 0xAA))
        {
            //表格式不对，重建
            goto creat_file;
        }

        if (0 == libc_memcmp(tmp_user_pl_head->file_name, &userpl_name[tmp_sn], 7))
        {
            //表格正确，next
            reflash_userpl_table(temp_plist_buf, uspl_vm_addr);
            continue;
        }

        creat_file:

        libc_memset(temp_plist_buf, 0, SECTOR_SIZE);
        tmp_user_pl_head = (userpl_head_t*) temp_plist_buf;
        libc_memcpy(tmp_user_pl_head->file_name, &userpl_name[tmp_sn], 7);
        //        tmp_user_pl_head->file_num = 0;
        //        tmp_user_pl_head->first_offset = 0;
        //        tmp_user_pl_head->last_offset = 0;

        //加入标识符
        temp_plist_buf[510] = 0x55;
        temp_plist_buf[511] = 0xAA;

        sys_vm_write(temp_plist_buf, uspl_vm_addr, SECTOR_SIZE);

        libc_memset(temp_plist_buf, 0, SECTOR_SIZE);
        for (temp = 0; temp < (USERPL_FILE_MAX / USERPL_PRE_SEC); temp++)
        {
            uspl_vm_addr = uspl_vm_addr + SECTOR_SIZE;
            sys_vm_write(temp_plist_buf, uspl_vm_addr, SECTOR_SIZE);
        }

    }*/

    return TRUE;
48054702:	65b9      	move	sp,s1

}
48054704:	6411      	restore	8,s1
48054706:	e8a0      	jrc	ra

48054708 <userpl_name>:
48054708:	5355 5245 4c50 2e31 4c50 0000 5355 5245     USERPL1.PL..USER
48054718:	4c50 2e32 4c50 0000 5355 5245 4c50 2e33     PL2.PL..USERPL3.
48054728:	4c50 0000                                   PL..

4805472c <userpl_name_short>:
4805472c:	5355 5245 4c50 2031 4c50 0020 5355 5245     USERPL1 PL .USER
4805473c:	4c50 2032 4c50 0020 5355 5245 4c50 2033     PL2 PL .USERPL3 
4805474c:	4c50 0020 0000 0000 0000 0000 0000 0000     PL .............
	...
Disassembly of section BANK_UI_1_2:

48094400 <_save_update_flag>:
48094400:	64d4      	save	32,ra,s1
 * \ingroup      video
 * \note
 *******************************************************************************/
static void _save_update_flag(void)
{
48094402:	0104      	addiu	s1,sp,16
48094404:	6a00      	li	v0,0
	uint32 update_flag = 0;
48094406:	d940      	sw	v0,0(s1)
48094408:	b20d      	lw	v0,4809443c <_save_update_flag+0x3c>
	sys_vm_read(&update_flag, UDISK_VM, sizeof(uint32));
4809440a:	6791      	move	a0,s1
4809440c:	67a2      	move	a1,v0
4809440e:	6e04      	li	a2,4
48094410:	6f12      	li	a3,18
48094412:	b20c      	lw	v0,48094440 <_save_update_flag+0x40>
48094414:	eac0      	jalrc	v0
48094416:	9960      	lw	v1,0(s1)
#ifdef  _CARD_BASE_	        
	if ((update_flag & 0x00000001) != 0)
48094418:	6a01      	li	v0,1
4809441a:	ea6c      	and	v0,v1
4809441c:	2205      	beqz	v0,48094428 <_save_update_flag+0x28>
4809441e:	9940      	lw	v0,0(s1)
	{
		update_flag &= 0xfffffffe; //清除flash盘写标志
48094420:	6b02      	li	v1,2
48094422:	eb6b      	neg	v1
48094424:	ea6c      	and	v0,v1
48094426:	d940      	sw	v0,0(s1)
48094428:	b205      	lw	v0,4809443c <_save_update_flag+0x3c>
	}
#else
	if ((update_flag & 0x00000001) != 0)
	{
		update_flag &= 0xfffffffe; //清除flash盘写标志
	}
	if ((update_flag & 0x00010000) != 0)
	{
		update_flag &= 0xfffeffff; //清除卡盘写标志			 
	}
#endif
	sys_vm_write(&update_flag, UDISK_VM, sizeof(uint32));
4809442a:	6791      	move	a0,s1
4809442c:	67a2      	move	a1,v0
4809442e:	6e04      	li	a2,4
48094430:	6f13      	li	a3,19
48094432:	b204      	lw	v0,48094440 <_save_update_flag+0x40>
48094434:	eac0      	jalrc	v0
48094436:	65b9      	move	sp,s1

}
48094438:	6452      	restore	16,ra,s1
4809443a:	e8a0      	jrc	ra
4809443c:	8000      	lb	s0,0(s0)
4809443e:	0002      	addiu	s0,sp,8
48094440:	640d      	restore	104
48094442:	bfc1      	lwu	a2,4(a3)

48094444 <_set_cpuclock>:
48094444:	6491      	save	8,s1

/******************************************************************************/
/*!
 * \par  Description:
 *    设置PCM的CPU时钟
 * \param[in]    void
 * \param[out]   none
 * \return       none
 * \retval       none
 * \ingroup      video
 * \note
 *******************************************************************************/
static void _set_cpuclock(void)
{
48094446:	673d      	move	s1,sp
48094448:	b310      	lw	v1,48094488 <_set_cpuclock+0x44>
    cmu_memclken_bak = *((REG32)(CMU_MEMCLKEN));
4809444a:	b211      	lw	v0,4809448c <_set_cpuclock+0x48>
4809444c:	9a40      	lw	v0,0(v0)
4809444e:	db40      	sw	v0,0(v1)
48094450:	b310      	lw	v1,48094490 <_set_cpuclock+0x4c>
    cmu_memclksel_bak = *((REG32)(CMU_MEMCLKSEL));
48094452:	b211      	lw	v0,48094494 <_set_cpuclock+0x50>
48094454:	9a40      	lw	v0,0(v0)
48094456:	db40      	sw	v0,0(v1)
48094458:	b40d      	lw	a0,4809448c <_set_cpuclock+0x48>

    *((REG32)(CMU_MEMCLKEN)) &= (~((1 << CMU_MEMCLKEN_PCMRAM0CLKEN) |
4809445a:	b20d      	lw	v0,4809448c <_set_cpuclock+0x48>
4809445c:	9a60      	lw	v1,0(v0)
4809445e:	6a0f      	li	v0,15
48094460:	ea4b      	neg	v0
48094462:	ea6c      	and	v0,v1
48094464:	dc40      	sw	v0,0(a0)
48094466:	b40a      	lw	a0,4809448c <_set_cpuclock+0x48>
                                    (1 << CMU_MEMCLKEN_PCMRAM1CLKEN) |
                                    (1 << CMU_MEMCLKEN_PCMRAM2CLKEN)));
    // enable pcmram0/1/2 clock
    *((REG32)(CMU_MEMCLKEN)) |= ((1 << CMU_MEMCLKEN_PCMRAM0CLKEN) |
48094468:	b209      	lw	v0,4809448c <_set_cpuclock+0x48>
4809446a:	9a60      	lw	v1,0(v0)
4809446c:	6a0e      	li	v0,14
4809446e:	ea6d      	or	v0,v1
48094470:	dc40      	sw	v0,0(a0)
48094472:	b409      	lw	a0,48094494 <_set_cpuclock+0x50>
                                  (1 << CMU_MEMCLKEN_PCMRAM1CLKEN) |
                                  (1 << CMU_MEMCLKEN_PCMRAM2CLKEN));

    *((REG32)(CMU_MEMCLKSEL)) &= (~(CMU_MEMCLKSEL_PCMRAM0CLKSEL_MASK |
48094474:	b208      	lw	v0,48094494 <_set_cpuclock+0x50>
48094476:	9a60      	lw	v1,0(v0)
48094478:	f320 6a14 	li	v0,820
4809447c:	ea4b      	neg	v0
4809447e:	ea6c      	and	v0,v1
48094480:	dc40      	sw	v0,0(a0)
48094482:	65b9      	move	sp,s1
                                    CMU_MEMCLKSEL_PCMRAM1CLKSEL_MASK | 
                                    CMU_MEMCLKSEL_PCMRAM2CLKSEL_MASK));
}
48094484:	6411      	restore	8,s1
48094486:	e8a0      	jrc	ra
48094488:	5590      	slti	a1,144
4809448a:	9fc1      	lw	a2,4(a3)
4809448c:	1040      	b	4809450e <close_engine+0x4a>
4809448e:	c000      	sb	s0,0(s0)
48094490:	5594      	slti	a1,148
48094492:	9fc1      	lw	a2,4(a3)
48094494:	1044      	b	4809451e <get_engine_type+0x6>
48094496:	c000      	sb	s0,0(s0)

48094498 <_restore_clock>:
48094498:	6491      	save	8,s1

/******************************************************************************/
/*!
 * \par  Description:
 *    恢复PCM的时钟
 * \param[in]    void
 * \param[out]   none
 * \return       none
 * \retval       none
 * \ingroup      video
 * \note
 *******************************************************************************/
static void _restore_clock(void)
{
4809449a:	673d      	move	s1,sp
4809449c:	b306      	lw	v1,480944b4 <_restore_clock+0x1c>
    *((REG32)(CMU_MEMCLKEN)) = cmu_memclken_bak;
4809449e:	b207      	lw	v0,480944b8 <_restore_clock+0x20>
480944a0:	9a40      	lw	v0,0(v0)
480944a2:	db40      	sw	v0,0(v1)
480944a4:	b306      	lw	v1,480944bc <_restore_clock+0x24>
    *((REG32)(CMU_MEMCLKSEL)) = cmu_memclksel_bak;
480944a6:	b207      	lw	v0,480944c0 <_restore_clock+0x28>
480944a8:	9a40      	lw	v0,0(v0)
480944aa:	db40      	sw	v0,0(v1)
480944ac:	65b9      	move	sp,s1
}
480944ae:	6411      	restore	8,s1
480944b0:	e8a0      	jrc	ra
480944b2:	0000      	addiu	s0,sp,0
480944b4:	1040      	b	48094536 <get_engine_state+0x6>
480944b6:	c000      	sb	s0,0(s0)
480944b8:	5590      	slti	a1,144
480944ba:	9fc1      	lw	a2,4(a3)
480944bc:	1044      	b	48094546 <get_engine_state+0x16>
480944be:	c000      	sb	s0,0(s0)
480944c0:	5594      	slti	a1,148
480944c2:	9fc1      	lw	a2,4(a3)

480944c4 <close_engine>:
480944c4:	64d5      	save	40,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *    通知后台引擎退出
 * \param[in]    void
 * \param[out]   none
 * \return       none
 * \retval       none
 * \ingroup      video
 * \note
 *******************************************************************************/
static void close_engine(void)
{
480944c6:	0104      	addiu	s1,sp,16
480944c8:	1850 514c 	jal	48094530 <get_engine_state>
    msg_apps_t msg;
    engine_type_e engine_type;
    engine_state_e engine_status;

    engine_status = get_engine_state();
480944cc:	6500      	nop
480944ce:	c149      	sb	v0,9(s1)
480944d0:	a149      	lbu	v0,9(s1)

    if (engine_status != ENGINE_STATE_NULL)
480944d2:	221c      	beqz	v0,4809450c <close_engine+0x48>
480944d4:	1850 5146 	jal	48094518 <get_engine_type>
    {
        engine_type = get_engine_type();
480944d8:	6500      	nop
480944da:	c148      	sb	v0,8(s1)
480944dc:	f200 6a04 	li	v0,516

        //向process manager发消息要求后台退出
        msg.type = MSG_KILL_APP_SYNC;
480944e0:	d940      	sw	v0,0(s1)
480944e2:	a148      	lbu	v0,8(s1)
        if (engine_type == ENGINE_RADIO)
480944e4:	7202      	cmpi	v0,2
480944e6:	6758      	move	v0,t8
480944e8:	5a01      	sltiu	v0,1
480944ea:	6003      	bteqz	480944f2 <close_engine+0x2e>
480944ec:	6a0e      	li	v0,14
        {
            msg.content.data[0] = APP_ID_FMENGINE;
480944ee:	c144      	sb	v0,4(s1)
480944f0:	1007      	b	48094500 <close_engine+0x3c>
480944f2:	a148      	lbu	v0,8(s1)
        }
        else if (engine_type == ENGINE_MUSIC)
480944f4:	7201      	cmpi	v0,1
480944f6:	6758      	move	v0,t8
480944f8:	5a01      	sltiu	v0,1
480944fa:	6002      	bteqz	48094500 <close_engine+0x3c>
480944fc:	6a0d      	li	v0,13
        {
            msg.content.data[0] = APP_ID_MENGINE;
480944fe:	c144      	sb	v0,4(s1)
48094500:	6c08      	li	a0,8
        }
        else
        {
            ;//bug
        }
        send_sync_msg(APP_ID_MANAGER, &msg, NULL, 0);
48094502:	67b1      	move	a1,s1
48094504:	6e00      	li	a2,0
48094506:	6f00      	li	a3,0
48094508:	b203      	lw	v0,48094514 <close_engine+0x50>
4809450a:	eac0      	jalrc	v0
4809450c:	65b9      	move	sp,s1
    }

    return;
}
4809450e:	6453      	restore	24,ra,s1
48094510:	e8a0      	jrc	ra
48094512:	0000      	addiu	s0,sp,0
48094514:	4679      	daddiu	v1,a2,-7
48094516:	4849      	addiu	s0,73

48094518 <get_engine_type>:
48094518:	6491      	save	8,s1
#endif

///获取后台引擎类型 
static inline engine_type_e get_engine_type(void)
{
4809451a:	673d      	move	s1,sp
4809451c:	b204      	lw	v0,4809452c <get_engine_type+0x14>
    return g_app_info_state.type;
4809451e:	a240      	lbu	v0,0(v0)
48094520:	651a      	move	t8,v0
48094522:	6758      	move	v0,t8
}
48094524:	65b9      	move	sp,s1
48094526:	6411      	restore	8,s1
48094528:	e8a0      	jrc	ra
4809452a:	0000      	addiu	s0,sp,0
4809452c:	a1b8      	lbu	a1,24(s1)
4809452e:	9fc1      	lw	a2,4(a3)

48094530 <get_engine_state>:
48094530:	6491      	save	8,s1

///修改后台引擎类型
static inline void change_engine_type(engine_type_e type)
{
    g_app_info_state.type = type;
}

///获取后台引擎状态 
static inline engine_state_e get_engine_state(void) 
{
48094532:	673d      	move	s1,sp
48094534:	b204      	lw	v0,48094544 <get_engine_state+0x14>
    return g_app_info_state.state;
48094536:	a241      	lbu	v0,1(v0)
48094538:	651a      	move	t8,v0
4809453a:	6758      	move	v0,t8
}
4809453c:	65b9      	move	sp,s1
4809453e:	6411      	restore	8,s1
48094540:	e8a0      	jrc	ra
48094542:	0000      	addiu	s0,sp,0
48094544:	a1b8      	lbu	a1,24(s1)
48094546:	9fc1      	lw	a2,4(a3)

48094548 <_deal_playlist_result>:
48094548:	64d5      	save	40,ra,s1

//退出ap处理
void _deal_playlist_result(app_param_e enter_mode)
{
4809454a:	0104      	addiu	s1,sp,16
4809454c:	6744      	move	v0,a0
4809454e:	c158      	sb	v0,24(s1)
48094550:	f200 6a01 	li	v0,513
    msg_apps_t msg;
    //    bool need_send_msg = TRUE;

    //给process manager发送创建其它进程消息
    msg.type = MSG_CREAT_APP;
48094554:	d940      	sw	v0,0(s1)
48094556:	6a0d      	li	v0,13
    msg.content.data[1] = (uint8) PARAM_FROM_PLAYLIST;
48094558:	c145      	sb	v0,5(s1)
4809455a:	b227      	lw	v0,480945f4 <_deal_playlist_result+0xac>

    //退出前，清music的audible断点信息
    libc_memset(temp_plist_buf, 0, SECTOR_SIZE);
4809455c:	f200 6b00 	li	v1,512
48094560:	6782      	move	a0,v0
48094562:	6d00      	li	a1,0
48094564:	67c3      	move	a2,v1
48094566:	6f01      	li	a3,1
48094568:	b224      	lw	v0,480945f8 <_deal_playlist_result+0xb0>
4809456a:	eac0      	jalrc	v0
4809456c:	b222      	lw	v0,480945f0 <_deal_playlist_result+0xa8>
    sys_vm_write(temp_plist_buf, VM_AP_MUSIC_AUDBK, SECTOR_SIZE);
4809456e:	b324      	lw	v1,480945fc <_deal_playlist_result+0xb4>
48094570:	f200 6e00 	li	a2,512
48094574:	6782      	move	a0,v0
48094576:	67a3      	move	a1,v1
48094578:	6f13      	li	a3,19
4809457a:	b222      	lw	v0,48094600 <_deal_playlist_result+0xb8>
4809457c:	eac0      	jalrc	v0
4809457e:	a158      	lbu	v0,24(s1)
    
    switch (enter_mode)
48094580:	d942      	sw	v0,8(s1)
48094582:	9942      	lw	v0,8(s1)
48094584:	5a10      	sltiu	v0,16
48094586:	602c      	bteqz	480945e0 <_deal_playlist_result+0x98>
48094588:	9942      	lw	v0,8(s1)
4809458a:	3344      	sll	v1,v0,1
4809458c:	0a04      	la	v0,4809459c <_deal_playlist_result+0x54>
4809458e:	e349      	addu	v0,v1,v0
48094590:	aa40      	lhu	v0,0(v0)
48094592:	6762      	move	v1,v0
48094594:	ebb1      	seh	v1
48094596:	b21c      	lw	v0,48094604 <_deal_playlist_result+0xbc>
48094598:	e349      	addu	v0,v1,v0
4809459a:	ea80      	jrc	v0
4809459c:	0045      	addiu	s0,sp,276
4809459e:	0045      	addiu	s0,sp,276
480945a0:	0021      	addiu	s0,sp,132
480945a2:	0045      	addiu	s0,sp,276
480945a4:	0045      	addiu	s0,sp,276
480945a6:	0045      	addiu	s0,sp,276
480945a8:	0045      	addiu	s0,sp,276
480945aa:	0045      	addiu	s0,sp,276
480945ac:	0045      	addiu	s0,sp,276
480945ae:	0039      	addiu	s0,sp,228
480945b0:	0033      	addiu	s0,sp,204
480945b2:	0045      	addiu	s0,sp,276
480945b4:	003f      	addiu	s0,sp,252
480945b6:	0045      	addiu	s0,sp,276
480945b8:	0027      	addiu	s0,sp,156
480945ba:	002d      	addiu	s0,sp,180
480945bc:	6a00      	li	v0,0
    {
        case PARAM_FROM_MUSIC:
        msg.content.data[0] = APP_ID_MUSIC;
480945be:	c144      	sb	v0,4(s1)
480945c0:	1011      	b	480945e4 <_deal_playlist_result+0x9c>
        break;
480945c2:	6a09      	li	v0,9

        case PARAM_FROM_CONFIG:
        msg.content.data[0] = APP_ID_MAINMENU;
480945c4:	c144      	sb	v0,4(s1)
480945c6:	100e      	b	480945e4 <_deal_playlist_result+0x9c>
        break;
480945c8:	6a09      	li	v0,9

        case PARAM_FROM_UDISK:
        //需要同步MTP数据
        //        msg.content.data[0] = APP_ID_MTPSYNC;//APP_ID_MAINMENU
        msg.content.data[0] = APP_ID_MAINMENU;
480945ca:	c144      	sb	v0,4(s1)
480945cc:	100b      	b	480945e4 <_deal_playlist_result+0x9c>
        break;
480945ce:	6a03      	li	v0,3
        case PARAM_FROM_RADIO:
        msg.content.data[0] = APP_ID_RADIO;
480945d0:	c144      	sb	v0,4(s1)
480945d2:	1008      	b	480945e4 <_deal_playlist_result+0x9c>
        break;
480945d4:	6a02      	li	v0,2
        case PARAM_FROM_RECORD:
        msg.content.data[0] = APP_ID_RECORD;
480945d6:	c144      	sb	v0,4(s1)
480945d8:	1005      	b	480945e4 <_deal_playlist_result+0x9c>
        break;
480945da:	6a04      	li	v0,4
        case PARAM_FROM_SETTING:
        msg.content.data[0] = APP_ID_SETTING;
480945dc:	c144      	sb	v0,4(s1)
480945de:	1002      	b	480945e4 <_deal_playlist_result+0x9c>
        break;
480945e0:	6a09      	li	v0,9
        default:
        msg.content.data[0] = APP_ID_MAINMENU;
480945e2:	c144      	sb	v0,4(s1)
480945e4:	6c08      	li	a0,8
        break;
    }

    //    if (TRUE == need_send_msg)
    //    {
    //        //向process manager发送创建进程消息 同步消息还是异步消息
    //        send_async_msg(APP_ID_MANAGER, &msg);
    //    }

    send_async_msg(APP_ID_MANAGER, &msg);
480945e6:	67b1      	move	a1,s1
480945e8:	b208      	lw	v0,48094608 <_deal_playlist_result+0xc0>
480945ea:	eac0      	jalrc	v0
480945ec:	65b9      	move	sp,s1

    return;
}
480945ee:	6453      	restore	24,ra,s1
480945f0:	e8a0      	jrc	ra
480945f2:	0000      	addiu	s0,sp,0
480945f4:	5694      	slti	a2,148
480945f6:	9fc1      	lw	a2,4(a3)
480945f8:	6409      	restore	72
480945fa:	bfc1      	lwu	a2,4(a3)
480945fc:	0800      	la	s0,480945fc <_deal_playlist_result+0xb4>
480945fe:	0001      	addiu	s0,sp,4
48094600:	640d      	restore	104
48094602:	bfc1      	lwu	a2,4(a3)
48094604:	459c      	daddiu	a0,a1,-4
48094606:	4809      	addiu	s0,9
48094608:	4759      	daddiu	v0,a3,-7
4809460a:	4849      	addiu	s0,73

4809460c <plist_sys_init>:
4809460c:	64d3      	save	24,ra,s1

//system enter init
void plist_sys_init(void)
{
4809460e:	0104      	addiu	s1,sp,16
48094610:	1850 5131 	jal	480944c4 <close_engine>

    
    //先关闭后台
    close_engine();
48094614:	6500      	nop
48094616:	1850 5111 	jal	48094444 <_set_cpuclock>
    _set_cpuclock();
4809461a:	6500      	nop
4809461c:	65b9      	move	sp,s1
#if 0
    //安装nand存储驱动
    if (sys_drv_install(DRV_GROUP_STG_BASE, MODE_NORMAL, stg_drv_name[0]) != -1)
    {
        /****
         因为要用到nand默认的cache页面地址0x9fc34000来建表，
         所以需要把nand的cache切到别的页面
         ****/
#ifndef PC
        base_op_entry((void*) 1, (void*) NAND_CACHE_ADDR, 0, BASE_UPDATE);
#endif
        sys_drv_uninstall(DRV_GROUP_STG_BASE);
    }
#endif
}
4809461e:	6451      	restore	8,ra,s1
48094620:	e8a0      	jrc	ra
	...

48094624 <plist_sys_exit>:
48094624:	64d3      	save	24,ra,s1

//system enter exit
void plist_sys_exit(app_param_e enter_mode)
{
48094626:	0104      	addiu	s1,sp,16
48094628:	6744      	move	v0,a0
4809462a:	c148      	sb	v0,8(s1)
4809462c:	1850 5126 	jal	48094498 <_restore_clock>
    _restore_clock();
48094630:	6500      	nop
48094632:	1850 5100 	jal	48094400 <_save_update_flag>
    _save_update_flag();
48094636:	6500      	nop
48094638:	a148      	lbu	v0,8(s1)
    _deal_playlist_result(enter_mode);
4809463a:	6782      	move	a0,v0
4809463c:	1850 5152 	jal	48094548 <_deal_playlist_result>
48094640:	6500      	nop
48094642:	65b9      	move	sp,s1

#if 0
    // AP 退出前
    //重装nand驱动，恢复nand 的cache默认地址0x9fc34000

    //安装nand存储驱动
    if (sys_drv_install(DRV_GROUP_STG_BASE, MODE_NORMAL, stg_drv_name[0]) != -1)
    {
#ifndef PC
        //恢复nand的cache页面
        base_op_entry((void*) 1, (void*) NAND_DEFAULT_ADDR, 0, BASE_UPDATE);
#endif
        sys_drv_uninstall(DRV_GROUP_STG_BASE);
    }
#endif
}
48094644:	6451      	restore	8,ra,s1
48094646:	e8a0      	jrc	ra

48094648 <stg_drv_name>:
48094648:	616e 646e 642e 7672 0000 6163 6472 642e     nand.drv..card.d
48094658:	7672 0000 6875 736f 2e74 7264 0076 0000     rv..uhost.drv...
	...
Disassembly of section BANK_UI_1_3:

480d4400 <check_filepos_exist>:
480d4400:	64d7      	save	56,ra,s1

 * \note         如果已写入，在文件信息中填入映射index
 *******************************************************************************/
uint16 check_filepos_exist(uint8 *dir_info, uint8 cur_m3u_index)
{
480d4402:	0106      	addiu	s1,sp,24
480d4404:	d988      	sw	a0,32(s1)
480d4406:	6745      	move	v0,a1
480d4408:	f020 c144 	sb	v0,36(s1)
480d440c:	6a00      	li	v0,0
    uint8 audible_flag = 0;
480d440e:	c140      	sb	v0,0(s1)
480d4410:	b26b      	lw	v0,480d45bc <check_filepos_exist+0x1bc>
    uint16 temp_save, m, flag, t_file_index;
    file_pos_t *t_m3u_pos_pt;
    m3ulist_f_info_t *t_m3u_info_pt;

    if (ap_plist_file_total != 0)
480d4412:	aa40      	lhu	v0,0(v0)
480d4414:	221b      	beqz	v0,480d444c <check_filepos_exist+0x4c>
480d4416:	b26b      	lw	v0,480d45c0 <check_filepos_exist+0x1c0>
    {
        t_m3u_pos_pt = (file_pos_t*) SORT_DATA_ADDR;
480d4418:	d943      	sw	v0,12(s1)
480d441a:	6a00      	li	v0,0

        for (t_file_index = 0; t_file_index < ap_plist_file_total; t_file_index++)
480d441c:	c944      	sh	v0,8(s1)
480d441e:	b268      	lw	v0,480d45bc <check_filepos_exist+0x1bc>
480d4420:	a964      	lhu	v1,8(s1)
480d4422:	aa40      	lhu	v0,0(v0)
480d4424:	eb43      	sltu	v1,v0
480d4426:	6015      	bteqz	480d4452 <check_filepos_exist+0x52>
480d4428:	9948      	lw	v0,32(s1)
        {
            if (0 == libc_memcmp(dir_info, t_m3u_pos_pt, sizeof(file_pos_t)))
480d442a:	9963      	lw	v1,12(s1)
480d442c:	6782      	move	a0,v0
480d442e:	67a3      	move	a1,v1
480d4430:	6e08      	li	a2,8
480d4432:	6f02      	li	a3,2
480d4434:	b264      	lw	v0,480d45c4 <check_filepos_exist+0x1c4>
480d4436:	eac0      	jalrc	v0
480d4438:	651a      	move	t8,v0
480d443a:	6101      	btnez	480d443e <check_filepos_exist+0x3e>
480d443c:	100a      	b	480d4452 <check_filepos_exist+0x52>
            {
                break;
480d443e:	9943      	lw	v0,12(s1)
            }

            t_m3u_pos_pt++;
480d4440:	4a08      	addiu	v0,8
480d4442:	d943      	sw	v0,12(s1)
480d4444:	a944      	lhu	v0,8(s1)
480d4446:	4241      	addiu	v0,v0,1
480d4448:	c944      	sh	v0,8(s1)
480d444a:	17e9      	b	480d441e <check_filepos_exist+0x1e>
480d444c:	6a01      	li	v0,1
        }
    }
    else
    {
        t_file_index = 0xffff;
480d444e:	ea4b      	neg	v0
480d4450:	c944      	sh	v0,8(s1)
480d4452:	b25b      	lw	v0,480d45bc <check_filepos_exist+0x1bc>
    }

    if (t_file_index >= ap_plist_file_total)
480d4454:	a964      	lhu	v1,8(s1)
480d4456:	aa40      	lhu	v0,0(v0)
480d4458:	eb43      	sltu	v1,v0
480d445a:	6104      	btnez	480d4464 <check_filepos_exist+0x64>
480d445c:	f7ff 6a1f 	li	v0,65535
    {
        return 0xffff;
480d4460:	d945      	sw	v0,20(s1)
480d4462:	10a7      	b	480d45b2 <check_filepos_exist+0x1b2>
480d4464:	6a00      	li	v0,0
    }
    else
    {
        flag = 0;
480d4466:	c943      	sh	v0,6(s1)
480d4468:	6a00      	li	v0,0
        temp_save = 0;
480d446a:	c941      	sh	v0,2(s1)
480d446c:	b254      	lw	v0,480d45bc <check_filepos_exist+0x1bc>
        m = ap_plist_file_total % (FILE_INFO_BUF_SIZE / PLIST_FILE_SIZE);
480d446e:	aa60      	lhu	v1,0(v0)
480d4470:	6a1f      	li	v0,31
480d4472:	ea6c      	and	v0,v1
480d4474:	c942      	sh	v0,4(s1)
480d4476:	a984      	lhu	a0,8(s1)
        if (t_file_index < (ap_plist_file_total - m))
480d4478:	b251      	lw	v0,480d45bc <check_filepos_exist+0x1bc>
480d447a:	aa60      	lhu	v1,0(v0)
480d447c:	a942      	lhu	v0,4(s1)
480d447e:	e34b      	subu	v0,v1,v0
480d4480:	ec42      	slt	a0,v0
480d4482:	602c      	bteqz	480d44dc <check_filepos_exist+0xdc>
480d4484:	6a01      	li	v0,1
        {
            //info is in m3u.dat
            flag = 1;
480d4486:	c943      	sh	v0,6(s1)
480d4488:	b250      	lw	v0,480d45c8 <check_filepos_exist+0x1c8>
            temp_save = ap_pos_file_offset;
480d448a:	aa40      	lhu	v0,0(v0)
480d448c:	c941      	sh	v0,2(s1)
480d448e:	b250      	lw	v0,480d45cc <check_filepos_exist+0x1cc>
            vfs_file_seek(ap_vfs_mount, M3U_DAT_FILEOFFSET + (t_file_index >> 1) * SECTOR_SIZE, 
480d4490:	9a80      	lw	a0,0(v0)
480d4492:	a944      	lhu	v0,8(s1)
480d4494:	3246      	srl	v0,1
480d4496:	ea31      	zeh	v0
480d4498:	3340      	sll	v1,v0,8
480d449a:	3364      	sll	v1,1
480d449c:	b24d      	lw	v0,480d45d0 <check_filepos_exist+0x1d0>
480d449e:	e34d      	addu	v1,v0
480d44a0:	b24d      	lw	v0,480d45d4 <check_filepos_exist+0x1d4>
480d44a2:	9ae0      	lw	a3,0(v0)
480d44a4:	6a0b      	li	v0,11
480d44a6:	d204      	sw	v0,16(sp)
480d44a8:	67a3      	move	a1,v1
480d44aa:	6e00      	li	a2,0
480d44ac:	b24b      	lw	v0,480d45d8 <check_filepos_exist+0x1d8>
480d44ae:	eac0      	jalrc	v0
480d44b0:	b247      	lw	v0,480d45c8 <check_filepos_exist+0x1c8>
            SEEK_SET, ap_obj_handle);

            vfs_file_read(ap_vfs_mount, temp_plist_buf, SECTOR_SIZE, ap_obj_handle);
480d44b2:	9a60      	lw	v1,0(v0)
480d44b4:	b54a      	lw	a1,480d45dc <check_filepos_exist+0x1dc>
480d44b6:	f200 6e00 	li	a2,512
480d44ba:	b247      	lw	v0,480d45d4 <check_filepos_exist+0x1d4>
480d44bc:	9ae0      	lw	a3,0(v0)
480d44be:	6a0d      	li	v0,13
480d44c0:	d204      	sw	v0,16(sp)
480d44c2:	6783      	move	a0,v1
480d44c4:	b245      	lw	v0,480d45d8 <check_filepos_exist+0x1d8>
480d44c6:	eac0      	jalrc	v0
480d44c8:	a964      	lhu	v1,8(s1)

            if ((t_file_index & 0x01) != 0)
480d44ca:	6a01      	li	v0,1
480d44cc:	ea6c      	and	v0,v1
480d44ce:	2203      	beqz	v0,480d44d6 <check_filepos_exist+0xd6>
480d44d0:	b244      	lw	v0,480d45e0 <check_filepos_exist+0x1e0>
            {
                t_m3u_info_pt = (m3ulist_f_info_t *) (temp_plist_buf + M3U_DAT_FILESIZE);
480d44d2:	d944      	sw	v0,16(s1)
480d44d4:	1017      	b	480d4504 <check_filepos_exist+0x104>
480d44d6:	b242      	lw	v0,480d45dc <check_filepos_exist+0x1dc>
            }
            else
            {
                t_m3u_info_pt = (m3ulist_f_info_t *) temp_plist_buf;
480d44d8:	d944      	sw	v0,16(s1)
480d44da:	1014      	b	480d4504 <check_filepos_exist+0x104>
480d44dc:	b238      	lw	v0,480d45bc <check_filepos_exist+0x1bc>
            }

        }
        else
        {
            //info is in ram
            if (m == ap_plist_file_total)
480d44de:	a962      	lhu	v1,4(s1)
480d44e0:	aa40      	lhu	v0,0(v0)
480d44e2:	ea6e      	xor	v0,v1
480d44e4:	5a01      	sltiu	v0,1
480d44e6:	6003      	bteqz	480d44ee <check_filepos_exist+0xee>
480d44e8:	a944      	lhu	v0,8(s1)
            {
                //未写入过文件,all file in ram
                m = t_file_index;
480d44ea:	c942      	sh	v0,4(s1)
480d44ec:	1006      	b	480d44fa <check_filepos_exist+0xfa>
480d44ee:	b234      	lw	v0,480d45bc <check_filepos_exist+0x1bc>
            }
            else
            {
                m = ap_plist_file_total - t_file_index - 1;
480d44f0:	aa60      	lhu	v1,0(v0)
480d44f2:	a944      	lhu	v0,8(s1)
480d44f4:	e34b      	subu	v0,v1,v0
480d44f6:	424f      	addiu	v0,v0,-1
480d44f8:	c942      	sh	v0,4(s1)
480d44fa:	a942      	lhu	v0,4(s1)
            }
            t_m3u_info_pt = (m3ulist_f_info_t *) (FILE_INFO_ADDR + m * M3U_DAT_FILESIZE);
480d44fc:	3340      	sll	v1,v0,8
480d44fe:	b23a      	lw	v0,480d45e4 <check_filepos_exist+0x1e4>
480d4500:	e349      	addu	v0,v1,v0
480d4502:	d944      	sw	v0,16(s1)
480d4504:	9944      	lw	v0,16(s1)
        }

        audible_flag = (uint8)(t_m3u_info_pt->m3u_index[0] & 0x80);
480d4506:	6c80      	li	a0,128
480d4508:	ec8b      	neg	a0
480d450a:	f040 a240 	lbu	v0,64(v0)
480d450e:	6762      	move	v1,v0
480d4510:	6744      	move	v0,a0
480d4512:	ea6c      	and	v0,v1
480d4514:	c140      	sb	v0,0(s1)
480d4516:	6a01      	li	v0,1

        for (m = 1; m < M3U_LIST_MAX; m++)//第0个肯定存在
480d4518:	c942      	sh	v0,4(s1)
480d451a:	a942      	lhu	v0,4(s1)
480d451c:	5a32      	sltiu	v0,50
480d451e:	6019      	bteqz	480d4552 <check_filepos_exist+0x152>
480d4520:	9964      	lw	v1,16(s1)
        {
            if (t_m3u_info_pt->m3u_index[m] == 0xff)
480d4522:	a942      	lhu	v0,4(s1)
480d4524:	e269      	addu	v0,v1
480d4526:	f040 a240 	lbu	v0,64(v0)
480d452a:	72ff      	cmpi	v0,255
480d452c:	6758      	move	v0,t8
480d452e:	5a01      	sltiu	v0,1
480d4530:	600c      	bteqz	480d454a <check_filepos_exist+0x14a>
480d4532:	9964      	lw	v1,16(s1)
            {
                t_m3u_info_pt->m3u_index[m] = cur_m3u_index | audible_flag; //置映射audible类型标记
480d4534:	a942      	lhu	v0,4(s1)
480d4536:	e275      	addu	a1,v0,v1
480d4538:	f020 a144 	lbu	v0,36(s1)
480d453c:	a160      	lbu	v1,0(s1)
480d453e:	6782      	move	a0,v0
480d4540:	6743      	move	v0,v1
480d4542:	ea8d      	or	v0,a0
480d4544:	f040 c540 	sb	v0,64(a1)
480d4548:	1004      	b	480d4552 <check_filepos_exist+0x152>
                break;
480d454a:	a942      	lhu	v0,4(s1)
480d454c:	4241      	addiu	v0,v0,1
480d454e:	c942      	sh	v0,4(s1)
480d4550:	17e4      	b	480d451a <check_filepos_exist+0x11a>
480d4552:	a943      	lhu	v0,6(s1)
            }
        }

        if (flag == 1)
480d4554:	7201      	cmpi	v0,1
480d4556:	6758      	move	v0,t8
480d4558:	5a01      	sltiu	v0,1
480d455a:	6029      	bteqz	480d45ae <check_filepos_exist+0x1ae>
480d455c:	b21c      	lw	v0,480d45cc <check_filepos_exist+0x1cc>
        {
            //info is in m3u.dat
            vfs_file_seek(ap_vfs_mount, 0 - SECTOR_SIZE, SEEK_CUR, ap_obj_handle);
480d455e:	9a60      	lw	v1,0(v0)
480d4560:	f200 6d00 	li	a1,512
480d4564:	edab      	neg	a1
480d4566:	b21c      	lw	v0,480d45d4 <check_filepos_exist+0x1d4>
480d4568:	9ae0      	lw	a3,0(v0)
480d456a:	6a0b      	li	v0,11
480d456c:	d204      	sw	v0,16(sp)
480d456e:	6783      	move	a0,v1
480d4570:	6e01      	li	a2,1
480d4572:	b21a      	lw	v0,480d45d8 <check_filepos_exist+0x1d8>
480d4574:	eac0      	jalrc	v0
480d4576:	b216      	lw	v0,480d45cc <check_filepos_exist+0x1cc>
            vfs_file_write(ap_vfs_mount, temp_plist_buf, SECTOR_SIZE, ap_obj_handle);
480d4578:	9a60      	lw	v1,0(v0)
480d457a:	b519      	lw	a1,480d45dc <check_filepos_exist+0x1dc>
480d457c:	f200 6e00 	li	a2,512
480d4580:	b215      	lw	v0,480d45d4 <check_filepos_exist+0x1d4>
480d4582:	9ae0      	lw	a3,0(v0)
480d4584:	6a0e      	li	v0,14
480d4586:	d204      	sw	v0,16(sp)
480d4588:	6783      	move	a0,v1
480d458a:	b214      	lw	v0,480d45d8 <check_filepos_exist+0x1d8>
480d458c:	eac0      	jalrc	v0
480d458e:	b210      	lw	v0,480d45cc <check_filepos_exist+0x1cc>
            vfs_file_seek(ap_vfs_mount, temp_save * SECTOR_SIZE, SEEK_SET, ap_obj_handle);
480d4590:	9a60      	lw	v1,0(v0)
480d4592:	a941      	lhu	v0,2(s1)
480d4594:	3540      	sll	a1,v0,8
480d4596:	35a4      	sll	a1,1
480d4598:	b20f      	lw	v0,480d45d4 <check_filepos_exist+0x1d4>
480d459a:	9ae0      	lw	a3,0(v0)
480d459c:	6a0b      	li	v0,11
480d459e:	d204      	sw	v0,16(sp)
480d45a0:	6783      	move	a0,v1
480d45a2:	6e00      	li	a2,0
480d45a4:	b20d      	lw	v0,480d45d8 <check_filepos_exist+0x1d8>
480d45a6:	eac0      	jalrc	v0
480d45a8:	b308      	lw	v1,480d45c4 <check_filepos_exist+0x1c4>
            ap_pos_file_offset = temp_save;
480d45aa:	a941      	lhu	v0,2(s1)
480d45ac:	cb40      	sh	v0,0(v1)
480d45ae:	a944      	lhu	v0,8(s1)
        }

    }

    return t_file_index;
480d45b0:	d945      	sw	v0,20(s1)
480d45b2:	9945      	lw	v0,20(s1)

}
480d45b4:	65b9      	move	sp,s1
480d45b6:	6454      	restore	32,ra,s1
480d45b8:	e8a0      	jrc	ra
480d45ba:	0000      	addiu	s0,sp,0
480d45bc:	5598      	slti	a1,152
480d45be:	9fc1      	lw	a2,4(a3)
480d45c0:	0000      	addiu	s0,sp,0
480d45c2:	9fc3      	lw	a2,12(a3)
480d45c4:	6409      	restore	72
480d45c6:	bfc1      	lwu	a2,4(a3)
480d45c8:	556a      	slti	a1,106
480d45ca:	9fc1      	lw	a2,4(a3)
480d45cc:	5570      	slti	a1,112
480d45ce:	9fc1      	lw	a2,4(a3)
480d45d0:	8a00      	lh	s0,0(v0)
480d45d2:	0006      	addiu	s0,sp,24
480d45d4:	556c      	slti	a1,108
480d45d6:	9fc1      	lw	a2,4(a3)
480d45d8:	6411      	restore	8,s1
480d45da:	bfc1      	lwu	a2,4(a3)
480d45dc:	5694      	slti	a2,148
480d45de:	9fc1      	lw	a2,4(a3)
480d45e0:	5794      	slti	a3,148
480d45e2:	9fc1      	lw	a2,4(a3)
480d45e4:	0a00      	la	v0,480d45e4 <check_filepos_exist+0x1e4>
480d45e6:	9fc2      	lw	a2,8(a3)

480d45e8 <parse_m3u_file>:
480d45e8:	64d8      	save	64,ra,s1

/******************************************************************************/
/*
 * \par  Description: 扫描m3u列表中的文件
 *
 * \param[in]

 * \param[out]

 * \return           LOW WORD--文件总数,HIGH WORD --  audible 总数

 * \note        只支持内码编码的M3U列表
 *******************************************************************************/
uint32 parse_m3u_file(uint8 cur_m3u_index)
{
480d45ea:	0106      	addiu	s1,sp,24
480d45ec:	6744      	move	v0,a0
480d45ee:	f020 c148 	sb	v0,40(s1)
480d45f2:	6a00      	li	v0,0
    uint8 t_dir_layer;
    uint8 dir_type;
    uint8 restart_find;
    uint8 value,tmp8;
    uint8 name_type;
    uint16 name_cnt;//字符 的个数
    uint16 scanfile_cnt;
    uint16 t_file_index;
    uint16 t_file_total, t_audible_total;
    uint32 byte_cnt;
    uint32 m3u_total_byte;
    uint32 tmp_bitmap;

    restart_find = FALSE;
480d45f4:	c142      	sb	v0,2(s1)
480d45f6:	6a01      	li	v0,1
    t_dir_layer = 0xff;
480d45f8:	ea4b      	neg	v0
480d45fa:	c140      	sb	v0,0(s1)
480d45fc:	6a00      	li	v0,0
    name_cnt = 0;
480d45fe:	c943      	sh	v0,6(s1)
480d4600:	6a00      	li	v0,0
    t_file_total = 0;
480d4602:	c946      	sh	v0,12(s1)
480d4604:	6a00      	li	v0,0
    t_audible_total = 0;
480d4606:	c947      	sh	v0,14(s1)
480d4608:	6a00      	li	v0,0
    scanfile_cnt = 0;
480d460a:	c944      	sh	v0,8(s1)
480d460c:	f4e0 b21c 	lw	v0,480d4b08 <.L39+0x3be>

    vfs_file_get_size(ap_vfs_mount, &m3u_total_byte, m3u_handle, 0);
480d4610:	9a80      	lw	a0,0(v0)
480d4612:	41a7      	addiu	a1,s1,7
480d4614:	4d0d      	addiu	a1,13
480d4616:	f4e0 b218 	lw	v0,480d4b0c <.L39+0x3c2>
480d461a:	9a60      	lw	v1,0(v0)
480d461c:	6a09      	li	v0,9
480d461e:	d204      	sw	v0,16(sp)
480d4620:	67c3      	move	a2,v1
480d4622:	6f00      	li	a3,0
480d4624:	f4e0 b20c 	lw	v0,480d4b10 <.L39+0x3c6>
480d4628:	eac0      	jalrc	v0
480d462a:	6a00      	li	v0,0

    for (byte_cnt = 0; byte_cnt < m3u_total_byte; byte_cnt++)
480d462c:	d944      	sw	v0,16(s1)
480d462e:	9944      	lw	v0,16(s1)
480d4630:	9965      	lw	v1,20(s1)
480d4632:	ea63      	sltu	v0,v1
480d4634:	f240 601e 	bteqz	480d4af4 <.L39+0x3aa>
480d4638:	9944      	lw	v0,16(s1)
    {
        value = read_m3u_data(byte_cnt);
480d463a:	6782      	move	a0,v0
480d463c:	f4c0 b218 	lw	v0,480d4b14 <.L39+0x3ca>
480d4640:	eac0      	jalrc	v0
480d4642:	c143      	sb	v0,3(s1)
480d4644:	a142      	lbu	v0,2(s1)

        if (TRUE == restart_find)
480d4646:	7201      	cmpi	v0,1
480d4648:	6758      	move	v0,t8
480d464a:	5a01      	sltiu	v0,1
480d464c:	600e      	bteqz	480d466a <parse_m3u_file+0x82>
480d464e:	a143      	lbu	v0,3(s1)
        {
            //当前信息有错或解析完，查找下一条信息
            if (0x0a == value)//换行符
480d4650:	720a      	cmpi	v0,10
480d4652:	6758      	move	v0,t8
480d4654:	5a01      	sltiu	v0,1
480d4656:	f240 6009 	bteqz	480d4aec <.L39+0x3a2>
480d465a:	6a01      	li	v0,1
            {
                t_dir_layer = 0xff;
480d465c:	ea4b      	neg	v0
480d465e:	c140      	sb	v0,0(s1)
480d4660:	6a00      	li	v0,0
                name_cnt = 0;
480d4662:	c943      	sh	v0,6(s1)
480d4664:	6a00      	li	v0,0
                restart_find = FALSE;
480d4666:	c142      	sb	v0,2(s1)
480d4668:	1241      	b	480d4aec <.L39+0x3a2>
            }
            continue;//for(;;;)
480d466a:	a143      	lbu	v0,3(s1)
        }

        if (value == 0x23)//'#'
480d466c:	7223      	cmpi	v0,35
480d466e:	6758      	move	v0,t8
480d4670:	5a01      	sltiu	v0,1
480d4672:	6003      	bteqz	480d467a <parse_m3u_file+0x92>
480d4674:	6a01      	li	v0,1
        {
            //注释信息，不处理，跳过
            restart_find = TRUE;
480d4676:	c142      	sb	v0,2(s1)
480d4678:	1239      	b	480d4aec <.L39+0x3a2>
            continue;//for(;;;)
480d467a:	a143      	lbu	v0,3(s1)
        }
        else if (value == 0x5c)//'\'
480d467c:	725c      	cmpi	v0,92
480d467e:	6758      	move	v0,t8
480d4680:	5a01      	sltiu	v0,1
480d4682:	f0a0 6017 	bteqz	480d47f4 <.L39+0xaa>
480d4686:	a140      	lbu	v0,0(s1)
        {
            //文件夹操作,找到第一个斜杆
            if (t_dir_layer == (DIRLAYER_MAX - 1))
480d4688:	7208      	cmpi	v0,8
480d468a:	6758      	move	v0,t8
480d468c:	5a01      	sltiu	v0,1
480d468e:	6003      	bteqz	480d4696 <parse_m3u_file+0xae>
480d4690:	6a01      	li	v0,1
            {
                //目录深度已超，不处理
                restart_find = TRUE;
480d4692:	c142      	sb	v0,2(s1)
480d4694:	122b      	b	480d4aec <.L39+0x3a2>
                continue;//for(;;;)
480d4696:	a943      	lhu	v0,6(s1)
            }

            if ((name_cnt == 2) && (m3u_obj_name_buf[0] == 0x2e) && (m3u_obj_name_buf[1] == 0x2e))
480d4698:	7202      	cmpi	v0,2
480d469a:	6758      	move	v0,t8
480d469c:	5a01      	sltiu	v0,1
480d469e:	6034      	bteqz	480d4708 <parse_m3u_file+0x120>
480d46a0:	f460 b218 	lw	v0,480d4b18 <.L39+0x3ce>
480d46a4:	9a40      	lw	v0,0(v0)
480d46a6:	a240      	lbu	v0,0(v0)
480d46a8:	722e      	cmpi	v0,46
480d46aa:	6758      	move	v0,t8
480d46ac:	5a01      	sltiu	v0,1
480d46ae:	602c      	bteqz	480d4708 <parse_m3u_file+0x120>
480d46b0:	f460 b208 	lw	v0,480d4b18 <.L39+0x3ce>
480d46b4:	9a40      	lw	v0,0(v0)
480d46b6:	a241      	lbu	v0,1(v0)
480d46b8:	722e      	cmpi	v0,46
480d46ba:	6758      	move	v0,t8
480d46bc:	5a01      	sltiu	v0,1
480d46be:	6024      	bteqz	480d4708 <parse_m3u_file+0x120>
480d46c0:	a140      	lbu	v0,0(s1)
            {
                // ..\相对路径处理
                if (t_dir_layer == 0xff)//到根目录
480d46c2:	72ff      	cmpi	v0,255
480d46c4:	6758      	move	v0,t8
480d46c6:	5a01      	sltiu	v0,1
480d46c8:	6004      	bteqz	480d46d2 <parse_m3u_file+0xea>
480d46ca:	f440 b214 	lw	v0,480d4b1c <.L39+0x3d2>
                {
                    t_dir_layer = set_m3ufile_path();
480d46ce:	eac0      	jalrc	v0
480d46d0:	c140      	sb	v0,0(s1)
480d46d2:	a140      	lbu	v0,0(s1)
                }

                if (t_dir_layer > 0)
480d46d4:	2216      	beqz	v0,480d4702 <parse_m3u_file+0x11a>
480d46d6:	f420 b214 	lw	v0,480d4b08 <.L39+0x3be>
                {
                    if (FALSE != vfs_cd(ap_vfs_mount, CD_BACK, NULL))
480d46da:	9a60      	lw	v1,0(v0)
480d46dc:	6a00      	li	v0,0
480d46de:	d204      	sw	v0,16(sp)
480d46e0:	6783      	move	a0,v1
480d46e2:	6d7c      	li	a1,124
480d46e4:	6e00      	li	a2,0
480d46e6:	6f00      	li	a3,0
480d46e8:	f420 b208 	lw	v0,480d4b10 <.L39+0x3c6>
480d46ec:	eac0      	jalrc	v0
480d46ee:	651a      	move	t8,v0
480d46f0:	6758      	move	v0,t8
480d46f2:	ea11      	zeb	v0
480d46f4:	2206      	beqz	v0,480d4702 <parse_m3u_file+0x11a>
480d46f6:	6a00      	li	v0,0
                    {
                        name_cnt = 0;
480d46f8:	c943      	sh	v0,6(s1)
480d46fa:	a140      	lbu	v0,0(s1)
                        t_dir_layer--;
480d46fc:	424f      	addiu	v0,v0,-1
480d46fe:	c140      	sb	v0,0(s1)
480d4700:	11f5      	b	480d4aec <.L39+0x3a2>
                        continue;//for(;;;)
480d4702:	6a01      	li	v0,1
                    }
                }
                restart_find = TRUE;
480d4704:	c142      	sb	v0,2(s1)
480d4706:	11f2      	b	480d4aec <.L39+0x3a2>
                continue;//for(;;;)
480d4708:	a140      	lbu	v0,0(s1)
            }

            if (t_dir_layer == 0xff)//到根目录
480d470a:	72ff      	cmpi	v0,255
480d470c:	6758      	move	v0,t8
480d470e:	5a01      	sltiu	v0,1
480d4710:	601c      	bteqz	480d474a <.L39>
480d4712:	b2fe      	lw	v0,480d4b08 <.L39+0x3be>
            {
                //盘符标志，cd到根目录
                vfs_cd(ap_vfs_mount, CD_ROOT, 0);
480d4714:	9a60      	lw	v1,0(v0)
480d4716:	6a00      	li	v0,0
480d4718:	d204      	sw	v0,16(sp)
480d471a:	6783      	move	a0,v1
480d471c:	6d3a      	li	a1,58
480d471e:	6e00      	li	a2,0
480d4720:	6f00      	li	a3,0
480d4722:	b2fc      	lw	v0,480d4b10 <.L39+0x3c6>
480d4724:	eac0      	jalrc	v0
480d4726:	a943      	lhu	v0,6(s1)
                if ((name_cnt == 0) || (m3u_obj_name_buf[name_cnt - 1] == ':'))
480d4728:	220b      	beqz	v0,480d4740 <parse_m3u_file+0x158>
480d472a:	a963      	lhu	v1,6(s1)
480d472c:	b2fb      	lw	v0,480d4b18 <.L39+0x3ce>
480d472e:	9a40      	lw	v0,0(v0)
480d4730:	e349      	addu	v0,v1,v0
480d4732:	f7ff a25f 	lbu	v0,-1(v0)
480d4736:	723a      	cmpi	v0,58
480d4738:	6758      	move	v0,t8
480d473a:	5a01      	sltiu	v0,1
480d473c:	6101      	btnez	480d4740 <parse_m3u_file+0x158>
480d473e:	1005      	b	480d474a <.L39>
480d4740:	6a00      	li	v0,0
                {
                    //支持a:\xxx\1.mp3, 和\xxx\1.mp3格式
                    name_cnt = 0;
480d4742:	c943      	sh	v0,6(s1)
480d4744:	6a00      	li	v0,0
                    t_dir_layer = 0;
480d4746:	c140      	sb	v0,0(s1)
480d4748:	11d1      	b	480d4aec <.L39+0x3a2>

480d474a <.L39>:
480d474a:	6a7e      	li	v0,126
                }
                else
                {
                    //支持xxx\1.mp3格式
                    goto match_find_dir;
                }

                //NOTE:xxx文件夹必须在根目录
            }
            else
            {
                match_find_dir:
                //查找磁盘上相同名字的目录
                dir_type = DIR_HEAD;
480d474c:	ea4b      	neg	v0
480d474e:	c141      	sb	v0,1(s1)
480d4750:	a963      	lhu	v1,6(s1)
                m3u_obj_name_buf[name_cnt] = 0x00;
480d4752:	b2f2      	lw	v0,480d4b18 <.L39+0x3ce>
480d4754:	9a40      	lw	v0,0(v0)
480d4756:	e34d      	addu	v1,v0
480d4758:	6a00      	li	v0,0
480d475a:	c340      	sb	v0,0(v1)
480d475c:	b2ef      	lw	v0,480d4b18 <.L39+0x3ce>
                name_type = parse_obj_name(m3u_obj_name_buf, (uint8) name_cnt, 1);
480d475e:	9a60      	lw	v1,0(v0)
480d4760:	a943      	lhu	v0,6(s1)
480d4762:	ea11      	zeb	v0
480d4764:	6783      	move	a0,v1
480d4766:	67a2      	move	a1,v0
480d4768:	6e01      	li	a2,1
480d476a:	b2ee      	lw	v0,480d4b20 <.L39+0x3d6>
480d476c:	eac0      	jalrc	v0
480d476e:	c145      	sb	v0,5(s1)
480d4770:	b2e6      	lw	v0,480d4b08 <.L39+0x3be>

                while (1)
                {
                    if (0 != vfs_dir(ap_vfs_mount, dir_type, NULL, EXT_NAME_ALL_DIR))
480d4772:	9a60      	lw	v1,0(v0)
480d4774:	a1a1      	lbu	a1,1(s1)
480d4776:	6a01      	li	v0,1
480d4778:	d204      	sw	v0,16(sp)
480d477a:	6783      	move	a0,v1
480d477c:	6e00      	li	a2,0
480d477e:	6f01      	li	a3,1
480d4780:	b2e4      	lw	v0,480d4b10 <.L39+0x3c6>
480d4782:	eac0      	jalrc	v0
480d4784:	651a      	move	t8,v0
480d4786:	6027      	bteqz	480d47d6 <.L39+0x8c>
480d4788:	b2e4      	lw	v0,480d4b18 <.L39+0x3ce>
                    {				
                        if (TRUE == compare_name(m3u_obj_name_buf, name_cnt, name_type))
480d478a:	9a40      	lw	v0,0(v0)
480d478c:	a963      	lhu	v1,6(s1)
480d478e:	a1c5      	lbu	a2,5(s1)
480d4790:	6782      	move	a0,v0
480d4792:	67a3      	move	a1,v1
480d4794:	b2e4      	lw	v0,480d4b24 <.L39+0x3da>
480d4796:	eac0      	jalrc	v0
480d4798:	7201      	cmpi	v0,1
480d479a:	6758      	move	v0,t8
480d479c:	5a01      	sltiu	v0,1
480d479e:	6017      	bteqz	480d47ce <.L39+0x84>
480d47a0:	a140      	lbu	v0,0(s1)
                        {
                            if (t_dir_layer == 0xff)
480d47a2:	72ff      	cmpi	v0,255
480d47a4:	6758      	move	v0,t8
480d47a6:	5a01      	sltiu	v0,1
480d47a8:	6002      	bteqz	480d47ae <.L39+0x64>
480d47aa:	6a00      	li	v0,0
                            {
                                t_dir_layer = 0;//goto match_find_dir;
480d47ac:	c140      	sb	v0,0(s1)
480d47ae:	b2d7      	lw	v0,480d4b08 <.L39+0x3be>
                            }

                            vfs_cd(ap_vfs_mount, CD_SUB, NULL);
480d47b0:	9a60      	lw	v1,0(v0)
480d47b2:	6a00      	li	v0,0
480d47b4:	d204      	sw	v0,16(sp)
480d47b6:	6783      	move	a0,v1
480d47b8:	6d2f      	li	a1,47
480d47ba:	6e00      	li	a2,0
480d47bc:	6f00      	li	a3,0
480d47be:	b2d5      	lw	v0,480d4b10 <.L39+0x3c6>
480d47c0:	eac0      	jalrc	v0
480d47c2:	a140      	lbu	v0,0(s1)
                            t_dir_layer++;
480d47c4:	4241      	addiu	v0,v0,1
480d47c6:	c140      	sb	v0,0(s1)
480d47c8:	6a00      	li	v0,0
                            name_cnt = 0;
480d47ca:	c943      	sh	v0,6(s1)
480d47cc:	118f      	b	480d4aec <.L39+0x3a2>
                            break;//while(1)
480d47ce:	6a80      	li	v0,128
                        }
                        dir_type = DIR_NEXT;
480d47d0:	ea4b      	neg	v0
480d47d2:	c141      	sb	v0,1(s1)
480d47d4:	17cd      	b	480d4770 <.L39+0x26>
480d47d6:	a140      	lbu	v0,0(s1)
                    }
                    else
                    {
                        //相对路径尝试,M3U文件路径,再dir
                        if (t_dir_layer == 0xff)
480d47d8:	72ff      	cmpi	v0,255
480d47da:	6758      	move	v0,t8
480d47dc:	5a01      	sltiu	v0,1
480d47de:	6007      	bteqz	480d47ee <.L39+0xa4>
480d47e0:	b2cf      	lw	v0,480d4b1c <.L39+0x3d2>
                        {
                            //goto match_find_dir;
                            t_dir_layer = set_m3ufile_path();
480d47e2:	eac0      	jalrc	v0
480d47e4:	c140      	sb	v0,0(s1)
480d47e6:	6a7e      	li	v0,126
                            dir_type = DIR_HEAD;
480d47e8:	ea4b      	neg	v0
480d47ea:	c141      	sb	v0,1(s1)
480d47ec:	17c1      	b	480d4770 <.L39+0x26>
480d47ee:	6a01      	li	v0,1
                        }
                        else
                        {
                            restart_find = TRUE;
480d47f0:	c142      	sb	v0,2(s1)
480d47f2:	117c      	b	480d4aec <.L39+0x3a2>
                            break;//while(1)
480d47f4:	a143      	lbu	v0,3(s1)
                        }

                        //                        restart_find = TRUE;
                        //                        break;//while(1)
                    }
                }
            }
        }
        else if (value == 0x0d)//回车
480d47f6:	720d      	cmpi	v0,13
480d47f8:	6758      	move	v0,t8
480d47fa:	5a01      	sltiu	v0,1
480d47fc:	f160 6007 	bteqz	480d4ace <.L39+0x384>
480d4800:	a944      	lhu	v0,8(s1)
        {
            scanfile_cnt++;
480d4802:	4241      	addiu	v0,v0,1
480d4804:	c944      	sh	v0,8(s1)
480d4806:	a964      	lhu	v1,8(s1)

            if (0 == (scanfile_cnt & 0x0f))
480d4808:	6a0f      	li	v0,15
480d480a:	ea6c      	and	v0,v1
480d480c:	2a02      	bnez	v0,480d4812 <.L39+0xc8>
480d480e:	b2c7      	lw	v0,480d4b28 <.L39+0x3de>
            {
                //定时刷新图标
                plist_get_app_msg();
480d4810:	eac0      	jalrc	v0
480d4812:	a943      	lhu	v0,6(s1)
            }

            //已到文件级
            if (name_cnt > 3)//. + 两位扩展名
480d4814:	5a04      	sltiu	v0,4
480d4816:	6137      	btnez	480d4886 <.L39+0x13c>
480d4818:	a963      	lhu	v1,6(s1)
            {
                //可能没有斜杠和文件夹，直接文件
                //yh 20151019
                //if (t_dir_layer == 0xff)
                //{
                    //可能没有斜杠和文件夹，直接文件
                //    vfs_cd(ap_vfs_mount, CD_ROOT, 0);
                //}

                m3u_obj_name_buf[name_cnt] = 0x00;//添加结束符
480d481a:	b2c0      	lw	v0,480d4b18 <.L39+0x3ce>
480d481c:	9a40      	lw	v0,0(v0)
480d481e:	e34d      	addu	v1,v0
480d4820:	6a00      	li	v0,0
480d4822:	c340      	sb	v0,0(v1)
480d4824:	9944      	lw	v0,16(s1)
                //读取ext
                m3u_ext_name[0] = read_m3u_data(byte_cnt - 4);
480d4826:	424c      	addiu	v0,v0,-4
480d4828:	6782      	move	a0,v0
480d482a:	b2bb      	lw	v0,480d4b14 <.L39+0x3ca>
480d482c:	eac0      	jalrc	v0
480d482e:	6762      	move	v1,v0
480d4830:	b2bf      	lw	v0,480d4b2c <.L39+0x3e2>
480d4832:	9a40      	lw	v0,0(v0)
480d4834:	c260      	sb	v1,0(v0)
480d4836:	9944      	lw	v0,16(s1)
                m3u_ext_name[1] = read_m3u_data(byte_cnt - 3);
480d4838:	424d      	addiu	v0,v0,-3
480d483a:	6782      	move	a0,v0
480d483c:	b2b6      	lw	v0,480d4b14 <.L39+0x3ca>
480d483e:	eac0      	jalrc	v0
480d4840:	6762      	move	v1,v0
480d4842:	b2bb      	lw	v0,480d4b2c <.L39+0x3e2>
480d4844:	9a40      	lw	v0,0(v0)
480d4846:	c261      	sb	v1,1(v0)
480d4848:	9944      	lw	v0,16(s1)
                m3u_ext_name[2] = read_m3u_data(byte_cnt - 2);
480d484a:	424e      	addiu	v0,v0,-2
480d484c:	6782      	move	a0,v0
480d484e:	b2b2      	lw	v0,480d4b14 <.L39+0x3ca>
480d4850:	eac0      	jalrc	v0
480d4852:	6762      	move	v1,v0
480d4854:	b2b6      	lw	v0,480d4b2c <.L39+0x3e2>
480d4856:	9a40      	lw	v0,0(v0)
480d4858:	c262      	sb	v1,2(v0)
480d485a:	9944      	lw	v0,16(s1)
                m3u_ext_name[3] = read_m3u_data(byte_cnt - 1);
480d485c:	424f      	addiu	v0,v0,-1
480d485e:	6782      	move	a0,v0
480d4860:	b2ad      	lw	v0,480d4b14 <.L39+0x3ca>
480d4862:	eac0      	jalrc	v0
480d4864:	6762      	move	v1,v0
480d4866:	b2b2      	lw	v0,480d4b2c <.L39+0x3e2>
480d4868:	9a40      	lw	v0,0(v0)
480d486a:	c263      	sb	v1,3(v0)
480d486c:	b2b0      	lw	v0,480d4b2c <.L39+0x3e2>
                m3u_ext_name[4] = 0x00;
480d486e:	9a60      	lw	v1,0(v0)
480d4870:	6a00      	li	v0,0
480d4872:	c344      	sb	v0,4(v1)
480d4874:	b2ae      	lw	v0,480d4b2c <.L39+0x3e2>
                m3u_ext_name[5] = 0x00;
480d4876:	9a60      	lw	v1,0(v0)
480d4878:	6a00      	li	v0,0
480d487a:	c345      	sb	v0,5(v1)
480d487c:	9944      	lw	v0,16(s1)
                //恢复read指针
                read_m3u_data(byte_cnt);
480d487e:	6782      	move	a0,v0
480d4880:	b2a5      	lw	v0,480d4b14 <.L39+0x3ca>
480d4882:	eac0      	jalrc	v0
480d4884:	1003      	b	480d488c <.L39+0x142>
480d4886:	6a01      	li	v0,1
            }
            else
            {
                //文件名长度无效
                restart_find = TRUE;
480d4888:	c142      	sb	v0,2(s1)
480d488a:	1130      	b	480d4aec <.L39+0x3a2>
                continue;
480d488c:	b2a8      	lw	v0,480d4b2c <.L39+0x3e2>
            }
            //处理，获取后缀名
            parse_ext_name(m3u_ext_name);
480d488e:	9a40      	lw	v0,0(v0)
480d4890:	6782      	move	a0,v0
480d4892:	b2a8      	lw	v0,480d4b30 <.L39+0x3e6>
480d4894:	eac0      	jalrc	v0
480d4896:	b2a6      	lw	v0,480d4b2c <.L39+0x3e2>
            tmp_bitmap = check_ext_bitmap(*(uint32*) m3u_ext_name);
480d4898:	9a40      	lw	v0,0(v0)
480d489a:	9a40      	lw	v0,0(v0)
480d489c:	6782      	move	a0,v0
480d489e:	b2a6      	lw	v0,480d4b34 <.L39+0x3ea>
480d48a0:	eac0      	jalrc	v0
480d48a2:	d946      	sw	v0,24(s1)
480d48a4:	9966      	lw	v1,24(s1)

            if ((tmp_bitmap & (MUSIC_BITMAP | AUDIBLE_BITMAP)) == 0)
480d48a6:	b2a5      	lw	v0,480d4b38 <.L39+0x3ee>
480d48a8:	ea6c      	and	v0,v1
480d48aa:	2a03      	bnez	v0,480d48b2 <.L39+0x168>
480d48ac:	6a01      	li	v0,1
            {
                //除MUSIC 和 audible格式外，其他格式不支持
                restart_find = TRUE;
480d48ae:	c142      	sb	v0,2(s1)
480d48b0:	111d      	b	480d4aec <.L39+0x3a2>
                continue;
480d48b2:	a943      	lhu	v0,6(s1)
            }

            //先存文件名，因为parse_obj_name可能会改变m3u_obj_name_buf的内容
            if(name_cnt > (ID3_TITLE_SIZE-1))
480d48b4:	5a40      	sltiu	v0,64
480d48b6:	6109      	btnez	480d48ca <.L39+0x180>
480d48b8:	6a3f      	li	v0,63
            {
                tmp8 = ID3_TITLE_SIZE -1;
480d48ba:	c144      	sb	v0,4(s1)
480d48bc:	b2a0      	lw	v0,480d4b3c <.L39+0x3f2>
                m3u_dat_file_pt->title_string[tmp8] = 0x00;
480d48be:	9a60      	lw	v1,0(v0)
480d48c0:	a144      	lbu	v0,4(s1)
480d48c2:	e34d      	addu	v1,v0
480d48c4:	6a00      	li	v0,0
480d48c6:	c340      	sb	v0,0(v1)
480d48c8:	1003      	b	480d48d0 <.L39+0x186>
480d48ca:	a943      	lhu	v0,6(s1)
            }
            else
            {
                tmp8 = (uint8)name_cnt + 1;// 包含结束符'\0'
480d48cc:	4241      	addiu	v0,v0,1
480d48ce:	c144      	sb	v0,4(s1)
480d48d0:	b29b      	lw	v0,480d4b3c <.L39+0x3f2>
            }
            libc_memcpy(m3u_dat_file_pt->title_string, m3u_obj_name_buf, (uint32)tmp8);
480d48d2:	9a80      	lw	a0,0(v0)
480d48d4:	b291      	lw	v0,480d4b18 <.L39+0x3ce>
480d48d6:	9a40      	lw	v0,0(v0)
480d48d8:	a164      	lbu	v1,4(s1)
480d48da:	67a2      	move	a1,v0
480d48dc:	67c3      	move	a2,v1
480d48de:	6f00      	li	a3,0
480d48e0:	b298      	lw	v0,480d4b40 <.L39+0x3f6>
480d48e2:	eac0      	jalrc	v0
480d48e4:	b28d      	lw	v0,480d4b14 <.L39+0x3ca>

            //处理文件名，转成8+3 和 UNICODE
            name_type = parse_obj_name(m3u_obj_name_buf, (uint8) name_cnt, 0);
480d48e6:	9a60      	lw	v1,0(v0)
480d48e8:	a943      	lhu	v0,6(s1)
480d48ea:	ea11      	zeb	v0
480d48ec:	6783      	move	a0,v1
480d48ee:	67a2      	move	a1,v0
480d48f0:	6e00      	li	a2,0
480d48f2:	b28c      	lw	v0,480d4b20 <.L39+0x3d6>
480d48f4:	eac0      	jalrc	v0
480d48f6:	c145      	sb	v0,5(s1)
480d48f8:	6a7e      	li	v0,126

            dir_type = DIR_HEAD;
480d48fa:	ea4b      	neg	v0
480d48fc:	c141      	sb	v0,1(s1)
480d48fe:	b283      	lw	v0,480d4b08 <.L39+0x3be>
            while (1)
            {
                if (0 != vfs_dir(ap_vfs_mount, dir_type, NULL, tmp_bitmap))//MDY FOR DEBUG
480d4900:	9a60      	lw	v1,0(v0)
480d4902:	a1a1      	lbu	a1,1(s1)
480d4904:	99e6      	lw	a3,24(s1)
480d4906:	6a01      	li	v0,1
480d4908:	d204      	sw	v0,16(sp)
480d490a:	6783      	move	a0,v1
480d490c:	6e00      	li	a2,0
480d490e:	b281      	lw	v0,480d4b10 <.L39+0x3c6>
480d4910:	eac0      	jalrc	v0
480d4912:	651a      	move	t8,v0
480d4914:	f0c0 6018 	bteqz	480d4ac8 <.L39+0x37e>
480d4918:	b280      	lw	v0,480d4b18 <.L39+0x3ce>
                {
                    if (TRUE == compare_name(m3u_obj_name_buf, 11, name_type))//减一是为了去点
480d491a:	9a40      	lw	v0,0(v0)
480d491c:	a165      	lbu	v1,5(s1)
480d491e:	6782      	move	a0,v0
480d4920:	6d0b      	li	a1,11
480d4922:	67c3      	move	a2,v1
480d4924:	b280      	lw	v0,480d4b24 <.L39+0x3da>
480d4926:	eac0      	jalrc	v0
480d4928:	7201      	cmpi	v0,1
480d492a:	6758      	move	v0,t8
480d492c:	5a01      	sltiu	v0,1
480d492e:	f0c0 6007 	bteqz	480d4ac0 <.L39+0x376>
480d4932:	b276      	lw	v0,480d4b08 <.L39+0x3be>
                    {
                        //已确定文件
//                        if ((ID3_ITEM_SIZE - 1) < name_cnt)
//                        {
//                            name_cnt = ID3_ITEM_SIZE - 1;
//                        }
                        vfs_file_dir_offset(ap_vfs_mount, &m3u_dat_file_pt->dir_layer_info,
480d4934:	9a80      	lw	a0,0(v0)
480d4936:	b282      	lw	v0,480d4b3c <.L39+0x3f2>
480d4938:	9a40      	lw	v0,0(v0)
480d493a:	f0a0 42a9 	addiu	a1,v0,169
480d493e:	b280      	lw	v0,480d4b3c <.L39+0x3f2>
480d4940:	9a40      	lw	v0,0(v0)
480d4942:	f0f0 4264 	addiu	v1,v0,244
480d4946:	6a03      	li	v0,3
480d4948:	d204      	sw	v0,16(sp)
480d494a:	67c3      	move	a2,v1
480d494c:	6f00      	li	a3,0
480d494e:	b271      	lw	v0,480d4b10 <.L39+0x3c6>
480d4950:	eac0      	jalrc	v0
480d4952:	b27b      	lw	v0,480d4b3c <.L39+0x3f2>
                                &m3u_dat_file_pt->cluster_no, 0);
                        t_file_index = check_filepos_exist((uint8*) &m3u_dat_file_pt->cluster_no, cur_m3u_index);
480d4954:	9a40      	lw	v0,0(v0)
480d4956:	4a7f      	addiu	v0,127
480d4958:	4a75      	addiu	v0,117
480d495a:	f020 a168 	lbu	v1,40(s1)
480d495e:	6782      	move	a0,v0
480d4960:	67a3      	move	a1,v1
480d4962:	1870 5100 	jal	480d4400 <check_filepos_exist>
480d4966:	6500      	nop
480d4968:	c945      	sh	v0,10(s1)
480d496a:	a965      	lhu	v1,10(s1)
                        if (t_file_index == 0xffff)
480d496c:	f7ff 6a1f 	li	v0,65535
480d4970:	ea6e      	xor	v0,v1
480d4972:	5a01      	sltiu	v0,1
480d4974:	f080 6009 	bteqz	480d4a8a <.L39+0x340>
480d4978:	b273      	lw	v0,480d4b44 <.L39+0x3fa>
                        {
                            // file is not exist,add new info

                            if (ap_plist_file_total >= M3U_DAT_FILE_MAX)
480d497a:	aa40      	lhu	v0,0(v0)
480d497c:	f7a1 5a00 	sltiu	v0,4000
480d4980:	6103      	btnez	480d4988 <.L39+0x23e>
480d4982:	6a01      	li	v0,1
                            {
                                // file num is max , lose this file
                                restart_find = TRUE;
480d4984:	c142      	sb	v0,2(s1)
480d4986:	10b2      	b	480d4aec <.L39+0x3a2>
                                break;
480d4988:	b270      	lw	v0,480d4b48 <.L39+0x3fe>
                            }

                            libc_memcpy(filepos_p, &m3u_dat_file_pt->cluster_no, sizeof(file_pos_t));
480d498a:	9a60      	lw	v1,0(v0)
480d498c:	b26c      	lw	v0,480d4b3c <.L39+0x3f2>
480d498e:	9a40      	lw	v0,0(v0)
480d4990:	4a7f      	addiu	v0,127
480d4992:	4a75      	addiu	v0,117
480d4994:	6783      	move	a0,v1
480d4996:	67a2      	move	a1,v0
480d4998:	6e08      	li	a2,8
480d499a:	6f00      	li	a3,0
480d499c:	b269      	lw	v0,480d4b40 <.L39+0x3f6>
480d499e:	eac0      	jalrc	v0
480d49a0:	b36a      	lw	v1,480d4b44 <.L39+0x3fa>
                            filepos_p++;
480d49a2:	b26a      	lw	v0,480d4b48 <.L39+0x3fe>
480d49a4:	9a40      	lw	v0,0(v0)
480d49a6:	4a08      	addiu	v0,8
480d49a8:	db40      	sw	v0,0(v1)
480d49aa:	b265      	lw	v0,480d4b3c <.L39+0x3f2>

                            libc_memcpy(m3u_dat_file_pt->filename, m3u_ext_name, 4);
480d49ac:	9a40      	lw	v0,0(v0)
480d49ae:	f0a0 4264 	addiu	v1,v0,164
480d49b2:	b25f      	lw	v0,480d4b2c <.L39+0x3e2>
480d49b4:	9a40      	lw	v0,0(v0)
480d49b6:	6783      	move	a0,v1
480d49b8:	67a2      	move	a1,v0
480d49ba:	6e04      	li	a2,4
480d49bc:	6f00      	li	a3,0
480d49be:	b261      	lw	v0,480d4b40 <.L39+0x3f6>
480d49c0:	eac0      	jalrc	v0
480d49c2:	b25f      	lw	v0,480d4b3c <.L39+0x3f2>
                            libc_memset(m3u_dat_file_pt->m3u_index, 0xff, M3U_LIST_MAX);
480d49c4:	9a40      	lw	v0,0(v0)
480d49c6:	4a40      	addiu	v0,64
480d49c8:	6782      	move	a0,v0
480d49ca:	6dff      	li	a1,255
480d49cc:	6e32      	li	a2,50
480d49ce:	6f01      	li	a3,1
480d49d0:	b25c      	lw	v0,480d4b40 <.L39+0x3f6>
480d49d2:	eac0      	jalrc	v0
480d49d4:	9966      	lw	v1,24(s1)

                            if ((tmp_bitmap & AUDIBLE_BITMAP) != 0)
480d49d6:	f004 6a00 	li	v0,8192
480d49da:	ea6c      	and	v0,v1
480d49dc:	220a      	beqz	v0,480d49f2 <.L39+0x2a8>
480d49de:	b258      	lw	v0,480d4b3c <.L39+0x3f2>
                            {
                                //audible 文件bit7 置1
                                m3u_dat_file_pt->m3u_index[0] = cur_m3u_index | 0x80;
480d49e0:	9a80      	lw	a0,0(v0)
480d49e2:	f020 a148 	lbu	v0,40(s1)
480d49e6:	6b80      	li	v1,128
480d49e8:	eb6b      	neg	v1
480d49ea:	ea6d      	or	v0,v1
480d49ec:	f040 c440 	sb	v0,64(a0)
480d49f0:	1006      	b	480d49fe <.L39+0x2b4>
480d49f2:	b253      	lw	v0,480d4b3c <.L39+0x3f2>
                            }
                            else
                            {
                                m3u_dat_file_pt->m3u_index[0] = cur_m3u_index;
480d49f4:	9a60      	lw	v1,0(v0)
480d49f6:	f020 a148 	lbu	v0,40(s1)
480d49fa:	f040 c340 	sb	v0,64(v1)
480d49fe:	b250      	lw	v0,480d4b3c <.L39+0x3f2>
                            }

//                            m3u_dat_file_pt->title_string[name_cnt * 2] = 0x00;
//                            m3u_dat_file_pt->title_string[name_cnt * 2 + 1] = 0x00;
                            m3u_dat_file_pt->track_num = 0xffff;
480d4a00:	9a60      	lw	v1,0(v0)
480d4a02:	6a01      	li	v0,1
480d4a04:	ea4b      	neg	v0
480d4a06:	f0e0 cb52 	sh	v0,242(v1)
480d4a0a:	b24d      	lw	v0,480d4b3c <.L39+0x3f2>
                            m3u_dat_file_pt->prev_offset = ap_plist_file_total - 1;
480d4a0c:	9a60      	lw	v1,0(v0)
480d4a0e:	b24e      	lw	v0,480d4b44 <.L39+0x3fa>
480d4a10:	aa40      	lhu	v0,0(v0)
480d4a12:	424f      	addiu	v0,v0,-1
480d4a14:	f0e0 cb5c 	sh	v0,252(v1)
480d4a18:	b249      	lw	v0,480d4b3c <.L39+0x3f2>
                            m3u_dat_file_pt->next_offset = ap_plist_file_total + 1;
480d4a1a:	9a60      	lw	v1,0(v0)
480d4a1c:	b24a      	lw	v0,480d4b44 <.L39+0x3fa>
480d4a1e:	aa40      	lhu	v0,0(v0)
480d4a20:	4241      	addiu	v0,v0,1
480d4a22:	f0e0 cb5e 	sh	v0,254(v1)
480d4a26:	b246      	lw	v0,480d4b3c <.L39+0x3f2>
                            m3u_dat_file_pt->flag = 1;
480d4a28:	9a60      	lw	v1,0(v0)
480d4a2a:	6a01      	li	v0,1
480d4a2c:	f0a0 c348 	sb	v0,168(v1)
480d4a30:	b243      	lw	v0,480d4b3c <.L39+0x3f2>
                            m3u_dat_file_pt->id3_tag_flag = 1;
480d4a32:	9a60      	lw	v1,0(v0)
480d4a34:	6a01      	li	v0,1
480d4a36:	f0a0 c343 	sb	v0,163(v1)
480d4a3a:	b243      	lw	v0,480d4b44 <.L39+0x3fa>
                            t_file_index = ap_plist_file_total;
480d4a3c:	aa40      	lhu	v0,0(v0)
480d4a3e:	c945      	sh	v0,10(s1)
480d4a40:	b341      	lw	v1,480d4b44 <.L39+0x3fa>
                            ap_plist_file_total++;
480d4a42:	b241      	lw	v0,480d4b44 <.L39+0x3fa>
480d4a44:	aa40      	lhu	v0,0(v0)
480d4a46:	4241      	addiu	v0,v0,1
480d4a48:	cb40      	sh	v0,0(v1)
480d4a4a:	b23f      	lw	v0,480d4b44 <.L39+0x3fa>

                            if ((ap_plist_file_total % (FILE_INFO_BUF_SIZE / PLIST_FILE_SIZE)) == 0)
480d4a4c:	aa60      	lhu	v1,0(v0)
480d4a4e:	6a1f      	li	v0,31
480d4a50:	ea6c      	and	v0,v1
480d4a52:	ea31      	zeh	v0
480d4a54:	2a14      	bnez	v0,480d4a7e <.L39+0x334>
480d4a56:	b23e      	lw	v0,480d4b4c <.L39+0x402>
                            {
                                save_to_file((uint8 *) FILE_INFO_ADDR, FILE_INFO_BUF_SIZE);
480d4a58:	f004 6b00 	li	v1,8192
480d4a5c:	6782      	move	a0,v0
480d4a5e:	67a3      	move	a1,v1
480d4a60:	b23c      	lw	v0,480d4b50 <.L39+0x406>
480d4a62:	eac0      	jalrc	v0
480d4a64:	b336      	lw	v1,480d4b38 <.L39+0x3ee>
                                m3u_dat_file_pt = (m3ulist_f_info_t*) (FILE_INFO_ADDR);
480d4a66:	b23a      	lw	v0,480d4b4c <.L39+0x402>
480d4a68:	db40      	sw	v0,0(v1)
480d4a6a:	b239      	lw	v0,480d4b4c <.L39+0x402>
                                libc_memset(FILE_INFO_ADDR, 0x00, FILE_INFO_BUF_SIZE);
480d4a6c:	f004 6b00 	li	v1,8192
480d4a70:	6782      	move	a0,v0
480d4a72:	6d00      	li	a1,0
480d4a74:	67c3      	move	a2,v1
480d4a76:	6f01      	li	a3,1
480d4a78:	b232      	lw	v0,480d4b40 <.L39+0x3f6>
480d4a7a:	eac0      	jalrc	v0
480d4a7c:	1006      	b	480d4a8a <.L39+0x340>
480d4a7e:	b330      	lw	v1,480d4b3c <.L39+0x3f2>
                            }
                            else
                            {
                                m3u_dat_file_pt = (m3ulist_f_info_t*) ((uint8*) m3u_dat_file_pt + M3U_DAT_FILESIZE);
480d4a80:	b22f      	lw	v0,480d4b3c <.L39+0x3f2>
480d4a82:	9a40      	lw	v0,0(v0)
480d4a84:	f100 4a00 	addiu	v0,256
480d4a88:	db40      	sw	v0,0(v1)
480d4a8a:	9946      	lw	v0,24(s1)
                            }

                        }

                        if ((tmp_bitmap & AUDIBLE_BITMAP) != 0)
480d4a8c:	f004 6b00 	li	v1,8192
480d4a90:	ea6c      	and	v0,v1
480d4a92:	2209      	beqz	v0,480d4aa6 <.L39+0x35c>
480d4a94:	a947      	lhu	v0,14(s1)
                        {
                            t_audible_total++;
480d4a96:	4241      	addiu	v0,v0,1
480d4a98:	c947      	sh	v0,14(s1)
480d4a9a:	a945      	lhu	v0,10(s1)
                            //AUDIBLE 文件file_index 的bit15 置1
                            t_file_index = t_file_index | 0x8000;
480d4a9c:	f010 6b00 	li	v1,32768
480d4aa0:	eb6b      	neg	v1
480d4aa2:	ea6d      	or	v0,v1
480d4aa4:	c945      	sh	v0,10(s1)
480d4aa6:	a946      	lhu	v0,12(s1)
                        }

                        file_index_buf[t_file_total] = t_file_index;
480d4aa8:	3344      	sll	v1,v0,1
480d4aaa:	b22b      	lw	v0,480d4b54 <.L39+0x40a>
480d4aac:	9a40      	lw	v0,0(v0)
480d4aae:	e34d      	addu	v1,v0
480d4ab0:	a945      	lhu	v0,10(s1)
480d4ab2:	cb40      	sh	v0,0(v1)
480d4ab4:	a946      	lhu	v0,12(s1)
                        t_file_total++;
480d4ab6:	4241      	addiu	v0,v0,1
480d4ab8:	c946      	sh	v0,12(s1)
480d4aba:	6a01      	li	v0,1

                        restart_find = TRUE;
480d4abc:	c142      	sb	v0,2(s1)
480d4abe:	1016      	b	480d4aec <.L39+0x3a2>
                        break;//while(1)
480d4ac0:	6a80      	li	v0,128
                    }
                    dir_type = DIR_NEXT;
480d4ac2:	ea4b      	neg	v0
480d4ac4:	c141      	sb	v0,1(s1)
480d4ac6:	171b      	b	480d48fe <.L39+0x1b4>
480d4ac8:	6a01      	li	v0,1
                }
                else
                {
                    restart_find = TRUE;
480d4aca:	c142      	sb	v0,2(s1)
480d4acc:	100f      	b	480d4aec <.L39+0x3a2>
                    break;//while(1)
480d4ace:	a943      	lhu	v0,6(s1)
                }
            }

        }
        else
        {
            //文件名保存到缓冲区
            if (name_cnt < 63)
480d4ad0:	5a3f      	sltiu	v0,63
480d4ad2:	600a      	bteqz	480d4ae8 <.L39+0x39e>
480d4ad4:	a963      	lhu	v1,6(s1)
            {
                m3u_obj_name_buf[name_cnt] = value;
480d4ad6:	b211      	lw	v0,480d4b18 <.L39+0x3ce>
480d4ad8:	9a40      	lw	v0,0(v0)
480d4ada:	e34d      	addu	v1,v0
480d4adc:	a143      	lbu	v0,3(s1)
480d4ade:	c340      	sb	v0,0(v1)
480d4ae0:	a943      	lhu	v0,6(s1)
                name_cnt++;
480d4ae2:	4241      	addiu	v0,v0,1
480d4ae4:	c943      	sh	v0,6(s1)
480d4ae6:	1002      	b	480d4aec <.L39+0x3a2>
480d4ae8:	6a3f      	li	v0,63
            }
            else
            {
                //buf已满
                name_cnt = 63;
480d4aea:	c943      	sh	v0,6(s1)
480d4aec:	9944      	lw	v0,16(s1)
480d4aee:	4241      	addiu	v0,v0,1
480d4af0:	d944      	sw	v0,16(s1)
480d4af2:	159d      	b	480d462e <parse_m3u_file+0x46>
480d4af4:	a947      	lhu	v0,14(s1)
            }
        }
    }

    //    name_cnt = ap_plist_file_total % (FILE_INFO_BUF_SIZE / M3U_FILE_SIZE);
    //    if (name_cnt != 0)
    //    {
    //        save_to_file((uint8 *) FILE_INFO_ADDR, name_cnt * M3U_FILE_SIZE);
    //    }

    return ((uint32) t_audible_total << 16) | t_file_total;
480d4af6:	3240      	sll	v0,8
480d4af8:	3240      	sll	v0,8
480d4afa:	a966      	lhu	v1,12(s1)
480d4afc:	ea6d      	or	v0,v1
480d4afe:	651a      	move	t8,v0
480d4b00:	6758      	move	v0,t8

}
480d4b02:	65b9      	move	sp,s1
480d4b04:	6455      	restore	40,ra,s1
480d4b06:	e8a0      	jrc	ra
480d4b08:	5570      	slti	a1,112
480d4b0a:	9fc1      	lw	a2,4(a3)
480d4b0c:	5a30      	sltiu	v0,48
480d4b0e:	9fc1      	lw	a2,4(a3)
480d4b10:	6411      	restore	8,s1
480d4b12:	bfc1      	lwu	a2,4(a3)
480d4b14:	4fe1      	addiu	a3,-31
480d4b16:	4021      	addiu	s1,s0,1
480d4b18:	5a38      	sltiu	v0,56
480d4b1a:	9fc1      	lw	a2,4(a3)
480d4b1c:	5071      	slti	s0,113
480d4b1e:	4021      	addiu	s1,s0,1
480d4b20:	4dad      	addiu	a1,-83
480d4b22:	4021      	addiu	s1,s0,1
480d4b24:	4f25      	addiu	a3,37
480d4b26:	4021      	addiu	s1,s0,1
480d4b28:	65e9      	move	t7,s1
480d4b2a:	bfc1      	lwu	a2,4(a3)
480d4b2c:	5a3c      	sltiu	v0,60
480d4b2e:	9fc1      	lw	a2,4(a3)
480d4b30:	4d39      	addiu	a1,57
480d4b32:	4021      	addiu	s1,s0,1
480d4b34:	4c01      	addiu	a0,1
480d4b36:	4021      	addiu	s1,s0,1
480d4b38:	2ea0      	bnez	a2,480d4a7a <.L39+0x330>
480d4b3a:	7e01      	sd	s0,8(a2)
480d4b3c:	5a40      	sltiu	v0,64
480d4b3e:	9fc1      	lw	a2,4(a3)
480d4b40:	6409      	restore	72
480d4b42:	bfc1      	lwu	a2,4(a3)
480d4b44:	5598      	slti	a1,152
480d4b46:	9fc1      	lw	a2,4(a3)
480d4b48:	5a44      	sltiu	v0,68
480d4b4a:	9fc1      	lw	a2,4(a3)
480d4b4c:	0a00      	la	v0,480d4b4c <.L39+0x402>
480d4b4e:	9fc2      	lw	a2,8(a3)
480d4b50:	6415      	restore	40,s1
480d4b52:	bfc1      	lwu	a2,4(a3)
480d4b54:	5640      	slti	a2,64
480d4b56:	9fc1      	lw	a2,4(a3)
	...
Disassembly of section BANK_UI_1_4:

48114400 <wirte_m3u_dat>:
48114400:	64f7      	save	56,ra,s0-s1

 * \note
 *******************************************************************************/
void wirte_m3u_dat(uint16 t_list_total, uint16 t_list_fileoffset)
{
48114402:	0106      	addiu	s1,sp,24
48114404:	6744      	move	v0,a0
48114406:	6765      	move	v1,a1
48114408:	c950      	sh	v0,32(s1)
4811440a:	c972      	sh	v1,36(s1)
4811440c:	b3ba      	lw	v1,481146f4 <wirte_m3u_dat+0x2f4>
    uint16 i;
    uint32 temp32;
    m3udat_head_t* t_head_pt;
    uint8 *t_read_buf;

    ap_pos_file_offset = 0;
4811440e:	6a00      	li	v0,0
48114410:	cb40      	sh	v0,0(v1)
48114412:	b3ba      	lw	v1,481146f8 <wirte_m3u_dat+0x2f8>
    ap_plist_file_total = 0;
48114414:	6a00      	li	v0,0
48114416:	cb40      	sh	v0,0(v1)
48114418:	b3b9      	lw	v1,481146fc <wirte_m3u_dat+0x2fc>
    count_buf_a = (uint16*) (COUNT_BUF_A_ADDR + SECTOR_SIZE * 0); //1k
4811441a:	b2ba      	lw	v0,48114700 <wirte_m3u_dat+0x300>
4811441c:	db40      	sw	v0,0(v1)
4811441e:	b3ba      	lw	v1,48114704 <wirte_m3u_dat+0x304>
    filepos_p = (file_pos_t*) SORT_DATA_ADDR;//32k
48114420:	b2ba      	lw	v0,48114708 <wirte_m3u_dat+0x308>
48114422:	db40      	sw	v0,0(v1)
48114424:	b2ba      	lw	v0,4811470c <wirte_m3u_dat+0x30c>
    t_read_buf = (uint8*) (COUNT_BUF_A_ADDR + SECTOR_SIZE * 7); //0.5k
48114426:	d943      	sw	v0,12(s1)
48114428:	b3ba      	lw	v1,48114710 <wirte_m3u_dat+0x310>

    m3u_dat_file_pt = (m3ulist_f_info_t *) FILE_INFO_ADDR;
4811442a:	b2bb      	lw	v0,48114714 <wirte_m3u_dat+0x314>
4811442c:	db40      	sw	v0,0(v1)
4811442e:	b2ba      	lw	v0,48114714 <wirte_m3u_dat+0x314>
    libc_memset(FILE_INFO_ADDR, 0x00, FILE_INFO_BUF_SIZE);
48114430:	f004 6b00 	li	v1,8192
48114434:	6782      	move	a0,v0
48114436:	6d00      	li	a1,0
48114438:	67c3      	move	a2,v1
4811443a:	6f01      	li	a3,1
4811443c:	b2b7      	lw	v0,48114718 <wirte_m3u_dat+0x318>
4811443e:	eac0      	jalrc	v0
48114440:	b3b7      	lw	v1,48114718 <wirte_m3u_dat+0x318>
    ap_plist_file_offset = (uint16) (M3U_DAT_FILEOFFSET / SECTOR_SIZE);
48114442:	f340 6a05 	li	v0,837
48114446:	cb40      	sh	v0,0(v1)
48114448:	6a00      	li	v0,0

    for (i = 0; i < t_list_total; i++)
4811444a:	c940      	sh	v0,0(s1)
4811444c:	a940      	lhu	v0,0(s1)
4811444e:	a970      	lhu	v1,32(s1)
48114450:	ea63      	sltu	v0,v1
48114452:	f0c0 6011 	bteqz	481145f8 <wirte_m3u_dat+0x1f8>
48114456:	a940      	lhu	v0,0(s1)
    {
        if ((i & 0x01) != 0)
48114458:	6b01      	li	v1,1
4811445a:	ea6c      	and	v0,v1
4811445c:	2206      	beqz	v0,4811446a <wirte_m3u_dat+0x6a>
4811445e:	b2b1      	lw	v0,48114720 <wirte_m3u_dat+0x320>
        {
            other_f_p = (plist_f_info_t *) (t_read_buf + PLIST_FILE_SIZE);
48114460:	9963      	lw	v1,12(s1)
48114462:	f100 4b00 	addiu	v1,256
48114466:	da60      	sw	v1,0(v0)
48114468:	1020      	b	481144aa <wirte_m3u_dat+0xaa>
4811446a:	b2af      	lw	v0,48114724 <wirte_m3u_dat+0x324>
        }
        else
        {
            //读取lib 获取M3U list文件位置
            vfs_file_seek(ap_vfs_mount, (t_list_fileoffset + (i >> 1)) * SECTOR_SIZE, SEEK_SET, ap_obj_handle);
4811446c:	9a80      	lw	a0,0(v0)
4811446e:	a972      	lhu	v1,36(s1)
48114470:	a940      	lhu	v0,0(s1)
48114472:	3246      	srl	v0,1
48114474:	ea31      	zeh	v0
48114476:	e349      	addu	v0,v1,v0
48114478:	3340      	sll	v1,v0,8
4811447a:	3364      	sll	v1,1
4811447c:	b2ab      	lw	v0,48114728 <wirte_m3u_dat+0x328>
4811447e:	9ae0      	lw	a3,0(v0)
48114480:	6a0b      	li	v0,11
48114482:	d204      	sw	v0,16(sp)
48114484:	67a3      	move	a1,v1
48114486:	6e00      	li	a2,0
48114488:	b2a9      	lw	v0,4811472c <wirte_m3u_dat+0x32c>
4811448a:	eac0      	jalrc	v0
4811448c:	b2a6      	lw	v0,48114720 <wirte_m3u_dat+0x320>
            vfs_file_read(ap_vfs_mount, t_read_buf, SECTOR_SIZE, ap_obj_handle);
4811448e:	9a60      	lw	v1,0(v0)
48114490:	99a3      	lw	a1,12(s1)
48114492:	f200 6e00 	li	a2,512
48114496:	b2a5      	lw	v0,48114728 <wirte_m3u_dat+0x328>
48114498:	9ae0      	lw	a3,0(v0)
4811449a:	6a0d      	li	v0,13
4811449c:	d204      	sw	v0,16(sp)
4811449e:	6783      	move	a0,v1
481144a0:	b2a3      	lw	v0,4811472c <wirte_m3u_dat+0x32c>
481144a2:	eac0      	jalrc	v0
481144a4:	b39f      	lw	v1,4811471c <wirte_m3u_dat+0x31c>
            other_f_p = (plist_f_info_t *) t_read_buf;
481144a6:	9943      	lw	v0,12(s1)
481144a8:	db40      	sw	v0,0(v1)
481144aa:	b29f      	lw	v0,48114724 <wirte_m3u_dat+0x324>
        }

        if (0 != vfs_file_dir_offset(ap_vfs_mount, &other_f_p->dir_layer_info, &other_f_p->cluster_no, 1))
481144ac:	9a80      	lw	a0,0(v0)
481144ae:	b29d      	lw	v0,48114720 <wirte_m3u_dat+0x320>
481144b0:	9a40      	lw	v0,0(v0)
481144b2:	f0a0 42a9 	addiu	a1,v0,169
481144b6:	b29b      	lw	v0,48114720 <wirte_m3u_dat+0x320>
481144b8:	9a40      	lw	v0,0(v0)
481144ba:	f0f0 4264 	addiu	v1,v0,244
481144be:	6a03      	li	v0,3
481144c0:	d204      	sw	v0,16(sp)
481144c2:	67c3      	move	a2,v1
481144c4:	6f01      	li	a3,1
481144c6:	b29a      	lw	v0,4811472c <wirte_m3u_dat+0x32c>
481144c8:	eac0      	jalrc	v0
481144ca:	651a      	move	t8,v0
481144cc:	6758      	move	v0,t8
481144ce:	ea11      	zeb	v0
481144d0:	f080 220e 	beqz	v0,481145f0 <wirte_m3u_dat+0x1f0>
481144d4:	b097      	lw	s0,48114730 <wirte_m3u_dat+0x330>
        {
            //OPEN *.M3U 文件
            m3u_handle = vfs_file_open(ap_vfs_mount, NULL, R_NORMAL_SEEK);
481144d6:	b294      	lw	v0,48114724 <wirte_m3u_dat+0x324>
481144d8:	9a60      	lw	v1,0(v0)
481144da:	6a05      	li	v0,5
481144dc:	d204      	sw	v0,16(sp)
481144de:	6783      	move	a0,v1
481144e0:	6d00      	li	a1,0
481144e2:	6e00      	li	a2,0
481144e4:	6f00      	li	a3,0
481144e6:	b292      	lw	v0,4811472c <wirte_m3u_dat+0x32c>
481144e8:	eac0      	jalrc	v0
481144ea:	d840      	sw	v0,0(s0)
481144ec:	b291      	lw	v0,48114730 <wirte_m3u_dat+0x330>
            if (0 != m3u_handle)
481144ee:	9a40      	lw	v0,0(v0)
481144f0:	227f      	beqz	v0,481145f0 <wirte_m3u_dat+0x1f0>
481144f2:	b391      	lw	v1,48114734 <wirte_m3u_dat+0x334>
            {
                m3u_curpos_offset = 0x0000;
481144f4:	6a00      	li	v0,0
481144f6:	cb40      	sh	v0,0(v1)
481144f8:	b390      	lw	v1,48114738 <wirte_m3u_dat+0x338>
                m3u_cursec_num = 0xffff;
481144fa:	6a01      	li	v0,1
481144fc:	ea4b      	neg	v0
481144fe:	cb40      	sh	v0,0(v1)
48114500:	a940      	lhu	v0,0(s1)
                count_buf_a[i] = 0;
48114502:	3344      	sll	v1,v0,1
48114504:	b27e      	lw	v0,481146fc <wirte_m3u_dat+0x2fc>
48114506:	9a40      	lw	v0,0(v0)
48114508:	e34d      	addu	v1,v0
4811450a:	6a00      	li	v0,0
4811450c:	cb40      	sh	v0,0(v1)
4811450e:	b38c      	lw	v1,4811473c <wirte_m3u_dat+0x33c>

                m3u_get_name_buf = (uint8*) (COUNT_BUF_A_ADDR + SECTOR_SIZE * 2); //0.5k
48114510:	b28c      	lw	v0,48114740 <wirte_m3u_dat+0x340>
48114512:	db40      	sw	v0,0(v1)
48114514:	b38c      	lw	v1,48114744 <wirte_m3u_dat+0x344>
                m3u_obj_name_buf = (uint8*) (COUNT_BUF_A_ADDR + SECTOR_SIZE * 3); //0.5k
48114516:	b28d      	lw	v0,48114748 <wirte_m3u_dat+0x348>
48114518:	db40      	sw	v0,0(v1)
4811451a:	b38d      	lw	v1,4811474c <wirte_m3u_dat+0x34c>
                //                m3u_obj_name_buf_uni = (uint8*) (COUNT_BUF_A_ADDR + SECTOR_SIZE * 4);   //0.5k,已用
                m3u_ext_name = (uint8*) (COUNT_BUF_A_ADDR + SECTOR_SIZE * 5); //0.5k
4811451c:	b28d      	lw	v0,48114750 <wirte_m3u_dat+0x350>
4811451e:	db40      	sw	v0,0(v1)
48114520:	b38d      	lw	v1,48114754 <wirte_m3u_dat+0x354>
                //              read_m3u_buffer = (uint8*) (COUNT_BUF_A_ADDR + SECTOR_SIZE * 6);          //0.5k 已用
                //t_read_buf = (uint8*) (COUNT_BUF_A_ADDR + SECTOR_SIZE * 7);//0.5k //已使用
                file_index_buf = (uint16*) (COUNT_BUF_A_ADDR + SECTOR_SIZE * 8); //8K
48114522:	b28e      	lw	v0,48114758 <wirte_m3u_dat+0x358>
48114524:	db40      	sw	v0,0(v1)
48114526:	b28c      	lw	v0,48114754 <wirte_m3u_dat+0x354>
                libc_memset(file_index_buf, 0x00, SECTOR_SIZE);//clear,for seek debug
48114528:	9a40      	lw	v0,0(v0)
4811452a:	f200 6b00 	li	v1,512
4811452e:	6782      	move	a0,v0
48114530:	6d00      	li	a1,0
48114532:	67c3      	move	a2,v1
48114534:	6f01      	li	a3,1
48114536:	b279      	lw	v0,48114718 <wirte_m3u_dat+0x318>
48114538:	eac0      	jalrc	v0
4811453a:	b36f      	lw	v1,481146f4 <wirte_m3u_dat+0x2f4>
                // 定位到DAT 填入文件信息位置
                ap_pos_file_offset = ap_plist_file_offset;//修改savefile 接口中ap_pos_file_offset值
4811453c:	b278      	lw	v0,4811471c <wirte_m3u_dat+0x31c>
4811453e:	aa40      	lhu	v0,0(v0)
48114540:	cb40      	sh	v0,0(v1)
48114542:	b279      	lw	v0,48114724 <wirte_m3u_dat+0x324>
                vfs_file_seek(ap_vfs_mount, ap_plist_file_offset * SECTOR_SIZE, SEEK_SET, ap_obj_handle);
48114544:	9a60      	lw	v1,0(v0)
48114546:	b276      	lw	v0,4811471c <wirte_m3u_dat+0x31c>
48114548:	aa40      	lhu	v0,0(v0)
4811454a:	3540      	sll	a1,v0,8
4811454c:	35a4      	sll	a1,1
4811454e:	b277      	lw	v0,48114728 <wirte_m3u_dat+0x328>
48114550:	9ae0      	lw	a3,0(v0)
48114552:	6a0b      	li	v0,11
48114554:	d204      	sw	v0,16(sp)
48114556:	6783      	move	a0,v1
48114558:	6e00      	li	a2,0
4811455a:	b275      	lw	v0,4811472c <wirte_m3u_dat+0x32c>
4811455c:	eac0      	jalrc	v0
4811455e:	a940      	lhu	v0,0(s1)
                //只写入文件信息
                temp32 = parse_m3u_file((uint8) i);
48114560:	ea11      	zeb	v0
48114562:	6782      	move	a0,v0
48114564:	b27e      	lw	v0,4811475c <wirte_m3u_dat+0x35c>
48114566:	eac0      	jalrc	v0
48114568:	d941      	sw	v0,4(s1)
4811456a:	a940      	lhu	v0,0(s1)
                count_buf_a[i] = (uint16) (temp32 & 0xffff);
4811456c:	3344      	sll	v1,v0,1
4811456e:	b264      	lw	v0,481146fc <wirte_m3u_dat+0x2fc>
48114570:	9a40      	lw	v0,0(v0)
48114572:	e34d      	addu	v1,v0
48114574:	9941      	lw	v0,4(s1)
48114576:	cb40      	sh	v0,0(v1)
48114578:	a940      	lhu	v0,0(s1)
                count_buf_a[i + M3U_LIST_MAX] = (uint16) (temp32 >> 16);
4811457a:	3344      	sll	v1,v0,1
4811457c:	b260      	lw	v0,481146fc <wirte_m3u_dat+0x2fc>
4811457e:	9a40      	lw	v0,0(v0)
48114580:	e34d      	addu	v1,v0
48114582:	9941      	lw	v0,4(s1)
48114584:	3242      	srl	v0,8
48114586:	3242      	srl	v0,8
48114588:	f060 cb44 	sh	v0,100(v1)
4811458c:	b266      	lw	v0,48114724 <wirte_m3u_dat+0x324>

                vfs_file_close(ap_vfs_mount, m3u_handle);
4811458e:	9a60      	lw	v1,0(v0)
48114590:	b268      	lw	v0,48114730 <wirte_m3u_dat+0x330>
48114592:	9aa0      	lw	a1,0(v0)
48114594:	6a07      	li	v0,7
48114596:	d204      	sw	v0,16(sp)
48114598:	6783      	move	a0,v1
4811459a:	6e00      	li	a2,0
4811459c:	6f00      	li	a3,0
4811459e:	b264      	lw	v0,4811472c <wirte_m3u_dat+0x32c>
481145a0:	eac0      	jalrc	v0
481145a2:	b35f      	lw	v1,4811471c <wirte_m3u_dat+0x31c>
                ap_plist_file_offset = ap_pos_file_offset;
481145a4:	b254      	lw	v0,481146f4 <wirte_m3u_dat+0x2f4>
481145a6:	aa40      	lhu	v0,0(v0)
481145a8:	cb40      	sh	v0,0(v1)
481145aa:	a940      	lhu	v0,0(s1)

                //save file_index_buf
                if (count_buf_a[i] != 0)
481145ac:	3344      	sll	v1,v0,1
481145ae:	b254      	lw	v0,481146fc <wirte_m3u_dat+0x2fc>
481145b0:	9a40      	lw	v0,0(v0)
481145b2:	e349      	addu	v0,v1,v0
481145b4:	aa40      	lhu	v0,0(v0)
481145b6:	221c      	beqz	v0,481145f0 <wirte_m3u_dat+0x1f0>
481145b8:	b25b      	lw	v0,48114724 <wirte_m3u_dat+0x324>
                {
                    vfs_file_seek(ap_vfs_mount, M3U_DAT_INDEXOFFSET + i * M3U_DAT_INDEXSIZE, SEEK_SET, ap_obj_handle);
481145ba:	9a60      	lw	v1,0(v0)
481145bc:	a940      	lhu	v0,0(s1)
481145be:	3240      	sll	v0,8
481145c0:	3254      	sll	v0,5
481145c2:	67a2      	move	a1,v0
481145c4:	f209 4d00 	addiu	a1,18944
481145c8:	b258      	lw	v0,48114728 <wirte_m3u_dat+0x328>
481145ca:	9ae0      	lw	a3,0(v0)
481145cc:	6a0b      	li	v0,11
481145ce:	d204      	sw	v0,16(sp)
481145d0:	6783      	move	a0,v1
481145d2:	6e00      	li	a2,0
481145d4:	b256      	lw	v0,4811472c <wirte_m3u_dat+0x32c>
481145d6:	eac0      	jalrc	v0
481145d8:	b25f      	lw	v0,48114750 <wirte_m3u_dat+0x350>
                    save_to_file((void*) file_index_buf, count_buf_a[i] * 2);
481145da:	9a80      	lw	a0,0(v0)
481145dc:	a940      	lhu	v0,0(s1)
481145de:	3344      	sll	v1,v0,1
481145e0:	b247      	lw	v0,481146fc <wirte_m3u_dat+0x2fc>
481145e2:	9a40      	lw	v0,0(v0)
481145e4:	e349      	addu	v0,v1,v0
481145e6:	aa40      	lhu	v0,0(v0)
481145e8:	3244      	sll	v0,1
481145ea:	67a2      	move	a1,v0
481145ec:	b25d      	lw	v0,48114760 <wirte_m3u_dat+0x360>
481145ee:	eac0      	jalrc	v0
481145f0:	a940      	lhu	v0,0(s1)
481145f2:	4241      	addiu	v0,v0,1
481145f4:	c940      	sh	v0,0(s1)
481145f6:	172a      	b	4811444c <wirte_m3u_dat+0x4c>
481145f8:	b240      	lw	v0,481146f8 <wirte_m3u_dat+0x2f8>
                }

            }
        }

    }

    //判断回写文件信息区域数据
    i = (uint16) ap_plist_file_total % (FILE_INFO_BUF_SIZE / M3U_DAT_FILESIZE);
481145fa:	aa60      	lhu	v1,0(v0)
481145fc:	6a1f      	li	v0,31
481145fe:	ea6c      	and	v0,v1
48114600:	c940      	sh	v0,0(s1)
48114602:	a940      	lhu	v0,0(s1)
    if (i != 0)
48114604:	2215      	beqz	v0,48114630 <wirte_m3u_dat+0x230>
48114606:	b248      	lw	v0,48114724 <wirte_m3u_dat+0x324>
    {
        vfs_file_seek(ap_vfs_mount, ap_plist_file_offset * SECTOR_SIZE, SEEK_SET, ap_obj_handle);
48114608:	9a60      	lw	v1,0(v0)
4811460a:	b245      	lw	v0,4811471c <wirte_m3u_dat+0x31c>
4811460c:	aa40      	lhu	v0,0(v0)
4811460e:	3540      	sll	a1,v0,8
48114610:	35a4      	sll	a1,1
48114612:	b246      	lw	v0,48114728 <wirte_m3u_dat+0x328>
48114614:	9ae0      	lw	a3,0(v0)
48114616:	6a0b      	li	v0,11
48114618:	d204      	sw	v0,16(sp)
4811461a:	6783      	move	a0,v1
4811461c:	6e00      	li	a2,0
4811461e:	b244      	lw	v0,4811472c <wirte_m3u_dat+0x32c>
48114620:	eac0      	jalrc	v0
48114622:	b33d      	lw	v1,48114714 <wirte_m3u_dat+0x314>
        save_to_file((uint8 *) FILE_INFO_ADDR, i * M3U_DAT_FILESIZE);
48114624:	a940      	lhu	v0,0(s1)
48114626:	3240      	sll	v0,8
48114628:	6783      	move	a0,v1
4811462a:	67a2      	move	a1,v0
4811462c:	b24d      	lw	v0,48114760 <wirte_m3u_dat+0x360>
4811462e:	eac0      	jalrc	v0
48114630:	b232      	lw	v0,481146f4 <wirte_m3u_dat+0x2f4>
    }

    if (0 != ap_plist_file_total)
48114632:	aa40      	lhu	v0,0(v0)
48114634:	2213      	beqz	v0,4811465c <wirte_m3u_dat+0x25c>
48114636:	b23c      	lw	v0,48114724 <wirte_m3u_dat+0x324>
    {
        vfs_file_seek(ap_vfs_mount, M3U_DAT_POS_INDEXOFFSET, SEEK_SET, ap_obj_handle);
48114638:	9a60      	lw	v1,0(v0)
4811463a:	b54b      	lw	a1,48114764 <wirte_m3u_dat+0x364>
4811463c:	b23b      	lw	v0,48114728 <wirte_m3u_dat+0x328>
4811463e:	9ae0      	lw	a3,0(v0)
48114640:	6a0b      	li	v0,11
48114642:	d204      	sw	v0,16(sp)
48114644:	6783      	move	a0,v1
48114646:	6e00      	li	a2,0
48114648:	b239      	lw	v0,4811472c <wirte_m3u_dat+0x32c>
4811464a:	eac0      	jalrc	v0
4811464c:	b32f      	lw	v1,48114704 <wirte_m3u_dat+0x304>
        save_to_file((uint8 *) SORT_DATA_ADDR, 8 * ap_plist_file_total); //save pos index
4811464e:	b22b      	lw	v0,481146f8 <wirte_m3u_dat+0x2f8>
48114650:	aa40      	lhu	v0,0(v0)
48114652:	324c      	sll	v0,3
48114654:	6783      	move	a0,v1
48114656:	67a2      	move	a1,v0
48114658:	b242      	lw	v0,48114760 <wirte_m3u_dat+0x360>
4811465a:	eac0      	jalrc	v0
4811465c:	b232      	lw	v0,48114720 <wirte_m3u_dat+0x320>
    }

    //写DAT 文件的头信息
    vfs_file_seek(ap_vfs_mount, 0, SEEK_SET, ap_obj_handle);
4811465e:	9a60      	lw	v1,0(v0)
48114660:	b232      	lw	v0,48114728 <wirte_m3u_dat+0x328>
48114662:	9ae0      	lw	a3,0(v0)
48114664:	6a0b      	li	v0,11
48114666:	d204      	sw	v0,16(sp)
48114668:	6783      	move	a0,v1
4811466a:	6d00      	li	a1,0
4811466c:	6e00      	li	a2,0
4811466e:	b230      	lw	v0,4811472c <wirte_m3u_dat+0x32c>
48114670:	eac0      	jalrc	v0
48114672:	b22d      	lw	v0,48114724 <wirte_m3u_dat+0x324>
    vfs_file_read(ap_vfs_mount, temp_plist_buf, SECTOR_SIZE, ap_obj_handle);
48114674:	9a60      	lw	v1,0(v0)
48114676:	b53d      	lw	a1,48114768 <wirte_m3u_dat+0x368>
48114678:	f200 6e00 	li	a2,512
4811467c:	b22b      	lw	v0,48114728 <wirte_m3u_dat+0x328>
4811467e:	9ae0      	lw	a3,0(v0)
48114680:	6a0d      	li	v0,13
48114682:	d204      	sw	v0,16(sp)
48114684:	6783      	move	a0,v1
48114686:	b22a      	lw	v0,4811472c <wirte_m3u_dat+0x32c>
48114688:	eac0      	jalrc	v0
4811468a:	b239      	lw	v0,4811476c <wirte_m3u_dat+0x36c>
    t_head_pt = (m3udat_head_t*) (temp_plist_buf + M3U_DAT_HEADOFFSET);
4811468c:	d942      	sw	v0,8(s1)
4811468e:	9942      	lw	v0,8(s1)
    libc_memcpy(t_head_pt->list_file_num, count_buf_a, t_list_total * 2);//
48114690:	4282      	addiu	a0,v0,2
48114692:	b21b      	lw	v0,481146fc <wirte_m3u_dat+0x2fc>
48114694:	9a60      	lw	v1,0(v0)
48114696:	a950      	lhu	v0,32(s1)
48114698:	3244      	sll	v0,1
4811469a:	67a3      	move	a1,v1
4811469c:	67c2      	move	a2,v0
4811469e:	6f00      	li	a3,0
481146a0:	b21e      	lw	v0,48114718 <wirte_m3u_dat+0x318>
481146a2:	eac0      	jalrc	v0
481146a4:	9942      	lw	v0,8(s1)
    libc_memcpy(t_head_pt->audible_file_num, &count_buf_a[M3U_LIST_MAX], t_list_total * 2);//
481146a6:	6782      	move	a0,v0
481146a8:	4c66      	addiu	a0,102
481146aa:	b215      	lw	v0,481146fc <wirte_m3u_dat+0x2fc>
481146ac:	9a40      	lw	v0,0(v0)
481146ae:	6762      	move	v1,v0
481146b0:	4b64      	addiu	v1,100
481146b2:	a950      	lhu	v0,32(s1)
481146b4:	3244      	sll	v0,1
481146b6:	67a3      	move	a1,v1
481146b8:	67c2      	move	a2,v0
481146ba:	6f00      	li	a3,0
481146bc:	b217      	lw	v0,48114718 <wirte_m3u_dat+0x318>
481146be:	eac0      	jalrc	v0
481146c0:	9962      	lw	v1,8(s1)
    t_head_pt->dat_file_total = ap_plist_file_total;
481146c2:	b20e      	lw	v0,481146f8 <wirte_m3u_dat+0x2f8>
481146c4:	aa40      	lhu	v0,0(v0)
481146c6:	cb40      	sh	v0,0(v1)
481146c8:	b217      	lw	v0,48114724 <wirte_m3u_dat+0x324>

    vfs_file_seek(ap_vfs_mount, 0, SEEK_SET, ap_obj_handle);
481146ca:	9a60      	lw	v1,0(v0)
481146cc:	b217      	lw	v0,48114728 <wirte_m3u_dat+0x328>
481146ce:	9ae0      	lw	a3,0(v0)
481146d0:	6a0b      	li	v0,11
481146d2:	d204      	sw	v0,16(sp)
481146d4:	6783      	move	a0,v1
481146d6:	6d00      	li	a1,0
481146d8:	6e00      	li	a2,0
481146da:	b215      	lw	v0,4811472c <wirte_m3u_dat+0x32c>
481146dc:	eac0      	jalrc	v0
481146de:	b223      	lw	v0,48114768 <wirte_m3u_dat+0x368>
    save_to_file(temp_plist_buf, SECTOR_SIZE);
481146e0:	f200 6b00 	li	v1,512
481146e4:	6782      	move	a0,v0
481146e6:	67a3      	move	a1,v1
481146e8:	b21e      	lw	v0,48114760 <wirte_m3u_dat+0x360>
481146ea:	eac0      	jalrc	v0
481146ec:	65b9      	move	sp,s1
}
481146ee:	6474      	restore	32,ra,s0-s1
481146f0:	e8a0      	jrc	ra
481146f2:	0000      	addiu	s0,sp,0
481146f4:	556a      	slti	a1,106
481146f6:	9fc1      	lw	a2,4(a3)
481146f8:	5598      	slti	a1,152
481146fa:	9fc1      	lw	a2,4(a3)
481146fc:	5648      	slti	a2,72
481146fe:	9fc1      	lw	a2,4(a3)
48114700:	6a00      	li	v0,0
48114702:	9fc2      	lw	a2,8(a3)
48114704:	5a44      	sltiu	v0,68
48114706:	9fc1      	lw	a2,4(a3)
48114708:	0000      	addiu	s0,sp,0
4811470a:	9fc3      	lw	a2,12(a3)
4811470c:	7800      	sd	s0,0(s0)
4811470e:	9fc2      	lw	a2,8(a3)
48114710:	5a40      	sltiu	v0,64
48114712:	9fc1      	lw	a2,4(a3)
48114714:	0a00      	la	v0,48114714 <wirte_m3u_dat+0x314>
48114716:	9fc2      	lw	a2,8(a3)
48114718:	6409      	restore	72
4811471a:	bfc1      	lwu	a2,4(a3)
4811471c:	559a      	slti	a1,154
4811471e:	9fc1      	lw	a2,4(a3)
48114720:	5690      	slti	a2,144
48114722:	9fc1      	lw	a2,4(a3)
48114724:	5570      	slti	a1,112
48114726:	9fc1      	lw	a2,4(a3)
48114728:	556c      	slti	a1,108
4811472a:	9fc1      	lw	a2,4(a3)
4811472c:	6411      	restore	8,s1
4811472e:	bfc1      	lwu	a2,4(a3)
48114730:	5a30      	sltiu	v0,48
48114732:	9fc1      	lw	a2,4(a3)
48114734:	5a2e      	sltiu	v0,46
48114736:	9fc1      	lw	a2,4(a3)
48114738:	5a2c      	sltiu	v0,44
4811473a:	9fc1      	lw	a2,4(a3)
4811473c:	5a34      	sltiu	v0,52
4811473e:	9fc1      	lw	a2,4(a3)
48114740:	6e00      	li	a2,0
48114742:	9fc2      	lw	a2,8(a3)
48114744:	5a38      	sltiu	v0,56
48114746:	9fc1      	lw	a2,4(a3)
48114748:	7000      	cmpi	s0,0
4811474a:	9fc2      	lw	a2,8(a3)
4811474c:	5a3c      	sltiu	v0,60
4811474e:	9fc1      	lw	a2,4(a3)
48114750:	7400      	cmpi	a0,0
48114752:	9fc2      	lw	a2,8(a3)
48114754:	5640      	slti	a2,64
48114756:	9fc1      	lw	a2,4(a3)
48114758:	7a00      	sd	s0,0(v0)
4811475a:	9fc2      	lw	a2,8(a3)
4811475c:	45e9      	addiu	a3,a1,-7
4811475e:	480d      	addiu	s0,13
48114760:	6415      	restore	40,s1
48114762:	bfc1      	lwu	a2,4(a3)
48114764:	2a00      	bnez	v0,48114766 <wirte_m3u_dat+0x366>
48114766:	0016      	addiu	s0,sp,88
48114768:	5694      	slti	a2,148
4811476a:	9fc1      	lw	a2,4(a3)
4811476c:	5734      	slti	a3,52
4811476e:	9fc1      	lw	a2,4(a3)
	...
Disassembly of section BANK_UI_1_5:

48154400 <mbyte_to_wchar>:
48154400:	6492      	save	16,s1

 * \note    ASC转成UNICODE，自动加入标识符和结束符
 *******************************************************************************/
static uint16 mbyte_to_wchar(uint8 *dest, uint8 *src)
{
48154402:	673d      	move	s1,sp
48154404:	d984      	sw	a0,16(s1)
48154406:	d9a5      	sw	a1,20(s1)
48154408:	6a00      	li	v0,0
    uint16 num = 0;
4815440a:	c940      	sh	v0,0(s1)
4815440c:	9964      	lw	v1,16(s1)

#ifdef USE_83NAME_CREAT

    while(*src!=0x00)
    {
        *dest=*src;
        dest++;
        src++;
        num++;
    }

    dest=0x00;

#else

    *dest = 0xff;
4815440e:	6a01      	li	v0,1
48154410:	ea4b      	neg	v0
48154412:	c340      	sb	v0,0(v1)
48154414:	9964      	lw	v1,16(s1)
    *(dest + 1) = 0xfe;
48154416:	6a02      	li	v0,2
48154418:	ea4b      	neg	v0
4815441a:	c341      	sb	v0,1(v1)
4815441c:	9944      	lw	v0,16(s1)
    dest += 2;
4815441e:	4242      	addiu	v0,v0,2
48154420:	d944      	sw	v0,16(s1)
48154422:	9945      	lw	v0,20(s1)

    while (*src != 0x00)
48154424:	a240      	lbu	v0,0(v0)
48154426:	2211      	beqz	v0,4815444a <mbyte_to_wchar+0x4a>
48154428:	9964      	lw	v1,16(s1)
    {
        *dest = *src;
4815442a:	9945      	lw	v0,20(s1)
4815442c:	a240      	lbu	v0,0(v0)
4815442e:	c340      	sb	v0,0(v1)
48154430:	9964      	lw	v1,16(s1)
        *(dest + 1) = 0x00;
48154432:	6a00      	li	v0,0
48154434:	c341      	sb	v0,1(v1)
48154436:	9944      	lw	v0,16(s1)
        dest += 2;
48154438:	4242      	addiu	v0,v0,2
4815443a:	d944      	sw	v0,16(s1)
4815443c:	9945      	lw	v0,20(s1)
        src++;
4815443e:	4241      	addiu	v0,v0,1
48154440:	d945      	sw	v0,20(s1)
48154442:	a940      	lhu	v0,0(s1)
        num++;
48154444:	4241      	addiu	v0,v0,1
48154446:	c940      	sh	v0,0(s1)
48154448:	17ec      	b	48154422 <mbyte_to_wchar+0x22>
4815444a:	9964      	lw	v1,16(s1)
    }

    *dest = 0x00;
4815444c:	6a00      	li	v0,0
4815444e:	c340      	sb	v0,0(v1)
48154450:	9964      	lw	v1,16(s1)
    *(dest + 1) = 0x00;
48154452:	6a00      	li	v0,0
48154454:	c341      	sb	v0,1(v1)
48154456:	a940      	lhu	v0,0(s1)

#endif

    return num;
48154458:	651a      	move	t8,v0
4815445a:	6758      	move	v0,t8

}
4815445c:	65b9      	move	sp,s1
4815445e:	6412      	restore	16,s1
48154460:	e8a0      	jrc	ra
	...

48154464 <check_bookmark_exit_sub>:
48154464:	64f6      	save	48,ra,s0-s1

/******************************************************************************/
/*!
 * \par  Description:
 * \void bool check_bookmark_exit_sub(void)
 * \检测书签文件是否存在
 * \param[in]   none
 * \param[out]  none
 * \return      none
 * \retval
 * \ingroup     music_bookmark
 * \note
 * \    对于要写入VM的书签文件，如果判断不存在，立即创建。对于写入
        卡盘的书签文件，如果文件不存在，则返回FALSE,由接下来的程序创建之 
 *******************************************************************************/
static bool check_bookmark_exit_sub(void)
{
48154466:	0106      	addiu	s1,sp,24
48154468:	6a01      	li	v0,1
    music_bm_head *bm_head_ptr;
    bool result = TRUE;
4815446a:	c144      	sb	v0,4(s1)
4815446c:	b226      	lw	v0,48154504 <check_bookmark_exit_sub+0xa0>

    //定位到根目录
    vfs_cd(ap_vfs_mount, CD_ROOT, 0);
4815446e:	9a60      	lw	v1,0(v0)
48154470:	6a00      	li	v0,0
48154472:	d204      	sw	v0,16(sp)
48154474:	6783      	move	a0,v1
48154476:	6d3a      	li	a1,58
48154478:	6e00      	li	a2,0
4815447a:	6f00      	li	a3,0
4815447c:	b223      	lw	v0,48154508 <check_bookmark_exit_sub+0xa4>
4815447e:	eac0      	jalrc	v0
48154480:	b223      	lw	v0,48154508 <check_bookmark_exit_sub+0xa4>
    mbyte_to_wchar(temp_plist_buf, (uint8 *) BOOKMARK_NAME);        
48154482:	b324      	lw	v1,48154510 <check_bookmark_exit_sub+0xac>
48154484:	6782      	move	a0,v0
48154486:	67a3      	move	a1,v1
48154488:	18b0 5100 	jal	48154400 <mbyte_to_wchar>
4815448c:	6500      	nop
4815448e:	b022      	lw	s0,48154514 <check_bookmark_exit_sub+0xb0>
    //打开文件
    g_bookmark_fp = vfs_file_open(ap_vfs_mount, temp_plist_buf, R_NORMAL_SEEK);
48154490:	b21d      	lw	v0,48154504 <check_bookmark_exit_sub+0xa0>
48154492:	9a60      	lw	v1,0(v0)
48154494:	b51e      	lw	a1,4815450c <check_bookmark_exit_sub+0xa8>
48154496:	6a05      	li	v0,5
48154498:	d204      	sw	v0,16(sp)
4815449a:	6783      	move	a0,v1
4815449c:	6e00      	li	a2,0
4815449e:	6f00      	li	a3,0
481544a0:	b21a      	lw	v0,48154508 <check_bookmark_exit_sub+0xa4>
481544a2:	eac0      	jalrc	v0
481544a4:	d840      	sw	v0,0(s0)
481544a6:	b21c      	lw	v0,48154514 <check_bookmark_exit_sub+0xb0>
    if (g_bookmark_fp == 0)
481544a8:	9a40      	lw	v0,0(v0)
481544aa:	2a03      	bnez	v0,481544b2 <check_bookmark_exit_sub+0x4e>
481544ac:	6a00      	li	v0,0
    {
        result = FALSE;
481544ae:	c144      	sb	v0,4(s1)
481544b0:	1022      	b	481544f6 <check_bookmark_exit_sub+0x92>
481544b2:	b215      	lw	v0,48154504 <check_bookmark_exit_sub+0xa0>
    }
    else
    {
        vfs_file_read(ap_vfs_mount, temp_plist_buf, SECTOR_SIZE, g_bookmark_fp);
481544b4:	9a60      	lw	v1,0(v0)
481544b6:	b516      	lw	a1,4815450c <check_bookmark_exit_sub+0xa8>
481544b8:	f200 6e00 	li	a2,512
481544bc:	b216      	lw	v0,48154514 <check_bookmark_exit_sub+0xb0>
481544be:	9ae0      	lw	a3,0(v0)
481544c0:	6a0d      	li	v0,13
481544c2:	d204      	sw	v0,16(sp)
481544c4:	6783      	move	a0,v1
481544c6:	b211      	lw	v0,48154508 <check_bookmark_exit_sub+0xa4>
481544c8:	eac0      	jalrc	v0
481544ca:	b20f      	lw	v0,48154504 <check_bookmark_exit_sub+0xa0>
        vfs_file_close(ap_vfs_mount, g_bookmark_fp);
481544cc:	9a60      	lw	v1,0(v0)
481544ce:	b212      	lw	v0,48154514 <check_bookmark_exit_sub+0xb0>
481544d0:	9aa0      	lw	a1,0(v0)
481544d2:	6a07      	li	v0,7
481544d4:	d204      	sw	v0,16(sp)
481544d6:	6783      	move	a0,v1
481544d8:	6e00      	li	a2,0
481544da:	6f00      	li	a3,0
481544dc:	b20b      	lw	v0,48154508 <check_bookmark_exit_sub+0xa4>
481544de:	eac0      	jalrc	v0
481544e0:	b20b      	lw	v0,48154508 <check_bookmark_exit_sub+0xa4>
        bm_head_ptr = (music_bm_head *) temp_plist_buf;
481544e2:	d940      	sw	v0,0(s1)
481544e4:	9940      	lw	v0,0(s1)
        if (bm_head_ptr->magic != MAGIC_BOOKMARK)
481544e6:	aa40      	lhu	v0,0(v0)
481544e8:	f5aa 720a 	cmpi	v0,21930
481544ec:	6758      	move	v0,t8
481544ee:	5a01      	sltiu	v0,1
481544f0:	6102      	btnez	481544f6 <check_bookmark_exit_sub+0x92>
481544f2:	6a00      	li	v0,0
        {
            result = FALSE;
481544f4:	c144      	sb	v0,4(s1)
481544f6:	a144      	lbu	v0,4(s1)
        }
    }
    
    return result;
481544f8:	651a      	move	t8,v0
481544fa:	6758      	move	v0,t8
}
481544fc:	65b9      	move	sp,s1
481544fe:	6473      	restore	24,ra,s0-s1
48154500:	e8a0      	jrc	ra
48154502:	0000      	addiu	s0,sp,0
48154504:	5570      	slti	a1,112
48154506:	9fc1      	lw	a2,4(a3)
48154508:	6411      	restore	8,s1
4815450a:	bfc1      	lwu	a2,4(a3)
4815450c:	5694      	slti	a2,148
4815450e:	9fc1      	lw	a2,4(a3)
48154510:	4638      	daddiu	s1,a2,-8
48154512:	4815      	addiu	s0,21
48154514:	4648      	addiu	v0,a2,-8
48154516:	4815      	addiu	s0,21

48154518 <check_bookmark_exist>:
48154518:	64d7      	save	56,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *  bool check_bookmark_exist(void)
 *	  检测书签文件手机否存在，如不存在，则会创建文件
 * \param[in]   handle *fp 如果打开成功，返回打开的句柄
 * \param[out] none
 * \return     bool
 * \retval     TRUE 文件存在 or 创建成功
 * \ingroup    music_bookmark
 * \note
 *******************************************************************************/
bool check_bookmark_exist(void)
{
4815451a:	0106      	addiu	s1,sp,24
4815451c:	6a01      	li	v0,1
    uint32 bm_fp;
    uint32 file_len;
    uint16 i;
    uint16 bound_val;
    music_bm_head *bm_head_ptr;
    bool retval = TRUE;
4815451e:	c150      	sb	v0,16(s1)
48154520:	18b0 5119 	jal	48154464 <check_bookmark_exit_sub>

    if (FALSE == check_bookmark_exit_sub())
48154524:	6500      	nop
48154526:	651a      	move	t8,v0
48154528:	6170      	btnez	4815460a <check_bookmark_exist+0xf2>
4815452a:	b23c      	lw	v0,48154618 <check_bookmark_exist+0x100>
    {
        //打开文件失败
        vfs_file_dir_remove(ap_vfs_mount, temp_plist_buf, FS_FILE);//删除长名文件
4815452c:	9a60      	lw	v1,0(v0)
4815452e:	b53c      	lw	a1,4815461c <check_bookmark_exist+0x104>
48154530:	6a08      	li	v0,8
48154532:	d204      	sw	v0,16(sp)
48154534:	6783      	move	a0,v1
48154536:	6e01      	li	a2,1
48154538:	6f00      	li	a3,0
4815453a:	b23a      	lw	v0,48154620 <check_bookmark_exist+0x108>
4815453c:	eac0      	jalrc	v0
4815453e:	b237      	lw	v0,48154618 <check_bookmark_exist+0x100>
        vfs_file_dir_remove(ap_vfs_mount, BOOKMARK_NAME_SHORT, FS_FILE);//删除短名文件
48154540:	9a60      	lw	v1,0(v0)
48154542:	b539      	lw	a1,48154624 <check_bookmark_exist+0x10c>
48154544:	6a08      	li	v0,8
48154546:	d204      	sw	v0,16(sp)
48154548:	6783      	move	a0,v1
4815454a:	6e01      	li	a2,1
4815454c:	6f00      	li	a3,0
4815454e:	b235      	lw	v0,48154620 <check_bookmark_exist+0x108>
48154550:	eac0      	jalrc	v0
48154552:	6a0b      	li	v0,11
        
        bound_val = (BM_HEADER_SECTOR_NUM + BM_DATA_SECTOR_NUM);
        file_len = (bound_val << 9);
48154554:	c945      	sh	v0,10(s1)
48154556:	a945      	lhu	v0,10(s1)
        //创建文件
48154558:	3240      	sll	v0,8
4815455a:	3244      	sll	v0,1
4815455c:	d941      	sw	v0,4(s1)
4815455e:	b22f      	lw	v0,48154618 <check_bookmark_exist+0x100>
        bm_fp = vfs_file_create(ap_vfs_mount, temp_plist_buf, file_len);
        if (0 == bm_fp)
48154560:	9a60      	lw	v1,0(v0)
48154562:	b52f      	lw	a1,4815461c <check_bookmark_exist+0x104>
48154564:	99c1      	lw	a2,4(s1)
48154566:	6a06      	li	v0,6
48154568:	d204      	sw	v0,16(sp)
4815456a:	6783      	move	a0,v1
4815456c:	6f00      	li	a3,0
4815456e:	b22d      	lw	v0,48154620 <check_bookmark_exist+0x108>
48154570:	eac0      	jalrc	v0
48154572:	d940      	sw	v0,0(s1)
48154574:	9940      	lw	v0,0(s1)
        {
48154576:	2a03      	bnez	v0,4815457e <check_bookmark_exist+0x66>
48154578:	6a00      	li	v0,0
            //error to create file
            retval = FALSE;
        }
4815457a:	c150      	sb	v0,16(s1)
4815457c:	1046      	b	4815460a <check_bookmark_exist+0xf2>
4815457e:	b227      	lw	v0,48154618 <check_bookmark_exist+0x100>
        else
        {
#ifdef HIDE_FILE_OPT        
            vfs_file_attralter(ap_vfs_mount, ATTR_HIDDEN, bm_fp, 0);
#endif            
48154580:	9a60      	lw	v1,0(v0)
48154582:	99c0      	lw	a2,0(s1)
48154584:	6a13      	li	v0,19
48154586:	d204      	sw	v0,16(sp)
48154588:	6783      	move	a0,v1
4815458a:	6d02      	li	a1,2
4815458c:	6f00      	li	a3,0
4815458e:	b225      	lw	v0,48154620 <check_bookmark_exist+0x108>
48154590:	eac0      	jalrc	v0
48154592:	b223      	lw	v0,4815461c <check_bookmark_exist+0x104>
            libc_memset(temp_plist_buf, 0xff, SECTOR_SIZE);
            bm_head_ptr = (music_bm_head *) temp_plist_buf;
48154594:	f200 6b00 	li	v1,512
48154598:	6782      	move	a0,v0
4815459a:	6dff      	li	a1,255
4815459c:	67c3      	move	a2,v1
4815459e:	6f01      	li	a3,1
481545a0:	b222      	lw	v0,48154628 <check_bookmark_exist+0x110>
481545a2:	eac0      	jalrc	v0
481545a4:	b21e      	lw	v0,48154618 <check_bookmark_exist+0x100>
            bm_head_ptr->magic = MAGIC_BOOKMARK;
481545a6:	d943      	sw	v0,12(s1)
481545a8:	9963      	lw	v1,12(s1)
            vfs_file_write(ap_vfs_mount, temp_plist_buf, SECTOR_SIZE, bm_fp);
481545aa:	f5aa 6a0a 	li	v0,21930
481545ae:	cb40      	sh	v0,0(v1)
481545b0:	b21a      	lw	v0,48154618 <check_bookmark_exist+0x100>
            bm_head_ptr->magic = 0xffff;
481545b2:	9a60      	lw	v1,0(v0)
481545b4:	b51a      	lw	a1,4815461c <check_bookmark_exist+0x104>
481545b6:	f200 6e00 	li	a2,512
481545ba:	99e0      	lw	a3,0(s1)
481545bc:	6a0e      	li	v0,14
481545be:	d204      	sw	v0,16(sp)
481545c0:	6783      	move	a0,v1
481545c2:	b218      	lw	v0,48154620 <check_bookmark_exist+0x108>
481545c4:	eac0      	jalrc	v0
481545c6:	9963      	lw	v1,12(s1)
            for (i = 1; i < (BM_HEADER_SECTOR_NUM + BM_DATA_SECTOR_NUM); i++)
481545c8:	6a01      	li	v0,1
481545ca:	ea4b      	neg	v0
481545cc:	cb40      	sh	v0,0(v1)
481545ce:	6a01      	li	v0,1
            {
481545d0:	c944      	sh	v0,8(s1)
481545d2:	a944      	lhu	v0,8(s1)
481545d4:	5a0b      	sltiu	v0,11
481545d6:	600f      	bteqz	481545f6 <check_bookmark_exist+0xde>
481545d8:	b210      	lw	v0,48154618 <check_bookmark_exist+0x100>
                vfs_file_write(ap_vfs_mount, temp_plist_buf, SECTOR_SIZE, bm_fp);
            }
481545da:	9a60      	lw	v1,0(v0)
481545dc:	b510      	lw	a1,4815461c <check_bookmark_exist+0x104>
481545de:	f200 6e00 	li	a2,512
481545e2:	99e0      	lw	a3,0(s1)
481545e4:	6a0e      	li	v0,14
481545e6:	d204      	sw	v0,16(sp)
481545e8:	6783      	move	a0,v1
481545ea:	b20e      	lw	v0,48154620 <check_bookmark_exist+0x108>
481545ec:	eac0      	jalrc	v0
481545ee:	a944      	lhu	v0,8(s1)
481545f0:	4241      	addiu	v0,v0,1
481545f2:	c944      	sh	v0,8(s1)
481545f4:	17ee      	b	481545d2 <check_bookmark_exist+0xba>
481545f6:	b209      	lw	v0,48154618 <check_bookmark_exist+0x100>
            vfs_file_close(ap_vfs_mount, bm_fp);
        }
481545f8:	9a60      	lw	v1,0(v0)
481545fa:	99a0      	lw	a1,0(s1)
481545fc:	6a07      	li	v0,7
481545fe:	d204      	sw	v0,16(sp)
48154600:	6783      	move	a0,v1
48154602:	6e00      	li	a2,0
48154604:	6f00      	li	a3,0
48154606:	b207      	lw	v0,48154620 <check_bookmark_exist+0x108>
48154608:	eac0      	jalrc	v0
4815460a:	a150      	lbu	v0,16(s1)
    }

    return retval;
}
4815460c:	651a      	move	t8,v0
4815460e:	6758      	move	v0,t8

48154610:	65b9      	move	sp,s1
48154612:	6454      	restore	32,ra,s1
48154614:	e8a0      	jrc	ra
48154616:	0000      	addiu	s0,sp,0
48154618:	5570      	slti	a1,112
4815461a:	9fc1      	lw	a2,4(a3)
4815461c:	5694      	slti	a2,148
4815461e:	9fc1      	lw	a2,4(a3)
48154620:	6411      	restore	8,s1
48154622:	bfc1      	lwu	a2,4(a3)
48154624:	462c      	addiu	s1,a2,-4
48154626:	4815      	addiu	s0,21
48154628:	6409      	restore	72
4815462a:	bfc1      	lwu	a2,4(a3)

4815462c <BOOKMARK_NAME_SHORT>:
4815462c:	554d 4953 4243 4b4d 4d42 004b               MUSICBMKBMK.

48154638 <BOOKMARK_NAME>:
48154638:	554d 4953 4243 4b4d 422e 4b4d 0000 0000     MUSICBMK.BMK....

48154648 <g_bookmark_fp>:
	...
Disassembly of section BANK_FORNT_ENHANCED_1_32:

7881b200 <fav_opt_read_data>:
7881b200:	64d4      	save	32,ra,s1
 * \note
 *******************************************************************************/
//读收藏夹中指定文件所在的扇区
static void fav_opt_read_data(uint16 sector_offset, uint8 *buf, uint8 w_flag, handle t_handle)
{
7881b202:	0106      	addiu	s1,sp,24
7881b204:	6764      	move	v1,a0
7881b206:	d9a3      	sw	a1,12(s1)
7881b208:	6746      	move	v0,a2
7881b20a:	d9e5      	sw	a3,20(s1)
7881b20c:	c964      	sh	v1,8(s1)
7881b20e:	c150      	sb	v0,16(s1)
7881b210:	b220      	lw	v0,7881b290 <fav_opt_read_data+0x90>
    if (fav_save_read_offset != sector_offset)
7881b212:	aa60      	lhu	v1,0(v0)
7881b214:	a944      	lhu	v0,8(s1)
7881b216:	ea6e      	xor	v0,v1
7881b218:	5a01      	sltiu	v0,1
7881b21a:	6137      	btnez	7881b28a <fav_opt_read_data+0x8a>
7881b21c:	a150      	lbu	v0,16(s1)
    {
        /*if (drv_sn == 0)
        {
            //主盘
            if (1 == w_flag)
            {
                //回写VRAM，obj_handle存放VM地址
                sys_vm_write(buf, t_handle + fav_save_read_offset * SECTOR_SIZE, SECTOR_SIZE);
            }
            sys_vm_read(buf, t_handle + (sector_offset * SECTOR_SIZE), SECTOR_SIZE);
        }
        else*/
        {
            if (1 == w_flag)
7881b21e:	7201      	cmpi	v0,1
7881b220:	6758      	move	v0,t8
7881b222:	5a01      	sltiu	v0,1
7881b224:	6018      	bteqz	7881b256 <fav_opt_read_data+0x56>
7881b226:	b21c      	lw	v0,7881b294 <fav_opt_read_data+0x94>
            {
                vfs_file_seek(ap_vfs_mount, fav_save_read_offset * SECTOR_SIZE, SEEK_SET, t_handle);
7881b228:	9a80      	lw	a0,0(v0)
7881b22a:	b21a      	lw	v0,7881b290 <fav_opt_read_data+0x90>
7881b22c:	aa40      	lhu	v0,0(v0)
7881b22e:	3340      	sll	v1,v0,8
7881b230:	3364      	sll	v1,1
7881b232:	99e5      	lw	a3,20(s1)
7881b234:	6a0b      	li	v0,11
7881b236:	d204      	sw	v0,16(sp)
7881b238:	67a3      	move	a1,v1
7881b23a:	6e00      	li	a2,0
7881b23c:	b217      	lw	v0,7881b298 <fav_opt_read_data+0x98>
7881b23e:	eac0      	jalrc	v0
7881b240:	b215      	lw	v0,7881b290 <fav_opt_read_data+0x90>
                vfs_file_write(ap_vfs_mount, buf, SECTOR_SIZE, t_handle);
7881b242:	9a60      	lw	v1,0(v0)
7881b244:	99a3      	lw	a1,12(s1)
7881b246:	f200 6e00 	li	a2,512
7881b24a:	99e5      	lw	a3,20(s1)
7881b24c:	6a0e      	li	v0,14
7881b24e:	d204      	sw	v0,16(sp)
7881b250:	6783      	move	a0,v1
7881b252:	b212      	lw	v0,7881b298 <fav_opt_read_data+0x98>
7881b254:	eac0      	jalrc	v0
7881b256:	b210      	lw	v0,7881b294 <fav_opt_read_data+0x94>
            }

            vfs_file_seek(ap_vfs_mount, sector_offset * SECTOR_SIZE, SEEK_SET, t_handle);
7881b258:	9a80      	lw	a0,0(v0)
7881b25a:	a944      	lhu	v0,8(s1)
7881b25c:	3340      	sll	v1,v0,8
7881b25e:	3364      	sll	v1,1
7881b260:	99e5      	lw	a3,20(s1)
7881b262:	6a0b      	li	v0,11
7881b264:	d204      	sw	v0,16(sp)
7881b266:	67a3      	move	a1,v1
7881b268:	6e00      	li	a2,0
7881b26a:	b20c      	lw	v0,7881b298 <fav_opt_read_data+0x98>
7881b26c:	eac0      	jalrc	v0
7881b26e:	b20a      	lw	v0,7881b294 <fav_opt_read_data+0x94>
            vfs_file_read(ap_vfs_mount, buf, SECTOR_SIZE, t_handle);
7881b270:	9a60      	lw	v1,0(v0)
7881b272:	99a3      	lw	a1,12(s1)
7881b274:	f200 6e00 	li	a2,512
7881b278:	99e5      	lw	a3,20(s1)
7881b27a:	6a0d      	li	v0,13
7881b27c:	d204      	sw	v0,16(sp)
7881b27e:	6783      	move	a0,v1
7881b280:	b206      	lw	v0,7881b298 <fav_opt_read_data+0x98>
7881b282:	eac0      	jalrc	v0
7881b284:	b303      	lw	v1,7881b28c <fav_opt_read_data+0x8c>
        }

        fav_save_read_offset = sector_offset;
7881b286:	a944      	lhu	v0,8(s1)
7881b288:	cb40      	sh	v0,0(v1)
7881b28a:	65b9      	move	sp,s1
    }

}
7881b28c:	6451      	restore	8,ra,s1
7881b28e:	e8a0      	jrc	ra
7881b290:	b64c      	lw	a2,7881b3bc <fav_opt_delete_sub+0x8c>
7881b292:	7881      	sd	a0,8(s0)
7881b294:	5570      	slti	a1,112
7881b296:	9fc1      	lw	a2,4(a3)
7881b298:	6411      	restore	8,s1
7881b29a:	bfc1      	lwu	a2,4(a3)

7881b29c <fav_opt_read_file>:
7881b29c:	64d4      	save	32,ra,s1

/******************************************************************************/
/*
 * \par  Description: 读收藏夹对应文件信息
 *
 * \param[in]  t_file_offset--文件的位置偏移序号0~n

 * \param[out]

 * \return

 * \note
 *******************************************************************************/
static userpl_file_t *fav_opt_read_file(uint16 t_file_offset, uint8 *buf, uint8 w_flag, uint32 t_handle)
{
7881b29e:	0104      	addiu	s1,sp,16
7881b2a0:	6764      	move	v1,a0
7881b2a2:	d9a5      	sw	a1,20(s1)
7881b2a4:	6746      	move	v0,a2
7881b2a6:	d9e7      	sw	a3,28(s1)
7881b2a8:	c968      	sh	v1,16(s1)
7881b2aa:	c158      	sb	v0,24(s1)
7881b2ac:	a948      	lhu	v0,16(s1)
    uint16 sector_offset;
    uint16 buffer_offset;

    sector_offset = t_file_offset / USERPL_PRE_SEC + USERPL_HEAD_SEC;//add head sector
7881b2ae:	3246      	srl	v0,1
7881b2b0:	4241      	addiu	v0,v0,1
7881b2b2:	c940      	sh	v0,0(s1)
7881b2b4:	a968      	lhu	v1,16(s1)
    buffer_offset = (t_file_offset % USERPL_PRE_SEC) * USERPL_FILE_SIZE;
7881b2b6:	6a01      	li	v0,1
7881b2b8:	ea6c      	and	v0,v1
7881b2ba:	ea31      	zeh	v0
7881b2bc:	3240      	sll	v0,8
7881b2be:	c941      	sh	v0,2(s1)
7881b2c0:	a940      	lhu	v0,0(s1)

    fav_opt_read_data(sector_offset, buf, w_flag, t_handle);
7881b2c2:	9965      	lw	v1,20(s1)
7881b2c4:	a1d8      	lbu	a2,24(s1)
7881b2c6:	99e7      	lw	a3,28(s1)
7881b2c8:	6782      	move	a0,v0
7881b2ca:	67a3      	move	a1,v1
7881b2cc:	1811 6c80 	jal	7881b200 <fav_opt_read_data>
7881b2d0:	6500      	nop
7881b2d2:	a941      	lhu	v0,2(s1)
    return (userpl_file_t*) (buf + buffer_offset);
7881b2d4:	9965      	lw	v1,20(s1)
7881b2d6:	e269      	addu	v0,v1
7881b2d8:	651a      	move	t8,v0
7881b2da:	6758      	move	v0,t8

}
7881b2dc:	65b9      	move	sp,s1
7881b2de:	6452      	restore	16,ra,s1
7881b2e0:	e8a0      	jrc	ra
	...

7881b2e4 <fav_opt_update_head>:
7881b2e4:	64d3      	save	24,ra,s1

/******************************************************************************/
/*
 * \par  Description: 更新收藏夹头信息
 *
 * \param[in]    buf--使用的缓存buffer
 t_handle--句柄

 * \param[out]

 * \return       TRUE OR FALSE

 * \note
 *******************************************************************************/
static void fav_opt_update_head(uint8 *buf, handle t_handle)
{
7881b2e6:	0104      	addiu	s1,sp,16
7881b2e8:	d982      	sw	a0,8(s1)
7881b2ea:	d9a3      	sw	a1,12(s1)
7881b2ec:	9942      	lw	v0,8(s1)
    //回写最后一笔数据,修改扇区头
    fav_opt_read_data(0, buf, 1, t_handle);
7881b2ee:	9963      	lw	v1,12(s1)
7881b2f0:	6c00      	li	a0,0
7881b2f2:	67a2      	move	a1,v0
7881b2f4:	6e01      	li	a2,1
7881b2f6:	67e3      	move	a3,v1
7881b2f8:	1811 6c80 	jal	7881b200 <fav_opt_read_data>
7881b2fc:	6500      	nop
7881b2fe:	9942      	lw	v0,8(s1)
    libc_memcpy(buf, &fav_opt_user_pl_head, sizeof(userpl_head_t));
7881b300:	b30a      	lw	v1,7881b328 <fav_opt_update_head+0x44>
7881b302:	6782      	move	a0,v0
7881b304:	67a3      	move	a1,v1
7881b306:	6e10      	li	a2,16
7881b308:	6f00      	li	a3,0
7881b30a:	b209      	lw	v0,7881b32c <fav_opt_update_head+0x48>
7881b30c:	eac0      	jalrc	v0
7881b30e:	9942      	lw	v0,8(s1)
    fav_opt_read_data(1, buf, 1, t_handle);
7881b310:	9963      	lw	v1,12(s1)
7881b312:	6c01      	li	a0,1
7881b314:	67a2      	move	a1,v0
7881b316:	6e01      	li	a2,1
7881b318:	67e3      	move	a3,v1
7881b31a:	1811 6c80 	jal	7881b200 <fav_opt_read_data>
7881b31e:	6500      	nop
7881b320:	65b9      	move	sp,s1
}
7881b322:	6451      	restore	8,ra,s1
7881b324:	e8a0      	jrc	ra
7881b326:	0000      	addiu	s0,sp,0
7881b328:	b63c      	lw	a2,7881b418 <fav_opt_delete_sub+0xe8>
7881b32a:	7881      	sd	a0,8(s0)
7881b32c:	6409      	restore	72
7881b32e:	bfc1      	lwu	a2,4(a3)

7881b330 <fav_opt_delete_sub>:
7881b330:	64d5      	save	40,ra,s1

/******************************************************************************/
/*
 * \par  Description: 从收藏夹中删除文件
 *
 * \param[in]
 del_file_offset--删除文件的offset
 buf-- buffer地址
 t_handle-- 句柄

 * \param[out]

 * \return       TRUE OR FALSE

 * \note
 *******************************************************************************/

bool fav_opt_delete_sub(uint16 del_file_offset, uint8 *buf, handle t_handle)
{
7881b332:	0104      	addiu	s1,sp,16
7881b334:	6744      	move	v0,a0
7881b336:	d9a7      	sw	a1,28(s1)
7881b338:	d9c8      	sw	a2,32(s1)
7881b33a:	c94c      	sh	v0,24(s1)
7881b33c:	b251      	lw	v0,7881b480 <fav_opt_delete_sub+0x150>
    uint16 temp_prev_offset;
    uint16 temp_next_offset;
    uint16 temp_del_offset;
    uint16 temp_last_next;
    userpl_file_t *fav_opt_user_pl_p;

    if (fav_opt_user_pl_head.file_num == 0)
7881b33e:	aa44      	lhu	v0,8(v0)
7881b340:	2a03      	bnez	v0,7881b348 <fav_opt_delete_sub+0x18>
7881b342:	6a00      	li	v0,0
    {
        return FALSE;
7881b344:	d943      	sw	v0,12(s1)
7881b346:	1097      	b	7881b476 <fav_opt_delete_sub+0x146>
7881b348:	b24e      	lw	v0,7881b480 <fav_opt_delete_sub+0x150>
    }

    fav_opt_user_pl_p = fav_opt_read_file(fav_opt_user_pl_head.last_offset, buf, 0, t_handle);
7881b34a:	aa46      	lhu	v0,12(v0)
7881b34c:	9967      	lw	v1,28(s1)
7881b34e:	99e8      	lw	a3,32(s1)
7881b350:	6782      	move	a0,v0
7881b352:	67a3      	move	a1,v1
7881b354:	6e00      	li	a2,0
7881b356:	1811 6ca7 	jal	7881b29c <fav_opt_read_file>
7881b35a:	6500      	nop
7881b35c:	d942      	sw	v0,8(s1)
7881b35e:	9942      	lw	v0,8(s1)
    temp_last_next = fav_opt_user_pl_p->next_offset;//先记录
7881b360:	aa43      	lhu	v0,6(v0)
7881b362:	c943      	sh	v0,6(s1)
7881b364:	a94c      	lhu	v0,24(s1)

    temp_del_offset = del_file_offset; //之前查找时已对fav_opt_existfile赋值
7881b366:	c942      	sh	v0,4(s1)
7881b368:	a942      	lhu	v0,4(s1)

    fav_opt_user_pl_p = fav_opt_read_file(temp_del_offset, buf, 0, t_handle);
7881b36a:	9967      	lw	v1,28(s1)
7881b36c:	99e8      	lw	a3,32(s1)
7881b36e:	6782      	move	a0,v0
7881b370:	67a3      	move	a1,v1
7881b372:	6e00      	li	a2,0
7881b374:	1811 6ca7 	jal	7881b29c <fav_opt_read_file>
7881b378:	6500      	nop
7881b37a:	d942      	sw	v0,8(s1)
7881b37c:	b341      	lw	v1,7881b480 <fav_opt_delete_sub+0x150>
    fav_opt_user_pl_head.file_num--; //个数减一
7881b37e:	b241      	lw	v0,7881b480 <fav_opt_delete_sub+0x150>
7881b380:	aa44      	lhu	v0,8(v0)
7881b382:	424f      	addiu	v0,v0,-1
7881b384:	cb44      	sh	v0,8(v1)
7881b386:	9962      	lw	v1,8(s1)
    fav_opt_user_pl_p->flag = 2; //置删除标记
7881b388:	6a02      	li	v0,2
7881b38a:	c340      	sb	v0,0(v1)
7881b38c:	b23d      	lw	v0,7881b480 <fav_opt_delete_sub+0x150>

    if (temp_del_offset == fav_opt_user_pl_head.first_offset)
7881b38e:	aa65      	lhu	v1,10(v0)
7881b390:	a942      	lhu	v0,4(s1)
7881b392:	ea6e      	xor	v0,v1
7881b394:	5a01      	sltiu	v0,1
7881b396:	6013      	bteqz	7881b3be <fav_opt_delete_sub+0x8e>
7881b398:	b23a      	lw	v0,7881b480 <fav_opt_delete_sub+0x150>
    {
        //删除的是第一个
        if (0 != fav_opt_user_pl_head.file_num)//
7881b39a:	aa44      	lhu	v0,8(v0)
7881b39c:	220c      	beqz	v0,7881b3b6 <fav_opt_delete_sub+0x86>
7881b39e:	b339      	lw	v1,7881b480 <fav_opt_delete_sub+0x150>
        {
            //不止一个文件,删除后插入有效的链表尾
            fav_opt_user_pl_head.first_offset = fav_opt_user_pl_p->next_offset;
7881b3a0:	9942      	lw	v0,8(s1)
7881b3a2:	aa43      	lhu	v0,6(v0)
7881b3a4:	cb45      	sh	v0,10(v1)
7881b3a6:	9962      	lw	v1,8(s1)
            fav_opt_user_pl_p->next_offset = temp_last_next;
7881b3a8:	a943      	lhu	v0,6(s1)
7881b3aa:	cb43      	sh	v0,6(v1)
7881b3ac:	9962      	lw	v1,8(s1)
            fav_opt_user_pl_p->prev_offset = fav_opt_user_pl_head.last_offset;
7881b3ae:	b235      	lw	v0,7881b480 <fav_opt_delete_sub+0x150>
7881b3b0:	aa46      	lhu	v0,12(v0)
7881b3b2:	cb42      	sh	v0,4(v1)
7881b3b4:	1035      	b	7881b420 <fav_opt_delete_sub+0xf0>
7881b3b6:	6a01      	li	v0,1
        }
        else
        {
            temp_del_offset = 0xffff;
7881b3b8:	ea4b      	neg	v0
7881b3ba:	c942      	sh	v0,4(s1)
7881b3bc:	1031      	b	7881b420 <fav_opt_delete_sub+0xf0>
7881b3be:	b231      	lw	v0,7881b480 <fav_opt_delete_sub+0x150>
        }
    }
    else if (temp_del_offset == fav_opt_user_pl_head.last_offset)
7881b3c0:	aa66      	lhu	v1,12(v0)
7881b3c2:	a942      	lhu	v0,4(s1)
7881b3c4:	ea6e      	xor	v0,v1
7881b3c6:	5a01      	sltiu	v0,1
7881b3c8:	6008      	bteqz	7881b3da <fav_opt_delete_sub+0xaa>
7881b3ca:	b32e      	lw	v1,7881b480 <fav_opt_delete_sub+0x150>
    {
        //删除的是最后一个
        fav_opt_user_pl_head.last_offset = fav_opt_user_pl_p->prev_offset;
7881b3cc:	9942      	lw	v0,8(s1)
7881b3ce:	aa42      	lhu	v0,4(v0)
7881b3d0:	cb46      	sh	v0,12(v1)
7881b3d2:	6a01      	li	v0,1
        temp_del_offset = 0xffff;
7881b3d4:	ea4b      	neg	v0
7881b3d6:	c942      	sh	v0,4(s1)
7881b3d8:	1023      	b	7881b420 <fav_opt_delete_sub+0xf0>
7881b3da:	9942      	lw	v0,8(s1)
    }
    else
    {
        //删除中间的
        temp_prev_offset = fav_opt_user_pl_p->prev_offset;
7881b3dc:	aa42      	lhu	v0,4(v0)
7881b3de:	c940      	sh	v0,0(s1)
7881b3e0:	9942      	lw	v0,8(s1)
        temp_next_offset = fav_opt_user_pl_p->next_offset;
7881b3e2:	aa43      	lhu	v0,6(v0)
7881b3e4:	c941      	sh	v0,2(s1)
7881b3e6:	9962      	lw	v1,8(s1)
        fav_opt_user_pl_p->next_offset = temp_last_next;
7881b3e8:	a943      	lhu	v0,6(s1)
7881b3ea:	cb43      	sh	v0,6(v1)
7881b3ec:	a940      	lhu	v0,0(s1)

        //更新上一个指针
        fav_opt_user_pl_p = fav_opt_read_file(temp_prev_offset, buf, 1, t_handle);
7881b3ee:	9967      	lw	v1,28(s1)
7881b3f0:	99e8      	lw	a3,32(s1)
7881b3f2:	6782      	move	a0,v0
7881b3f4:	67a3      	move	a1,v1
7881b3f6:	6e01      	li	a2,1
7881b3f8:	1811 6ca7 	jal	7881b29c <fav_opt_read_file>
7881b3fc:	6500      	nop
7881b3fe:	d942      	sw	v0,8(s1)
7881b400:	9962      	lw	v1,8(s1)
        fav_opt_user_pl_p->next_offset = temp_next_offset;
7881b402:	a941      	lhu	v0,2(s1)
7881b404:	cb43      	sh	v0,6(v1)
7881b406:	a941      	lhu	v0,2(s1)
        //更新下一个指针
        fav_opt_user_pl_p = fav_opt_read_file(temp_next_offset, buf, 1, t_handle);
7881b408:	9967      	lw	v1,28(s1)
7881b40a:	99e8      	lw	a3,32(s1)
7881b40c:	6782      	move	a0,v0
7881b40e:	67a3      	move	a1,v1
7881b410:	6e01      	li	a2,1
7881b412:	1811 6ca7 	jal	7881b29c <fav_opt_read_file>
7881b416:	6500      	nop
7881b418:	d942      	sw	v0,8(s1)
7881b41a:	9962      	lw	v1,8(s1)
        fav_opt_user_pl_p->prev_offset = temp_prev_offset;
7881b41c:	a940      	lhu	v0,0(s1)
7881b41e:	cb42      	sh	v0,4(v1)
7881b420:	a962      	lhu	v1,4(s1)

    }

    //更新最后的文件的指向
    if (temp_del_offset != 0xffff)
7881b422:	f7ff 6a1f 	li	v0,65535
7881b426:	ea6e      	xor	v0,v1
7881b428:	5a01      	sltiu	v0,1
7881b42a:	611c      	btnez	7881b464 <fav_opt_delete_sub+0x134>
7881b42c:	b215      	lw	v0,7881b480 <fav_opt_delete_sub+0x150>
    {
        fav_opt_user_pl_p = fav_opt_read_file(fav_opt_user_pl_head.last_offset, buf, 1, t_handle);
7881b42e:	aa46      	lhu	v0,12(v0)
7881b430:	9967      	lw	v1,28(s1)
7881b432:	99e8      	lw	a3,32(s1)
7881b434:	6782      	move	a0,v0
7881b436:	67a3      	move	a1,v1
7881b438:	6e01      	li	a2,1
7881b43a:	1811 6ca7 	jal	7881b29c <fav_opt_read_file>
7881b43e:	6500      	nop
7881b440:	d942      	sw	v0,8(s1)
7881b442:	9962      	lw	v1,8(s1)
        fav_opt_user_pl_p->next_offset = temp_del_offset;
7881b444:	a942      	lhu	v0,4(s1)
7881b446:	cb43      	sh	v0,6(v1)
7881b448:	a943      	lhu	v0,6(s1)

        fav_opt_user_pl_p = fav_opt_read_file(temp_last_next, buf, 1, t_handle);
7881b44a:	9967      	lw	v1,28(s1)
7881b44c:	99e8      	lw	a3,32(s1)
7881b44e:	6782      	move	a0,v0
7881b450:	67a3      	move	a1,v1
7881b452:	6e01      	li	a2,1
7881b454:	1811 6ca7 	jal	7881b29c <fav_opt_read_file>
7881b458:	6500      	nop
7881b45a:	d942      	sw	v0,8(s1)
7881b45c:	9962      	lw	v1,8(s1)
        fav_opt_user_pl_p->prev_offset = temp_del_offset;
7881b45e:	a942      	lhu	v0,4(s1)
7881b460:	cb42      	sh	v0,4(v1)
7881b462:	1007      	b	7881b472 <fav_opt_delete_sub+0x142>
7881b464:	b207      	lw	v0,7881b480 <fav_opt_delete_sub+0x150>
    }
    else
    {
        if (0 == fav_opt_user_pl_head.file_num)
7881b466:	aa44      	lhu	v0,8(v0)
7881b468:	2a04      	bnez	v0,7881b472 <fav_opt_delete_sub+0x142>
7881b46a:	b206      	lw	v0,7881b480 <fav_opt_delete_sub+0x150>
        {
            fav_opt_user_pl_head.last_offset = fav_opt_user_pl_head.first_offset;
7881b46c:	b305      	lw	v1,7881b480 <fav_opt_delete_sub+0x150>
7881b46e:	ab65      	lhu	v1,10(v1)
7881b470:	ca66      	sh	v1,12(v0)
7881b472:	6a01      	li	v0,1
        }
    }

    return TRUE;
7881b474:	d943      	sw	v0,12(s1)
7881b476:	9943      	lw	v0,12(s1)
}
7881b478:	65b9      	move	sp,s1
7881b47a:	6453      	restore	24,ra,s1
7881b47c:	e8a0      	jrc	ra
7881b47e:	0000      	addiu	s0,sp,0
7881b480:	b63c      	lw	a2,7881b570 <reflash_userpl_table+0x58>
7881b482:	7881      	sd	a0,8(s0)

7881b484 <init_userpl_table>:
7881b484:	64d5      	save	40,ra,s1

/******************************************************************************/
/*
 * \par  Description: 初始化收藏夹
 *
 * \param[in]    uspl_hdl--收藏夹句柄

 * \param[out]

 * \return       void

 * \note         初始化收藏夹链表并写入文件
 *******************************************************************************/
void init_userpl_table(uint32 uspl_hdl, uint8* buf)
{
7881b486:	0106      	addiu	s1,sp,24
7881b488:	d984      	sw	a0,16(s1)
7881b48a:	d9a5      	sw	a1,20(s1)
7881b48c:	6a00      	li	v0,0
    userpl_file_t *fav_opt_user_pl_p;
    uint8 temp;
    uint8 index;
    
    temp = 0;
7881b48e:	c144      	sb	v0,4(s1)
7881b490:	a144      	lbu	v0,4(s1)

    while (temp < USERPL_FILE_MAX)
7881b492:	5a64      	sltiu	v0,100
7881b494:	603a      	bteqz	7881b50a <init_userpl_table+0x86>
7881b496:	a164      	lbu	v1,4(s1)
    {   
        index = temp % 2;
7881b498:	6a01      	li	v0,1
7881b49a:	ea6c      	and	v0,v1
7881b49c:	c145      	sb	v0,5(s1)
7881b49e:	a145      	lbu	v0,5(s1)
        fav_opt_user_pl_p = (userpl_file_t *)(buf + index * USERPL_FILE_SIZE);
7881b4a0:	3340      	sll	v1,v0,8
7881b4a2:	9945      	lw	v0,20(s1)
7881b4a4:	e349      	addu	v0,v1,v0
7881b4a6:	d940      	sw	v0,0(s1)
7881b4a8:	9960      	lw	v1,0(s1)
        fav_opt_user_pl_p->flag = 0; 
7881b4aa:	6a00      	li	v0,0
7881b4ac:	c340      	sb	v0,0(v1)
7881b4ae:	a144      	lbu	v0,4(s1)
        
        if(temp == 0)
7881b4b0:	2a07      	bnez	v0,7881b4c0 <init_userpl_table+0x3c>
7881b4b2:	9960      	lw	v1,0(s1)
        {
            fav_opt_user_pl_p->prev_offset = USERPL_FILE_MAX - 1;
7881b4b4:	6a63      	li	v0,99
7881b4b6:	cb42      	sh	v0,4(v1)
7881b4b8:	9960      	lw	v1,0(s1)
            fav_opt_user_pl_p->next_offset = 1;        
7881b4ba:	6a01      	li	v0,1
7881b4bc:	cb43      	sh	v0,6(v1)
7881b4be:	1014      	b	7881b4e8 <init_userpl_table+0x64>
7881b4c0:	a144      	lbu	v0,4(s1)
        }
        else if(temp == USERPL_FILE_MAX - 1)
7881b4c2:	7263      	cmpi	v0,99
7881b4c4:	6758      	move	v0,t8
7881b4c6:	5a01      	sltiu	v0,1
7881b4c8:	6007      	bteqz	7881b4d8 <init_userpl_table+0x54>
7881b4ca:	9960      	lw	v1,0(s1)
        {
            fav_opt_user_pl_p->prev_offset = USERPL_FILE_MAX - 2;
7881b4cc:	6a62      	li	v0,98
7881b4ce:	cb42      	sh	v0,4(v1)
7881b4d0:	9960      	lw	v1,0(s1)
            fav_opt_user_pl_p->next_offset = 0;                                
7881b4d2:	6a00      	li	v0,0
7881b4d4:	cb43      	sh	v0,6(v1)
7881b4d6:	1008      	b	7881b4e8 <init_userpl_table+0x64>
7881b4d8:	9960      	lw	v1,0(s1)
        }
        else
        {
            fav_opt_user_pl_p->prev_offset = temp - 1;
7881b4da:	a144      	lbu	v0,4(s1)
7881b4dc:	424f      	addiu	v0,v0,-1
7881b4de:	cb42      	sh	v0,4(v1)
7881b4e0:	9960      	lw	v1,0(s1)
            fav_opt_user_pl_p->next_offset = temp + 1;                                 
7881b4e2:	a144      	lbu	v0,4(s1)
7881b4e4:	4241      	addiu	v0,v0,1
7881b4e6:	cb43      	sh	v0,6(v1)
7881b4e8:	a145      	lbu	v0,5(s1)
        }
        
        if (index != 0)
7881b4ea:	220b      	beqz	v0,7881b502 <init_userpl_table+0x7e>
7881b4ec:	b209      	lw	v0,7881b510 <init_userpl_table+0x8c>
        {
            vfs_file_write(ap_vfs_mount, buf, SECTOR_SIZE, uspl_hdl);
7881b4ee:	9a60      	lw	v1,0(v0)
7881b4f0:	99a5      	lw	a1,20(s1)
7881b4f2:	f200 6e00 	li	a2,512
7881b4f6:	99e4      	lw	a3,16(s1)
7881b4f8:	6a0e      	li	v0,14
7881b4fa:	d204      	sw	v0,16(sp)
7881b4fc:	6783      	move	a0,v1
7881b4fe:	b206      	lw	v0,7881b514 <init_userpl_table+0x90>
7881b500:	eac0      	jalrc	v0
7881b502:	a144      	lbu	v0,4(s1)
        }
        temp++;
7881b504:	4241      	addiu	v0,v0,1
7881b506:	c144      	sb	v0,4(s1)
7881b508:	17c3      	b	7881b490 <init_userpl_table+0xc>
7881b50a:	65b9      	move	sp,s1
    }
}
7881b50c:	6452      	restore	16,ra,s1
7881b50e:	e8a0      	jrc	ra
7881b510:	5570      	slti	a1,112
7881b512:	9fc1      	lw	a2,4(a3)
7881b514:	6411      	restore	8,s1
7881b516:	bfc1      	lwu	a2,4(a3)

7881b518 <reflash_userpl_table>:
7881b518:	64d7      	save	56,ra,s1

/******************************************************************************/
/*
 * \par  Description: 更新收藏夹信息，不存在的文件将被删除
 *
 * \param[in]   buf,uspl_hdl

 * \param[out]

 * \return

 * \note
 *******************************************************************************/
void reflash_userpl_table(uint8 *buf, uint32 uspl_hdl)
{
7881b51a:	0106      	addiu	s1,sp,24
7881b51c:	d988      	sw	a0,32(s1)
7881b51e:	d9a9      	sw	a1,36(s1)
7881b520:	6a00      	li	v0,0
    userpl_file_t *file_info_p;
    flist_location_t *flist_loca_p;
    uint16 uspl_file_total;
    uint16 uspl_cur_offset;
    uint16 uspl_next_offset;
    uint16 name_len;
    bool ret_val;
    uint8 del_flag = 0;
7881b522:	c151      	sb	v0,17(s1)
7881b524:	b23e      	lw	v0,7881b61c <reflash_userpl_table+0x104>

    libc_memcpy(&fav_opt_user_pl_head, buf, sizeof(userpl_head_t));
7881b526:	9968      	lw	v1,32(s1)
7881b528:	6782      	move	a0,v0
7881b52a:	67a3      	move	a1,v1
7881b52c:	6e10      	li	a2,16
7881b52e:	6f00      	li	a3,0
7881b530:	b23c      	lw	v0,7881b620 <reflash_userpl_table+0x108>
7881b532:	eac0      	jalrc	v0
7881b534:	b23a      	lw	v0,7881b618 <reflash_userpl_table+0x100>
    uspl_file_total = fav_opt_user_pl_head.file_num;
7881b536:	aa44      	lhu	v0,8(v0)
7881b538:	c944      	sh	v0,8(s1)
7881b53a:	b239      	lw	v0,7881b61c <reflash_userpl_table+0x104>
    uspl_cur_offset = fav_opt_user_pl_head.first_offset;
7881b53c:	aa45      	lhu	v0,10(v0)
7881b53e:	c945      	sh	v0,10(s1)
7881b540:	b237      	lw	v0,7881b61c <reflash_userpl_table+0x104>
    uspl_next_offset = fav_opt_user_pl_head.first_offset;
7881b542:	aa45      	lhu	v0,10(v0)
7881b544:	c946      	sh	v0,12(s1)
7881b546:	b338      	lw	v1,7881b624 <reflash_userpl_table+0x10c>
    fav_save_read_offset = 0;
7881b548:	6a00      	li	v0,0
7881b54a:	cb40      	sh	v0,0(v1)
7881b54c:	a944      	lhu	v0,8(s1)

    while (uspl_file_total > 0)
7881b54e:	2256      	beqz	v0,7881b5fc <reflash_userpl_table+0xe4>
7881b550:	a944      	lhu	v0,8(s1)
    {
        uspl_file_total--;
7881b552:	424f      	addiu	v0,v0,-1
7881b554:	c944      	sh	v0,8(s1)
7881b556:	a945      	lhu	v0,10(s1)
        file_info_p = fav_opt_read_file(uspl_cur_offset, buf, 1, uspl_hdl);
7881b558:	9968      	lw	v1,32(s1)
7881b55a:	99e9      	lw	a3,36(s1)
7881b55c:	6782      	move	a0,v0
7881b55e:	67a3      	move	a1,v1
7881b560:	6e01      	li	a2,1
7881b562:	1811 6ca7 	jal	7881b29c <fav_opt_read_file>
7881b566:	6500      	nop
7881b568:	d940      	sw	v0,0(s1)
7881b56a:	9940      	lw	v0,0(s1)

        if (file_info_p->flag != 1)
7881b56c:	a240      	lbu	v0,0(v0)
7881b56e:	7201      	cmpi	v0,1
7881b570:	6758      	move	v0,t8
7881b572:	5a01      	sltiu	v0,1
7881b574:	6101      	btnez	7881b578 <reflash_userpl_table+0x60>
7881b576:	1042      	b	7881b5fc <reflash_userpl_table+0xe4>
        {
            break;
7881b578:	9940      	lw	v0,0(s1)
        }

        uspl_next_offset = file_info_p->next_offset;
7881b57a:	aa43      	lhu	v0,6(v0)
7881b57c:	c946      	sh	v0,12(s1)
7881b57e:	9940      	lw	v0,0(s1)

        flist_loca_p = (flist_location_t*) &file_info_p->location;
7881b580:	4a08      	addiu	v0,8
7881b582:	d941      	sw	v0,4(s1)
7881b584:	b229      	lw	v0,7881b628 <reflash_userpl_table+0x110>
        ret_val = vfs_file_dir_offset(ap_vfs_mount, &flist_loca_p->dir_layer_info, &flist_loca_p->cluster_no, 1);
7881b586:	9a80      	lw	a0,0(v0)
7881b588:	9941      	lw	v0,4(s1)
7881b58a:	67a2      	move	a1,v0
7881b58c:	4d10      	addiu	a1,16
7881b58e:	9941      	lw	v0,4(s1)
7881b590:	6762      	move	v1,v0
7881b592:	4b08      	addiu	v1,8
7881b594:	6a03      	li	v0,3
7881b596:	d204      	sw	v0,16(sp)
7881b598:	67c3      	move	a2,v1
7881b59a:	6f01      	li	a3,1
7881b59c:	b224      	lw	v0,7881b62c <reflash_userpl_table+0x114>
7881b59e:	eac0      	jalrc	v0
7881b5a0:	c150      	sb	v0,16(s1)
7881b5a2:	a150      	lbu	v0,16(s1)

        if (FALSE != ret_val)
7881b5a4:	221e      	beqz	v0,7881b5e2 <reflash_userpl_table+0xca>
7881b5a6:	b221      	lw	v0,7881b628 <reflash_userpl_table+0x110>
        {

            //比较去后缀名
            name_len = vfs_get_name(ap_vfs_mount, temp_name_buf, 0);
7881b5a8:	9a60      	lw	v1,0(v0)
7881b5aa:	b522      	lw	a1,7881b630 <reflash_userpl_table+0x118>
7881b5ac:	6a02      	li	v0,2
7881b5ae:	d204      	sw	v0,16(sp)
7881b5b0:	6783      	move	a0,v1
7881b5b2:	6e00      	li	a2,0
7881b5b4:	6f00      	li	a3,0
7881b5b6:	b21e      	lw	v0,7881b62c <reflash_userpl_table+0x114>
7881b5b8:	eac0      	jalrc	v0
7881b5ba:	c947      	sh	v0,14(s1)
7881b5bc:	a947      	lhu	v0,14(s1)

            if ((3 == name_len) && (0 == libc_memcmp(temp_name_buf, flist_loca_p->filename, 4)))
7881b5be:	7203      	cmpi	v0,3
7881b5c0:	6758      	move	v0,t8
7881b5c2:	5a01      	sltiu	v0,1
7881b5c4:	600e      	bteqz	7881b5e2 <reflash_userpl_table+0xca>
7881b5c6:	b31b      	lw	v1,7881b630 <reflash_userpl_table+0x118>
7881b5c8:	9941      	lw	v0,4(s1)
7881b5ca:	4244      	addiu	v0,v0,4
7881b5cc:	6783      	move	a0,v1
7881b5ce:	67a2      	move	a1,v0
7881b5d0:	6e04      	li	a2,4
7881b5d2:	6f02      	li	a3,2
7881b5d4:	b213      	lw	v0,7881b620 <reflash_userpl_table+0x108>
7881b5d6:	eac0      	jalrc	v0
7881b5d8:	651a      	move	t8,v0
7881b5da:	6103      	btnez	7881b5e2 <reflash_userpl_table+0xca>
7881b5dc:	a946      	lhu	v0,12(s1)
            {
                //文件存在
                uspl_cur_offset = uspl_next_offset;
7881b5de:	c945      	sh	v0,10(s1)
7881b5e0:	17b5      	b	7881b54c <reflash_userpl_table+0x34>
                continue;
7881b5e2:	6a01      	li	v0,1
            }

            //            name_len = vfs_get_name(ap_vfs_mount, temp_name_buf, USERPL_TITLE_MAX / 2);
            //            if (*(uint16*) temp_name_buf == 0xfeff)
            //            {
            //                name_len = name_len << 1;
            //            }
            //            else
            //            {
            //                //短名收藏夹存的title格式是 xxx.yyy
            //                name_len = (uint16)deal_if_83name(temp_name_buf);
            //            }
            //
            //            if (0 == libc_memcmp(temp_name_buf, flist_loca_p->title, (uint32) name_len))
            //            {
            //                //文件存在
            //                uspl_cur_offset = uspl_next_offset;
            //                continue;
            //            }
        }

        del_flag = 1;
7881b5e4:	c151      	sb	v0,17(s1)
7881b5e6:	a945      	lhu	v0,10(s1)
        fav_opt_delete_sub(uspl_cur_offset, buf, uspl_hdl);
7881b5e8:	9968      	lw	v1,32(s1)
7881b5ea:	99c9      	lw	a2,36(s1)
7881b5ec:	6782      	move	a0,v0
7881b5ee:	67a3      	move	a1,v1
7881b5f0:	1811 6ccc 	jal	7881b330 <fav_opt_delete_sub>
7881b5f4:	6500      	nop
7881b5f6:	a946      	lhu	v0,12(s1)
        uspl_cur_offset = uspl_next_offset;
7881b5f8:	c945      	sh	v0,10(s1)
7881b5fa:	17a8      	b	7881b54c <reflash_userpl_table+0x34>
7881b5fc:	a151      	lbu	v0,17(s1)

    }

    if (1 == del_flag)
7881b5fe:	7201      	cmpi	v0,1
7881b600:	6758      	move	v0,t8
7881b602:	5a01      	sltiu	v0,1
7881b604:	6007      	bteqz	7881b614 <reflash_userpl_table+0xfc>
7881b606:	9948      	lw	v0,32(s1)
    {
        //回写最后一笔数据,修改扇区头
        fav_opt_update_head(buf, uspl_hdl);
7881b608:	9969      	lw	v1,36(s1)
7881b60a:	6782      	move	a0,v0
7881b60c:	67a3      	move	a1,v1
7881b60e:	1811 6cb9 	jal	7881b2e4 <fav_opt_update_head>
7881b612:	6500      	nop
7881b614:	65b9      	move	sp,s1
    }

}
7881b616:	6454      	restore	32,ra,s1
7881b618:	e8a0      	jrc	ra
7881b61a:	0000      	addiu	s0,sp,0
7881b61c:	b63c      	lw	a2,7881b70c <fav_save_read_offset+0xc0>
7881b61e:	7881      	sd	a0,8(s0)
7881b620:	6409      	restore	72
7881b622:	bfc1      	lwu	a2,4(a3)
7881b624:	b64c      	lw	a2,7881b754 <fav_save_read_offset+0x108>
7881b626:	7881      	sd	a0,8(s0)
7881b628:	5570      	slti	a1,112
7881b62a:	9fc1      	lw	a2,4(a3)
7881b62c:	6411      	restore	8,s1
7881b62e:	bfc1      	lwu	a2,4(a3)
7881b630:	b634      	lw	a2,7881b700 <fav_save_read_offset+0xb4>
7881b632:	7881      	sd	a0,8(s0)

7881b634 <temp_name_buf>:
	...

7881b63c <fav_opt_user_pl_head>:
	...

7881b64c <fav_save_read_offset>:
	...
Disassembly of section BANK_FORNT_ENHANCED_2_32:

71812500 <get_string_data>:
71812500:	64d4      	save	32,ra,s1

 * \note
 *******************************************************************************/
void get_string_data(uint16* str_num, char *string, uint8 len)
{
71812502:	0104      	addiu	s1,sp,16
71812504:	d984      	sw	a0,16(s1)
71812506:	d9a5      	sw	a1,20(s1)
71812508:	6746      	move	v0,a2
7181250a:	c158      	sb	v0,24(s1)
7181250c:	b20d      	lw	v0,71812540 <get_string_data+0x40>
    char *str_addr;
    if (NULL == sort_depend_buf)//依赖自己
7181250e:	9a40      	lw	v0,0(v0)
71812510:	2a03      	bnez	v0,71812518 <get_string_data+0x18>
71812512:	9944      	lw	v0,16(s1)
    {
        str_addr = (char*) str_num;
71812514:	d940      	sw	v0,0(s1)
71812516:	1009      	b	7181252a <get_string_data+0x2a>
71812518:	9944      	lw	v0,16(s1)
    }
    else
    {
        str_addr = (char*) sort_depend_buf + (*str_num) * len;
7181251a:	aa60      	lhu	v1,0(v0)
7181251c:	a158      	lbu	v0,24(s1)
7181251e:	eb58      	mult	v1,v0
71812520:	b208      	lw	v0,71812540 <get_string_data+0x40>
71812522:	9a40      	lw	v0,0(v0)
71812524:	eb12      	mflo	v1
71812526:	e349      	addu	v0,v1,v0
71812528:	d940      	sw	v0,0(s1)
7181252a:	9945      	lw	v0,20(s1)
    }
    libc_memcpy(string, str_addr, (uint32) len);
7181252c:	9960      	lw	v1,0(s1)
7181252e:	a1d8      	lbu	a2,24(s1)
71812530:	6782      	move	a0,v0
71812532:	67a3      	move	a1,v1
71812534:	6f00      	li	a3,0
71812536:	b204      	lw	v0,71812544 <get_string_data+0x44>
71812538:	eac0      	jalrc	v0
7181253a:	65b9      	move	sp,s1
}
7181253c:	6452      	restore	16,ra,s1
7181253e:	e8a0      	jrc	ra
71812540:	5610      	slti	a2,16
71812542:	9fc1      	lw	a2,4(a3)
71812544:	6409      	restore	72
71812546:	bfc1      	lwu	a2,4(a3)

71812548 <compare_string>:
71812548:	64d4      	save	32,ra,s1
/******************************************************************************/
/*
 * \par  Description: 比较字符串
 *
 * \param[in]    data1--string1存放的位置序号
 data2--string2存放的位置序号
 len--比较的长度

 * \param[out]

 * \return       0  -- string1=string2
 1  -- string1>string2
 -1 -- string1<string2
 * \note
 *******************************************************************************/
signed char compare_string(uint16 *data1, uint16 *data2, uint8 len)
{
7181254a:	0104      	addiu	s1,sp,16
7181254c:	d984      	sw	a0,16(s1)
7181254e:	d9a5      	sw	a1,20(s1)
71812550:	6746      	move	v0,a2
71812552:	c158      	sb	v0,24(s1)
71812554:	6a00      	li	v0,0
    uint8 i;
    signed char ret_val = 0;
71812556:	c141      	sb	v0,1(s1)
71812558:	a158      	lbu	v0,24(s1)
    
    if (len > CMPSTR_MAX_BUF)
7181255a:	5a65      	sltiu	v0,101
7181255c:	6102      	btnez	71812562 <compare_string+0x1a>
7181255e:	6a64      	li	v0,100
    {
        len = CMPSTR_MAX_BUF;
71812560:	c158      	sb	v0,24(s1)
71812562:	9944      	lw	v0,16(s1)
    }

    get_string_data(data1, cmp_string1, len);
71812564:	b339      	lw	v1,71812648 <compare_string+0x100>
71812566:	a1d8      	lbu	a2,24(s1)
71812568:	6782      	move	a0,v0
7181256a:	67a3      	move	a1,v1
7181256c:	1803 4940 	jal	71812500 <get_string_data>
71812570:	6500      	nop
71812572:	9945      	lw	v0,20(s1)
    get_string_data(data2, cmp_string2, len);
71812574:	b336      	lw	v1,7181264c <compare_string+0x104>
71812576:	a1d8      	lbu	a2,24(s1)
71812578:	6782      	move	a0,v0
7181257a:	67a3      	move	a1,v1
7181257c:	1803 4940 	jal	71812500 <get_string_data>
71812580:	6500      	nop
71812582:	6a00      	li	v0,0

    for (i = 0; i < len; i++)
71812584:	c140      	sb	v0,0(s1)
71812586:	a140      	lbu	v0,0(s1)
71812588:	a178      	lbu	v1,24(s1)
7181258a:	ea63      	sltu	v0,v1
7181258c:	6056      	bteqz	7181263a <compare_string+0xf2>
7181258e:	b32f      	lw	v1,71812648 <compare_string+0x100>
    {

        if ((cmp_string1[i] >= 'a') && (cmp_string1[i] <= 'z'))
71812590:	a140      	lbu	v0,0(s1)
71812592:	e349      	addu	v0,v1,v0
71812594:	a240      	lbu	v0,0(v0)
71812596:	5a61      	sltiu	v0,97
71812598:	610f      	btnez	718125b8 <compare_string+0x70>
7181259a:	b32c      	lw	v1,71812648 <compare_string+0x100>
7181259c:	a140      	lbu	v0,0(s1)
7181259e:	e349      	addu	v0,v1,v0
718125a0:	a240      	lbu	v0,0(v0)
718125a2:	5a7b      	sltiu	v0,123
718125a4:	6009      	bteqz	718125b8 <compare_string+0x70>
718125a6:	b329      	lw	v1,71812648 <compare_string+0x100>
        {
            cmp_string1[i] = cmp_string1[i] - 0x20;
718125a8:	a140      	lbu	v0,0(s1)
718125aa:	e351      	addu	a0,v1,v0
718125ac:	b327      	lw	v1,71812648 <compare_string+0x100>
718125ae:	a140      	lbu	v0,0(s1)
718125b0:	e349      	addu	v0,v1,v0
718125b2:	a240      	lbu	v0,0(v0)
718125b4:	4ae0      	addiu	v0,-32
718125b6:	c440      	sb	v0,0(a0)
718125b8:	b325      	lw	v1,7181264c <compare_string+0x104>
        }

        if ((cmp_string2[i] >= 'a') && (cmp_string2[i] <= 'z'))
718125ba:	a140      	lbu	v0,0(s1)
718125bc:	e349      	addu	v0,v1,v0
718125be:	a240      	lbu	v0,0(v0)
718125c0:	5a61      	sltiu	v0,97
718125c2:	610f      	btnez	718125e2 <compare_string+0x9a>
718125c4:	b322      	lw	v1,7181264c <compare_string+0x104>
718125c6:	a140      	lbu	v0,0(s1)
718125c8:	e349      	addu	v0,v1,v0
718125ca:	a240      	lbu	v0,0(v0)
718125cc:	5a7b      	sltiu	v0,123
718125ce:	6009      	bteqz	718125e2 <compare_string+0x9a>
718125d0:	b31f      	lw	v1,7181264c <compare_string+0x104>
        {
            cmp_string2[i] = cmp_string2[i] - 0x20;
718125d2:	a140      	lbu	v0,0(s1)
718125d4:	e351      	addu	a0,v1,v0
718125d6:	b31e      	lw	v1,7181264c <compare_string+0x104>
718125d8:	a140      	lbu	v0,0(s1)
718125da:	e349      	addu	v0,v1,v0
718125dc:	a240      	lbu	v0,0(v0)
718125de:	4ae0      	addiu	v0,-32
718125e0:	c440      	sb	v0,0(a0)
718125e2:	b31a      	lw	v1,71812648 <compare_string+0x100>
        }

        if (cmp_string1[i] > cmp_string2[i]) //string1>string2
718125e4:	a140      	lbu	v0,0(s1)
718125e6:	e351      	addu	a0,v1,v0
718125e8:	b319      	lw	v1,7181264c <compare_string+0x104>
718125ea:	a140      	lbu	v0,0(s1)
718125ec:	e349      	addu	v0,v1,v0
718125ee:	a460      	lbu	v1,0(a0)
718125f0:	a240      	lbu	v0,0(v0)
718125f2:	ea63      	sltu	v0,v1
718125f4:	6003      	bteqz	718125fc <compare_string+0xb4>
718125f6:	6a01      	li	v0,1
        {
            ret_val = 1;
718125f8:	c141      	sb	v0,1(s1)
718125fa:	101f      	b	7181263a <compare_string+0xf2>
            break;
718125fc:	b313      	lw	v1,71812648 <compare_string+0x100>
        }
        else if (cmp_string1[i] < cmp_string2[i]) //string1<string2
718125fe:	a140      	lbu	v0,0(s1)
71812600:	e351      	addu	a0,v1,v0
71812602:	b313      	lw	v1,7181264c <compare_string+0x104>
71812604:	a140      	lbu	v0,0(s1)
71812606:	e349      	addu	v0,v1,v0
71812608:	a460      	lbu	v1,0(a0)
7181260a:	a240      	lbu	v0,0(v0)
7181260c:	eb43      	sltu	v1,v0
7181260e:	6004      	bteqz	71812618 <compare_string+0xd0>
71812610:	6a01      	li	v0,1
        {
            ret_val = -1;
71812612:	ea4b      	neg	v0
71812614:	c141      	sb	v0,1(s1)
71812616:	1011      	b	7181263a <compare_string+0xf2>
            break;
71812618:	b30c      	lw	v1,71812648 <compare_string+0x100>
        }
        else
        {
            if ((cmp_string1[i] == 0) && (cmp_string2[i] == 0)) //提前结束
7181261a:	a140      	lbu	v0,0(s1)
7181261c:	e349      	addu	v0,v1,v0
7181261e:	a240      	lbu	v0,0(v0)
71812620:	2a08      	bnez	v0,71812632 <compare_string+0xea>
71812622:	b30b      	lw	v1,7181264c <compare_string+0x104>
71812624:	a140      	lbu	v0,0(s1)
71812626:	e349      	addu	v0,v1,v0
71812628:	a240      	lbu	v0,0(v0)
7181262a:	2a03      	bnez	v0,71812632 <compare_string+0xea>
7181262c:	6a00      	li	v0,0
            {
                ret_val = 0;
7181262e:	c141      	sb	v0,1(s1)
71812630:	1004      	b	7181263a <compare_string+0xf2>
                break;
71812632:	a140      	lbu	v0,0(s1)
71812634:	4241      	addiu	v0,v0,1
71812636:	c140      	sb	v0,0(s1)
71812638:	17a6      	b	71812586 <compare_string+0x3e>
7181263a:	8141      	lb	v0,1(s1)
            }
        }
    }
    return ret_val;
7181263c:	651a      	move	t8,v0
7181263e:	6758      	move	v0,t8
}
71812640:	65b9      	move	sp,s1
71812642:	6452      	restore	16,ra,s1
71812644:	e8a0      	jrc	ra
71812646:	0000      	addiu	s0,sp,0
71812648:	2254      	beqz	v0,718126f2 <compare_album_track+0x32>
7181264a:	bfc1      	lwu	a2,4(a3)
7181264c:	22b8      	beqz	v0,718125be <compare_string+0x76>
7181264e:	bfc1      	lwu	a2,4(a3)

71812650 <compare_word>:
71812650:	6492      	save	16,s1
/******************************************************************************/
/*
 * \par  Description: 比较16位数值
 *
 * \param[in]    data1--word1存放的位置序号
 data2--word2存放的位置序号
 len--(no used)

 * \param[out]

 * \return       0  -- word1=word2
 1  -- word1>word2
 -1 -- word1<word2

 * \note
 *******************************************************************************/
signed char compare_word(uint16 *data1, uint16 *data2, uint8 len)
{
71812652:	673d      	move	s1,sp
71812654:	d984      	sw	a0,16(s1)
71812656:	d9a5      	sw	a1,20(s1)
71812658:	6746      	move	v0,a2
7181265a:	c158      	sb	v0,24(s1)
7181265c:	9944      	lw	v0,16(s1)
    uint16 t1;
    uint16 t2;
    signed char ret_val;

    len = len;

    //因为sort_depend_buf是uint8类型，所以乘2
    t1 = (*data1) * 2;
7181265e:	aa40      	lhu	v0,0(v0)
71812660:	3244      	sll	v0,1
71812662:	c940      	sh	v0,0(s1)
71812664:	9945      	lw	v0,20(s1)
    t2 = (*data2) * 2;
71812666:	aa40      	lhu	v0,0(v0)
71812668:	3244      	sll	v0,1
7181266a:	c941      	sh	v0,2(s1)
7181266c:	a960      	lhu	v1,0(s1)

    if (*(uint16*) (sort_depend_buf + t1) > *(uint16*) (sort_depend_buf + t2))
7181266e:	b214      	lw	v0,718126bc <compare_word+0x6c>
71812670:	9a40      	lw	v0,0(v0)
71812672:	e351      	addu	a0,v1,v0
71812674:	a961      	lhu	v1,2(s1)
71812676:	b212      	lw	v0,718126bc <compare_word+0x6c>
71812678:	9a40      	lw	v0,0(v0)
7181267a:	e349      	addu	v0,v1,v0
7181267c:	ac60      	lhu	v1,0(a0)
7181267e:	aa40      	lhu	v0,0(v0)
71812680:	ea63      	sltu	v0,v1
71812682:	6003      	bteqz	7181268a <compare_word+0x3a>
71812684:	6a01      	li	v0,1
    {
        ret_val = 1;
71812686:	c144      	sb	v0,4(s1)
71812688:	1013      	b	718126b0 <compare_word+0x60>
7181268a:	a960      	lhu	v1,0(s1)
    }
    else if (*(uint16*) (sort_depend_buf + t1) == *(uint16*) (sort_depend_buf + t2))
7181268c:	b20c      	lw	v0,718126bc <compare_word+0x6c>
7181268e:	9a40      	lw	v0,0(v0)
71812690:	e351      	addu	a0,v1,v0
71812692:	a961      	lhu	v1,2(s1)
71812694:	b20a      	lw	v0,718126bc <compare_word+0x6c>
71812696:	9a40      	lw	v0,0(v0)
71812698:	e349      	addu	v0,v1,v0
7181269a:	ac60      	lhu	v1,0(a0)
7181269c:	aa40      	lhu	v0,0(v0)
7181269e:	ea6e      	xor	v0,v1
718126a0:	5a01      	sltiu	v0,1
718126a2:	6003      	bteqz	718126aa <compare_word+0x5a>
718126a4:	6a00      	li	v0,0
    {
        ret_val = 0;
718126a6:	c144      	sb	v0,4(s1)
718126a8:	1003      	b	718126b0 <compare_word+0x60>
718126aa:	6a01      	li	v0,1
    }
    else
    {
        ret_val = -1;
718126ac:	ea4b      	neg	v0
718126ae:	c144      	sb	v0,4(s1)
718126b0:	8144      	lb	v0,4(s1)
    }

    return ret_val;
718126b2:	651a      	move	t8,v0
718126b4:	6758      	move	v0,t8
}
718126b6:	65b9      	move	sp,s1
718126b8:	6412      	restore	16,s1
718126ba:	e8a0      	jrc	ra
718126bc:	5610      	slti	a2,16
718126be:	9fc1      	lw	a2,4(a3)

718126c0 <compare_album_track>:
718126c0:	6492      	save	16,s1

/******************************************************************************/
/*
 * \par  Description: 比较带TRACK的album的排序
 *
 * \param[in]    data1--word1存放的位置序号
 data2--word2存放的位置序号
 len--(no used)

 * \param[out]

 * \return       0  -- word1=word2
 1  -- word1>word2
 -1 -- word1<word2
 * \note
 *******************************************************************************/
signed char compare_album_track(uint16 *data1, uint16 *data2, uint8 len)
{
718126c2:	673d      	move	s1,sp
718126c4:	d984      	sw	a0,16(s1)
718126c6:	d9a5      	sw	a1,20(s1)
718126c8:	6746      	move	v0,a2
718126ca:	c158      	sb	v0,24(s1)
718126cc:	6a00      	li	v0,0

    uint16 t1;
    uint16 t2;

    signed char ret_val = 0;
718126ce:	c144      	sb	v0,4(s1)
718126d0:	9944      	lw	v0,16(s1)

    len = len;

    t1 = (*data1) * TRACK_CMP_LENGTH;
718126d2:	aa40      	lhu	v0,0(v0)
718126d4:	c940      	sh	v0,0(s1)
718126d6:	9945      	lw	v0,20(s1)
    t2 = (*data2) * TRACK_CMP_LENGTH;
718126d8:	aa40      	lhu	v0,0(v0)
718126da:	c941      	sh	v0,2(s1)
718126dc:	a960      	lhu	v1,0(s1)

    //TRACK 排序，只比较1个byte
    if (*(int8*) (track_buf + t1) > *(int8*) (track_buf + t2))
718126de:	b229      	lw	v0,71812780 <compare_album_track+0xc0>
718126e0:	9a40      	lw	v0,0(v0)
718126e2:	e351      	addu	a0,v1,v0
718126e4:	a961      	lhu	v1,2(s1)
718126e6:	b227      	lw	v0,71812780 <compare_album_track+0xc0>
718126e8:	9a40      	lw	v0,0(v0)
718126ea:	e349      	addu	v0,v1,v0
718126ec:	8460      	lb	v1,0(a0)
718126ee:	8240      	lb	v0,0(v0)
718126f0:	ea62      	slt	v0,v1
718126f2:	6003      	bteqz	718126fa <compare_album_track+0x3a>
718126f4:	6a01      	li	v0,1
    {
        ret_val = 1;
718126f6:	c144      	sb	v0,4(s1)
718126f8:	1013      	b	71812720 <compare_album_track+0x60>
718126fa:	a960      	lhu	v1,0(s1)
    }
    else if (*(int8*) (track_buf + t1) == *(int8*) (track_buf + t2))
718126fc:	b221      	lw	v0,71812780 <compare_album_track+0xc0>
718126fe:	9a40      	lw	v0,0(v0)
71812700:	e351      	addu	a0,v1,v0
71812702:	a961      	lhu	v1,2(s1)
71812704:	b21f      	lw	v0,71812780 <compare_album_track+0xc0>
71812706:	9a40      	lw	v0,0(v0)
71812708:	e349      	addu	v0,v1,v0
7181270a:	8460      	lb	v1,0(a0)
7181270c:	8240      	lb	v0,0(v0)
7181270e:	ea6e      	xor	v0,v1
71812710:	5a01      	sltiu	v0,1
71812712:	6003      	bteqz	7181271a <compare_album_track+0x5a>
71812714:	6a00      	li	v0,0
    {
        ret_val = 0;
71812716:	c144      	sb	v0,4(s1)
71812718:	1003      	b	71812720 <compare_album_track+0x60>
7181271a:	6a01      	li	v0,1
    }
    else
    {
        ret_val = -1;
7181271c:	ea4b      	neg	v0
7181271e:	c144      	sb	v0,4(s1)
71812720:	a940      	lhu	v0,0(s1)
    }

    t1 = t1 << 1;
71812722:	3244      	sll	v0,1
71812724:	c940      	sh	v0,0(s1)
71812726:	a941      	lhu	v0,2(s1)
    t2 = t2 << 1;
71812728:	3244      	sll	v0,1
7181272a:	c941      	sh	v0,2(s1)
7181272c:	8144      	lb	v0,4(s1)

    if (ret_val == 0)
7181272e:	2a22      	bnez	v0,71812774 <compare_album_track+0xb4>
71812730:	a960      	lhu	v1,0(s1)
    {
        if (*(uint16*) (sort_depend_buf + t1) > *(uint16*) (sort_depend_buf + t2))
71812732:	b215      	lw	v0,71812784 <compare_album_track+0xc4>
71812734:	9a40      	lw	v0,0(v0)
71812736:	e351      	addu	a0,v1,v0
71812738:	a961      	lhu	v1,2(s1)
7181273a:	b213      	lw	v0,71812784 <compare_album_track+0xc4>
7181273c:	9a40      	lw	v0,0(v0)
7181273e:	e349      	addu	v0,v1,v0
71812740:	ac60      	lhu	v1,0(a0)
71812742:	aa40      	lhu	v0,0(v0)
71812744:	ea63      	sltu	v0,v1
71812746:	6003      	bteqz	7181274e <compare_album_track+0x8e>
71812748:	6a01      	li	v0,1
        {
            ret_val = 1;
7181274a:	c144      	sb	v0,4(s1)
7181274c:	1013      	b	71812774 <compare_album_track+0xb4>
7181274e:	a960      	lhu	v1,0(s1)
        }
        else if (*(uint16*) (sort_depend_buf + t1) == *(uint16*) (sort_depend_buf + t2))
71812750:	b20d      	lw	v0,71812784 <compare_album_track+0xc4>
71812752:	9a40      	lw	v0,0(v0)
71812754:	e351      	addu	a0,v1,v0
71812756:	a961      	lhu	v1,2(s1)
71812758:	b20b      	lw	v0,71812784 <compare_album_track+0xc4>
7181275a:	9a40      	lw	v0,0(v0)
7181275c:	e349      	addu	v0,v1,v0
7181275e:	ac60      	lhu	v1,0(a0)
71812760:	aa40      	lhu	v0,0(v0)
71812762:	ea6e      	xor	v0,v1
71812764:	5a01      	sltiu	v0,1
71812766:	6003      	bteqz	7181276e <compare_album_track+0xae>
71812768:	6a00      	li	v0,0
        {
            ret_val = 0;
7181276a:	c144      	sb	v0,4(s1)
7181276c:	1003      	b	71812774 <compare_album_track+0xb4>
7181276e:	6a01      	li	v0,1
        }
        else
        {
            ret_val = -1;
71812770:	ea4b      	neg	v0
71812772:	c144      	sb	v0,4(s1)
71812774:	8144      	lb	v0,4(s1)
        }

    }
    return ret_val;
71812776:	651a      	move	t8,v0
71812778:	6758      	move	v0,t8
}
7181277a:	65b9      	move	sp,s1
7181277c:	6412      	restore	16,s1
7181277e:	e8a0      	jrc	ra
71812780:	5608      	slti	a2,8
71812782:	9fc1      	lw	a2,4(a3)
71812784:	5610      	slti	a2,16
71812786:	9fc1      	lw	a2,4(a3)

71812788 <swap>:
71812788:	6493      	save	24,s1

/******************************************************************************/
/*
 * \par  Description: 交换对象的位置
 *
 * \param[in]    a--对象1
 b--对象2
 size--交换的长度
 * \param[out]

 * \return

 * \note
 *******************************************************************************/
void swap(uint16 *a, uint16 *b, size_t size)
{
7181278a:	673d      	move	s1,sp
7181278c:	d986      	sw	a0,24(s1)
7181278e:	d9a7      	sw	a1,28(s1)
71812790:	d9c8      	sw	a2,32(s1)
71812792:	9946      	lw	v0,24(s1)
    uint8 temp;
    uint8 *p1 = (uint8 *) a;
71812794:	d941      	sw	v0,4(s1)
71812796:	9947      	lw	v0,28(s1)
    uint8 *p2 = (uint8 *) b;
71812798:	d942      	sw	v0,8(s1)
7181279a:	9948      	lw	v0,32(s1)
    while (size > 0)
7181279c:	2214      	beqz	v0,718127c6 <swap+0x3e>
7181279e:	9941      	lw	v0,4(s1)
    {
        temp = *p1;
718127a0:	a240      	lbu	v0,0(v0)
718127a2:	c140      	sb	v0,0(s1)
718127a4:	9961      	lw	v1,4(s1)
        *p1 = *p2;
718127a6:	9942      	lw	v0,8(s1)
718127a8:	a240      	lbu	v0,0(v0)
718127aa:	c340      	sb	v0,0(v1)
718127ac:	9962      	lw	v1,8(s1)
        *p2 = temp;
718127ae:	a140      	lbu	v0,0(s1)
718127b0:	c340      	sb	v0,0(v1)
718127b2:	9941      	lw	v0,4(s1)

        p1++;
718127b4:	4241      	addiu	v0,v0,1
718127b6:	d941      	sw	v0,4(s1)
718127b8:	9942      	lw	v0,8(s1)
        p2++;
718127ba:	4241      	addiu	v0,v0,1
718127bc:	d942      	sw	v0,8(s1)
718127be:	9948      	lw	v0,32(s1)
        size--;
718127c0:	424f      	addiu	v0,v0,-1
718127c2:	d948      	sw	v0,32(s1)
718127c4:	17ea      	b	7181279a <swap+0x12>
718127c6:	65b9      	move	sp,s1
    }
}
718127c8:	6413      	restore	24,s1
718127ca:	e8a0      	jrc	ra

718127cc <shortsort>:
718127cc:	64d5      	save	40,ra,s1

/******************************************************************************/
/*
 * \par  Description: 冒泡排序队列
 *
 * \param[in]    lo--序列的起始
 hi--序列的结束
 width--序列的宽度
 * \param[out]

 * \return

 * \note
 *******************************************************************************/
void shortsort(char *lo, char *hi, uint16 width)
{
718127ce:	0104      	addiu	s1,sp,16
718127d0:	d986      	sw	a0,24(s1)
718127d2:	d9a7      	sw	a1,28(s1)
718127d4:	6746      	move	v0,a2
718127d6:	c950      	sh	v0,32(s1)
718127d8:	a950      	lhu	v0,32(s1)
    char i; //add by lmx
    char *p, *max;

    if (0 == width)
718127da:	2a01      	bnez	v0,718127de <shortsort+0x12>
718127dc:	1043      	b	71812864 <shortsort+0x98>
    {
        return;
718127de:	9947      	lw	v0,28(s1)
    }

    while (hi > lo)
718127e0:	9966      	lw	v1,24(s1)
718127e2:	eb43      	sltu	v1,v0
718127e4:	603f      	bteqz	71812864 <shortsort+0x98>
718127e6:	9946      	lw	v0,24(s1)
    {
        max = lo;
718127e8:	d942      	sw	v0,8(s1)
718127ea:	6a00      	li	v0,0
        i = 0; //add by lmx
718127ec:	c140      	sb	v0,0(s1)
718127ee:	a970      	lhu	v1,32(s1)

        for (p = lo + width; p <= hi; p += width)
718127f0:	9946      	lw	v0,24(s1)
718127f2:	e349      	addu	v0,v1,v0
718127f4:	d941      	sw	v0,4(s1)
718127f6:	9941      	lw	v0,4(s1)
718127f8:	9967      	lw	v1,28(s1)
718127fa:	eb43      	sltu	v1,v0
718127fc:	6114      	btnez	71812826 <shortsort+0x5a>
718127fe:	b31c      	lw	v1,7181286c <shortsort+0xa0>
        {
            if (compare_obj((uint16 *) p, (uint16 *) max, cmp_str_len) > 0)
71812800:	9981      	lw	a0,4(s1)
71812802:	99a2      	lw	a1,8(s1)
71812804:	b21b      	lw	v0,71812870 <shortsort+0xa4>
71812806:	a240      	lbu	v0,0(v0)
71812808:	9b60      	lw	v1,0(v1)
7181280a:	67c2      	move	a2,v0
7181280c:	ebc0      	jalrc	v1
7181280e:	5201      	slti	v0,1
71812810:	6105      	btnez	7181281c <shortsort+0x50>
71812812:	9941      	lw	v0,4(s1)
            {
                max = p;
71812814:	d942      	sw	v0,8(s1)
71812816:	a140      	lbu	v0,0(s1)
                i++; //add by lmx
71812818:	4241      	addiu	v0,v0,1
7181281a:	c140      	sb	v0,0(s1)
7181281c:	a950      	lhu	v0,32(s1)
7181281e:	9961      	lw	v1,4(s1)
71812820:	e349      	addu	v0,v1,v0
71812822:	d941      	sw	v0,4(s1)
71812824:	17e8      	b	718127f6 <shortsort+0x2a>
71812826:	8180      	lb	a0,0(s1)
            }
        }

        if (i == ((hi - lo) / width)) //add by lmx
71812828:	9967      	lw	v1,28(s1)
7181282a:	9946      	lw	v0,24(s1)
7181282c:	e34f      	subu	v1,v0
7181282e:	a950      	lhu	v0,32(s1)
71812830:	eb5a      	div	zero,v1,v0
71812832:	2a01      	bnez	v0,71812836 <shortsort+0x6a>
71812834:	e8e5      	break	7
71812836:	ea12      	mflo	v0
71812838:	ea8e      	xor	v0,a0
7181283a:	5a01      	sltiu	v0,1
7181283c:	6001      	bteqz	71812840 <shortsort+0x74>
7181283e:	1012      	b	71812864 <shortsort+0x98>
        {
            break; //lo~hi 之间的数据是有序的
71812840:	9962      	lw	v1,8(s1)
        }

        if (max != hi) //add by lmx
71812842:	9947      	lw	v0,28(s1)
71812844:	ea6e      	xor	v0,v1
71812846:	5a01      	sltiu	v0,1
71812848:	6108      	btnez	7181285a <shortsort+0x8e>
7181284a:	9942      	lw	v0,8(s1)
        {
            swap((uint16*) max, (uint16*) hi, width);
7181284c:	9967      	lw	v1,28(s1)
7181284e:	a9d0      	lhu	a2,32(s1)
71812850:	6782      	move	a0,v0
71812852:	67a3      	move	a1,v1
71812854:	1803 49e2 	jal	71812788 <swap>
71812858:	6500      	nop
7181285a:	a950      	lhu	v0,32(s1)
        }

        hi -= width;
7181285c:	9967      	lw	v1,28(s1)
7181285e:	e34b      	subu	v0,v1,v0
71812860:	d947      	sw	v0,28(s1)
71812862:	17bd      	b	718127de <shortsort+0x12>
71812864:	65b9      	move	sp,s1
    }
}
71812866:	6453      	restore	24,ra,s1
71812868:	e8a0      	jrc	ra
7181286a:	0000      	addiu	s0,sp,0
7181286c:	5658      	slti	a2,88
7181286e:	9fc1      	lw	a2,4(a3)
71812870:	24ac      	beqz	a0,718127ca <swap+0x42>
71812872:	bfc1      	lwu	a2,4(a3)

71812874 <list_sort>:
71812874:	64d7      	save	56,ra,s1

/******************************************************************************/
/*
 * \par  Description: 对从base为起始地址，宽度为width，个数为n序列进行排序
 *
 * \param[in]   base--序列的起始地址
 num--序列的数目
 width--序列的宽度
 depond_buf--排序依赖的队列
 cmp_type--比较调用接口类型
 cmp_len--比较的长度,不能大于CMPSTR_MAX_BUF
 * \param[out]

 * \return

 * \note
 *******************************************************************************/

void list_sort(char *base, uint16 num, uint16 width, void *depond_buf, uint8 cmp_type, uint8 cmp_len)
{
71812876:	0104      	addiu	s1,sp,16
71812878:	d98a      	sw	a0,40(s1)
7181287a:	6745      	move	v0,a1
7181287c:	6766      	move	v1,a2
7181287e:	d9ed      	sw	a3,52(s1)
71812880:	998e      	lw	a0,56(s1)
71812882:	99af      	lw	a1,60(s1)
71812884:	c956      	sh	v0,44(s1)
71812886:	c978      	sh	v1,48(s1)
71812888:	c180      	sb	a0,0(s1)
7181288a:	c1a1      	sb	a1,1(s1)
7181288c:	a956      	lhu	v0,44(s1)
    char *lo, *hi;
    char *mid;
    char *loguy, *higuy;
    uint16 size;
    //    char *lostk[30], *histk[30];
    int16 stkptr;

    if ((num < 2) || (0 == width))
7181288e:	5a02      	sltiu	v0,2
71812890:	f0e0 611e 	btnez	71812a90 <.L51+0x192>
71812894:	a958      	lhu	v0,48(s1)
71812896:	2a01      	bnez	v0,7181289a <list_sort+0x26>
71812898:	10fb      	b	71812a90 <.L51+0x192>
    {
        return; // nothing to do
7181289a:	a140      	lbu	v0,0(s1)
    }

    if (cmp_type == SORT_CMP_WORD)
7181289c:	2a04      	bnez	v0,718128a6 <list_sort+0x32>
7181289e:	b381      	lw	v1,71812aa0 <.L51+0x1a2>
    {
        compare_obj = compare_word;
718128a0:	b281      	lw	v0,71812aa4 <.L51+0x1a6>
718128a2:	db40      	sw	v0,0(v1)
718128a4:	101a      	b	718128da <list_sort+0x66>
718128a6:	a140      	lbu	v0,0(s1)
    }
    else if (cmp_type == SORT_CMP_ALBUM)
718128a8:	7201      	cmpi	v0,1
718128aa:	6758      	move	v0,t8
718128ac:	5a01      	sltiu	v0,1
718128ae:	600b      	bteqz	718128c6 <list_sort+0x52>
718128b0:	b37c      	lw	v1,71812aa0 <.L51+0x1a2>
    {
        compare_obj = compare_album_track;
718128b2:	b27e      	lw	v0,71812aa8 <.L51+0x1aa>
718128b4:	db40      	sw	v0,0(v1)
718128b6:	0a79      	la	v0,71812a98 <.L51+0x19a>
        //        compare_obj = compare_word; //调试直观，暂不加入track排序
        libc_print("tr",0,0);
718128b8:	6782      	move	a0,v0
718128ba:	6d00      	li	a1,0
718128bc:	6e00      	li	a2,0
718128be:	6f4b      	li	a3,75
718128c0:	b27b      	lw	v0,71812aac <.L51+0x1ae>
718128c2:	eac0      	jalrc	v0
718128c4:	100a      	b	718128da <list_sort+0x66>
718128c6:	b377      	lw	v1,71812aa0 <.L51+0x1a2>
    }
    else
    {
        compare_obj = compare_string;
718128c8:	b27a      	lw	v0,71812ab0 <.L51+0x1b2>
718128ca:	db40      	sw	v0,0(v1)
718128cc:	0a74      	la	v0,71812a9c <.L51+0x19e>
        libc_print("st",0,0);
718128ce:	6782      	move	a0,v0
718128d0:	6d00      	li	a1,0
718128d2:	6e00      	li	a2,0
718128d4:	6f4b      	li	a3,75
718128d6:	b276      	lw	v0,71812aac <.L51+0x1ae>
718128d8:	eac0      	jalrc	v0
718128da:	b377      	lw	v1,71812ab4 <.L51+0x1b6>
    }

    cmp_str_len = cmp_len;
718128dc:	a141      	lbu	v0,1(s1)
718128de:	c340      	sb	v0,0(v1)
718128e0:	6a00      	li	v0,0

    stkptr = 0; // initialize stack
718128e2:	c94d      	sh	v0,26(s1)
718128e4:	994a      	lw	v0,40(s1)
    lo = base;
718128e6:	d941      	sw	v0,4(s1)
718128e8:	a978      	lhu	v1,48(s1)
    hi = (char *) base + width * (num - 1); // initialize limits
718128ea:	a956      	lhu	v0,44(s1)
718128ec:	424f      	addiu	v0,v0,-1
718128ee:	eb58      	mult	v1,v0
718128f0:	994a      	lw	v0,40(s1)
718128f2:	eb12      	mflo	v1
718128f4:	e349      	addu	v0,v1,v0
718128f6:	d942      	sw	v0,8(s1)
718128f8:	b370      	lw	v1,71812ab8 <.L51+0x1ba>

    sort_depend_buf = depond_buf;
718128fa:	994d      	lw	v0,52(s1)
718128fc:	db40      	sw	v0,0(v1)

718128fe <.L51>:
718128fe:	9962      	lw	v1,8(s1)

    recurse: size = (uint16) (((hi - lo) / width) + 1); // number of el's to sort
71812900:	9941      	lw	v0,4(s1)
71812902:	e34f      	subu	v1,v0
71812904:	a958      	lhu	v0,48(s1)
71812906:	eb5a      	div	zero,v1,v0
71812908:	2a01      	bnez	v0,7181290c <.L51+0xe>
7181290a:	e8e5      	break	7
7181290c:	ec12      	mflo	a0
7181290e:	651c      	move	t8,a0
71812910:	6758      	move	v0,t8
71812912:	4241      	addiu	v0,v0,1
71812914:	c94c      	sh	v0,24(s1)
71812916:	a94c      	lhu	v0,24(s1)
    if (size <= CUTOFF)
71812918:	5a09      	sltiu	v0,9
7181291a:	6009      	bteqz	7181292e <.L51+0x30>
7181291c:	9941      	lw	v0,4(s1)
    { //   <8
        shortsort(lo, hi, width); //冒泡法排序
7181291e:	9962      	lw	v1,8(s1)
71812920:	a9d8      	lhu	a2,48(s1)
71812922:	6782      	move	a0,v0
71812924:	67a3      	move	a1,v1
71812926:	1803 49f3 	jal	718127cc <shortsort>
7181292a:	6500      	nop
7181292c:	109e      	b	71812a6a <.L51+0x16c>
7181292e:	a94c      	lhu	v0,24(s1)
    }
    else
    {
        mid = lo + ((size / 2) * width); // find middle element
71812930:	3246      	srl	v0,1
71812932:	6762      	move	v1,v0
71812934:	eb31      	zeh	v1
71812936:	a958      	lhu	v0,48(s1)
71812938:	eb58      	mult	v1,v0
7181293a:	9941      	lw	v0,4(s1)
7181293c:	eb12      	mflo	v1
7181293e:	e349      	addu	v0,v1,v0
71812940:	d943      	sw	v0,12(s1)
71812942:	9943      	lw	v0,12(s1)
        swap((uint16*) mid, (uint16*) lo, width); //swap it to beginning of array
71812944:	9961      	lw	v1,4(s1)
71812946:	a9d8      	lhu	a2,48(s1)
71812948:	6782      	move	a0,v0
7181294a:	67a3      	move	a1,v1
7181294c:	1803 49e2 	jal	71812788 <swap>
71812950:	6500      	nop
71812952:	9941      	lw	v0,4(s1)
        loguy = lo;
71812954:	d944      	sw	v0,16(s1)
71812956:	a978      	lhu	v1,48(s1)
        higuy = hi + width;
71812958:	9942      	lw	v0,8(s1)
7181295a:	e349      	addu	v0,v1,v0
7181295c:	d945      	sw	v0,20(s1)
7181295e:	a978      	lhu	v1,48(s1)
        for (;;)
        {
            do
            {
                loguy += width;
71812960:	9944      	lw	v0,16(s1)
71812962:	e269      	addu	v0,v1
71812964:	d944      	sw	v0,16(s1)
71812966:	9964      	lw	v1,16(s1)
            } while ((loguy <= hi) && (compare_obj((uint16 *) loguy, (uint16 *) lo, cmp_str_len) <= 0));
71812968:	9942      	lw	v0,8(s1)
7181296a:	ea63      	sltu	v0,v1
7181296c:	610b      	btnez	71812984 <.L51+0x86>
7181296e:	b34d      	lw	v1,71812aa0 <.L51+0x1a2>
71812970:	9984      	lw	a0,16(s1)
71812972:	99a1      	lw	a1,4(s1)
71812974:	b250      	lw	v0,71812ab4 <.L51+0x1b6>
71812976:	a240      	lbu	v0,0(v0)
71812978:	9b60      	lw	v1,0(v1)
7181297a:	67c2      	move	a2,v0
7181297c:	ebc0      	jalrc	v1
7181297e:	5201      	slti	v0,1
71812980:	6001      	bteqz	71812984 <.L51+0x86>
71812982:	17ed      	b	7181295e <.L51+0x60>
71812984:	a978      	lhu	v1,48(s1)

            do
            {
                higuy -= width;
71812986:	9945      	lw	v0,20(s1)
71812988:	e26b      	subu	v0,v1
7181298a:	d945      	sw	v0,20(s1)
7181298c:	9965      	lw	v1,20(s1)
            } while ((higuy > lo) && (compare_obj((uint16 *) higuy, (uint16 *) lo, cmp_str_len) >= 0));
7181298e:	9941      	lw	v0,4(s1)
71812990:	ea63      	sltu	v0,v1
71812992:	600b      	bteqz	718129aa <.L51+0xac>
71812994:	b343      	lw	v1,71812aa0 <.L51+0x1a2>
71812996:	9985      	lw	a0,20(s1)
71812998:	99a1      	lw	a1,4(s1)
7181299a:	b247      	lw	v0,71812ab4 <.L51+0x1b6>
7181299c:	a240      	lbu	v0,0(v0)
7181299e:	9b60      	lw	v1,0(v1)
718129a0:	67c2      	move	a2,v0
718129a2:	ebc0      	jalrc	v1
718129a4:	5200      	slti	v0,0
718129a6:	6101      	btnez	718129aa <.L51+0xac>
718129a8:	17ed      	b	71812984 <.L51+0x86>
718129aa:	9945      	lw	v0,20(s1)

            if (higuy < loguy)
718129ac:	9964      	lw	v1,16(s1)
718129ae:	ea63      	sltu	v0,v1
718129b0:	6001      	bteqz	718129b4 <.L51+0xb6>
718129b2:	1009      	b	718129c6 <.L51+0xc8>
            {
                break;
718129b4:	9944      	lw	v0,16(s1)
            }
            swap((uint16*) loguy, (uint16*) higuy, width);
718129b6:	9965      	lw	v1,20(s1)
718129b8:	a9d8      	lhu	a2,48(s1)
718129ba:	6782      	move	a0,v0
718129bc:	67a3      	move	a1,v1
718129be:	1803 49e2 	jal	71812788 <swap>
718129c2:	6500      	nop
718129c4:	17cc      	b	7181295e <.L51+0x60>
718129c6:	9961      	lw	v1,4(s1)
        }

        if (lo != higuy) //add by lmx
718129c8:	9945      	lw	v0,20(s1)
718129ca:	ea6e      	xor	v0,v1
718129cc:	5a01      	sltiu	v0,1
718129ce:	6108      	btnez	718129e0 <.L51+0xe2>
718129d0:	9941      	lw	v0,4(s1)
        {
            swap((uint16*) lo, (uint16*) higuy, width); // put partition element in place
718129d2:	9965      	lw	v1,20(s1)
718129d4:	a9d8      	lhu	a2,48(s1)
718129d6:	6782      	move	a0,v0
718129d8:	67a3      	move	a1,v1
718129da:	1803 49e2 	jal	71812788 <swap>
718129de:	6500      	nop
718129e0:	9965      	lw	v1,20(s1)
        }

        if ((higuy - 1 - lo) >= (hi - loguy))
718129e2:	9941      	lw	v0,4(s1)
718129e4:	e34b      	subu	v0,v1,v0
718129e6:	428f      	addiu	a0,v0,-1
718129e8:	9962      	lw	v1,8(s1)
718129ea:	9944      	lw	v0,16(s1)
718129ec:	e34b      	subu	v0,v1,v0
718129ee:	ec42      	slt	a0,v0
718129f0:	611e      	btnez	71812a2e <.L51+0x130>
718129f2:	a978      	lhu	v1,48(s1)
        {
            if ((lo + width) < higuy)
718129f4:	9941      	lw	v0,4(s1)
718129f6:	e34d      	addu	v1,v0
718129f8:	9945      	lw	v0,20(s1)
718129fa:	eb43      	sltu	v1,v0
718129fc:	6011      	bteqz	71812a20 <.L51+0x122>
718129fe:	b330      	lw	v1,71812abc <.L51+0x1be>
            {
                lostk[stkptr] = lo;
71812a00:	894d      	lh	v0,26(s1)
71812a02:	3248      	sll	v0,2
71812a04:	e26d      	addu	v1,v0,v1
71812a06:	9941      	lw	v0,4(s1)
71812a08:	db40      	sw	v0,0(v1)
71812a0a:	b32e      	lw	v1,71812ac0 <.L51+0x1c2>
                histk[stkptr] = (char*) ((uint32) higuy - width);
71812a0c:	894d      	lh	v0,26(s1)
71812a0e:	3248      	sll	v0,2
71812a10:	e271      	addu	a0,v0,v1
71812a12:	a978      	lhu	v1,48(s1)
71812a14:	9945      	lw	v0,20(s1)
71812a16:	e26b      	subu	v0,v1
71812a18:	dc40      	sw	v0,0(a0)
71812a1a:	a94d      	lhu	v0,26(s1)
                ++stkptr;
71812a1c:	4241      	addiu	v0,v0,1
71812a1e:	c94d      	sh	v0,26(s1)
71812a20:	9944      	lw	v0,16(s1)
            } //save big recursion for later,(save small-value array)

            if (loguy < hi) //more than one
71812a22:	9962      	lw	v1,8(s1)
71812a24:	ea63      	sltu	v0,v1
71812a26:	6021      	bteqz	71812a6a <.L51+0x16c>
71812a28:	9944      	lw	v0,16(s1)
            {
                lo = loguy;
71812a2a:	d941      	sw	v0,4(s1)
71812a2c:	1768      	b	718128fe <.L51>
                goto recurse;
71812a2e:	9944      	lw	v0,16(s1)
                // do small recursion
            }
        }
        else
        {
            if (loguy < hi)
71812a30:	9962      	lw	v1,8(s1)
71812a32:	ea63      	sltu	v0,v1
71812a34:	600f      	bteqz	71812a54 <.L51+0x156>
71812a36:	b322      	lw	v1,71812abc <.L51+0x1be>
            {
                lostk[stkptr] = loguy;
71812a38:	894d      	lh	v0,26(s1)
71812a3a:	3248      	sll	v0,2
71812a3c:	e26d      	addu	v1,v0,v1
71812a3e:	9944      	lw	v0,16(s1)
71812a40:	db40      	sw	v0,0(v1)
71812a42:	b320      	lw	v1,71812ac0 <.L51+0x1c2>
                histk[stkptr] = hi;
71812a44:	894d      	lh	v0,26(s1)
71812a46:	3248      	sll	v0,2
71812a48:	e26d      	addu	v1,v0,v1
71812a4a:	9942      	lw	v0,8(s1)
71812a4c:	db40      	sw	v0,0(v1)
71812a4e:	a94d      	lhu	v0,26(s1)
                ++stkptr; //save big recursion for later ,(save big-value array)
71812a50:	4241      	addiu	v0,v0,1
71812a52:	c94d      	sh	v0,26(s1)
71812a54:	a978      	lhu	v1,48(s1)
            }

            if ((lo + width) < higuy) //more than two
71812a56:	9941      	lw	v0,4(s1)
71812a58:	e34d      	addu	v1,v0
71812a5a:	9945      	lw	v0,20(s1)
71812a5c:	eb43      	sltu	v1,v0
71812a5e:	6005      	bteqz	71812a6a <.L51+0x16c>
71812a60:	a958      	lhu	v0,48(s1)
            {
                hi = (char*) ((uint32) higuy - width);
71812a62:	9965      	lw	v1,20(s1)
71812a64:	e34b      	subu	v0,v1,v0
71812a66:	d942      	sw	v0,8(s1)
71812a68:	174a      	b	718128fe <.L51>
                goto recurse;
71812a6a:	a94d      	lhu	v0,26(s1)
                // do small recursion
            }
        }
    }

    --stkptr;
71812a6c:	424f      	addiu	v0,v0,-1
71812a6e:	c94d      	sh	v0,26(s1)
71812a70:	894d      	lh	v0,26(s1)

    if (stkptr >= 0)
71812a72:	5200      	slti	v0,0
71812a74:	610d      	btnez	71812a90 <.L51+0x192>
71812a76:	b312      	lw	v1,71812abc <.L51+0x1be>
    {
        lo = lostk[stkptr];
71812a78:	894d      	lh	v0,26(s1)
71812a7a:	3248      	sll	v0,2
71812a7c:	e269      	addu	v0,v1
71812a7e:	9a40      	lw	v0,0(v0)
71812a80:	d941      	sw	v0,4(s1)
71812a82:	b310      	lw	v1,71812ac0 <.L51+0x1c2>
        hi = histk[stkptr];
71812a84:	894d      	lh	v0,26(s1)
71812a86:	3248      	sll	v0,2
71812a88:	e269      	addu	v0,v1
71812a8a:	9a40      	lw	v0,0(v0)
71812a8c:	d942      	sw	v0,8(s1)
71812a8e:	1737      	b	718128fe <.L51>
        goto recurse;
71812a90:	65b9      	move	sp,s1
        // pop subarray from stack
    }
    else
    {
        return; /* all subarrays done */
    }

}
71812a92:	6455      	restore	40,ra,s1
71812a94:	e8a0      	jrc	ra
71812a96:	0000      	addiu	s0,sp,0
71812a98:	7274      	cmpi	v0,116
71812a9a:	0000      	addiu	s0,sp,0
71812a9c:	7473      	cmpi	a0,115
71812a9e:	0000      	addiu	s0,sp,0
71812aa0:	5658      	slti	a2,88
71812aa2:	9fc1      	lw	a2,4(a3)
71812aa4:	2651      	beqz	a2,71812b48 <.L51+0x24a>
71812aa6:	7181      	cmpi	s1,129
71812aa8:	26c1      	beqz	a2,71812a2c <.L51+0x12e>
71812aaa:	7181      	cmpi	s1,129
71812aac:	640d      	restore	104
71812aae:	bfc1      	lwu	a2,4(a3)
71812ab0:	2549      	beqz	a1,71812b44 <.L51+0x246>
71812ab2:	7181      	cmpi	s1,129
71812ab4:	24ac      	beqz	a0,71812a0e <.L51+0x110>
71812ab6:	bfc1      	lwu	a2,4(a3)
71812ab8:	5610      	slti	a2,16
71812aba:	9fc1      	lw	a2,4(a3)
71812abc:	231c      	beqz	v1,71812af6 <.L51+0x1f8>
71812abe:	bfc1      	lwu	a2,4(a3)
71812ac0:	23e4      	beqz	v1,71812a8a <.L51+0x18c>
71812ac2:	bfc1      	lwu	a2,4(a3)
	...
Disassembly of section BANK_FRONT_ENHANCED_COMM_1_0:

7801b200 <get_current_disk>:
7801b200:	6491      	save	8,s1
7801b202:	673d      	move	s1,sp
7801b204:	b204      	lw	v0,7801b214 <BANK_FRONT_ENHANCED_1_ADDR_BASE+0x14>
7801b206:	a243      	lbu	v0,3(v0)
7801b208:	651a      	move	t8,v0
7801b20a:	6758      	move	v0,t8
7801b20c:	65b9      	move	sp,s1
7801b20e:	6411      	restore	8,s1
7801b210:	e8a0      	jrc	ra
7801b212:	0000      	addiu	s0,sp,0
7801b214:	5c08      	sltiu	a0,8
7801b216:	9fc1      	lw	a2,4(a3)

7801b218 <select_dir_or_dirlist>:
7801b218:	64d3      	save	24,ra,s1
7801b21a:	0104      	addiu	s1,sp,16
7801b21c:	6744      	move	v0,a0
7801b21e:	c148      	sb	v0,8(s1)
7801b220:	0a12      	la	v0,7801b268 <select_dir_or_dirlist+0x50>
7801b222:	a168      	lbu	v1,8(s1)
7801b224:	6782      	move	a0,v0
7801b226:	67a3      	move	a1,v1
7801b228:	6e02      	li	a2,2
7801b22a:	6f4b      	li	a3,75
7801b22c:	b211      	lw	v0,7801b270 <select_dir_or_dirlist+0x58>
7801b22e:	eac0      	jalrc	v0
7801b230:	b211      	lw	v0,7801b270 <select_dir_or_dirlist+0x58>
7801b232:	9a60      	lw	v1,0(v0)
7801b234:	6a01      	li	v0,1
7801b236:	ea4b      	neg	v0
7801b238:	ea6e      	xor	v0,v1
7801b23a:	5a01      	sltiu	v0,1
7801b23c:	6112      	btnez	7801b262 <select_dir_or_dirlist+0x4a>
7801b23e:	a148      	lbu	v0,8(s1)
7801b240:	720c      	cmpi	v0,12
7801b242:	6758      	move	v0,t8
7801b244:	5a01      	sltiu	v0,1
7801b246:	6007      	bteqz	7801b256 <select_dir_or_dirlist+0x3e>
7801b248:	b30c      	lw	v1,7801b278 <select_dir_or_dirlist+0x60>
7801b24a:	6a0c      	li	v0,12
7801b24c:	c340      	sb	v0,0(v1)
7801b24e:	b30c      	lw	v1,7801b27c <select_dir_or_dirlist+0x64>
7801b250:	6a03      	li	v0,3
7801b252:	c340      	sb	v0,0(v1)
7801b254:	1006      	b	7801b262 <select_dir_or_dirlist+0x4a>
7801b256:	b309      	lw	v1,7801b278 <select_dir_or_dirlist+0x60>
7801b258:	6a00      	li	v0,0
7801b25a:	c340      	sb	v0,0(v1)
7801b25c:	b308      	lw	v1,7801b27c <select_dir_or_dirlist+0x64>
7801b25e:	6a00      	li	v0,0
7801b260:	c340      	sb	v0,0(v1)
7801b262:	65b9      	move	sp,s1
7801b264:	6451      	restore	8,ra,s1
7801b266:	e8a0      	jrc	ra
7801b268:	6573      	move	s3,v1
7801b26a:	656c      	move	t3,a0
7801b26c:	7463      	cmpi	a0,99
7801b26e:	003a      	addiu	s0,sp,232
7801b270:	640d      	restore	104
7801b272:	bfc1      	lwu	a2,4(a3)
7801b274:	5c04      	sltiu	a0,4
7801b276:	9fc1      	lw	a2,4(a3)
7801b278:	5c08      	sltiu	a0,8
7801b27a:	9fc1      	lw	a2,4(a3)
7801b27c:	5bed      	sltiu	v1,237
7801b27e:	9fc1      	lw	a2,4(a3)

7801b280 <get_fileindex>:
7801b280:	6491      	save	8,s1
7801b282:	673d      	move	s1,sp
7801b284:	b204      	lw	v0,7801b294 <get_fileindex+0x14>
7801b286:	aa40      	lhu	v0,0(v0)
7801b288:	651a      	move	t8,v0
7801b28a:	6758      	move	v0,t8
7801b28c:	65b9      	move	sp,s1
7801b28e:	6411      	restore	8,s1
7801b290:	e8a0      	jrc	ra
7801b292:	0000      	addiu	s0,sp,0
7801b294:	5bf6      	sltiu	v1,246
7801b296:	9fc1      	lw	a2,4(a3)

7801b298 <set_fileindex>:
7801b298:	6491      	save	8,s1
7801b29a:	673d      	move	s1,sp
7801b29c:	6744      	move	v0,a0
7801b29e:	c944      	sh	v0,8(s1)
7801b2a0:	b303      	lw	v1,7801b2ac <set_fileindex+0x14>
7801b2a2:	a944      	lhu	v0,8(s1)
7801b2a4:	cb40      	sh	v0,0(v1)
7801b2a6:	65b9      	move	sp,s1
7801b2a8:	6411      	restore	8,s1
7801b2aa:	e8a0      	jrc	ra
7801b2ac:	5bf6      	sltiu	v1,246
7801b2ae:	9fc1      	lw	a2,4(a3)

7801b2b0 <set_dirlist_file_index_tbl>:
7801b2b0:	6491      	save	8,s1
7801b2b2:	673d      	move	s1,sp
7801b2b4:	6744      	move	v0,a0
7801b2b6:	6765      	move	v1,a1
7801b2b8:	c148      	sb	v0,8(s1)
7801b2ba:	c966      	sh	v1,12(s1)
7801b2bc:	b305      	lw	v1,7801b2d0 <set_dirlist_file_index_tbl+0x20>
7801b2be:	a148      	lbu	v0,8(s1)
7801b2c0:	3244      	sll	v0,1
7801b2c2:	e26d      	addu	v1,v0,v1
7801b2c4:	a946      	lhu	v0,12(s1)
7801b2c6:	cb40      	sh	v0,0(v1)
7801b2c8:	65b9      	move	sp,s1
7801b2ca:	6411      	restore	8,s1
7801b2cc:	e8a0      	jrc	ra
7801b2ce:	0000      	addiu	s0,sp,0
7801b2d0:	5c60      	sltiu	a0,96
7801b2d2:	9fc1      	lw	a2,4(a3)

7801b2d4 <get_dirlist_file_index_tbl>:
7801b2d4:	6491      	save	8,s1
7801b2d6:	673d      	move	s1,sp
7801b2d8:	6744      	move	v0,a0
7801b2da:	c148      	sb	v0,8(s1)
7801b2dc:	b305      	lw	v1,7801b2f0 <get_dirlist_file_index_tbl+0x1c>
7801b2de:	a148      	lbu	v0,8(s1)
7801b2e0:	3244      	sll	v0,1
7801b2e2:	e269      	addu	v0,v1
7801b2e4:	aa40      	lhu	v0,0(v0)
7801b2e6:	651a      	move	t8,v0
7801b2e8:	6758      	move	v0,t8
7801b2ea:	65b9      	move	sp,s1
7801b2ec:	6411      	restore	8,s1
7801b2ee:	e8a0      	jrc	ra
7801b2f0:	5c60      	sltiu	a0,96
7801b2f2:	9fc1      	lw	a2,4(a3)

7801b2f4 <fsel_init>:
7801b2f4:	64f7      	save	56,ra,s0-s1
7801b2f6:	0104      	addiu	s1,sp,16
7801b2f8:	d98a      	sw	a0,40(s1)
7801b2fa:	6745      	move	v0,a1
7801b2fc:	f020 c14c 	sb	v0,44(s1)
7801b300:	f020 a14c 	lbu	v0,44(s1)
7801b304:	c148      	sb	v0,8(s1)
7801b306:	b38c      	lw	v1,7801b534 <fsel_init+0x240>
7801b308:	6a00      	li	v0,0
7801b30a:	c340      	sb	v0,0(v1)
7801b30c:	b38b      	lw	v1,7801b538 <fsel_init+0x244>
7801b30e:	6a01      	li	v0,1
7801b310:	ea4b      	neg	v0
7801b312:	db40      	sw	v0,0(v1)
7801b314:	994a      	lw	v0,40(s1)
7801b316:	2a04      	bnez	v0,7801b320 <fsel_init+0x2c>
7801b318:	6a01      	li	v0,1
7801b31a:	ea4b      	neg	v0
7801b31c:	d943      	sw	v0,12(s1)
7801b31e:	10ff      	b	7801b51e <fsel_init+0x22a>
7801b320:	0b82      	la	v1,7801b528 <fsel_init+0x234>
7801b322:	994a      	lw	v0,40(s1)
7801b324:	a240      	lbu	v0,0(v0)
7801b326:	6783      	move	a0,v1
7801b328:	67a2      	move	a1,v0
7801b32a:	6e02      	li	a2,2
7801b32c:	6f4b      	li	a3,75
7801b32e:	b284      	lw	v0,7801b53c <fsel_init+0x248>
7801b330:	eac0      	jalrc	v0
7801b332:	b284      	lw	v0,7801b540 <fsel_init+0x24c>
7801b334:	996a      	lw	v1,40(s1)
7801b336:	6782      	move	a0,v0
7801b338:	67a3      	move	a1,v1
7801b33a:	6e08      	li	a2,8
7801b33c:	6f00      	li	a3,0
7801b33e:	b282      	lw	v0,7801b544 <fsel_init+0x250>
7801b340:	eac0      	jalrc	v0
7801b342:	b480      	lw	a0,7801b540 <fsel_init+0x24c>
7801b344:	b27f      	lw	v0,7801b540 <fsel_init+0x24c>
7801b346:	a241      	lbu	v0,1(v0)
7801b348:	6762      	move	v1,v0
7801b34a:	6a0f      	li	v0,15
7801b34c:	ea6c      	and	v0,v1
7801b34e:	c441      	sb	v0,1(a0)
7801b350:	994a      	lw	v0,40(s1)
7801b352:	a261      	lbu	v1,1(v0)
7801b354:	6af0      	li	v0,240
7801b356:	ea6c      	and	v0,v1
7801b358:	2204      	beqz	v0,7801b362 <fsel_init+0x6e>
7801b35a:	b37c      	lw	v1,7801b548 <fsel_init+0x254>
7801b35c:	6a01      	li	v0,1
7801b35e:	c340      	sb	v0,0(v1)
7801b360:	1003      	b	7801b368 <fsel_init+0x74>
7801b362:	b37a      	lw	v1,7801b548 <fsel_init+0x254>
7801b364:	6a00      	li	v0,0
7801b366:	c340      	sb	v0,0(v1)
7801b368:	994a      	lw	v0,40(s1)
7801b36a:	a243      	lbu	v0,3(v0)
7801b36c:	5a08      	sltiu	v0,8
7801b36e:	6006      	bteqz	7801b37c <fsel_init+0x88>
7801b370:	b277      	lw	v0,7801b54c <fsel_init+0x258>
7801b372:	6b00      	li	v1,0
7801b374:	c260      	sb	v1,0(v0)
7801b376:	b277      	lw	v0,7801b550 <fsel_init+0x25c>
7801b378:	d941      	sw	v0,4(s1)
7801b37a:	103b      	b	7801b3f2 <fsel_init+0xfe>
7801b37c:	994a      	lw	v0,40(s1)
7801b37e:	a243      	lbu	v0,3(v0)
7801b380:	7210      	cmpi	v0,16
7801b382:	6758      	move	v0,t8
7801b384:	5a01      	sltiu	v0,1
7801b386:	6107      	btnez	7801b396 <fsel_init+0xa2>
7801b388:	994a      	lw	v0,40(s1)
7801b38a:	a243      	lbu	v0,3(v0)
7801b38c:	7280      	cmpi	v0,128
7801b38e:	6758      	move	v0,t8
7801b390:	5a01      	sltiu	v0,1
7801b392:	6101      	btnez	7801b396 <fsel_init+0xa2>
7801b394:	101b      	b	7801b3cc <fsel_init+0xd8>
7801b396:	b36e      	lw	v1,7801b54c <fsel_init+0x258>
7801b398:	6a01      	li	v0,1
7801b39a:	c340      	sb	v0,0(v1)
7801b39c:	f020 a16c 	lbu	v1,44(s1)
7801b3a0:	6a01      	li	v0,1
7801b3a2:	eb4c      	and	v1,v0
7801b3a4:	6743      	move	v0,v1
7801b3a6:	3244      	sll	v0,1
7801b3a8:	e269      	addu	v0,v1
7801b3aa:	3248      	sll	v0,2
7801b3ac:	e26b      	subu	v0,v1
7801b3ae:	b36a      	lw	v1,7801b554 <fsel_init+0x260>
7801b3b0:	e269      	addu	v0,v1
7801b3b2:	d941      	sw	v0,4(s1)
7801b3b4:	994a      	lw	v0,40(s1)
7801b3b6:	a243      	lbu	v0,3(v0)
7801b3b8:	7210      	cmpi	v0,16
7801b3ba:	6758      	move	v0,t8
7801b3bc:	5a01      	sltiu	v0,1
7801b3be:	6003      	bteqz	7801b3c6 <fsel_init+0xd2>
7801b3c0:	6a00      	li	v0,0
7801b3c2:	c148      	sb	v0,8(s1)
7801b3c4:	1016      	b	7801b3f2 <fsel_init+0xfe>
7801b3c6:	6a01      	li	v0,1
7801b3c8:	c148      	sb	v0,8(s1)
7801b3ca:	1013      	b	7801b3f2 <fsel_init+0xfe>
7801b3cc:	994a      	lw	v0,40(s1)
7801b3ce:	a243      	lbu	v0,3(v0)
7801b3d0:	7220      	cmpi	v0,32
7801b3d2:	6758      	move	v0,t8
7801b3d4:	5a01      	sltiu	v0,1
7801b3d6:	6006      	bteqz	7801b3e4 <fsel_init+0xf0>
7801b3d8:	b25d      	lw	v0,7801b54c <fsel_init+0x258>
7801b3da:	6b02      	li	v1,2
7801b3dc:	c260      	sb	v1,0(v0)
7801b3de:	b25f      	lw	v0,7801b558 <fsel_init+0x264>
7801b3e0:	d941      	sw	v0,4(s1)
7801b3e2:	1007      	b	7801b3f2 <fsel_init+0xfe>
7801b3e4:	b354      	lw	v1,7801b534 <fsel_init+0x240>
7801b3e6:	6a07      	li	v0,7
7801b3e8:	c340      	sb	v0,0(v1)
7801b3ea:	6a01      	li	v0,1
7801b3ec:	ea4b      	neg	v0
7801b3ee:	d943      	sw	v0,12(s1)
7801b3f0:	1096      	b	7801b51e <fsel_init+0x22a>
7801b3f2:	b257      	lw	v0,7801b54c <fsel_init+0x258>
7801b3f4:	a240      	lbu	v0,0(v0)
7801b3f6:	4167      	addiu	v1,s1,7
7801b3f8:	4361      	addiu	v1,v1,1
7801b3fa:	99c1      	lw	a2,4(s1)
7801b3fc:	6782      	move	a0,v0
7801b3fe:	67a3      	move	a1,v1
7801b400:	6f0a      	li	a3,10
7801b402:	b24f      	lw	v0,7801b53c <fsel_init+0x248>
7801b404:	eac0      	jalrc	v0
7801b406:	651a      	move	t8,v0
7801b408:	6007      	bteqz	7801b418 <fsel_init+0x124>
7801b40a:	b34b      	lw	v1,7801b534 <fsel_init+0x240>
7801b40c:	6a0b      	li	v0,11
7801b40e:	c340      	sb	v0,0(v1)
7801b410:	6a01      	li	v0,1
7801b412:	ea4b      	neg	v0
7801b414:	d943      	sw	v0,12(s1)
7801b416:	1083      	b	7801b51e <fsel_init+0x22a>
7801b418:	b048      	lw	s0,7801b538 <fsel_init+0x244>
7801b41a:	b24d      	lw	v0,7801b54c <fsel_init+0x258>
7801b41c:	a260      	lbu	v1,0(v0)
7801b41e:	b249      	lw	v0,7801b540 <fsel_init+0x24c>
7801b420:	a243      	lbu	v0,3(v0)
7801b422:	6783      	move	a0,v1
7801b424:	67a2      	move	a1,v0
7801b426:	6e00      	li	a2,0
7801b428:	6f29      	li	a3,41
7801b42a:	b245      	lw	v0,7801b53c <fsel_init+0x248>
7801b42c:	eac0      	jalrc	v0
7801b42e:	ea91      	seb	v0
7801b430:	d840      	sw	v0,0(s0)
7801b432:	b242      	lw	v0,7801b538 <fsel_init+0x244>
7801b434:	9a60      	lw	v1,0(v0)
7801b436:	6a01      	li	v0,1
7801b438:	ea4b      	neg	v0
7801b43a:	ea6e      	xor	v0,v1
7801b43c:	5a01      	sltiu	v0,1
7801b43e:	600f      	bteqz	7801b45e <fsel_init+0x16a>
7801b440:	b243      	lw	v0,7801b54c <fsel_init+0x258>
7801b442:	a240      	lbu	v0,0(v0)
7801b444:	6782      	move	a0,v0
7801b446:	6d00      	li	a1,0
7801b448:	6e00      	li	a2,0
7801b44a:	6f0b      	li	a3,11
7801b44c:	b23c      	lw	v0,7801b53c <fsel_init+0x248>
7801b44e:	eac0      	jalrc	v0
7801b450:	b339      	lw	v1,7801b530 <fsel_init+0x23c>
7801b452:	6a0c      	li	v0,12
7801b454:	c340      	sb	v0,0(v1)
7801b456:	6a01      	li	v0,1
7801b458:	ea4b      	neg	v0
7801b45a:	d943      	sw	v0,12(s1)
7801b45c:	1060      	b	7801b51e <fsel_init+0x22a>
7801b45e:	b340      	lw	v1,7801b55c <fsel_init+0x268>
7801b460:	6a00      	li	v0,0
7801b462:	db40      	sw	v0,0(v1)
7801b464:	1810 6d5d 	jal	7801b574 <init_sysdata>
7801b468:	6500      	nop
7801b46a:	b33e      	lw	v1,7801b560 <fsel_init+0x26c>
7801b46c:	6a01      	li	v0,1
7801b46e:	ea4b      	neg	v0
7801b470:	cb40      	sh	v0,0(v1)
7801b472:	994a      	lw	v0,40(s1)
7801b474:	a240      	lbu	v0,0(v0)
7801b476:	424d      	addiu	v0,v0,-3
7801b478:	d944      	sw	v0,16(s1)
7801b47a:	9944      	lw	v0,16(s1)
7801b47c:	5a0a      	sltiu	v0,10
7801b47e:	602e      	bteqz	7801b4dc <fsel_init+0x1e8>
7801b480:	9944      	lw	v0,16(s1)
7801b482:	3344      	sll	v1,v0,1
7801b484:	0a04      	la	v0,7801b494 <fsel_init+0x1a0>
7801b486:	e349      	addu	v0,v1,v0
7801b488:	aa40      	lhu	v0,0(v0)
7801b48a:	6762      	move	v1,v0
7801b48c:	ebb1      	seh	v1
7801b48e:	b239      	lw	v0,7801b570 <fsel_init+0x27c>
7801b490:	e349      	addu	v0,v1,v0
7801b492:	ea80      	jrc	v0
7801b494:	0015      	addiu	s0,sp,84
7801b496:	0015      	addiu	s0,sp,84
7801b498:	0015      	addiu	s0,sp,84
7801b49a:	0015      	addiu	s0,sp,84
7801b49c:	0015      	addiu	s0,sp,84
7801b49e:	0015      	addiu	s0,sp,84
7801b4a0:	0029      	addiu	s0,sp,164
7801b4a2:	0029      	addiu	s0,sp,164
7801b4a4:	0029      	addiu	s0,sp,164
7801b4a6:	003d      	addiu	s0,sp,244
7801b4a8:	b32f      	lw	v1,7801b564 <fsel_init+0x270>
7801b4aa:	6a01      	li	v0,1
7801b4ac:	c340      	sb	v0,0(v1)
7801b4ae:	994a      	lw	v0,40(s1)
7801b4b0:	a240      	lbu	v0,0(v0)
7801b4b2:	6782      	move	a0,v0
7801b4b4:	b22d      	lw	v0,7801b568 <fsel_init+0x274>
7801b4b6:	eac0      	jalrc	v0
7801b4b8:	c140      	sb	v0,0(s1)
7801b4ba:	1015      	b	7801b4e6 <fsel_init+0x1f2>
7801b4bc:	b32a      	lw	v1,7801b564 <fsel_init+0x270>
7801b4be:	6a02      	li	v0,2
7801b4c0:	c340      	sb	v0,0(v1)
7801b4c2:	994a      	lw	v0,40(s1)
7801b4c4:	a240      	lbu	v0,0(v0)
7801b4c6:	6782      	move	a0,v0
7801b4c8:	b229      	lw	v0,7801b56c <fsel_init+0x278>
7801b4ca:	eac0      	jalrc	v0
7801b4cc:	c140      	sb	v0,0(s1)
7801b4ce:	100b      	b	7801b4e6 <fsel_init+0x1f2>
7801b4d0:	b225      	lw	v0,7801b564 <fsel_init+0x270>
7801b4d2:	6b03      	li	v1,3
7801b4d4:	c260      	sb	v1,0(v0)
7801b4d6:	6a01      	li	v0,1
7801b4d8:	c140      	sb	v0,0(s1)
7801b4da:	1005      	b	7801b4e6 <fsel_init+0x1f2>
7801b4dc:	b222      	lw	v0,7801b564 <fsel_init+0x270>
7801b4de:	6b00      	li	v1,0
7801b4e0:	c260      	sb	v1,0(v0)
7801b4e2:	6a01      	li	v0,1
7801b4e4:	c140      	sb	v0,0(s1)
7801b4e6:	a140      	lbu	v0,0(s1)
7801b4e8:	2a17      	bnez	v0,7801b518 <fsel_init+0x224>
7801b4ea:	b214      	lw	v0,7801b538 <fsel_init+0x244>
7801b4ec:	9a40      	lw	v0,0(v0)
7801b4ee:	6782      	move	a0,v0
7801b4f0:	6d00      	li	a1,0
7801b4f2:	6e00      	li	a2,0
7801b4f4:	6f2a      	li	a3,42
7801b4f6:	b212      	lw	v0,7801b53c <fsel_init+0x248>
7801b4f8:	eac0      	jalrc	v0
7801b4fa:	b215      	lw	v0,7801b54c <fsel_init+0x258>
7801b4fc:	a240      	lbu	v0,0(v0)
7801b4fe:	6782      	move	a0,v0
7801b500:	6d00      	li	a1,0
7801b502:	6e00      	li	a2,0
7801b504:	6f0b      	li	a3,11
7801b506:	b20e      	lw	v0,7801b53c <fsel_init+0x248>
7801b508:	eac0      	jalrc	v0
7801b50a:	b30b      	lw	v1,7801b534 <fsel_init+0x240>
7801b50c:	6a0d      	li	v0,13
7801b50e:	c340      	sb	v0,0(v1)
7801b510:	b30a      	lw	v1,7801b538 <fsel_init+0x244>
7801b512:	6a01      	li	v0,1
7801b514:	ea4b      	neg	v0
7801b516:	db40      	sw	v0,0(v1)
7801b518:	b208      	lw	v0,7801b538 <fsel_init+0x244>
7801b51a:	9a40      	lw	v0,0(v0)
7801b51c:	d943      	sw	v0,12(s1)
7801b51e:	9943      	lw	v0,12(s1)
7801b520:	65b9      	move	sp,s1
7801b522:	6475      	restore	40,ra,s0-s1
7801b524:	e8a0      	jrc	ra
7801b526:	0000      	addiu	s0,sp,0
7801b528:	7366      	cmpi	v1,102
7801b52a:	6c65      	li	a0,101
7801b52c:	695f      	li	s1,95
7801b52e:	696e      	li	s1,110
7801b530:	3a74      	ld	v1,160(v0)
7801b532:	0000      	addiu	s0,sp,0
7801b534:	5bee      	sltiu	v1,238
7801b536:	9fc1      	lw	a2,4(a3)
7801b538:	5c04      	sltiu	a0,4
7801b53a:	9fc1      	lw	a2,4(a3)
7801b53c:	640d      	restore	104
7801b53e:	bfc1      	lwu	a2,4(a3)
7801b540:	5c08      	sltiu	a0,8
7801b542:	9fc1      	lw	a2,4(a3)
7801b544:	6409      	restore	72
7801b546:	bfc1      	lwu	a2,4(a3)
7801b548:	5bf0      	sltiu	v1,240
7801b54a:	9fc1      	lw	a2,4(a3)
7801b54c:	b728      	lw	a3,7801b5ec <fsel_exit+0x1c>
7801b54e:	7801      	sd	s0,8(s0)
7801b550:	b6f8      	lw	a2,7801b930 <temp_module_buf+0x204>
7801b552:	7801      	sd	s0,8(s0)
7801b554:	b704      	lw	a3,7801b564 <fsel_init+0x270>
7801b556:	7801      	sd	s0,8(s0)
7801b558:	b71c      	lw	a3,7801b5c8 <init_sysdata+0x54>
7801b55a:	7801      	sd	s0,8(s0)
7801b55c:	5c00      	sltiu	a0,0
7801b55e:	9fc1      	lw	a2,4(a3)
7801b560:	5c50      	sltiu	a0,80
7801b562:	9fc1      	lw	a2,4(a3)
7801b564:	5bed      	sltiu	v1,237
7801b566:	9fc1      	lw	a2,4(a3)
7801b568:	2951      	bnez	s1,7801b60c <fsel_exit+0x3c>
7801b56a:	7101      	cmpi	s1,1
7801b56c:	25f9      	beqz	a1,7801b560 <fsel_init+0x26c>
7801b56e:	7101      	cmpi	s1,1
7801b570:	b494      	lw	a0,7801b7c0 <temp_module_buf+0x94>
7801b572:	7801      	sd	s0,8(s0)

7801b574 <init_sysdata>:
7801b574:	64d4      	save	32,ra,s1
7801b576:	0106      	addiu	s1,sp,24
7801b578:	b30f      	lw	v1,7801b5b4 <init_sysdata+0x40>
7801b57a:	6a00      	li	v0,0
7801b57c:	c340      	sb	v0,0(v1)
7801b57e:	b30f      	lw	v1,7801b5b8 <init_sysdata+0x44>
7801b580:	6a00      	li	v0,0
7801b582:	cb40      	sh	v0,0(v1)
7801b584:	b30e      	lw	v1,7801b5bc <init_sysdata+0x48>
7801b586:	6a00      	li	v0,0
7801b588:	cb40      	sh	v0,0(v1)
7801b58a:	b30e      	lw	v1,7801b5c0 <init_sysdata+0x4c>
7801b58c:	6a01      	li	v0,1
7801b58e:	ea4b      	neg	v0
7801b590:	cb40      	sh	v0,0(v1)
7801b592:	b30d      	lw	v1,7801b5c4 <init_sysdata+0x50>
7801b594:	6a00      	li	v0,0
7801b596:	c340      	sb	v0,0(v1)
7801b598:	b20c      	lw	v0,7801b5c8 <init_sysdata+0x54>
7801b59a:	9a60      	lw	v1,0(v0)
7801b59c:	6a00      	li	v0,0
7801b59e:	d204      	sw	v0,16(sp)
7801b5a0:	6783      	move	a0,v1
7801b5a2:	6d3a      	li	a1,58
7801b5a4:	6e00      	li	a2,0
7801b5a6:	6f00      	li	a3,0
7801b5a8:	b209      	lw	v0,7801b5cc <init_sysdata+0x58>
7801b5aa:	eac0      	jalrc	v0
7801b5ac:	65b9      	move	sp,s1
7801b5ae:	6451      	restore	8,ra,s1
7801b5b0:	e8a0      	jrc	ra
7801b5b2:	0000      	addiu	s0,sp,0
7801b5b4:	5bef      	sltiu	v1,239
7801b5b6:	9fc1      	lw	a2,4(a3)
7801b5b8:	5bfc      	sltiu	v1,252
7801b5ba:	9fc1      	lw	a2,4(a3)
7801b5bc:	5bf2      	sltiu	v1,242
7801b5be:	9fc1      	lw	a2,4(a3)
7801b5c0:	5c10      	sltiu	a0,16
7801b5c2:	9fc1      	lw	a2,4(a3)
7801b5c4:	5c12      	sltiu	a0,18
7801b5c6:	9fc1      	lw	a2,4(a3)
7801b5c8:	5c04      	sltiu	a0,4
7801b5ca:	9fc1      	lw	a2,4(a3)
7801b5cc:	6411      	restore	8,s1
7801b5ce:	bfc1      	lwu	a2,4(a3)

7801b5d0 <fsel_exit>:
7801b5d0:	64d5      	save	40,ra,s1
7801b5d2:	0106      	addiu	s1,sp,24
7801b5d4:	6a00      	li	v0,0
7801b5d6:	d940      	sw	v0,0(s1)
7801b5d8:	b33b      	lw	v1,7801b6c4 <fsel_exit+0xf4>
7801b5da:	6a00      	li	v0,0
7801b5dc:	c340      	sb	v0,0(v1)
7801b5de:	b23b      	lw	v0,7801b6c8 <fsel_exit+0xf8>
7801b5e0:	9a40      	lw	v0,0(v0)
7801b5e2:	220e      	beqz	v0,7801b600 <fsel_exit+0x30>
7801b5e4:	b23a      	lw	v0,7801b6cc <fsel_exit+0xfc>
7801b5e6:	9a60      	lw	v1,0(v0)
7801b5e8:	b238      	lw	v0,7801b6c8 <fsel_exit+0xf8>
7801b5ea:	9aa0      	lw	a1,0(v0)
7801b5ec:	6a07      	li	v0,7
7801b5ee:	d204      	sw	v0,16(sp)
7801b5f0:	6783      	move	a0,v1
7801b5f2:	6e00      	li	a2,0
7801b5f4:	6f00      	li	a3,0
7801b5f6:	b237      	lw	v0,7801b6d0 <fsel_exit+0x100>
7801b5f8:	eac0      	jalrc	v0
7801b5fa:	b334      	lw	v1,7801b6c8 <fsel_exit+0xf8>
7801b5fc:	6a00      	li	v0,0
7801b5fe:	db40      	sw	v0,0(v1)
7801b600:	b233      	lw	v0,7801b6cc <fsel_exit+0xfc>
7801b602:	9a60      	lw	v1,0(v0)
7801b604:	6a01      	li	v0,1
7801b606:	ea4b      	neg	v0
7801b608:	ea6e      	xor	v0,v1
7801b60a:	5a01      	sltiu	v0,1
7801b60c:	610e      	btnez	7801b62a <fsel_exit+0x5a>
7801b60e:	b230      	lw	v0,7801b6cc <fsel_exit+0xfc>
7801b610:	9a40      	lw	v0,0(v0)
7801b612:	6782      	move	a0,v0
7801b614:	6d00      	li	a1,0
7801b616:	6e00      	li	a2,0
7801b618:	6f2a      	li	a3,42
7801b61a:	b22f      	lw	v0,7801b6d4 <fsel_exit+0x104>
7801b61c:	eac0      	jalrc	v0
7801b61e:	d940      	sw	v0,0(s1)
7801b620:	b32b      	lw	v1,7801b6cc <fsel_exit+0xfc>
7801b622:	6a01      	li	v0,1
7801b624:	ea4b      	neg	v0
7801b626:	db40      	sw	v0,0(v1)
7801b628:	1003      	b	7801b630 <fsel_exit+0x60>
7801b62a:	6a01      	li	v0,1
7801b62c:	d941      	sw	v0,4(s1)
7801b62e:	1046      	b	7801b6bc <fsel_exit+0xec>
7801b630:	9940      	lw	v0,0(s1)
7801b632:	5200      	slti	v0,0
7801b634:	6006      	bteqz	7801b642 <fsel_exit+0x72>
7801b636:	b324      	lw	v1,7801b6c4 <fsel_exit+0xf4>
7801b638:	6a0c      	li	v0,12
7801b63a:	c340      	sb	v0,0(v1)
7801b63c:	6a00      	li	v0,0
7801b63e:	d941      	sw	v0,4(s1)
7801b640:	103d      	b	7801b6bc <fsel_exit+0xec>
7801b642:	b226      	lw	v0,7801b6d8 <fsel_exit+0x108>
7801b644:	a243      	lbu	v0,3(v0)
7801b646:	5a08      	sltiu	v0,8
7801b648:	6004      	bteqz	7801b652 <fsel_exit+0x82>
7801b64a:	b325      	lw	v1,7801b6dc <fsel_exit+0x10c>
7801b64c:	6a00      	li	v0,0
7801b64e:	c340      	sb	v0,0(v1)
7801b650:	1021      	b	7801b694 <fsel_exit+0xc4>
7801b652:	b222      	lw	v0,7801b6d8 <fsel_exit+0x108>
7801b654:	a243      	lbu	v0,3(v0)
7801b656:	7210      	cmpi	v0,16
7801b658:	6758      	move	v0,t8
7801b65a:	5a01      	sltiu	v0,1
7801b65c:	6107      	btnez	7801b66c <fsel_exit+0x9c>
7801b65e:	b21f      	lw	v0,7801b6d8 <fsel_exit+0x108>
7801b660:	a243      	lbu	v0,3(v0)
7801b662:	7280      	cmpi	v0,128
7801b664:	6758      	move	v0,t8
7801b666:	5a01      	sltiu	v0,1
7801b668:	6101      	btnez	7801b66c <fsel_exit+0x9c>
7801b66a:	1004      	b	7801b674 <fsel_exit+0xa4>
7801b66c:	b31c      	lw	v1,7801b6dc <fsel_exit+0x10c>
7801b66e:	6a01      	li	v0,1
7801b670:	c340      	sb	v0,0(v1)
7801b672:	1010      	b	7801b694 <fsel_exit+0xc4>
7801b674:	b219      	lw	v0,7801b6d8 <fsel_exit+0x108>
7801b676:	a243      	lbu	v0,3(v0)
7801b678:	7220      	cmpi	v0,32
7801b67a:	6758      	move	v0,t8
7801b67c:	5a01      	sltiu	v0,1
7801b67e:	6004      	bteqz	7801b688 <fsel_exit+0xb8>
7801b680:	b317      	lw	v1,7801b6dc <fsel_exit+0x10c>
7801b682:	6a02      	li	v0,2
7801b684:	c340      	sb	v0,0(v1)
7801b686:	1006      	b	7801b694 <fsel_exit+0xc4>
7801b688:	b30f      	lw	v1,7801b6c4 <fsel_exit+0xf4>
7801b68a:	6a07      	li	v0,7
7801b68c:	c340      	sb	v0,0(v1)
7801b68e:	6aff      	li	v0,255
7801b690:	d941      	sw	v0,4(s1)
7801b692:	1014      	b	7801b6bc <fsel_exit+0xec>
7801b694:	b212      	lw	v0,7801b6dc <fsel_exit+0x10c>
7801b696:	a240      	lbu	v0,0(v0)
7801b698:	6782      	move	a0,v0
7801b69a:	6d00      	li	a1,0
7801b69c:	6e00      	li	a2,0
7801b69e:	6f0b      	li	a3,11
7801b6a0:	b20d      	lw	v0,7801b6d4 <fsel_exit+0x104>
7801b6a2:	eac0      	jalrc	v0
7801b6a4:	d940      	sw	v0,0(s1)
7801b6a6:	9940      	lw	v0,0(s1)
7801b6a8:	5200      	slti	v0,0
7801b6aa:	6006      	bteqz	7801b6b8 <fsel_exit+0xe8>
7801b6ac:	b306      	lw	v1,7801b6c4 <fsel_exit+0xf4>
7801b6ae:	6a0b      	li	v0,11
7801b6b0:	c340      	sb	v0,0(v1)
7801b6b2:	6a00      	li	v0,0
7801b6b4:	d941      	sw	v0,4(s1)
7801b6b6:	1002      	b	7801b6bc <fsel_exit+0xec>
7801b6b8:	6a01      	li	v0,1
7801b6ba:	d941      	sw	v0,4(s1)
7801b6bc:	9941      	lw	v0,4(s1)
7801b6be:	65b9      	move	sp,s1
7801b6c0:	6452      	restore	16,ra,s1
7801b6c2:	e8a0      	jrc	ra
7801b6c4:	5bee      	sltiu	v1,238
7801b6c6:	9fc1      	lw	a2,4(a3)
7801b6c8:	5c00      	sltiu	a0,0
7801b6ca:	9fc1      	lw	a2,4(a3)
7801b6cc:	5c04      	sltiu	a0,4
7801b6ce:	9fc1      	lw	a2,4(a3)
7801b6d0:	6411      	restore	8,s1
7801b6d2:	bfc1      	lwu	a2,4(a3)
7801b6d4:	640d      	restore	104
7801b6d6:	bfc1      	lwu	a2,4(a3)
7801b6d8:	5c08      	sltiu	a0,8
7801b6da:	9fc1      	lw	a2,4(a3)
7801b6dc:	b728      	lw	a3,7801b77c <temp_module_buf+0x50>
7801b6de:	7801      	sd	s0,8(s0)

7801b6e0 <fsel_get_error>:
7801b6e0:	6491      	save	8,s1
7801b6e2:	673d      	move	s1,sp
7801b6e4:	b204      	lw	v0,7801b6f4 <fsel_get_error+0x14>
7801b6e6:	a240      	lbu	v0,0(v0)
7801b6e8:	651a      	move	t8,v0
7801b6ea:	6758      	move	v0,t8
7801b6ec:	65b9      	move	sp,s1
7801b6ee:	6411      	restore	8,s1
7801b6f0:	e8a0      	jrc	ra
7801b6f2:	0000      	addiu	s0,sp,0
7801b6f4:	5bee      	sltiu	v1,238
7801b6f6:	9fc1      	lw	a2,4(a3)

7801b6f8 <nand_drv_name>:
7801b6f8:	6f6e 5f72 6475 642e 7672 0000               nor_ud.drv..

7801b704 <card_drv_name>:
7801b704:	6163 6472 642e 7672 0000 6300 7261 7364     card.drv...cards
7801b714:	642e 7672 0000 0000                         .drv....

7801b71c <uhost_drv_name>:
7801b71c:	6875 736f 2e74 7264 0076 0000               uhost.drv...

7801b728 <drv_type>:
7801b728:	0000 0000                                   ....

7801b72c <temp_module_buf>:
	...
Disassembly of section BANK_FRONT_ENHANCED_ID3_1_0:

7805b200 <get_id3_info>:
7805b200:	64f7      	save	56,ra,s0-s1
7805b202:	0106      	addiu	s1,sp,24
7805b204:	d988      	sw	a0,32(s1)
7805b206:	d9a9      	sw	a1,36(s1)
7805b208:	6746      	move	v0,a2
7805b20a:	f020 c148 	sb	v0,40(s1)
7805b20e:	9948      	lw	v0,32(s1)
7805b210:	2a03      	bnez	v0,7805b218 <get_id3_info+0x18>
7805b212:	6a00      	li	v0,0
7805b214:	d943      	sw	v0,12(s1)
7805b216:	1094      	b	7805b340 <get_id3_info+0x140>
7805b218:	b34c      	lw	v1,7805b348 <get_id3_info+0x148>
7805b21a:	9948      	lw	v0,32(s1)
7805b21c:	db40      	sw	v0,0(v1)
7805b21e:	b34c      	lw	v1,7805b34c <get_id3_info+0x14c>
7805b220:	b24c      	lw	v0,7805b350 <get_id3_info+0x150>
7805b222:	db40      	sw	v0,0(v1)
7805b224:	b34c      	lw	v1,7805b354 <get_id3_info+0x154>
7805b226:	b249      	lw	v0,7805b348 <get_id3_info+0x148>
7805b228:	9a40      	lw	v0,0(v0)
7805b22a:	f020 a241 	lbu	v0,33(v0)
7805b22e:	c340      	sb	v0,0(v1)
7805b230:	b24a      	lw	v0,7805b358 <get_id3_info+0x158>
7805b232:	6782      	move	a0,v0
7805b234:	6d00      	li	a1,0
7805b236:	6e08      	li	a2,8
7805b238:	6f01      	li	a3,1
7805b23a:	b249      	lw	v0,7805b35c <get_id3_info+0x15c>
7805b23c:	eac0      	jalrc	v0
7805b23e:	b243      	lw	v0,7805b348 <get_id3_info+0x148>
7805b240:	9a40      	lw	v0,0(v0)
7805b242:	4a18      	addiu	v0,24
7805b244:	d941      	sw	v0,4(s1)
7805b246:	b241      	lw	v0,7805b348 <get_id3_info+0x148>
7805b248:	9a40      	lw	v0,0(v0)
7805b24a:	d942      	sw	v0,8(s1)
7805b24c:	b345      	lw	v1,7805b360 <get_id3_info+0x160>
7805b24e:	6a00      	li	v0,0
7805b250:	c340      	sb	v0,0(v1)
7805b252:	6a00      	li	v0,0
7805b254:	c141      	sb	v0,1(s1)
7805b256:	a141      	lbu	v0,1(s1)
7805b258:	5a06      	sltiu	v0,6
7805b25a:	601b      	bteqz	7805b292 <get_id3_info+0x92>
7805b25c:	9941      	lw	v0,4(s1)
7805b25e:	a240      	lbu	v0,0(v0)
7805b260:	220e      	beqz	v0,7805b27e <get_id3_info+0x7e>
7805b262:	b33e      	lw	v1,7805b358 <get_id3_info+0x158>
7805b264:	a141      	lbu	v0,1(s1)
7805b266:	e34d      	addu	v1,v0
7805b268:	6a01      	li	v0,1
7805b26a:	c340      	sb	v0,0(v1)
7805b26c:	b33d      	lw	v1,7805b360 <get_id3_info+0x160>
7805b26e:	b23d      	lw	v0,7805b360 <get_id3_info+0x160>
7805b270:	a240      	lbu	v0,0(v0)
7805b272:	4241      	addiu	v0,v0,1
7805b274:	c340      	sb	v0,0(v1)
7805b276:	9942      	lw	v0,8(s1)
7805b278:	9a60      	lw	v1,0(v0)
7805b27a:	6a00      	li	v0,0
7805b27c:	cb40      	sh	v0,0(v1)
7805b27e:	9941      	lw	v0,4(s1)
7805b280:	4241      	addiu	v0,v0,1
7805b282:	d941      	sw	v0,4(s1)
7805b284:	9942      	lw	v0,8(s1)
7805b286:	4244      	addiu	v0,v0,4
7805b288:	d942      	sw	v0,8(s1)
7805b28a:	a141      	lbu	v0,1(s1)
7805b28c:	4241      	addiu	v0,v0,1
7805b28e:	c141      	sb	v0,1(s1)
7805b290:	17e2      	b	7805b256 <get_id3_info+0x56>
7805b292:	b22e      	lw	v0,7805b348 <get_id3_info+0x148>
7805b294:	9a60      	lw	v1,0(v0)
7805b296:	6a01      	li	v0,1
7805b298:	ea4b      	neg	v0
7805b29a:	cb51      	sh	v0,34(v1)
7805b29c:	9948      	lw	v0,32(s1)
7805b29e:	a25f      	lbu	v0,31(v0)
7805b2a0:	7201      	cmpi	v0,1
7805b2a2:	6758      	move	v0,t8
7805b2a4:	5a01      	sltiu	v0,1
7805b2a6:	6008      	bteqz	7805b2b8 <get_id3_info+0xb8>
7805b2a8:	b32c      	lw	v1,7805b358 <get_id3_info+0x158>
7805b2aa:	6a01      	li	v0,1
7805b2ac:	c346      	sb	v0,6(v1)
7805b2ae:	b32d      	lw	v1,7805b360 <get_id3_info+0x160>
7805b2b0:	b22c      	lw	v0,7805b360 <get_id3_info+0x160>
7805b2b2:	a240      	lbu	v0,0(v0)
7805b2b4:	4241      	addiu	v0,v0,1
7805b2b6:	c340      	sb	v0,0(v1)
7805b2b8:	9948      	lw	v0,32(s1)
7805b2ba:	f020 a240 	lbu	v0,32(v0)
7805b2be:	7201      	cmpi	v0,1
7805b2c0:	6758      	move	v0,t8
7805b2c2:	5a01      	sltiu	v0,1
7805b2c4:	6008      	bteqz	7805b2d6 <get_id3_info+0xd6>
7805b2c6:	b325      	lw	v1,7805b358 <get_id3_info+0x158>
7805b2c8:	6a01      	li	v0,1
7805b2ca:	c347      	sb	v0,7(v1)
7805b2cc:	b325      	lw	v1,7805b360 <get_id3_info+0x160>
7805b2ce:	b225      	lw	v0,7805b360 <get_id3_info+0x160>
7805b2d0:	a240      	lbu	v0,0(v0)
7805b2d2:	4241      	addiu	v0,v0,1
7805b2d4:	c340      	sb	v0,0(v1)
7805b2d6:	9968      	lw	v1,32(s1)
7805b2d8:	6a00      	li	v0,0
7805b2da:	c35e      	sb	v0,30(v1)
7805b2dc:	f020 a148 	lbu	v0,40(s1)
7805b2e0:	5a08      	sltiu	v0,8
7805b2e2:	6025      	bteqz	7805b32e <get_id3_info+0x12e>
7805b2e4:	b020      	lw	s0,7805b364 <get_id3_info+0x164>
7805b2e6:	b221      	lw	v0,7805b368 <get_id3_info+0x168>
7805b2e8:	9a60      	lw	v1,0(v0)
7805b2ea:	99a9      	lw	a1,36(s1)
7805b2ec:	6a05      	li	v0,5
7805b2ee:	d204      	sw	v0,16(sp)
7805b2f0:	6783      	move	a0,v1
7805b2f2:	6e00      	li	a2,0
7805b2f4:	6f00      	li	a3,0
7805b2f6:	b21e      	lw	v0,7805b36c <get_id3_info+0x16c>
7805b2f8:	eac0      	jalrc	v0
7805b2fa:	d840      	sw	v0,0(s0)
7805b2fc:	b21a      	lw	v0,7805b364 <get_id3_info+0x164>
7805b2fe:	9a40      	lw	v0,0(v0)
7805b300:	2a03      	bnez	v0,7805b308 <get_id3_info+0x108>
7805b302:	6a00      	li	v0,0
7805b304:	d943      	sw	v0,12(s1)
7805b306:	101c      	b	7805b340 <get_id3_info+0x140>
7805b308:	b31a      	lw	v1,7805b370 <get_id3_info+0x170>
7805b30a:	f020 a148 	lbu	v0,40(s1)
7805b30e:	3248      	sll	v0,2
7805b310:	e269      	addu	v0,v1
7805b312:	9a40      	lw	v0,0(v0)
7805b314:	eac0      	jalrc	v0
7805b316:	c140      	sb	v0,0(s1)
7805b318:	b214      	lw	v0,7805b368 <get_id3_info+0x168>
7805b31a:	9a60      	lw	v1,0(v0)
7805b31c:	b212      	lw	v0,7805b364 <get_id3_info+0x164>
7805b31e:	9aa0      	lw	a1,0(v0)
7805b320:	6a07      	li	v0,7
7805b322:	d204      	sw	v0,16(sp)
7805b324:	6783      	move	a0,v1
7805b326:	6e00      	li	a2,0
7805b328:	6f00      	li	a3,0
7805b32a:	b211      	lw	v0,7805b36c <get_id3_info+0x16c>
7805b32c:	eac0      	jalrc	v0
7805b32e:	9948      	lw	v0,32(s1)
7805b330:	f020 a168 	lbu	v1,40(s1)
7805b334:	6782      	move	a0,v0
7805b336:	67a3      	move	a1,v1
7805b338:	b20f      	lw	v0,7805b374 <get_id3_info+0x174>
7805b33a:	eac0      	jalrc	v0
7805b33c:	a140      	lbu	v0,0(s1)
7805b33e:	d943      	sw	v0,12(s1)
7805b340:	9943      	lw	v0,12(s1)
7805b342:	65b9      	move	sp,s1
7805b344:	6474      	restore	32,ra,s0-s1
7805b346:	e8a0      	jrc	ra
7805b348:	b934      	lwu	s1,80(s1)
7805b34a:	7805      	sd	s0,40(s0)
7805b34c:	b930      	lwu	s1,64(s1)
7805b34e:	7805      	sd	s0,40(s0)
7805b350:	b694      	lw	a2,7805b5a0 <reset_file_pos+0x94>
7805b352:	7805      	sd	s0,40(s0)
7805b354:	b939      	lwu	s1,100(s1)
7805b356:	7805      	sd	s0,40(s0)
7805b358:	b920      	lwu	s1,0(s1)
7805b35a:	7805      	sd	s0,40(s0)
7805b35c:	6409      	restore	72
7805b35e:	bfc1      	lwu	a2,4(a3)
7805b360:	b91c      	lwu	s0,112(s1)
7805b362:	7805      	sd	s0,40(s0)
7805b364:	5c74      	sltiu	a0,116
7805b366:	9fc1      	lw	a2,4(a3)
7805b368:	5c04      	sltiu	a0,4
7805b36a:	9fc1      	lw	a2,4(a3)
7805b36c:	6411      	restore	8,s1
7805b36e:	bfc1      	lwu	a2,4(a3)
7805b370:	b674      	lw	a2,7805b540 <reset_file_pos+0x34>
7805b372:	7805      	sd	s0,40(s0)
7805b374:	20b9      	beqz	s0,7805b2e8 <get_id3_info+0xe8>
7805b376:	bfc1      	lwu	a2,4(a3)

7805b378 <get_init>:
7805b378:	64d4      	save	32,ra,s1
7805b37a:	0106      	addiu	s1,sp,24
7805b37c:	b30b      	lw	v1,7805b3a8 <get_init+0x30>
7805b37e:	6a00      	li	v0,0
7805b380:	cb40      	sh	v0,0(v1)
7805b382:	b30b      	lw	v1,7805b3ac <get_init+0x34>
7805b384:	6a00      	li	v0,0
7805b386:	db40      	sw	v0,0(v1)
7805b388:	b20a      	lw	v0,7805b3b0 <get_init+0x38>
7805b38a:	9a60      	lw	v1,0(v0)
7805b38c:	b50a      	lw	a1,7805b3b4 <get_init+0x3c>
7805b38e:	f200 6e00 	li	a2,512
7805b392:	b20a      	lw	v0,7805b3b8 <get_init+0x40>
7805b394:	9ae0      	lw	a3,0(v0)
7805b396:	6a0d      	li	v0,13
7805b398:	d204      	sw	v0,16(sp)
7805b39a:	6783      	move	a0,v1
7805b39c:	b208      	lw	v0,7805b3bc <get_init+0x44>
7805b39e:	eac0      	jalrc	v0
7805b3a0:	6a01      	li	v0,1
7805b3a2:	65b9      	move	sp,s1
7805b3a4:	6451      	restore	8,ra,s1
7805b3a6:	e8a0      	jrc	ra
7805b3a8:	b928      	lwu	s1,32(s1)
7805b3aa:	7805      	sd	s0,40(s0)
7805b3ac:	b92c      	lwu	s1,48(s1)
7805b3ae:	7805      	sd	s0,40(s0)
7805b3b0:	5c04      	sltiu	a0,4
7805b3b2:	9fc1      	lw	a2,4(a3)
7805b3b4:	b69c      	lw	a2,7805b624 <str_to_capital+0x6c>
7805b3b6:	7805      	sd	s0,40(s0)
7805b3b8:	5c74      	sltiu	a0,116
7805b3ba:	9fc1      	lw	a2,4(a3)
7805b3bc:	6411      	restore	8,s1
7805b3be:	bfc1      	lwu	a2,4(a3)

7805b3c0 <read_buf_data>:
7805b3c0:	64d7      	save	56,ra,s1
7805b3c2:	0106      	addiu	s1,sp,24
7805b3c4:	d988      	sw	a0,32(s1)
7805b3c6:	6745      	move	v0,a1
7805b3c8:	d9ca      	sw	a2,40(s1)
7805b3ca:	c952      	sh	v0,36(s1)
7805b3cc:	b249      	lw	v0,7805b4f0 <read_buf_data+0x130>
7805b3ce:	aa60      	lhu	v1,0(v0)
7805b3d0:	994a      	lw	v0,40(s1)
7805b3d2:	e349      	addu	v0,v1,v0
7805b3d4:	d943      	sw	v0,12(s1)
7805b3d6:	994a      	lw	v0,40(s1)
7805b3d8:	d942      	sw	v0,8(s1)
7805b3da:	994a      	lw	v0,40(s1)
7805b3dc:	d944      	sw	v0,16(s1)
7805b3de:	a972      	lhu	v1,36(s1)
7805b3e0:	9942      	lw	v0,8(s1)
7805b3e2:	eb43      	sltu	v1,v0
7805b3e4:	6002      	bteqz	7805b3ea <read_buf_data+0x2a>
7805b3e6:	a952      	lhu	v0,36(s1)
7805b3e8:	d942      	sw	v0,8(s1)
7805b3ea:	9943      	lw	v0,12(s1)
7805b3ec:	f200 5a00 	sltiu	v0,512
7805b3f0:	600c      	bteqz	7805b40a <read_buf_data+0x4a>
7805b3f2:	9988      	lw	a0,32(s1)
7805b3f4:	b23f      	lw	v0,7805b4f0 <read_buf_data+0x130>
7805b3f6:	aa60      	lhu	v1,0(v0)
7805b3f8:	b23f      	lw	v0,7805b4f4 <read_buf_data+0x134>
7805b3fa:	e349      	addu	v0,v1,v0
7805b3fc:	9962      	lw	v1,8(s1)
7805b3fe:	67a2      	move	a1,v0
7805b400:	67c3      	move	a2,v1
7805b402:	6f00      	li	a3,0
7805b404:	b23d      	lw	v0,7805b4f8 <read_buf_data+0x138>
7805b406:	eac0      	jalrc	v0
7805b408:	105f      	b	7805b4c8 <read_buf_data+0x108>
7805b40a:	b23a      	lw	v0,7805b4f0 <read_buf_data+0x130>
7805b40c:	aa60      	lhu	v1,0(v0)
7805b40e:	f200 6a00 	li	v0,512
7805b412:	e26b      	subu	v0,v1
7805b414:	d940      	sw	v0,0(s1)
7805b416:	9960      	lw	v1,0(s1)
7805b418:	9942      	lw	v0,8(s1)
7805b41a:	ea63      	sltu	v0,v1
7805b41c:	6030      	bteqz	7805b47e <read_buf_data+0xbe>
7805b41e:	9988      	lw	a0,32(s1)
7805b420:	b234      	lw	v0,7805b4f0 <read_buf_data+0x130>
7805b422:	aa60      	lhu	v1,0(v0)
7805b424:	b234      	lw	v0,7805b4f4 <read_buf_data+0x134>
7805b426:	e349      	addu	v0,v1,v0
7805b428:	9962      	lw	v1,8(s1)
7805b42a:	67a2      	move	a1,v0
7805b42c:	67c3      	move	a2,v1
7805b42e:	6f00      	li	a3,0
7805b430:	b232      	lw	v0,7805b4f8 <read_buf_data+0x138>
7805b432:	eac0      	jalrc	v0
7805b434:	b232      	lw	v0,7805b4f8 <read_buf_data+0x138>
7805b436:	9a60      	lw	v1,0(v0)
7805b438:	b52f      	lw	a1,7805b4f4 <read_buf_data+0x134>
7805b43a:	f200 6e00 	li	a2,512
7805b43e:	b231      	lw	v0,7805b500 <read_buf_data+0x140>
7805b440:	9ae0      	lw	a3,0(v0)
7805b442:	6a0d      	li	v0,13
7805b444:	d204      	sw	v0,16(sp)
7805b446:	6783      	move	a0,v1
7805b448:	b22f      	lw	v0,7805b504 <read_buf_data+0x144>
7805b44a:	eac0      	jalrc	v0
7805b44c:	9964      	lw	v1,16(s1)
7805b44e:	9940      	lw	v0,0(s1)
7805b450:	e34b      	subu	v0,v1,v0
7805b452:	d944      	sw	v0,16(s1)
7805b454:	9944      	lw	v0,16(s1)
7805b456:	f200 5a01 	sltiu	v0,513
7805b45a:	6136      	btnez	7805b4c8 <read_buf_data+0x108>
7805b45c:	b228      	lw	v0,7805b4fc <read_buf_data+0x13c>
7805b45e:	9a60      	lw	v1,0(v0)
7805b460:	b525      	lw	a1,7805b4f4 <read_buf_data+0x134>
7805b462:	f200 6e00 	li	a2,512
7805b466:	b227      	lw	v0,7805b500 <read_buf_data+0x140>
7805b468:	9ae0      	lw	a3,0(v0)
7805b46a:	6a0d      	li	v0,13
7805b46c:	d204      	sw	v0,16(sp)
7805b46e:	6783      	move	a0,v1
7805b470:	b225      	lw	v0,7805b504 <read_buf_data+0x144>
7805b472:	eac0      	jalrc	v0
7805b474:	9944      	lw	v0,16(s1)
7805b476:	f61f 4a00 	addiu	v0,-512
7805b47a:	d944      	sw	v0,16(s1)
7805b47c:	17eb      	b	7805b454 <read_buf_data+0x94>
7805b47e:	9988      	lw	a0,32(s1)
7805b480:	b21c      	lw	v0,7805b4f0 <read_buf_data+0x130>
7805b482:	aa60      	lhu	v1,0(v0)
7805b484:	b21c      	lw	v0,7805b4f4 <read_buf_data+0x134>
7805b486:	e349      	addu	v0,v1,v0
7805b488:	9960      	lw	v1,0(s1)
7805b48a:	67a2      	move	a1,v0
7805b48c:	67c3      	move	a2,v1
7805b48e:	6f00      	li	a3,0
7805b490:	b21a      	lw	v0,7805b4f8 <read_buf_data+0x138>
7805b492:	eac0      	jalrc	v0
7805b494:	b21a      	lw	v0,7805b4f8 <read_buf_data+0x138>
7805b496:	9a60      	lw	v1,0(v0)
7805b498:	b517      	lw	a1,7805b4f4 <read_buf_data+0x134>
7805b49a:	f200 6e00 	li	a2,512
7805b49e:	b219      	lw	v0,7805b500 <read_buf_data+0x140>
7805b4a0:	9ae0      	lw	a3,0(v0)
7805b4a2:	6a0d      	li	v0,13
7805b4a4:	d204      	sw	v0,16(sp)
7805b4a6:	6783      	move	a0,v1
7805b4a8:	b217      	lw	v0,7805b504 <read_buf_data+0x144>
7805b4aa:	eac0      	jalrc	v0
7805b4ac:	9962      	lw	v1,8(s1)
7805b4ae:	9940      	lw	v0,0(s1)
7805b4b0:	e34b      	subu	v0,v1,v0
7805b4b2:	d941      	sw	v0,4(s1)
7805b4b4:	9968      	lw	v1,32(s1)
7805b4b6:	9940      	lw	v0,0(s1)
7805b4b8:	e349      	addu	v0,v1,v0
7805b4ba:	b30f      	lw	v1,7805b4f4 <read_buf_data+0x134>
7805b4bc:	99c1      	lw	a2,4(s1)
7805b4be:	6782      	move	a0,v0
7805b4c0:	67a3      	move	a1,v1
7805b4c2:	6f00      	li	a3,0
7805b4c4:	b20d      	lw	v0,7805b4f8 <read_buf_data+0x138>
7805b4c6:	eac0      	jalrc	v0
7805b4c8:	b410      	lw	a0,7805b504 <read_buf_data+0x144>
7805b4ca:	b210      	lw	v0,7805b508 <read_buf_data+0x148>
7805b4cc:	9a60      	lw	v1,0(v0)
7805b4ce:	994a      	lw	v0,40(s1)
7805b4d0:	e349      	addu	v0,v1,v0
7805b4d2:	dc40      	sw	v0,0(a0)
7805b4d4:	b407      	lw	a0,7805b4f0 <read_buf_data+0x130>
7805b4d6:	b20d      	lw	v0,7805b508 <read_buf_data+0x148>
7805b4d8:	9a40      	lw	v0,0(v0)
7805b4da:	651a      	move	t8,v0
7805b4dc:	6778      	move	v1,t8
7805b4de:	f1e0 6a1f 	li	v0,511
7805b4e2:	ea6c      	and	v0,v1
7805b4e4:	cc40      	sh	v0,0(a0)
7805b4e6:	6a01      	li	v0,1
7805b4e8:	65b9      	move	sp,s1
7805b4ea:	6454      	restore	32,ra,s1
7805b4ec:	e8a0      	jrc	ra
7805b4ee:	0000      	addiu	s0,sp,0
7805b4f0:	b928      	lwu	s1,32(s1)
7805b4f2:	7805      	sd	s0,40(s0)
7805b4f4:	b69c      	lw	a2,7805b764 <id3_temp_buf+0xc8>
7805b4f6:	7805      	sd	s0,40(s0)
7805b4f8:	6409      	restore	72
7805b4fa:	bfc1      	lwu	a2,4(a3)
7805b4fc:	5c04      	sltiu	a0,4
7805b4fe:	9fc1      	lw	a2,4(a3)
7805b500:	5c74      	sltiu	a0,116
7805b502:	9fc1      	lw	a2,4(a3)
7805b504:	6411      	restore	8,s1
7805b506:	bfc1      	lwu	a2,4(a3)
7805b508:	b92c      	lwu	s1,48(s1)
7805b50a:	7805      	sd	s0,40(s0)

7805b50c <reset_file_pos>:
7805b50c:	64d5      	save	40,ra,s1
7805b50e:	0106      	addiu	s1,sp,24
7805b510:	d984      	sw	a0,16(s1)
7805b512:	d9a5      	sw	a1,20(s1)
7805b514:	9945      	lw	v0,20(s1)
7805b516:	2203      	beqz	v0,7805b51e <reset_file_pos+0x12>
7805b518:	b322      	lw	v1,7805b5a0 <reset_file_pos+0x94>
7805b51a:	9945      	lw	v0,20(s1)
7805b51c:	db40      	sw	v0,0(v1)
7805b51e:	b421      	lw	a0,7805b5a0 <reset_file_pos+0x94>
7805b520:	b220      	lw	v0,7805b5a0 <reset_file_pos+0x94>
7805b522:	9a60      	lw	v1,0(v0)
7805b524:	9944      	lw	v0,16(s1)
7805b526:	e349      	addu	v0,v1,v0
7805b528:	dc40      	sw	v0,0(a0)
7805b52a:	b21f      	lw	v0,7805b5a4 <reset_file_pos+0x98>
7805b52c:	aa60      	lhu	v1,0(v0)
7805b52e:	9944      	lw	v0,16(s1)
7805b530:	e349      	addu	v0,v1,v0
7805b532:	d940      	sw	v0,0(s1)
7805b534:	9945      	lw	v0,20(s1)
7805b536:	2a08      	bnez	v0,7805b548 <reset_file_pos+0x3c>
7805b538:	9940      	lw	v0,0(s1)
7805b53a:	f200 5a00 	sltiu	v0,512
7805b53e:	6004      	bteqz	7805b548 <reset_file_pos+0x3c>
7805b540:	b319      	lw	v1,7805b5a4 <reset_file_pos+0x98>
7805b542:	9940      	lw	v0,0(s1)
7805b544:	cb40      	sh	v0,0(v1)
7805b546:	1027      	b	7805b596 <reset_file_pos+0x8a>
7805b548:	b216      	lw	v0,7805b5a0 <reset_file_pos+0x94>
7805b54a:	9a40      	lw	v0,0(v0)
7805b54c:	3242      	srl	v0,8
7805b54e:	3246      	srl	v0,1
7805b550:	d941      	sw	v0,4(s1)
7805b552:	b216      	lw	v0,7805b5a8 <reset_file_pos+0x9c>
7805b554:	9a60      	lw	v1,0(v0)
7805b556:	9941      	lw	v0,4(s1)
7805b558:	3540      	sll	a1,v0,8
7805b55a:	35a4      	sll	a1,1
7805b55c:	b214      	lw	v0,7805b5ac <reset_file_pos+0xa0>
7805b55e:	9ae0      	lw	a3,0(v0)
7805b560:	6a0b      	li	v0,11
7805b562:	d204      	sw	v0,16(sp)
7805b564:	6783      	move	a0,v1
7805b566:	6e00      	li	a2,0
7805b568:	b212      	lw	v0,7805b5b0 <reset_file_pos+0xa4>
7805b56a:	eac0      	jalrc	v0
7805b56c:	b20f      	lw	v0,7805b5a4 <reset_file_pos+0x98>
7805b56e:	9a60      	lw	v1,0(v0)
7805b570:	b511      	lw	a1,7805b5b4 <reset_file_pos+0xa8>
7805b572:	f200 6e00 	li	a2,512
7805b576:	b20e      	lw	v0,7805b5ac <reset_file_pos+0xa0>
7805b578:	9ae0      	lw	a3,0(v0)
7805b57a:	6a0d      	li	v0,13
7805b57c:	d204      	sw	v0,16(sp)
7805b57e:	6783      	move	a0,v1
7805b580:	b20c      	lw	v0,7805b5b0 <reset_file_pos+0xa4>
7805b582:	eac0      	jalrc	v0
7805b584:	b408      	lw	a0,7805b5a0 <reset_file_pos+0x94>
7805b586:	b207      	lw	v0,7805b5a0 <reset_file_pos+0x94>
7805b588:	9a40      	lw	v0,0(v0)
7805b58a:	651a      	move	t8,v0
7805b58c:	6778      	move	v1,t8
7805b58e:	f1e0 6a1f 	li	v0,511
7805b592:	ea6c      	and	v0,v1
7805b594:	cc40      	sh	v0,0(a0)
7805b596:	6a01      	li	v0,1
7805b598:	65b9      	move	sp,s1
7805b59a:	6452      	restore	16,ra,s1
7805b59c:	e8a0      	jrc	ra
7805b59e:	0000      	addiu	s0,sp,0
7805b5a0:	b92c      	lwu	s1,48(s1)
7805b5a2:	7805      	sd	s0,40(s0)
7805b5a4:	b928      	lwu	s1,32(s1)
7805b5a6:	7805      	sd	s0,40(s0)
7805b5a8:	5c04      	sltiu	a0,4
7805b5aa:	9fc1      	lw	a2,4(a3)
7805b5ac:	5c74      	sltiu	a0,116
7805b5ae:	9fc1      	lw	a2,4(a3)
7805b5b0:	6411      	restore	8,s1
7805b5b2:	bfc1      	lwu	a2,4(a3)
7805b5b4:	b69c      	lw	a2,7805b824 <id3_temp_buf+0x188>
7805b5b6:	7805      	sd	s0,40(s0)

7805b5b8 <str_to_capital>:
7805b5b8:	6492      	save	16,s1
7805b5ba:	673d      	move	s1,sp
7805b5bc:	d984      	sw	a0,16(s1)
7805b5be:	6745      	move	v0,a1
7805b5c0:	c154      	sb	v0,20(s1)
7805b5c2:	6a00      	li	v0,0
7805b5c4:	d940      	sw	v0,0(s1)
7805b5c6:	9964      	lw	v1,16(s1)
7805b5c8:	9940      	lw	v0,0(s1)
7805b5ca:	e349      	addu	v0,v1,v0
7805b5cc:	8260      	lb	v1,0(v0)
7805b5ce:	8154      	lb	v0,20(s1)
7805b5d0:	ea6e      	xor	v0,v1
7805b5d2:	5a01      	sltiu	v0,1
7805b5d4:	6125      	btnez	7805b620 <str_to_capital+0x68>
7805b5d6:	9964      	lw	v1,16(s1)
7805b5d8:	9940      	lw	v0,0(s1)
7805b5da:	e349      	addu	v0,v1,v0
7805b5dc:	8240      	lb	v0,0(v0)
7805b5de:	2220      	beqz	v0,7805b620 <str_to_capital+0x68>
7805b5e0:	9964      	lw	v1,16(s1)
7805b5e2:	9940      	lw	v0,0(s1)
7805b5e4:	e349      	addu	v0,v1,v0
7805b5e6:	8240      	lb	v0,0(v0)
7805b5e8:	5261      	slti	v0,97
7805b5ea:	610f      	btnez	7805b60a <str_to_capital+0x52>
7805b5ec:	9964      	lw	v1,16(s1)
7805b5ee:	9940      	lw	v0,0(s1)
7805b5f0:	e349      	addu	v0,v1,v0
7805b5f2:	8240      	lb	v0,0(v0)
7805b5f4:	527b      	slti	v0,123
7805b5f6:	6009      	bteqz	7805b60a <str_to_capital+0x52>
7805b5f8:	9964      	lw	v1,16(s1)
7805b5fa:	9940      	lw	v0,0(s1)
7805b5fc:	e351      	addu	a0,v1,v0
7805b5fe:	9964      	lw	v1,16(s1)
7805b600:	9940      	lw	v0,0(s1)
7805b602:	e349      	addu	v0,v1,v0
7805b604:	a240      	lbu	v0,0(v0)
7805b606:	4ae0      	addiu	v0,-32
7805b608:	c440      	sb	v0,0(a0)
7805b60a:	9940      	lw	v0,0(s1)
7805b60c:	4241      	addiu	v0,v0,1
7805b60e:	d940      	sw	v0,0(s1)
7805b610:	9940      	lw	v0,0(s1)
7805b612:	7280      	cmpi	v0,128
7805b614:	6758      	move	v0,t8
7805b616:	5a01      	sltiu	v0,1
7805b618:	60d6      	bteqz	7805b5c6 <str_to_capital+0xe>
7805b61a:	6a00      	li	v0,0
7805b61c:	d941      	sw	v0,4(s1)
7805b61e:	1003      	b	7805b626 <str_to_capital+0x6e>
7805b620:	9940      	lw	v0,0(s1)
7805b622:	ea11      	zeb	v0
7805b624:	d941      	sw	v0,4(s1)
7805b626:	9941      	lw	v0,4(s1)
7805b628:	65b9      	move	sp,s1
7805b62a:	6412      	restore	16,s1
7805b62c:	e8a0      	jrc	ra
	...

7805b630 <get_id3_mp3>:
7805b630:	64d4      	save	32,ra,s1
7805b632:	0104      	addiu	s1,sp,16
7805b634:	1842 4aa7 	jal	71092a9c <mp3_v2_parse>
7805b638:	6500      	nop
7805b63a:	651a      	move	t8,v0
7805b63c:	6112      	btnez	7805b662 <get_id3_mp3+0x32>
7805b63e:	b20d      	lw	v0,7805b670 <get_id3_mp3+0x40>
7805b640:	a240      	lbu	v0,0(v0)
7805b642:	7201      	cmpi	v0,1
7805b644:	6758      	move	v0,t8
7805b646:	5a01      	sltiu	v0,1
7805b648:	6003      	bteqz	7805b650 <get_id3_mp3+0x20>
7805b64a:	6a00      	li	v0,0
7805b64c:	d940      	sw	v0,0(s1)
7805b64e:	100b      	b	7805b666 <get_id3_mp3+0x36>
7805b650:	1822 496c 	jal	710525b0 <mp3_v1_parse>
7805b654:	6500      	nop
7805b656:	651a      	move	t8,v0
7805b658:	6758      	move	v0,t8
7805b65a:	651a      	move	t8,v0
7805b65c:	6758      	move	v0,t8
7805b65e:	d940      	sw	v0,0(s1)
7805b660:	1002      	b	7805b666 <get_id3_mp3+0x36>
7805b662:	6a01      	li	v0,1
7805b664:	d940      	sw	v0,0(s1)
7805b666:	9940      	lw	v0,0(s1)
7805b668:	65b9      	move	sp,s1
7805b66a:	6452      	restore	16,ra,s1
7805b66c:	e8a0      	jrc	ra
7805b66e:	0000      	addiu	s0,sp,0
7805b670:	b939      	lwu	s1,100(s1)
7805b672:	7805      	sd	s0,40(s0)

7805b674 <get_id3_func>:
7805b674:	2799 711d b93d 7805 2955 7121 2a8d 7111     .'.q=..xU)!q.*.q
7805b684:	25b9 7115 b631 7805 2841 7119 2501 710d     .%.q1..xA(.q.%.q

7805b694 <id3_save_buf>:
	...

7805b69c <id3_temp_buf>:
	...

7805b89c <key_buf>:
	...

7805b91c <check_count>:
7805b91c:	0000 0000                                   ....

7805b920 <check_flag>:
	...

7805b928 <id3_pos_buffer>:
7805b928:	0000 0000                                   ....

7805b92c <id3_pos_file>:
7805b92c:	0000 0000                                   ....

7805b930 <id3_save_p>:
7805b930:	0000 0000                                   ....

7805b934 <id3_info_p>:
7805b934:	0000 0000                                   ....

7805b938 <m4a_rkn_flg>:
	...

7805b939 <mp3_v1_forbidden>:
7805b939:	0000 d500                                        ...

7805b93c <get_id3_aac>:
7805b93c:	64d5      	save	40,ra,s1
7805b93e:	0106      	addiu	s1,sp,24
7805b940:	1902 4a55 	jal	71212954 <get_id3_aax>
7805b944:	6500      	nop
7805b946:	651a      	move	t8,v0
7805b948:	6003      	bteqz	7805b950 <get_id3_aac+0x14>
7805b94a:	6a01      	li	v0,1
7805b94c:	d940      	sw	v0,0(s1)
7805b94e:	1026      	b	7805b99c <get_id3_aac+0x60>
7805b950:	b215      	lw	v0,7805b9a4 <get_id3_aac+0x68>
7805b952:	9a60      	lw	v1,0(v0)
7805b954:	b215      	lw	v0,7805b9a8 <get_id3_aac+0x6c>
7805b956:	9ae0      	lw	a3,0(v0)
7805b958:	6a0b      	li	v0,11
7805b95a:	d204      	sw	v0,16(sp)
7805b95c:	6783      	move	a0,v1
7805b95e:	6d00      	li	a1,0
7805b960:	6e00      	li	a2,0
7805b962:	b213      	lw	v0,7805b9ac <get_id3_aac+0x70>
7805b964:	eac0      	jalrc	v0
7805b966:	1830 6d8c 	jal	7805b630 <get_id3_mp3>
7805b96a:	6500      	nop
7805b96c:	651a      	move	t8,v0
7805b96e:	6003      	bteqz	7805b976 <get_id3_aac+0x3a>
7805b970:	6a01      	li	v0,1
7805b972:	d940      	sw	v0,0(s1)
7805b974:	1013      	b	7805b99c <get_id3_aac+0x60>
7805b976:	b20c      	lw	v0,7805b9a4 <get_id3_aac+0x68>
7805b978:	9a60      	lw	v1,0(v0)
7805b97a:	b20c      	lw	v0,7805b9a8 <get_id3_aac+0x6c>
7805b97c:	9ae0      	lw	a3,0(v0)
7805b97e:	6a0b      	li	v0,11
7805b980:	d204      	sw	v0,16(sp)
7805b982:	6783      	move	a0,v1
7805b984:	6d00      	li	a1,0
7805b986:	6e00      	li	a2,0
7805b988:	b209      	lw	v0,7805b9ac <get_id3_aac+0x70>
7805b98a:	eac0      	jalrc	v0
7805b98c:	1882 4aa3 	jal	71112a8c <get_id3_ape>
7805b990:	6500      	nop
7805b992:	651a      	move	t8,v0
7805b994:	6758      	move	v0,t8
7805b996:	651a      	move	t8,v0
7805b998:	6758      	move	v0,t8
7805b99a:	d940      	sw	v0,0(s1)
7805b99c:	9940      	lw	v0,0(s1)
7805b99e:	65b9      	move	sp,s1
7805b9a0:	6452      	restore	16,ra,s1
7805b9a2:	e8a0      	jrc	ra
7805b9a4:	5c04      	sltiu	a0,4
7805b9a6:	9fc1      	lw	a2,4(a3)
7805b9a8:	5c74      	sltiu	a0,116
7805b9aa:	9fc1      	lw	a2,4(a3)
7805b9ac:	6411      	restore	8,s1
7805b9ae:	bfc1      	lwu	a2,4(a3)
	...
Disassembly of section BANK_FRONT_ENHANCED_COMM_2_0:

71012500 <mbyte_to_wchar>:
71012500:	6492      	save	16,s1
71012502:	673d      	move	s1,sp
71012504:	d984      	sw	a0,16(s1)
71012506:	d9a5      	sw	a1,20(s1)
71012508:	6a00      	li	v0,0
7101250a:	c940      	sh	v0,0(s1)
7101250c:	9964      	lw	v1,16(s1)
7101250e:	6a01      	li	v0,1
71012510:	ea4b      	neg	v0
71012512:	c340      	sb	v0,0(v1)
71012514:	9964      	lw	v1,16(s1)
71012516:	6a02      	li	v0,2
71012518:	ea4b      	neg	v0
7101251a:	c341      	sb	v0,1(v1)
7101251c:	9944      	lw	v0,16(s1)
7101251e:	4242      	addiu	v0,v0,2
71012520:	d944      	sw	v0,16(s1)
71012522:	9945      	lw	v0,20(s1)
71012524:	a240      	lbu	v0,0(v0)
71012526:	2211      	beqz	v0,7101254a <BANK_FRONT_ENHANCED_2_ADDR_BASE+0x4a>
71012528:	9964      	lw	v1,16(s1)
7101252a:	9945      	lw	v0,20(s1)
7101252c:	a240      	lbu	v0,0(v0)
7101252e:	c340      	sb	v0,0(v1)
71012530:	9964      	lw	v1,16(s1)
71012532:	6a00      	li	v0,0
71012534:	c341      	sb	v0,1(v1)
71012536:	9944      	lw	v0,16(s1)
71012538:	4242      	addiu	v0,v0,2
7101253a:	d944      	sw	v0,16(s1)
7101253c:	9945      	lw	v0,20(s1)
7101253e:	4241      	addiu	v0,v0,1
71012540:	d945      	sw	v0,20(s1)
71012542:	a940      	lhu	v0,0(s1)
71012544:	4241      	addiu	v0,v0,1
71012546:	c940      	sh	v0,0(s1)
71012548:	17ec      	b	71012522 <BANK_FRONT_ENHANCED_2_ADDR_BASE+0x22>
7101254a:	9964      	lw	v1,16(s1)
7101254c:	6a00      	li	v0,0
7101254e:	c340      	sb	v0,0(v1)
71012550:	9964      	lw	v1,16(s1)
71012552:	6a00      	li	v0,0
71012554:	c341      	sb	v0,1(v1)
71012556:	a940      	lhu	v0,0(s1)
71012558:	651a      	move	t8,v0
7101255a:	6758      	move	v0,t8
7101255c:	65b9      	move	sp,s1
7101255e:	6412      	restore	16,s1
71012560:	e8a0      	jrc	ra
	...

71012564 <init_userpl_table>:
71012564:	64d5      	save	40,ra,s1
71012566:	0106      	addiu	s1,sp,24
71012568:	d984      	sw	a0,16(s1)
7101256a:	d9a5      	sw	a1,20(s1)
7101256c:	6a00      	li	v0,0
7101256e:	c144      	sb	v0,4(s1)
71012570:	a144      	lbu	v0,4(s1)
71012572:	5a64      	sltiu	v0,100
71012574:	603a      	bteqz	710125ea <init_userpl_table+0x86>
71012576:	a164      	lbu	v1,4(s1)
71012578:	6a01      	li	v0,1
7101257a:	ea6c      	and	v0,v1
7101257c:	c145      	sb	v0,5(s1)
7101257e:	a145      	lbu	v0,5(s1)
71012580:	3340      	sll	v1,v0,8
71012582:	9945      	lw	v0,20(s1)
71012584:	e349      	addu	v0,v1,v0
71012586:	d940      	sw	v0,0(s1)
71012588:	9960      	lw	v1,0(s1)
7101258a:	6a00      	li	v0,0
7101258c:	c340      	sb	v0,0(v1)
7101258e:	a144      	lbu	v0,4(s1)
71012590:	2a07      	bnez	v0,710125a0 <init_userpl_table+0x3c>
71012592:	9960      	lw	v1,0(s1)
71012594:	6a63      	li	v0,99
71012596:	cb42      	sh	v0,4(v1)
71012598:	9960      	lw	v1,0(s1)
7101259a:	6a01      	li	v0,1
7101259c:	cb43      	sh	v0,6(v1)
7101259e:	1014      	b	710125c8 <init_userpl_table+0x64>
710125a0:	a144      	lbu	v0,4(s1)
710125a2:	7263      	cmpi	v0,99
710125a4:	6758      	move	v0,t8
710125a6:	5a01      	sltiu	v0,1
710125a8:	6007      	bteqz	710125b8 <init_userpl_table+0x54>
710125aa:	9960      	lw	v1,0(s1)
710125ac:	6a62      	li	v0,98
710125ae:	cb42      	sh	v0,4(v1)
710125b0:	9960      	lw	v1,0(s1)
710125b2:	6a00      	li	v0,0
710125b4:	cb43      	sh	v0,6(v1)
710125b6:	1008      	b	710125c8 <init_userpl_table+0x64>
710125b8:	9960      	lw	v1,0(s1)
710125ba:	a144      	lbu	v0,4(s1)
710125bc:	424f      	addiu	v0,v0,-1
710125be:	cb42      	sh	v0,4(v1)
710125c0:	9960      	lw	v1,0(s1)
710125c2:	a144      	lbu	v0,4(s1)
710125c4:	4241      	addiu	v0,v0,1
710125c6:	cb43      	sh	v0,6(v1)
710125c8:	a145      	lbu	v0,5(s1)
710125ca:	220b      	beqz	v0,710125e2 <init_userpl_table+0x7e>
710125cc:	b209      	lw	v0,710125f0 <init_userpl_table+0x8c>
710125ce:	9a60      	lw	v1,0(v0)
710125d0:	99a5      	lw	a1,20(s1)
710125d2:	f200 6e00 	li	a2,512
710125d6:	99e4      	lw	a3,16(s1)
710125d8:	6a0e      	li	v0,14
710125da:	d204      	sw	v0,16(sp)
710125dc:	6783      	move	a0,v1
710125de:	b206      	lw	v0,710125f4 <init_userpl_table+0x90>
710125e0:	eac0      	jalrc	v0
710125e2:	a144      	lbu	v0,4(s1)
710125e4:	4241      	addiu	v0,v0,1
710125e6:	c144      	sb	v0,4(s1)
710125e8:	17c3      	b	71012570 <init_userpl_table+0xc>
710125ea:	65b9      	move	sp,s1
710125ec:	6452      	restore	16,ra,s1
710125ee:	e8a0      	jrc	ra
710125f0:	5c04      	sltiu	a0,4
710125f2:	9fc1      	lw	a2,4(a3)
710125f4:	6411      	restore	8,s1
710125f6:	bfc1      	lwu	a2,4(a3)

710125f8 <mod_open_userpl>:
710125f8:	64f6      	save	48,ra,s0-s1
710125fa:	0106      	addiu	s1,sp,24
710125fc:	6744      	move	v0,a0
710125fe:	c158      	sb	v0,24(s1)
71012600:	b2c1      	lw	v0,71012904 <.L14+0x2ae>
71012602:	d940      	sw	v0,0(s1)
71012604:	b5c0      	lw	a1,71012904 <.L14+0x2ae>
71012606:	a158      	lbu	v0,24(s1)
71012608:	6762      	move	v1,v0
7101260a:	4bf7      	addiu	v1,-9
7101260c:	b2bf      	lw	v0,71012908 <.L14+0x2b2>
7101260e:	eb58      	mult	v1,v0
71012610:	f7c0 3263 	sra	v0,v1,31
71012614:	ee10      	mfhi	a2
71012616:	e653      	subu	a0,a2,v0
71012618:	6744      	move	v0,a0
7101261a:	3244      	sll	v0,1
7101261c:	e289      	addu	v0,a0
7101261e:	e34f      	subu	v1,v0
71012620:	6743      	move	v0,v1
71012622:	3244      	sll	v0,1
71012624:	e269      	addu	v0,v1
71012626:	3348      	sll	v1,v0,2
71012628:	b2b9      	lw	v0,7101290c <.L14+0x2b6>
7101262a:	e349      	addu	v0,v1,v0
7101262c:	6785      	move	a0,a1
7101262e:	67a2      	move	a1,v0
71012630:	1802 4940 	jal	71012500 <BANK_FRONT_ENHANCED_2_ADDR_BASE>
71012634:	6500      	nop
71012636:	b0b7      	lw	s0,71012910 <.L14+0x2ba>
71012638:	b2b7      	lw	v0,71012914 <.L14+0x2be>
7101263a:	9a60      	lw	v1,0(v0)
7101263c:	b5b2      	lw	a1,71012904 <.L14+0x2ae>
7101263e:	6a05      	li	v0,5
71012640:	d204      	sw	v0,16(sp)
71012642:	6783      	move	a0,v1
71012644:	6e00      	li	a2,0
71012646:	6f00      	li	a3,0
71012648:	b2b4      	lw	v0,71012918 <.L14+0x2c2>
7101264a:	eac0      	jalrc	v0
7101264c:	d840      	sw	v0,0(s0)
7101264e:	b2b1      	lw	v0,71012910 <.L14+0x2ba>
71012650:	9a40      	lw	v0,0(v0)
71012652:	f0e0 2a1f 	bnez	v0,71012854 <.L14+0x1fe>

71012656 <.L14>:
71012656:	a158      	lbu	v0,24(s1)
71012658:	6762      	move	v1,v0
7101265a:	4bf7      	addiu	v1,-9
7101265c:	b2ab      	lw	v0,71012908 <.L14+0x2b2>
7101265e:	eb58      	mult	v1,v0
71012660:	f7c0 3263 	sra	v0,v1,31
71012664:	ed10      	mfhi	a1
71012666:	e553      	subu	a0,a1,v0
71012668:	6744      	move	v0,a0
7101266a:	3244      	sll	v0,1
7101266c:	e289      	addu	v0,a0
7101266e:	e34f      	subu	v1,v0
71012670:	6743      	move	v0,v1
71012672:	3244      	sll	v0,1
71012674:	e269      	addu	v0,v1
71012676:	3348      	sll	v1,v0,2
71012678:	b2a9      	lw	v0,7101291c <.L14+0x2c6>
7101267a:	e349      	addu	v0,v1,v0
7101267c:	6782      	move	a0,v0
7101267e:	6d00      	li	a1,0
71012680:	6e00      	li	a2,0
71012682:	6f03      	li	a3,3
71012684:	b2a7      	lw	v0,71012920 <.L14+0x2ca>
71012686:	eac0      	jalrc	v0
71012688:	651a      	move	t8,v0
7101268a:	b59f      	lw	a1,71012904 <.L14+0x2ae>
7101268c:	a158      	lbu	v0,24(s1)
7101268e:	6762      	move	v1,v0
71012690:	4bf7      	addiu	v1,-9
71012692:	b29e      	lw	v0,71012908 <.L14+0x2b2>
71012694:	eb58      	mult	v1,v0
71012696:	f7c0 3263 	sra	v0,v1,31
7101269a:	ee10      	mfhi	a2
7101269c:	e653      	subu	a0,a2,v0
7101269e:	6744      	move	v0,a0
710126a0:	3244      	sll	v0,1
710126a2:	e289      	addu	v0,a0
710126a4:	e34f      	subu	v1,v0
710126a6:	6743      	move	v0,v1
710126a8:	3244      	sll	v0,1
710126aa:	e269      	addu	v0,v1
710126ac:	3348      	sll	v1,v0,2
710126ae:	b29c      	lw	v0,7101291c <.L14+0x2c6>
710126b0:	e349      	addu	v0,v1,v0
710126b2:	6785      	move	a0,a1
710126b4:	67a2      	move	a1,v0
710126b6:	67d8      	move	a2,t8
710126b8:	6f00      	li	a3,0
710126ba:	b29a      	lw	v0,71012920 <.L14+0x2ca>
710126bc:	eac0      	jalrc	v0
710126be:	b296      	lw	v0,71012914 <.L14+0x2be>
710126c0:	9a60      	lw	v1,0(v0)
710126c2:	b591      	lw	a1,71012904 <.L14+0x2ae>
710126c4:	6a08      	li	v0,8
710126c6:	d204      	sw	v0,16(sp)
710126c8:	6783      	move	a0,v1
710126ca:	6e01      	li	a2,1
710126cc:	6f00      	li	a3,0
710126ce:	b293      	lw	v0,71012918 <.L14+0x2c2>
710126d0:	eac0      	jalrc	v0
710126d2:	b58d      	lw	a1,71012904 <.L14+0x2ae>
710126d4:	a158      	lbu	v0,24(s1)
710126d6:	6762      	move	v1,v0
710126d8:	4bf7      	addiu	v1,-9
710126da:	b28c      	lw	v0,71012908 <.L14+0x2b2>
710126dc:	eb58      	mult	v1,v0
710126de:	f7c0 3263 	sra	v0,v1,31
710126e2:	ee10      	mfhi	a2
710126e4:	e653      	subu	a0,a2,v0
710126e6:	6744      	move	v0,a0
710126e8:	3244      	sll	v0,1
710126ea:	e289      	addu	v0,a0
710126ec:	e34f      	subu	v1,v0
710126ee:	6743      	move	v0,v1
710126f0:	3244      	sll	v0,1
710126f2:	e269      	addu	v0,v1
710126f4:	3348      	sll	v1,v0,2
710126f6:	b286      	lw	v0,7101290c <.L14+0x2b6>
710126f8:	e349      	addu	v0,v1,v0
710126fa:	6785      	move	a0,a1
710126fc:	67a2      	move	a1,v0
710126fe:	1802 4940 	jal	71012500 <BANK_FRONT_ENHANCED_2_ADDR_BASE>
71012702:	6500      	nop
71012704:	b284      	lw	v0,71012914 <.L14+0x2be>
71012706:	9a60      	lw	v1,0(v0)
71012708:	b57f      	lw	a1,71012904 <.L14+0x2ae>
7101270a:	6a08      	li	v0,8
7101270c:	d204      	sw	v0,16(sp)
7101270e:	6783      	move	a0,v1
71012710:	6e01      	li	a2,1
71012712:	6f00      	li	a3,0
71012714:	b281      	lw	v0,71012918 <.L14+0x2c2>
71012716:	eac0      	jalrc	v0
71012718:	b07e      	lw	s0,7101290c <.L14+0x2b6>
7101271a:	b27f      	lw	v0,71012914 <.L14+0x2be>
7101271c:	9a60      	lw	v1,0(v0)
7101271e:	b57a      	lw	a1,71012904 <.L14+0x2ae>
71012720:	f60c 6e00 	li	a2,26112
71012724:	6a06      	li	v0,6
71012726:	d204      	sw	v0,16(sp)
71012728:	6783      	move	a0,v1
7101272a:	6f00      	li	a3,0
7101272c:	b27b      	lw	v0,71012918 <.L14+0x2c2>
7101272e:	eac0      	jalrc	v0
71012730:	d840      	sw	v0,0(s0)
71012732:	b278      	lw	v0,71012910 <.L14+0x2ba>
71012734:	9a40      	lw	v0,0(v0)
71012736:	f080 220d 	beqz	v0,71012854 <.L14+0x1fe>
7101273a:	b277      	lw	v0,71012914 <.L14+0x2be>
7101273c:	9a60      	lw	v1,0(v0)
7101273e:	b275      	lw	v0,71012910 <.L14+0x2ba>
71012740:	9ac0      	lw	a2,0(v0)
71012742:	6a13      	li	v0,19
71012744:	d204      	sw	v0,16(sp)
71012746:	6783      	move	a0,v1
71012748:	6d02      	li	a1,2
7101274a:	6f00      	li	a3,0
7101274c:	b273      	lw	v0,71012918 <.L14+0x2c2>
7101274e:	eac0      	jalrc	v0
71012750:	b26d      	lw	v0,71012900 <.L14+0x2aa>
71012752:	f200 6b00 	li	v1,512
71012756:	6782      	move	a0,v0
71012758:	6d00      	li	a1,0
7101275a:	67c3      	move	a2,v1
7101275c:	6f01      	li	a3,1
7101275e:	b271      	lw	v0,71012920 <.L14+0x2ca>
71012760:	eac0      	jalrc	v0
71012762:	99a0      	lw	a1,0(s1)
71012764:	a158      	lbu	v0,24(s1)
71012766:	6762      	move	v1,v0
71012768:	4bf7      	addiu	v1,-9
7101276a:	b268      	lw	v0,71012908 <.L14+0x2b2>
7101276c:	eb58      	mult	v1,v0
7101276e:	f7c0 3263 	sra	v0,v1,31
71012772:	ee10      	mfhi	a2
71012774:	e653      	subu	a0,a2,v0
71012776:	6744      	move	v0,a0
71012778:	3244      	sll	v0,1
7101277a:	e289      	addu	v0,a0
7101277c:	e34f      	subu	v1,v0
7101277e:	6743      	move	v0,v1
71012780:	3244      	sll	v0,1
71012782:	e269      	addu	v0,v1
71012784:	3348      	sll	v1,v0,2
71012786:	b262      	lw	v0,7101290c <.L14+0x2b6>
71012788:	e349      	addu	v0,v1,v0
7101278a:	6785      	move	a0,a1
7101278c:	67a2      	move	a1,v0
7101278e:	6e08      	li	a2,8
71012790:	6f00      	li	a3,0
71012792:	b264      	lw	v0,71012920 <.L14+0x2ca>
71012794:	eac0      	jalrc	v0
71012796:	9960      	lw	v1,0(s1)
71012798:	6a00      	li	v0,0
7101279a:	cb44      	sh	v0,8(v1)
7101279c:	9960      	lw	v1,0(s1)
7101279e:	6a00      	li	v0,0
710127a0:	cb45      	sh	v0,10(v1)
710127a2:	9960      	lw	v1,0(s1)
710127a4:	6a63      	li	v0,99
710127a6:	cb46      	sh	v0,12(v1)
710127a8:	b357      	lw	v1,71012904 <.L14+0x2ae>
710127aa:	6a55      	li	v0,85
710127ac:	f1e0 c35e 	sb	v0,510(v1)
710127b0:	b355      	lw	v1,71012904 <.L14+0x2ae>
710127b2:	6a56      	li	v0,86
710127b4:	ea4b      	neg	v0
710127b6:	f1e0 c35f 	sb	v0,511(v1)
710127ba:	b257      	lw	v0,71012914 <.L14+0x2be>
710127bc:	9a60      	lw	v1,0(v0)
710127be:	b552      	lw	a1,71012904 <.L14+0x2ae>
710127c0:	f200 6e00 	li	a2,512
710127c4:	b253      	lw	v0,71012910 <.L14+0x2ba>
710127c6:	9ae0      	lw	a3,0(v0)
710127c8:	6a0e      	li	v0,14
710127ca:	d204      	sw	v0,16(sp)
710127cc:	6783      	move	a0,v1
710127ce:	b253      	lw	v0,71012918 <.L14+0x2c2>
710127d0:	eac0      	jalrc	v0
710127d2:	b24d      	lw	v0,71012904 <.L14+0x2ae>
710127d4:	f200 6b00 	li	v1,512
710127d8:	6782      	move	a0,v0
710127da:	6d00      	li	a1,0
710127dc:	67c3      	move	a2,v1
710127de:	6f01      	li	a3,1
710127e0:	b250      	lw	v0,71012920 <.L14+0x2ca>
710127e2:	eac0      	jalrc	v0
710127e4:	b24b      	lw	v0,7101290c <.L14+0x2b6>
710127e6:	9a40      	lw	v0,0(v0)
710127e8:	b347      	lw	v1,71012904 <.L14+0x2ae>
710127ea:	6782      	move	a0,v0
710127ec:	67a3      	move	a1,v1
710127ee:	1802 4959 	jal	71012564 <init_userpl_table>
710127f2:	6500      	nop
710127f4:	b248      	lw	v0,71012914 <.L14+0x2be>
710127f6:	9a60      	lw	v1,0(v0)
710127f8:	b246      	lw	v0,71012910 <.L14+0x2ba>
710127fa:	9aa0      	lw	a1,0(v0)
710127fc:	6a07      	li	v0,7
710127fe:	d204      	sw	v0,16(sp)
71012800:	6783      	move	a0,v1
71012802:	6e00      	li	a2,0
71012804:	6f00      	li	a3,0
71012806:	b245      	lw	v0,71012918 <.L14+0x2c2>
71012808:	eac0      	jalrc	v0
7101280a:	b53f      	lw	a1,71012904 <.L14+0x2ae>
7101280c:	a158      	lbu	v0,24(s1)
7101280e:	6762      	move	v1,v0
71012810:	4bf7      	addiu	v1,-9
71012812:	b23e      	lw	v0,71012908 <.L14+0x2b2>
71012814:	eb58      	mult	v1,v0
71012816:	f7c0 3263 	sra	v0,v1,31
7101281a:	ee10      	mfhi	a2
7101281c:	e653      	subu	a0,a2,v0
7101281e:	6744      	move	v0,a0
71012820:	3244      	sll	v0,1
71012822:	e289      	addu	v0,a0
71012824:	e34f      	subu	v1,v0
71012826:	6743      	move	v0,v1
71012828:	3244      	sll	v0,1
7101282a:	e269      	addu	v0,v1
7101282c:	3348      	sll	v1,v0,2
7101282e:	b238      	lw	v0,7101290c <.L14+0x2b6>
71012830:	e349      	addu	v0,v1,v0
71012832:	6785      	move	a0,a1
71012834:	67a2      	move	a1,v0
71012836:	1802 4940 	jal	71012500 <BANK_FRONT_ENHANCED_2_ADDR_BASE>
7101283a:	6500      	nop
7101283c:	b035      	lw	s0,71012910 <.L14+0x2ba>
7101283e:	b236      	lw	v0,71012914 <.L14+0x2be>
71012840:	9a60      	lw	v1,0(v0)
71012842:	b531      	lw	a1,71012904 <.L14+0x2ae>
71012844:	6a05      	li	v0,5
71012846:	d204      	sw	v0,16(sp)
71012848:	6783      	move	a0,v1
7101284a:	6e00      	li	a2,0
7101284c:	6f00      	li	a3,0
7101284e:	b233      	lw	v0,71012918 <.L14+0x2c2>
71012850:	eac0      	jalrc	v0
71012852:	d840      	sw	v0,0(s0)
71012854:	b22f      	lw	v0,71012910 <.L14+0x2ba>
71012856:	9a40      	lw	v0,0(v0)
71012858:	2238      	beqz	v0,710128ca <.L14+0x274>
7101285a:	b22f      	lw	v0,71012914 <.L14+0x2be>
7101285c:	9a60      	lw	v1,0(v0)
7101285e:	b632      	lw	a2,71012924 <.L14+0x2ce>
71012860:	6a03      	li	v0,3
71012862:	d204      	sw	v0,16(sp)
71012864:	6783      	move	a0,v1
71012866:	6d00      	li	a1,0
71012868:	6f00      	li	a3,0
7101286a:	b22c      	lw	v0,71012918 <.L14+0x2c2>
7101286c:	eac0      	jalrc	v0
7101286e:	b22a      	lw	v0,71012914 <.L14+0x2be>
71012870:	9a60      	lw	v1,0(v0)
71012872:	b525      	lw	a1,71012904 <.L14+0x2ae>
71012874:	f200 6e00 	li	a2,512
71012878:	b226      	lw	v0,71012910 <.L14+0x2ba>
7101287a:	9ae0      	lw	a3,0(v0)
7101287c:	6a0d      	li	v0,13
7101287e:	d204      	sw	v0,16(sp)
71012880:	6783      	move	a0,v1
71012882:	b226      	lw	v0,71012918 <.L14+0x2c2>
71012884:	eac0      	jalrc	v0
71012886:	b329      	lw	v1,71012928 <.L14+0x2d2>
71012888:	6a00      	li	v0,0
7101288a:	c340      	sb	v0,0(v1)
7101288c:	b222      	lw	v0,71012914 <.L14+0x2be>
7101288e:	9a60      	lw	v1,0(v0)
71012890:	b220      	lw	v0,71012910 <.L14+0x2ba>
71012892:	9aa0      	lw	a1,0(v0)
71012894:	6a07      	li	v0,7
71012896:	d204      	sw	v0,16(sp)
71012898:	6783      	move	a0,v1
7101289a:	6e00      	li	a2,0
7101289c:	6f00      	li	a3,0
7101289e:	b21f      	lw	v0,71012918 <.L14+0x2c2>
710128a0:	eac0      	jalrc	v0
710128a2:	b31c      	lw	v1,71012910 <.L14+0x2ba>
710128a4:	6a00      	li	v0,0
710128a6:	db40      	sw	v0,0(v1)
710128a8:	b217      	lw	v0,71012904 <.L14+0x2ae>
710128aa:	f1e0 a25e 	lbu	v0,510(v0)
710128ae:	7255      	cmpi	v0,85
710128b0:	6758      	move	v0,t8
710128b2:	5a01      	sltiu	v0,1
710128b4:	f6df 600f 	bteqz	71012656 <.L14>
710128b8:	b213      	lw	v0,71012904 <.L14+0x2ae>
710128ba:	f1e0 a25f 	lbu	v0,511(v0)
710128be:	72aa      	cmpi	v0,170
710128c0:	67b8      	move	a1,t8
710128c2:	5d01      	sltiu	a1,1
710128c4:	f6df 6007 	bteqz	71012656 <.L14>
710128c8:	1003      	b	710128d0 <.L14+0x27a>
710128ca:	6e00      	li	a2,0
710128cc:	d9c1      	sw	a2,4(s1)
710128ce:	1016      	b	710128fc <.L14+0x2a6>
710128d0:	b317      	lw	v1,7101292c <.L14+0x2d6>
710128d2:	9940      	lw	v0,0(s1)
710128d4:	aa44      	lhu	v0,8(v0)
710128d6:	cb40      	sh	v0,0(v1)
710128d8:	b316      	lw	v1,71012930 <.L14+0x2da>
710128da:	b215      	lw	v0,7101292c <.L14+0x2d6>
710128dc:	aa40      	lhu	v0,0(v0)
710128de:	cb40      	sh	v0,0(v1)
710128e0:	b315      	lw	v1,71012934 <.L14+0x2de>
710128e2:	9940      	lw	v0,0(s1)
710128e4:	aa45      	lhu	v0,10(v0)
710128e6:	cb40      	sh	v0,0(v1)
710128e8:	b314      	lw	v1,71012938 <.L14+0x2e2>
710128ea:	9940      	lw	v0,0(s1)
710128ec:	aa46      	lhu	v0,12(v0)
710128ee:	cb40      	sh	v0,0(v1)
710128f0:	b313      	lw	v1,7101293c <.L14+0x2e6>
710128f2:	b211      	lw	v0,71012934 <.L14+0x2de>
710128f4:	aa40      	lhu	v0,0(v0)
710128f6:	cb40      	sh	v0,0(v1)
710128f8:	6a01      	li	v0,1
710128fa:	d941      	sw	v0,4(s1)
710128fc:	9941      	lw	v0,4(s1)
710128fe:	65b9      	move	sp,s1
71012900:	6473      	restore	24,ra,s0-s1
71012902:	e8a0      	jrc	ra
71012904:	b72c      	lw	a3,710129b0 <mod_open_playlist+0x60>
71012906:	7801      	sd	s0,8(s0)
71012908:	5556      	slti	a1,86
7101290a:	5555      	slti	a1,85
7101290c:	2b20      	bnez	v1,7101294e <open_vm_userpl+0xe>
7101290e:	7101      	cmpi	s1,1
71012910:	5c00      	sltiu	a0,0
71012912:	9fc1      	lw	a2,4(a3)
71012914:	5c04      	sltiu	a0,4
71012916:	9fc1      	lw	a2,4(a3)
71012918:	6411      	restore	8,s1
7101291a:	bfc1      	lwu	a2,4(a3)
7101291c:	2b44      	bnez	v1,710129a6 <mod_open_playlist+0x56>
7101291e:	7101      	cmpi	s1,1
71012920:	6409      	restore	72
71012922:	bfc1      	lwu	a2,4(a3)
71012924:	5c48      	sltiu	a0,72
71012926:	9fc1      	lw	a2,4(a3)
71012928:	5bfe      	sltiu	v1,254
7101292a:	9fc1      	lw	a2,4(a3)
7101292c:	5bf4      	sltiu	v1,244
7101292e:	9fc1      	lw	a2,4(a3)
71012930:	5c14      	sltiu	a0,20
71012932:	9fc1      	lw	a2,4(a3)
71012934:	5c16      	sltiu	a0,22
71012936:	9fc1      	lw	a2,4(a3)
71012938:	5c18      	sltiu	a0,24
7101293a:	9fc1      	lw	a2,4(a3)
7101293c:	5c1a      	sltiu	a0,26
7101293e:	9fc1      	lw	a2,4(a3)

71012940 <open_vm_userpl>:
71012940:	6491      	save	8,s1
71012942:	673d      	move	s1,sp
71012944:	6744      	move	v0,a0
71012946:	c148      	sb	v0,8(s1)
71012948:	6a01      	li	v0,1
7101294a:	65b9      	move	sp,s1
7101294c:	6411      	restore	8,s1
7101294e:	e8a0      	jrc	ra

71012950 <mod_open_playlist>:
71012950:	64f7      	save	56,ra,s0-s1
71012952:	0106      	addiu	s1,sp,24
71012954:	6744      	move	v0,a0
71012956:	f020 c140 	sb	v0,32(s1)
7101295a:	6a01      	li	v0,1
7101295c:	c148      	sb	v0,8(s1)
7101295e:	f020 a140 	lbu	v0,32(s1)
71012962:	7203      	cmpi	v0,3
71012964:	6758      	move	v0,t8
71012966:	5a01      	sltiu	v0,1
71012968:	6003      	bteqz	71012970 <mod_open_playlist+0x20>
7101296a:	6a00      	li	v0,0
7101296c:	c149      	sb	v0,9(s1)
7101296e:	1008      	b	71012980 <mod_open_playlist+0x30>
71012970:	f020 a140 	lbu	v0,32(s1)
71012974:	7208      	cmpi	v0,8
71012976:	6758      	move	v0,t8
71012978:	5a01      	sltiu	v0,1
7101297a:	6002      	bteqz	71012980 <mod_open_playlist+0x30>
7101297c:	6a01      	li	v0,1
7101297e:	c149      	sb	v0,9(s1)
71012980:	b457      	lw	a0,71012adc <mod_open_playlist+0x18c>
71012982:	a169      	lbu	v1,9(s1)
71012984:	6743      	move	v0,v1
71012986:	3244      	sll	v0,1
71012988:	e269      	addu	v0,v1
7101298a:	3348      	sll	v1,v0,2
7101298c:	b255      	lw	v0,71012ae0 <mod_open_playlist+0x190>
7101298e:	e349      	addu	v0,v1,v0
71012990:	67a2      	move	a1,v0
71012992:	1802 4940 	jal	71012500 <BANK_FRONT_ENHANCED_2_ADDR_BASE>
71012996:	6500      	nop
71012998:	b053      	lw	s0,71012ae4 <mod_open_playlist+0x194>
7101299a:	b254      	lw	v0,71012ae8 <mod_open_playlist+0x198>
7101299c:	9a60      	lw	v1,0(v0)
7101299e:	b550      	lw	a1,71012adc <mod_open_playlist+0x18c>
710129a0:	6a05      	li	v0,5
710129a2:	d204      	sw	v0,16(sp)
710129a4:	6783      	move	a0,v1
710129a6:	6e00      	li	a2,0
710129a8:	6f00      	li	a3,0
710129aa:	b251      	lw	v0,71012aec <mod_open_playlist+0x19c>
710129ac:	eac0      	jalrc	v0
710129ae:	d840      	sw	v0,0(s0)
710129b0:	b24d      	lw	v0,71012ae4 <mod_open_playlist+0x194>
710129b2:	9a40      	lw	v0,0(v0)
710129b4:	2a27      	bnez	v0,71012a04 <mod_open_playlist+0xb4>
710129b6:	a169      	lbu	v1,9(s1)
710129b8:	6743      	move	v0,v1
710129ba:	3244      	sll	v0,1
710129bc:	e269      	addu	v0,v1
710129be:	3348      	sll	v1,v0,2
710129c0:	b24c      	lw	v0,71012af0 <mod_open_playlist+0x1a0>
710129c2:	e349      	addu	v0,v1,v0
710129c4:	6782      	move	a0,v0
710129c6:	6d00      	li	a1,0
710129c8:	6e00      	li	a2,0
710129ca:	6f03      	li	a3,3
710129cc:	b24a      	lw	v0,71012af4 <mod_open_playlist+0x1a4>
710129ce:	eac0      	jalrc	v0
710129d0:	651a      	move	t8,v0
710129d2:	b443      	lw	a0,71012adc <mod_open_playlist+0x18c>
710129d4:	a169      	lbu	v1,9(s1)
710129d6:	6743      	move	v0,v1
710129d8:	3244      	sll	v0,1
710129da:	e269      	addu	v0,v1
710129dc:	3348      	sll	v1,v0,2
710129de:	b245      	lw	v0,71012af0 <mod_open_playlist+0x1a0>
710129e0:	e349      	addu	v0,v1,v0
710129e2:	67a2      	move	a1,v0
710129e4:	67d8      	move	a2,t8
710129e6:	6f00      	li	a3,0
710129e8:	b243      	lw	v0,71012af4 <mod_open_playlist+0x1a4>
710129ea:	eac0      	jalrc	v0
710129ec:	b03e      	lw	s0,71012ae0 <mod_open_playlist+0x190>
710129ee:	b23f      	lw	v0,71012ae8 <mod_open_playlist+0x198>
710129f0:	9a60      	lw	v1,0(v0)
710129f2:	b53b      	lw	a1,71012adc <mod_open_playlist+0x18c>
710129f4:	6a05      	li	v0,5
710129f6:	d204      	sw	v0,16(sp)
710129f8:	6783      	move	a0,v1
710129fa:	6e00      	li	a2,0
710129fc:	6f00      	li	a3,0
710129fe:	b23c      	lw	v0,71012aec <mod_open_playlist+0x19c>
71012a00:	eac0      	jalrc	v0
71012a02:	d840      	sw	v0,0(s0)
71012a04:	b238      	lw	v0,71012ae4 <mod_open_playlist+0x194>
71012a06:	9a40      	lw	v0,0(v0)
71012a08:	2261      	beqz	v0,71012acc <mod_open_playlist+0x17c>
71012a0a:	b238      	lw	v0,71012ae8 <mod_open_playlist+0x198>
71012a0c:	9a60      	lw	v1,0(v0)
71012a0e:	b63b      	lw	a2,71012af8 <mod_open_playlist+0x1a8>
71012a10:	6a03      	li	v0,3
71012a12:	d204      	sw	v0,16(sp)
71012a14:	6783      	move	a0,v1
71012a16:	6d00      	li	a1,0
71012a18:	6f00      	li	a3,0
71012a1a:	b235      	lw	v0,71012aec <mod_open_playlist+0x19c>
71012a1c:	eac0      	jalrc	v0
71012a1e:	b233      	lw	v0,71012ae8 <mod_open_playlist+0x198>
71012a20:	9a60      	lw	v1,0(v0)
71012a22:	b52f      	lw	a1,71012adc <mod_open_playlist+0x18c>
71012a24:	f200 6e00 	li	a2,512
71012a28:	b22f      	lw	v0,71012ae4 <mod_open_playlist+0x194>
71012a2a:	9ae0      	lw	a3,0(v0)
71012a2c:	6a0d      	li	v0,13
71012a2e:	d204      	sw	v0,16(sp)
71012a30:	6783      	move	a0,v1
71012a32:	b22f      	lw	v0,71012aec <mod_open_playlist+0x19c>
71012a34:	eac0      	jalrc	v0
71012a36:	b22a      	lw	v0,71012adc <mod_open_playlist+0x18c>
71012a38:	f1e0 a25e 	lbu	v0,510(v0)
71012a3c:	7255      	cmpi	v0,85
71012a3e:	6758      	move	v0,t8
71012a40:	5a01      	sltiu	v0,1
71012a42:	6033      	bteqz	71012aaa <mod_open_playlist+0x15a>
71012a44:	b226      	lw	v0,71012adc <mod_open_playlist+0x18c>
71012a46:	f1e0 a25f 	lbu	v0,511(v0)
71012a4a:	72aa      	cmpi	v0,170
71012a4c:	6758      	move	v0,t8
71012a4e:	5a01      	sltiu	v0,1
71012a50:	602c      	bteqz	71012aaa <mod_open_playlist+0x15a>
71012a52:	b223      	lw	v0,71012adc <mod_open_playlist+0x18c>
71012a54:	d940      	sw	v0,0(s1)
71012a56:	b32a      	lw	v1,71012afc <mod_open_playlist+0x1ac>
71012a58:	9940      	lw	v0,0(s1)
71012a5a:	aa44      	lhu	v0,8(v0)
71012a5c:	cb40      	sh	v0,0(v1)
71012a5e:	b329      	lw	v1,71012b00 <mod_open_playlist+0x1b0>
71012a60:	9940      	lw	v0,0(s1)
71012a62:	aa45      	lhu	v0,10(v0)
71012a64:	cb40      	sh	v0,0(v1)
71012a66:	b328      	lw	v1,71012b04 <mod_open_playlist+0x1b4>
71012a68:	6a00      	li	v0,0
71012a6a:	c340      	sb	v0,0(v1)
71012a6c:	b327      	lw	v1,71012b08 <mod_open_playlist+0x1b8>
71012a6e:	6a00      	li	v0,0
71012a70:	cb40      	sh	v0,0(v1)
71012a72:	b327      	lw	v1,71012b0c <mod_open_playlist+0x1bc>
71012a74:	b222      	lw	v0,71012afc <mod_open_playlist+0x1ac>
71012a76:	aa40      	lhu	v0,0(v0)
71012a78:	cb40      	sh	v0,0(v1)
71012a7a:	b326      	lw	v1,71012b10 <mod_open_playlist+0x1c0>
71012a7c:	6a00      	li	v0,0
71012a7e:	cb40      	sh	v0,0(v1)
71012a80:	b225      	lw	v0,71012b14 <mod_open_playlist+0x1c4>
71012a82:	d941      	sw	v0,4(s1)
71012a84:	b225      	lw	v0,71012b18 <mod_open_playlist+0x1c8>
71012a86:	6782      	move	a0,v0
71012a88:	6d00      	li	a1,0
71012a8a:	6e14      	li	a2,20
71012a8c:	6f01      	li	a3,1
71012a8e:	b21a      	lw	v0,71012af4 <mod_open_playlist+0x1a4>
71012a90:	eac0      	jalrc	v0
71012a92:	b322      	lw	v1,71012b18 <mod_open_playlist+0x1c8>
71012a94:	9941      	lw	v0,4(s1)
71012a96:	aa4a      	lhu	v0,20(v0)
71012a98:	cb46      	sh	v0,12(v1)
71012a9a:	b320      	lw	v1,71012b18 <mod_open_playlist+0x1c8>
71012a9c:	9941      	lw	v0,4(s1)
71012a9e:	aa4b      	lhu	v0,22(v0)
71012aa0:	cb47      	sh	v0,14(v1)
71012aa2:	b31f      	lw	v1,71012b1c <mod_open_playlist+0x1cc>
71012aa4:	6a00      	li	v0,0
71012aa6:	c340      	sb	v0,0(v1)
71012aa8:	1002      	b	71012aae <mod_open_playlist+0x15e>
71012aaa:	6a00      	li	v0,0
71012aac:	c148      	sb	v0,8(s1)
71012aae:	b20f      	lw	v0,71012ae8 <mod_open_playlist+0x198>
71012ab0:	9a60      	lw	v1,0(v0)
71012ab2:	b20d      	lw	v0,71012ae4 <mod_open_playlist+0x194>
71012ab4:	9aa0      	lw	a1,0(v0)
71012ab6:	6a07      	li	v0,7
71012ab8:	d204      	sw	v0,16(sp)
71012aba:	6783      	move	a0,v1
71012abc:	6e00      	li	a2,0
71012abe:	6f00      	li	a3,0
71012ac0:	b20b      	lw	v0,71012aec <mod_open_playlist+0x19c>
71012ac2:	eac0      	jalrc	v0
71012ac4:	b308      	lw	v1,71012ae0 <mod_open_playlist+0x190>
71012ac6:	6a00      	li	v0,0
71012ac8:	db40      	sw	v0,0(v1)
71012aca:	1002      	b	71012ad0 <mod_open_playlist+0x180>
71012acc:	6a00      	li	v0,0
71012ace:	c148      	sb	v0,8(s1)
71012ad0:	a148      	lbu	v0,8(s1)
71012ad2:	651a      	move	t8,v0
71012ad4:	6758      	move	v0,t8
71012ad6:	65b9      	move	sp,s1
71012ad8:	6474      	restore	32,ra,s0-s1
71012ada:	e8a0      	jrc	ra
71012adc:	b72c      	lw	a3,71012b88 <plist_lib_name+0x20>
71012ade:	7801      	sd	s0,8(s0)
71012ae0:	2b68      	bnez	v1,71012bb2 <plist_lib_name_short+0x1a>
71012ae2:	7101      	cmpi	s1,1
71012ae4:	5c00      	sltiu	a0,0
71012ae6:	9fc1      	lw	a2,4(a3)
71012ae8:	5c04      	sltiu	a0,4
71012aea:	9fc1      	lw	a2,4(a3)
71012aec:	6411      	restore	8,s1
71012aee:	bfc1      	lwu	a2,4(a3)
71012af0:	2b98      	bnez	v1,71012a22 <mod_open_playlist+0xd2>
71012af2:	7101      	cmpi	s1,1
71012af4:	6409      	restore	72
71012af6:	bfc1      	lwu	a2,4(a3)
71012af8:	5c48      	sltiu	a0,72
71012afa:	9fc1      	lw	a2,4(a3)
71012afc:	5c32      	sltiu	a0,50
71012afe:	9fc1      	lw	a2,4(a3)
71012b00:	5c34      	sltiu	a0,52
71012b02:	9fc1      	lw	a2,4(a3)
71012b04:	5bef      	sltiu	v1,239
71012b06:	9fc1      	lw	a2,4(a3)
71012b08:	5c46      	sltiu	a0,70
71012b0a:	9fc1      	lw	a2,4(a3)
71012b0c:	5bf4      	sltiu	v1,244
71012b0e:	9fc1      	lw	a2,4(a3)
71012b10:	5c40      	sltiu	a0,64
71012b12:	9fc1      	lw	a2,4(a3)
71012b14:	b73c      	lw	a3,71012c04 <plist_lib_name_short+0x6c>
71012b16:	7801      	sd	s0,8(s0)
71012b18:	5c1c      	sltiu	a0,28
71012b1a:	9fc1      	lw	a2,4(a3)
71012b1c:	5bfe      	sltiu	v1,254
71012b1e:	9fc1      	lw	a2,4(a3)

71012b20 <userpl_name>:
71012b20:	5355 5245 4c50 2e31 4c50 0000 5355 5245     USERPL1.PL..USER
71012b30:	4c50 2e32 4c50 0000 5355 5245 4c50 2e33     PL2.PL..USERPL3.
71012b40:	4c50 0000                                   PL..

71012b44 <userpl_name_short>:
71012b44:	5355 5245 4c50 2031 4c50 0020 5355 5245     USERPL1 PL .USER
71012b54:	4c50 2032 4c50 0020 5355 5245 4c50 2033     PL2 PL .USERPL3 
71012b64:	4c50 0020                                   PL .

71012b68 <plist_lib_name>:
71012b68:	554d 4953 2e43 494c 0042 0000 5541 4944     MUSIC.LIB...AUDI
71012b78:	4c42 2e45 494c 0042 334d 2e55 494c 0042     BLE.LIB.M3U.LIB.
	...

71012b98 <plist_lib_name_short>:
71012b98:	554d 4953 2043 2020 494c 0042 5541 4944     MUSIC   LIB.AUDI
71012ba8:	4c42 2045 494c 0042 334d 2055 2020 2020     BLE LIB.M3U     
71012bb8:	494c 0042 0000 0000 0000 0000 0000 0000     LIB.............
	...
Disassembly of section BANK_FRONT_ENHANCED_ID3_2_0:

71052500 <mp3_select_genre>:
71052500:	64d5      	save	40,ra,s1
71052502:	0104      	addiu	s1,sp,16
71052504:	d986      	sw	a0,24(s1)
71052506:	6745      	move	v0,a1
71052508:	c15c      	sb	v0,28(s1)
7105250a:	a15c      	lbu	v0,28(s1)
7105250c:	5a94      	sltiu	v0,148
7105250e:	6107      	btnez	7105251e <mp3_select_genre+0x1e>
71052510:	9946      	lw	v0,24(s1)
71052512:	9a63      	lw	v1,12(v0)
71052514:	6a00      	li	v0,0
71052516:	c340      	sb	v0,0(v1)
71052518:	6a00      	li	v0,0
7105251a:	d942      	sw	v0,8(s1)
7105251c:	103c      	b	71052596 <mp3_select_genre+0x96>
7105251e:	b321      	lw	v1,710525a0 <mp3_select_genre+0xa0>
71052520:	a15c      	lbu	v0,28(s1)
71052522:	3244      	sll	v0,1
71052524:	e269      	addu	v0,v1
71052526:	aa60      	lhu	v1,0(v0)
71052528:	b21f      	lw	v0,710525a4 <mp3_select_genre+0xa4>
7105252a:	e349      	addu	v0,v1,v0
7105252c:	d940      	sw	v0,0(s1)
7105252e:	b51d      	lw	a1,710525a0 <mp3_select_genre+0xa0>
71052530:	a15c      	lbu	v0,28(s1)
71052532:	4281      	addiu	a0,v0,1
71052534:	338a      	srl	v1,a0,2
71052536:	b21d      	lw	v0,710525a8 <mp3_select_genre+0xa8>
71052538:	eb59      	multu	v1,v0
7105253a:	ea10      	mfhi	v0
7105253c:	334a      	srl	v1,v0,2
7105253e:	6743      	move	v0,v1
71052540:	324c      	sll	v0,3
71052542:	e269      	addu	v0,v1
71052544:	3248      	sll	v0,2
71052546:	e269      	addu	v0,v1
71052548:	3248      	sll	v0,2
7105254a:	e44b      	subu	v0,a0,v0
7105254c:	3244      	sll	v0,1
7105254e:	e2b1      	addu	a0,v0,a1
71052550:	b314      	lw	v1,710525a0 <mp3_select_genre+0xa0>
71052552:	a15c      	lbu	v0,28(s1)
71052554:	3244      	sll	v0,1
71052556:	e269      	addu	v0,v1
71052558:	ac60      	lhu	v1,0(a0)
7105255a:	aa40      	lhu	v0,0(v0)
7105255c:	e34b      	subu	v0,v1,v0
7105255e:	c942      	sh	v0,4(s1)
71052560:	a962      	lhu	v1,4(s1)
71052562:	9946      	lw	v0,24(s1)
71052564:	a25b      	lbu	v0,27(v0)
71052566:	424f      	addiu	v0,v0,-1
71052568:	ea62      	slt	v0,v1
7105256a:	6004      	bteqz	71052574 <mp3_select_genre+0x74>
7105256c:	9946      	lw	v0,24(s1)
7105256e:	a25b      	lbu	v0,27(v0)
71052570:	424f      	addiu	v0,v0,-1
71052572:	c942      	sh	v0,4(s1)
71052574:	9946      	lw	v0,24(s1)
71052576:	9a43      	lw	v0,12(v0)
71052578:	9960      	lw	v1,0(s1)
7105257a:	a9c2      	lhu	a2,4(s1)
7105257c:	6782      	move	a0,v0
7105257e:	67a3      	move	a1,v1
71052580:	6f00      	li	a3,0
71052582:	b20b      	lw	v0,710525ac <mp3_select_genre+0xac>
71052584:	eac0      	jalrc	v0
71052586:	9946      	lw	v0,24(s1)
71052588:	a962      	lhu	v1,4(s1)
7105258a:	9a43      	lw	v0,12(v0)
7105258c:	e34d      	addu	v1,v0
7105258e:	6a00      	li	v0,0
71052590:	c340      	sb	v0,0(v1)
71052592:	6a01      	li	v0,1
71052594:	d942      	sw	v0,8(s1)
71052596:	9942      	lw	v0,8(s1)
71052598:	65b9      	move	sp,s1
7105259a:	6453      	restore	24,ra,s1
7105259c:	e8a0      	jrc	ra
7105259e:	0000      	addiu	s0,sp,0
710525a0:	273c      	beqz	a3,7105261a <mp3_v1_parse+0x6a>
710525a2:	7105      	cmpi	s1,5
710525a4:	2864      	bnez	s0,7105266e <mp3_v1_parse+0xbe>
710525a6:	7105      	cmpi	s1,5
710525a8:	f915      	sd	s0,168(sp)
710525aa:	1bac 6409 	jal	76759024 <.L51+0x4f46726>
710525ae:	bfc1      	lwu	a2,4(a3)

710525b0 <mp3_v1_parse>:
710525b0:	64d5      	save	40,ra,s1
710525b2:	0106      	addiu	s1,sp,24
710525b4:	b259      	lw	v0,71052718 <mp3_v1_parse+0x168>
710525b6:	9a60      	lw	v1,0(v0)
710525b8:	b259      	lw	v0,7105271c <mp3_v1_parse+0x16c>
710525ba:	9ac0      	lw	a2,0(v0)
710525bc:	6a09      	li	v0,9
710525be:	d204      	sw	v0,16(sp)
710525c0:	6783      	move	a0,v1
710525c2:	67b1      	move	a1,s1
710525c4:	6f00      	li	a3,0
710525c6:	b257      	lw	v0,71052720 <mp3_v1_parse+0x170>
710525c8:	eac0      	jalrc	v0
710525ca:	651a      	move	t8,v0
710525cc:	6758      	move	v0,t8
710525ce:	ea11      	zeb	v0
710525d0:	2a03      	bnez	v0,710525d8 <mp3_v1_parse+0x28>
710525d2:	6a00      	li	v0,0
710525d4:	d941      	sw	v0,4(s1)
710525d6:	109b      	b	7105270e <mp3_v1_parse+0x15e>
710525d8:	9940      	lw	v0,0(s1)
710525da:	f200 5a00 	sltiu	v0,512
710525de:	6003      	bteqz	710525e6 <mp3_v1_parse+0x36>
710525e0:	6a00      	li	v0,0
710525e2:	d941      	sw	v0,4(s1)
710525e4:	1094      	b	7105270e <mp3_v1_parse+0x15e>
710525e6:	b24d      	lw	v0,71052718 <mp3_v1_parse+0x168>
710525e8:	9a60      	lw	v1,0(v0)
710525ea:	9940      	lw	v0,0(s1)
710525ec:	67a2      	move	a1,v0
710525ee:	4d80      	addiu	a1,-128
710525f0:	b24b      	lw	v0,7105271c <mp3_v1_parse+0x16c>
710525f2:	9ae0      	lw	a3,0(v0)
710525f4:	6a0b      	li	v0,11
710525f6:	d204      	sw	v0,16(sp)
710525f8:	6783      	move	a0,v1
710525fa:	6e00      	li	a2,0
710525fc:	b249      	lw	v0,71052720 <mp3_v1_parse+0x170>
710525fe:	eac0      	jalrc	v0
71052600:	b246      	lw	v0,71052714 <mp3_v1_parse+0x164>
71052602:	9a60      	lw	v1,0(v0)
71052604:	b548      	lw	a1,71052724 <mp3_v1_parse+0x174>
71052606:	b246      	lw	v0,7105271c <mp3_v1_parse+0x16c>
71052608:	9ae0      	lw	a3,0(v0)
7105260a:	6a0d      	li	v0,13
7105260c:	d204      	sw	v0,16(sp)
7105260e:	6783      	move	a0,v1
71052610:	6e80      	li	a2,128
71052612:	b244      	lw	v0,71052720 <mp3_v1_parse+0x170>
71052614:	eac0      	jalrc	v0
71052616:	b244      	lw	v0,71052724 <mp3_v1_parse+0x174>
71052618:	a240      	lbu	v0,0(v0)
7105261a:	7254      	cmpi	v0,84
7105261c:	6758      	move	v0,t8
7105261e:	5a01      	sltiu	v0,1
71052620:	6074      	bteqz	7105270a <mp3_v1_parse+0x15a>
71052622:	b241      	lw	v0,71052724 <mp3_v1_parse+0x174>
71052624:	a241      	lbu	v0,1(v0)
71052626:	7241      	cmpi	v0,65
71052628:	6758      	move	v0,t8
7105262a:	5a01      	sltiu	v0,1
7105262c:	606e      	bteqz	7105270a <mp3_v1_parse+0x15a>
7105262e:	b23e      	lw	v0,71052724 <mp3_v1_parse+0x174>
71052630:	a242      	lbu	v0,2(v0)
71052632:	7247      	cmpi	v0,71
71052634:	6758      	move	v0,t8
71052636:	5a01      	sltiu	v0,1
71052638:	6068      	bteqz	7105270a <mp3_v1_parse+0x15a>
7105263a:	b23c      	lw	v0,71052728 <mp3_v1_parse+0x178>
7105263c:	9a40      	lw	v0,0(v0)
7105263e:	a258      	lbu	v0,24(v0)
71052640:	2217      	beqz	v0,71052670 <mp3_v1_parse+0xc0>
71052642:	b23a      	lw	v0,71052728 <mp3_v1_parse+0x178>
71052644:	9a40      	lw	v0,0(v0)
71052646:	9a60      	lw	v1,0(v0)
71052648:	b539      	lw	a1,7105272c <mp3_v1_parse+0x17c>
7105264a:	b238      	lw	v0,71052728 <mp3_v1_parse+0x178>
7105264c:	9a40      	lw	v0,0(v0)
7105264e:	a258      	lbu	v0,24(v0)
71052650:	424e      	addiu	v0,v0,-2
71052652:	6783      	move	a0,v1
71052654:	67c2      	move	a2,v0
71052656:	6f00      	li	a3,0
71052658:	b236      	lw	v0,71052730 <mp3_v1_parse+0x180>
7105265a:	eac0      	jalrc	v0
7105265c:	b233      	lw	v0,71052724 <mp3_v1_parse+0x174>
7105265e:	9a80      	lw	a0,0(v0)
71052660:	b232      	lw	v0,71052728 <mp3_v1_parse+0x178>
71052662:	9a40      	lw	v0,0(v0)
71052664:	a278      	lbu	v1,24(v0)
71052666:	9c40      	lw	v0,0(a0)
71052668:	e34d      	addu	v1,v0
7105266a:	6a00      	li	v0,0
7105266c:	f7ff c35e 	sb	v0,-2(v1)
71052670:	b22e      	lw	v0,71052728 <mp3_v1_parse+0x178>
71052672:	9a40      	lw	v0,0(v0)
71052674:	a259      	lbu	v0,25(v0)
71052676:	2217      	beqz	v0,710526a6 <mp3_v1_parse+0xf6>
71052678:	b22c      	lw	v0,71052728 <mp3_v1_parse+0x178>
7105267a:	9a40      	lw	v0,0(v0)
7105267c:	9a61      	lw	v1,4(v0)
7105267e:	b52e      	lw	a1,71052734 <mp3_v1_parse+0x184>
71052680:	b22a      	lw	v0,71052728 <mp3_v1_parse+0x178>
71052682:	9a40      	lw	v0,0(v0)
71052684:	a259      	lbu	v0,25(v0)
71052686:	424e      	addiu	v0,v0,-2
71052688:	6783      	move	a0,v1
7105268a:	67c2      	move	a2,v0
7105268c:	6f00      	li	a3,0
7105268e:	b229      	lw	v0,71052730 <mp3_v1_parse+0x180>
71052690:	eac0      	jalrc	v0
71052692:	b226      	lw	v0,71052728 <mp3_v1_parse+0x178>
71052694:	9a80      	lw	a0,0(v0)
71052696:	b225      	lw	v0,71052728 <mp3_v1_parse+0x178>
71052698:	9a40      	lw	v0,0(v0)
7105269a:	a279      	lbu	v1,25(v0)
7105269c:	9c41      	lw	v0,4(a0)
7105269e:	e34d      	addu	v1,v0
710526a0:	6a00      	li	v0,0
710526a2:	f7ff c35e 	sb	v0,-2(v1)
710526a6:	b221      	lw	v0,71052728 <mp3_v1_parse+0x178>
710526a8:	9a40      	lw	v0,0(v0)
710526aa:	a25a      	lbu	v0,26(v0)
710526ac:	2217      	beqz	v0,710526dc <mp3_v1_parse+0x12c>
710526ae:	b21f      	lw	v0,71052728 <mp3_v1_parse+0x178>
710526b0:	9a40      	lw	v0,0(v0)
710526b2:	9a62      	lw	v1,8(v0)
710526b4:	b521      	lw	a1,71052738 <mp3_v1_parse+0x188>
710526b6:	b21d      	lw	v0,71052728 <mp3_v1_parse+0x178>
710526b8:	9a40      	lw	v0,0(v0)
710526ba:	a25a      	lbu	v0,26(v0)
710526bc:	424e      	addiu	v0,v0,-2
710526be:	6783      	move	a0,v1
710526c0:	67c2      	move	a2,v0
710526c2:	6f00      	li	a3,0
710526c4:	b21b      	lw	v0,71052730 <mp3_v1_parse+0x180>
710526c6:	eac0      	jalrc	v0
710526c8:	b218      	lw	v0,71052724 <mp3_v1_parse+0x174>
710526ca:	9a80      	lw	a0,0(v0)
710526cc:	b217      	lw	v0,71052728 <mp3_v1_parse+0x178>
710526ce:	9a40      	lw	v0,0(v0)
710526d0:	a27a      	lbu	v1,26(v0)
710526d2:	9c42      	lw	v0,8(a0)
710526d4:	e34d      	addu	v1,v0
710526d6:	6a00      	li	v0,0
710526d8:	f7ff c35e 	sb	v0,-2(v1)
710526dc:	b213      	lw	v0,71052728 <mp3_v1_parse+0x178>
710526de:	9a40      	lw	v0,0(v0)
710526e0:	a25b      	lbu	v0,27(v0)
710526e2:	220a      	beqz	v0,710526f8 <mp3_v1_parse+0x148>
710526e4:	b211      	lw	v0,71052728 <mp3_v1_parse+0x178>
710526e6:	9a60      	lw	v1,0(v0)
710526e8:	b20f      	lw	v0,71052724 <mp3_v1_parse+0x174>
710526ea:	f060 a25f 	lbu	v0,127(v0)
710526ee:	6783      	move	a0,v1
710526f0:	67a2      	move	a1,v0
710526f2:	1822 4940 	jal	71052500 <mp3_select_genre>
710526f6:	6500      	nop
710526f8:	b20c      	lw	v0,71052728 <mp3_v1_parse+0x178>
710526fa:	9a60      	lw	v1,0(v0)
710526fc:	b20a      	lw	v0,71052724 <mp3_v1_parse+0x174>
710526fe:	f060 a25e 	lbu	v0,126(v0)
71052702:	cb51      	sh	v0,34(v1)
71052704:	6a01      	li	v0,1
71052706:	d941      	sw	v0,4(s1)
71052708:	1002      	b	7105270e <mp3_v1_parse+0x15e>
7105270a:	6a00      	li	v0,0
7105270c:	d941      	sw	v0,4(s1)
7105270e:	9941      	lw	v0,4(s1)
71052710:	65b9      	move	sp,s1
71052712:	6452      	restore	16,ra,s1
71052714:	e8a0      	jrc	ra
71052716:	0000      	addiu	s0,sp,0
71052718:	5c04      	sltiu	a0,4
7105271a:	9fc1      	lw	a2,4(a3)
7105271c:	5c74      	sltiu	a0,116
7105271e:	9fc1      	lw	a2,4(a3)
71052720:	6411      	restore	8,s1
71052722:	bfc1      	lwu	a2,4(a3)
71052724:	b69c      	lw	a2,71052994 <genre_tab+0x130>
71052726:	7805      	sd	s0,40(s0)
71052728:	b934      	lwu	s1,80(s1)
7105272a:	7805      	sd	s0,40(s0)
7105272c:	b69f      	lw	a2,710529a8 <genre_tab+0x144>
7105272e:	7805      	sd	s0,40(s0)
71052730:	6409      	restore	72
71052732:	bfc1      	lwu	a2,4(a3)
71052734:	b6bd      	lw	a2,71052a28 <genre_tab+0x1c4>
71052736:	7805      	sd	s0,40(s0)
71052738:	b6db      	lw	a2,71052aa4 <genre_tab+0x240>
7105273a:	7805      	sd	s0,40(s0)

7105273c <TabAddr>:
7105273c:	0000 0005 0010 0017 001c 0021 0025 002b     ..........!.%.+.
7105274c:	0032 0036 003b 0041 0047 004c 004f 0052     2.6.;.A.G.L.O.R.
7105275c:	0055 005b 005f 0065 006f 007a 007d 0087     U.[._.e.o.z.}...
7105276c:	008d 0097 00a2 00a9 00b1 00b6 00bf 00c5     ................
7105277c:	00cb 00d4 00e0 00e4 00e9 00ed 00f6 00fc     ................
7105278c:	0101 010b 010f 0113 0117 011c 0126 0135     ............&.5.
7105279c:	0145 014b 0151 0159 016a 0174 017c 0185     E.K.Q.Y.j.t.|...
710527ac:	018a 0196 019c 01a0 01a7 01ac 01b8 01c0     ................
710527bc:	01c6 01d4 01db 01e2 01ed 01f1 01fa 0201     ................
710527cc:	0206 020c 0214 021c 0221 0226 022d 0236     ........!.&.-.6.
710527dc:	023e 0242 024b 0257 025c 0266 026b 0270     >.B.K.W.\.f.k.p.
710527ec:	0277 027d 0286 0290 029a 02a8 02b7 02c4     w.}.............
710527fc:	02cc 02d3 02d9 02e6 02ee 02f4 02fa 0301     ................
7105280c:	0306 0312 0318 0320 0329 032f 0339 033f     ...... .)./.9.?.
7105281c:	0346 034a 034f 0354 035c 0362 036d 0379     F.J.O.T.\.b.m.y.
7105282c:	0382 0386 038e 0396 039e 03a8 03b1 03b4     ................
7105283c:	03c7 03cf 03d5 03da 03e1 03ea 03f3 03f7     ................
7105284c:	040a 0414 041e 0427 043c 0449 0451 0456     ......'.<.I.Q.V.
7105285c:	0460 0465 0469 0471                         `.e.i.q.

71052864 <genre_tab>:
71052864:	6c42 6575 4373 616c 7373 6369 6f52 6b63     BluesClassicRock
71052874:	6f43 6e75 7274 4479 6e61 6563 6944 6373     CountryDanceDisc
71052884:	466f 6e75 476b 7572 676e 4865 7069 482d     oFunkGrungeHip-H
71052894:	706f 614a 7a7a 654d 6174 4e6c 7765 6741     opJazzMetalNewAg
710528a4:	4f65 646c 6569 4f73 6874 7265 6f50 5270     eOldiesOtherPopR
710528b4:	4226 6152 5270 6765 6167 5265 636f 546b     &BRapReggaeRockT
710528c4:	6365 6e68 496f 646e 7375 7274 6169 416c     echnoIndustrialA
710528d4:	746c 7265 616e 6974 6576 6b53 4461 6165     lternativeSkaDea
710528e4:	6874 654d 6174 506c 6172 6b6e 5373 756f     thMetalPranksSou
710528f4:	646e 7274 6361 456b 7275 2d6f 6554 6863     ndtrackEuro-Tech
71052904:	6f6e 6d41 6962 6e65 5474 6972 2d70 6f48     noAmbientTrip-Ho
71052914:	5670 636f 6c61 614a 7a7a 462b 6e75 466b     pVocalJazz+FunkF
71052924:	7375 6f69 546e 6172 636e 4365 616c 7373     usionTranceClass
71052934:	6369 6c61 6e49 7473 7572 656d 746e 6c61     icalInstrumental
71052944:	6341 6469 6f48 7375 4765 6d61 5365 756f     AcidHouseGameSou
71052954:	646e 6c43 7069 6f47 7073 6c65 6f4e 7369     ndClipGospelNois
71052964:	4165 746c 7265 526e 636f 426b 7361 5373     eAlternRockBassS
71052974:	756f 506c 6e75 536b 6170 6563 654d 6964     oulPunkSpaceMedi
71052984:	6174 6974 6576 6e49 7473 7572 656d 746e     tativeInstrument
71052994:	6c61 6f50 4970 736e 7274 6d75 6e65 6174     alPopInstrumenta
710529a4:	526c 636f 456b 6874 696e 4763 746f 6968     lRockEthnicGothi
710529b4:	4463 7261 776b 7661 5465 6365 6e68 2d6f     cDarkwaveTechno-
710529c4:	6e49 7564 7473 6972 6c61 6c45 6365 7274     IndustrialElectr
710529d4:	6e6f 6369 6f50 2d70 6f46 6b6c 7545 6f72     onicPop-FolkEuro
710529e4:	6164 636e 4465 6572 6d61 6f53 7475 6568     danceDreamSouthe
710529f4:	6e72 6f52 6b63 6f43 656d 7964 7543 746c     rnRockComedyCult
71052a04:	6147 676e 7473 5461 706f 3034 6843 6972     GangstaTop40Chri
71052a14:	7473 6169 526e 7061 6f50 2f70 7546 6b6e     stianRapPop/Funk
71052a24:	754a 676e 656c 614e 6974 6576 6d41 7265     JungleNativeAmer
71052a34:	6369 6e61 6143 6162 6572 4e74 7765 6157     icanCabaretNewWa
71052a44:	6576 7350 6379 6168 6564 696c 5263 7661     vePsychadelicRav
71052a54:	5365 6f68 7477 6e75 7365 7254 6961 656c     eShowtunesTraile
71052a64:	4c72 2d6f 6946 7254 6269 6c61 6341 6469     rLo-FiTribalAcid
71052a74:	7550 6b6e 6341 6469 614a 7a7a 6f50 6b6c     PunkAcidJazzPolk
71052a84:	5261 7465 6f72 754d 6973 6163 526c 636f     aRetroMusicalRoc
71052a94:	266b 6f52 6c6c 6148 6472 6f52 6b63 6f46     k&RollHardRockFo
71052aa4:	6b6c 6f46 6b6c 522d 636f 4e6b 7461 6f69     lkFolk-RockNatio
71052ab4:	616e 466c 6c6f 536b 6977 676e 6146 7473     nalFolkSwingFast
71052ac4:	7546 6973 6e6f 6542 6f62 4c62 7461 6e69     FusionBebobLatin
71052ad4:	6552 6976 6176 436c 6c65 6974 4263 756c     RevivalCelticBlu
71052ae4:	6765 6172 7373 7641 6e61 6774 7261 6564     egrassAvantgarde
71052af4:	6f47 6874 6369 6f52 6b63 7250 676f 7365     GothicRockProges
71052b04:	6973 6576 6f52 6b63 7350 6379 6568 6564     siveRockPsychede
71052b14:	696c 5263 636f 536b 6d79 6870 6e6f 6369     licRockSymphonic
71052b24:	6f52 6b63 6c53 776f 6f52 6b63 6942 4267     RockSlowRockBigB
71052b34:	6e61 4364 6f68 7572 4573 7361 4c79 7369     andChorusEasyLis
71052b44:	6574 696e 676e 6341 756f 7473 6369 7548     teningAcousticHu
71052b54:	6f6d 7275 7053 6565 6863 6843 6e61 6f73     mourSpeechChanso
71052b64:	4f6e 6570 6172 6843 6d61 6562 4d72 7375     nOperaChamberMus
71052b74:	6369 6f53 616e 6174 7953 706d 6f68 796e     icSonataSymphony
71052b84:	6f42 746f 4279 7361 5073 6972 756d 5073     BootyBassPrimusP
71052b94:	726f 476e 6f72 766f 5365 7461 7269 5365     ornGrooveSatireS
71052ba4:	6f6c 4a77 6d61 6c43 6275 6154 676e 536f     lowJamClubTangoS
71052bb4:	6d61 6162 6f46 6b6c 6f6c 6572 6142 6c6c     ambaFolkloreBall
71052bc4:	6461 6f50 6577 4272 6c61 616c 5264 7968     adPowerBalladRhy
71052bd4:	6874 696d 5363 756f 466c 6572 7365 7974     thmicSoulFreesty
71052be4:	656c 7544 7465 7550 6b6e 6f52 6b63 7244     leDuetPunkRockDr
71052bf4:	6d75 6f53 6f6c 6341 7061 6c65 616c 7545     umSoloAcapellaEu
71052c04:	6f72 482d 756f 6573 6144 636e 4865 6c61     ro-HouseDanceHal
71052c14:	476c 616f 7244 6d75 4226 7361 4373 756c     lGoaDrum&BassClu
71052c24:	2d62 6f48 7375 4865 7261 6364 726f 5465     b-HouseHardcoreT
71052c34:	7265 6f72 4972 646e 6569 7242 7469 6f50     errorIndieBritPo
71052c44:	4e70 6765 7265 7570 6b6e 6f50 736c 506b     pNegerpunkPolskP
71052c54:	6e75 426b 6165 4374 7268 7369 6974 6e61     unkBeatChristian
71052c64:	6147 676e 7473 5261 7061 6548 7661 4d79     GangstaRapHeavyM
71052c74:	7465 6c61 6c42 6361 4d6b 7465 6c61 7243     etalBlackMetalCr
71052c84:	736f 6f73 6576 4372 6e6f 6574 706d 726f     ossoverContempor
71052c94:	7261 4379 7268 7369 6974 6e61 6843 6972     aryChristianChri
71052ca4:	7473 6169 526e 636f 4d6b 7265 6e65 7567     stianRockMerengu
71052cb4:	5365 6c61 6173 7254 7361 4d68 7465 6c61     eSalsaTrashMetal
71052cc4:	6e41 6d69 4a65 6f50 5370 6e79 6874 6f70     AnimeJPopSynthpo
71052cd4:	0070 0000 0000 0000 0000 0000 0000 0000     p...............
	...
Disassembly of section BANK_FRONT_ENHANCED_ID3_2_1:

71092500 <mp3_check_tag>:
71092500:	64d4      	save	32,ra,s1
71092502:	0104      	addiu	s1,sp,16
71092504:	d984      	sw	a0,16(s1)
71092506:	d9a5      	sw	a1,20(s1)
71092508:	6746      	move	v0,a2
7109250a:	6767      	move	v1,a3
7109250c:	c158      	sb	v0,24(s1)
7109250e:	c17c      	sb	v1,28(s1)
71092510:	6a00      	li	v0,0
71092512:	c140      	sb	v0,0(s1)
71092514:	a140      	lbu	v0,0(s1)
71092516:	a17c      	lbu	v1,28(s1)
71092518:	ea63      	sltu	v0,v1
7109251a:	6020      	bteqz	7109255c <mp3_check_tag+0x5c>
7109251c:	b320      	lw	v1,7109259c <mp3_check_tag+0x9c>
7109251e:	a140      	lbu	v0,0(s1)
71092520:	e349      	addu	v0,v1,v0
71092522:	a240      	lbu	v0,0(v0)
71092524:	7201      	cmpi	v0,1
71092526:	6758      	move	v0,t8
71092528:	5a01      	sltiu	v0,1
7109252a:	6010      	bteqz	7109254c <mp3_check_tag+0x4c>
7109252c:	9944      	lw	v0,16(s1)
7109252e:	9965      	lw	v1,20(s1)
71092530:	a1d8      	lbu	a2,24(s1)
71092532:	6782      	move	a0,v0
71092534:	67a3      	move	a1,v1
71092536:	6f02      	li	a3,2
71092538:	b21a      	lw	v0,710925a0 <mp3_check_tag+0xa0>
7109253a:	eac0      	jalrc	v0
7109253c:	651a      	move	t8,v0
7109253e:	6106      	btnez	7109254c <mp3_check_tag+0x4c>
71092540:	b317      	lw	v1,7109259c <mp3_check_tag+0x9c>
71092542:	a140      	lbu	v0,0(s1)
71092544:	e34d      	addu	v1,v0
71092546:	6a00      	li	v0,0
71092548:	c340      	sb	v0,0(v1)
7109254a:	1008      	b	7109255c <mp3_check_tag+0x5c>
7109254c:	a178      	lbu	v1,24(s1)
7109254e:	9945      	lw	v0,20(s1)
71092550:	e269      	addu	v0,v1
71092552:	d945      	sw	v0,20(s1)
71092554:	a140      	lbu	v0,0(s1)
71092556:	4241      	addiu	v0,v0,1
71092558:	c140      	sb	v0,0(s1)
7109255a:	17dc      	b	71092514 <mp3_check_tag+0x14>
7109255c:	a160      	lbu	v1,0(s1)
7109255e:	a15c      	lbu	v0,28(s1)
71092560:	ea6e      	xor	v0,v1
71092562:	5a01      	sltiu	v0,1
71092564:	6004      	bteqz	7109256e <mp3_check_tag+0x6e>
71092566:	6a01      	li	v0,1
71092568:	ea4b      	neg	v0
7109256a:	d941      	sw	v0,4(s1)
7109256c:	1013      	b	71092594 <mp3_check_tag+0x94>
7109256e:	b20e      	lw	v0,710925a4 <mp3_check_tag+0xa4>
71092570:	9a80      	lw	a0,0(v0)
71092572:	a140      	lbu	v0,0(s1)
71092574:	3348      	sll	v1,v0,2
71092576:	b20d      	lw	v0,710925a8 <mp3_check_tag+0xa8>
71092578:	9a40      	lw	v0,0(v0)
7109257a:	e349      	addu	v0,v1,v0
7109257c:	9a40      	lw	v0,0(v0)
7109257e:	dc41      	sw	v0,4(a0)
71092580:	b209      	lw	v0,710925a4 <mp3_check_tag+0xa4>
71092582:	9a80      	lw	a0,0(v0)
71092584:	a160      	lbu	v1,0(s1)
71092586:	b209      	lw	v0,710925a8 <mp3_check_tag+0xa8>
71092588:	9a40      	lw	v0,0(v0)
7109258a:	e349      	addu	v0,v1,v0
7109258c:	a258      	lbu	v0,24(v0)
7109258e:	c440      	sb	v0,0(a0)
71092590:	8140      	lb	v0,0(s1)
71092592:	d941      	sw	v0,4(s1)
71092594:	9941      	lw	v0,4(s1)
71092596:	65b9      	move	sp,s1
71092598:	6452      	restore	16,ra,s1
7109259a:	e8a0      	jrc	ra
7109259c:	b920      	lwu	s1,0(s1)
7109259e:	7805      	sd	s0,40(s0)
710925a0:	6409      	restore	72
710925a2:	bfc1      	lwu	a2,4(a3)
710925a4:	b930      	lwu	s1,64(s1)
710925a6:	7805      	sd	s0,40(s0)
710925a8:	b934      	lwu	s1,80(s1)
710925aa:	7805      	sd	s0,40(s0)

710925ac <mp3_v2_2_parse>:
710925ac:	64d5      	save	40,ra,s1
710925ae:	0104      	addiu	s1,sp,16
710925b0:	d986      	sw	a0,24(s1)
710925b2:	6a00      	li	v0,0
710925b4:	c140      	sb	v0,0(s1)
710925b6:	b272      	lw	v0,7109277c <mp3_v2_2_parse+0x1d0>
710925b8:	d942      	sw	v0,8(s1)
710925ba:	b272      	lw	v0,71092780 <mp3_v2_2_parse+0x1d4>
710925bc:	9a60      	lw	v1,0(v0)
710925be:	9946      	lw	v0,24(s1)
710925c0:	eb43      	sltu	v1,v0
710925c2:	f0c0 6010 	bteqz	71092766 <mp3_v2_2_parse+0x1ba>
710925c6:	a140      	lbu	v0,0(s1)
710925c8:	5a07      	sltiu	v0,7
710925ca:	f0c0 600c 	bteqz	71092766 <mp3_v2_2_parse+0x1ba>
710925ce:	9942      	lw	v0,8(s1)
710925d0:	6782      	move	a0,v0
710925d2:	6d07      	li	a1,7
710925d4:	6e07      	li	a2,7
710925d6:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
710925da:	6500      	nop
710925dc:	9942      	lw	v0,8(s1)
710925de:	a243      	lbu	v0,3(v0)
710925e0:	3340      	sll	v1,v0,8
710925e2:	9942      	lw	v0,8(s1)
710925e4:	a244      	lbu	v0,4(v0)
710925e6:	e349      	addu	v0,v1,v0
710925e8:	3340      	sll	v1,v0,8
710925ea:	9942      	lw	v0,8(s1)
710925ec:	a245      	lbu	v0,5(v0)
710925ee:	e349      	addu	v0,v1,v0
710925f0:	d941      	sw	v0,4(s1)
710925f2:	9941      	lw	v0,4(s1)
710925f4:	2a0d      	bnez	v0,71092610 <mp3_v2_2_parse+0x64>
710925f6:	9942      	lw	v0,8(s1)
710925f8:	aa40      	lhu	v0,0(v0)
710925fa:	2a01      	bnez	v0,710925fe <mp3_v2_2_parse+0x52>
710925fc:	10b4      	b	71092766 <mp3_v2_2_parse+0x1ba>
710925fe:	b261      	lw	v0,71092780 <mp3_v2_2_parse+0x1d4>
71092600:	9a40      	lw	v0,0(v0)
71092602:	424f      	addiu	v0,v0,-1
71092604:	6c00      	li	a0,0
71092606:	67a2      	move	a1,v0
71092608:	1830 6d43 	jal	7805b50c <reset_file_pos>
7109260c:	6500      	nop
7109260e:	17d5      	b	710925ba <mp3_v2_2_parse+0xe>
71092610:	9941      	lw	v0,4(s1)
71092612:	424f      	addiu	v0,v0,-1
71092614:	d941      	sw	v0,4(s1)
71092616:	9942      	lw	v0,8(s1)
71092618:	a240      	lbu	v0,0(v0)
7109261a:	7254      	cmpi	v0,84
7109261c:	6758      	move	v0,t8
7109261e:	5a01      	sltiu	v0,1
71092620:	f080 601a 	bteqz	71092758 <mp3_v2_2_parse+0x1ac>
71092624:	9942      	lw	v0,8(s1)
71092626:	b358      	lw	v1,71092784 <mp3_v2_2_parse+0x1d8>
71092628:	6782      	move	a0,v0
7109262a:	67a3      	move	a1,v1
7109262c:	6e03      	li	a2,3
7109262e:	6f07      	li	a3,7
71092630:	1842 4940 	jal	71092500 <mp3_check_tag>
71092634:	6500      	nop
71092636:	c142      	sb	v0,2(s1)
71092638:	8162      	lb	v1,2(s1)
7109263a:	6a01      	li	v0,1
7109263c:	ea4b      	neg	v0
7109263e:	ea6e      	xor	v0,v1
71092640:	5a01      	sltiu	v0,1
71092642:	f080 6109 	btnez	71092758 <mp3_v2_2_parse+0x1ac>
71092646:	a140      	lbu	v0,0(s1)
71092648:	4241      	addiu	v0,v0,1
7109264a:	c140      	sb	v0,0(s1)
7109264c:	b24f      	lw	v0,71092788 <mp3_v2_2_parse+0x1dc>
7109264e:	9a40      	lw	v0,0(v0)
71092650:	a240      	lbu	v0,0(v0)
71092652:	f080 2201 	beqz	v0,71092758 <mp3_v2_2_parse+0x1ac>
71092656:	9941      	lw	v0,4(s1)
71092658:	c141      	sb	v0,1(s1)
7109265a:	9942      	lw	v0,8(s1)
7109265c:	a246      	lbu	v0,6(v0)
7109265e:	2a20      	bnez	v0,710926a0 <mp3_v2_2_parse+0xf4>
71092660:	a161      	lbu	v1,1(s1)
71092662:	b24a      	lw	v0,71092788 <mp3_v2_2_parse+0x1dc>
71092664:	9a40      	lw	v0,0(v0)
71092666:	a240      	lbu	v0,0(v0)
71092668:	424f      	addiu	v0,v0,-1
7109266a:	ea62      	slt	v0,v1
7109266c:	6005      	bteqz	71092678 <mp3_v2_2_parse+0xcc>
7109266e:	b247      	lw	v0,71092788 <mp3_v2_2_parse+0x1dc>
71092670:	9a40      	lw	v0,0(v0)
71092672:	a240      	lbu	v0,0(v0)
71092674:	424f      	addiu	v0,v0,-1
71092676:	c141      	sb	v0,1(s1)
71092678:	b244      	lw	v0,71092788 <mp3_v2_2_parse+0x1dc>
7109267a:	9a40      	lw	v0,0(v0)
7109267c:	9a81      	lw	a0,4(v0)
7109267e:	b243      	lw	v0,71092788 <mp3_v2_2_parse+0x1dc>
71092680:	9a40      	lw	v0,0(v0)
71092682:	a240      	lbu	v0,0(v0)
71092684:	a161      	lbu	v1,1(s1)
71092686:	67a2      	move	a1,v0
71092688:	67c3      	move	a2,v1
7109268a:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
7109268e:	6500      	nop
71092690:	b23e      	lw	v0,71092788 <mp3_v2_2_parse+0x1dc>
71092692:	9a40      	lw	v0,0(v0)
71092694:	a161      	lbu	v1,1(s1)
71092696:	9a41      	lw	v0,4(v0)
71092698:	e34d      	addu	v1,v0
7109269a:	6a00      	li	v0,0
7109269c:	c340      	sb	v0,0(v1)
7109269e:	104d      	b	7109273a <mp3_v2_2_parse+0x18e>
710926a0:	9942      	lw	v0,8(s1)
710926a2:	a246      	lbu	v0,6(v0)
710926a4:	7201      	cmpi	v0,1
710926a6:	6758      	move	v0,t8
710926a8:	5a01      	sltiu	v0,1
710926aa:	6032      	bteqz	71092710 <mp3_v2_2_parse+0x164>
710926ac:	a161      	lbu	v1,1(s1)
710926ae:	b237      	lw	v0,71092788 <mp3_v2_2_parse+0x1dc>
710926b0:	9a40      	lw	v0,0(v0)
710926b2:	a240      	lbu	v0,0(v0)
710926b4:	424e      	addiu	v0,v0,-2
710926b6:	ea62      	slt	v0,v1
710926b8:	6005      	bteqz	710926c4 <mp3_v2_2_parse+0x118>
710926ba:	b234      	lw	v0,71092788 <mp3_v2_2_parse+0x1dc>
710926bc:	9a40      	lw	v0,0(v0)
710926be:	a240      	lbu	v0,0(v0)
710926c0:	424e      	addiu	v0,v0,-2
710926c2:	c141      	sb	v0,1(s1)
710926c4:	b231      	lw	v0,71092788 <mp3_v2_2_parse+0x1dc>
710926c6:	9a40      	lw	v0,0(v0)
710926c8:	9a81      	lw	a0,4(v0)
710926ca:	b230      	lw	v0,71092788 <mp3_v2_2_parse+0x1dc>
710926cc:	9a40      	lw	v0,0(v0)
710926ce:	a240      	lbu	v0,0(v0)
710926d0:	a161      	lbu	v1,1(s1)
710926d2:	67a2      	move	a1,v0
710926d4:	67c3      	move	a2,v1
710926d6:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
710926da:	6500      	nop
710926dc:	b22b      	lw	v0,71092788 <mp3_v2_2_parse+0x1dc>
710926de:	9a40      	lw	v0,0(v0)
710926e0:	9a41      	lw	v0,4(v0)
710926e2:	aa60      	lhu	v1,0(v0)
710926e4:	f6ff 6a1f 	li	v0,65279
710926e8:	ea6e      	xor	v0,v1
710926ea:	5a01      	sltiu	v0,1
710926ec:	6106      	btnez	710926fa <mp3_v2_2_parse+0x14e>
710926ee:	b227      	lw	v0,71092788 <mp3_v2_2_parse+0x1dc>
710926f0:	9a40      	lw	v0,0(v0)
710926f2:	9a61      	lw	v1,4(v0)
710926f4:	6a00      	li	v0,0
710926f6:	cb40      	sh	v0,0(v1)
710926f8:	1020      	b	7109273a <mp3_v2_2_parse+0x18e>
710926fa:	b224      	lw	v0,71092788 <mp3_v2_2_parse+0x1dc>
710926fc:	9a80      	lw	a0,0(v0)
710926fe:	a161      	lbu	v1,1(s1)
71092700:	f7ff 6a1e 	li	v0,65534
71092704:	eb4c      	and	v1,v0
71092706:	9c41      	lw	v0,4(a0)
71092708:	e34d      	addu	v1,v0
7109270a:	6a00      	li	v0,0
7109270c:	cb40      	sh	v0,0(v1)
7109270e:	1015      	b	7109273a <mp3_v2_2_parse+0x18e>
71092710:	9942      	lw	v0,8(s1)
71092712:	a246      	lbu	v0,6(v0)
71092714:	7203      	cmpi	v0,3
71092716:	6758      	move	v0,t8
71092718:	5a01      	sltiu	v0,1
7109271a:	600a      	bteqz	71092730 <mp3_v2_2_parse+0x184>
7109271c:	b21b      	lw	v0,71092788 <mp3_v2_2_parse+0x1dc>
7109271e:	9a40      	lw	v0,0(v0)
71092720:	a161      	lbu	v1,1(s1)
71092722:	6782      	move	a0,v0
71092724:	67a3      	move	a1,v1
71092726:	6e00      	li	a2,0
71092728:	b219      	lw	v0,7109278c <mp3_v2_2_parse+0x1e0>
7109272a:	eac0      	jalrc	v0
7109272c:	c141      	sb	v0,1(s1)
7109272e:	1005      	b	7109273a <mp3_v2_2_parse+0x18e>
71092730:	b216      	lw	v0,71092788 <mp3_v2_2_parse+0x1dc>
71092732:	9a40      	lw	v0,0(v0)
71092734:	9a61      	lw	v1,4(v0)
71092736:	6a00      	li	v0,0
71092738:	c340      	sb	v0,0(v1)
7109273a:	a161      	lbu	v1,1(s1)
7109273c:	9941      	lw	v0,4(s1)
7109273e:	ea6e      	xor	v0,v1
71092740:	5a01      	sltiu	v0,1
71092742:	f73f 611a 	btnez	710925ba <mp3_v2_2_parse+0xe>
71092746:	a141      	lbu	v0,1(s1)
71092748:	9961      	lw	v1,4(s1)
7109274a:	e34b      	subu	v0,v1,v0
7109274c:	6782      	move	a0,v0
7109274e:	6d00      	li	a1,0
71092750:	1830 6d43 	jal	7805b50c <reset_file_pos>
71092754:	6500      	nop
71092756:	1731      	b	710925ba <mp3_v2_2_parse+0xe>
71092758:	9941      	lw	v0,4(s1)
7109275a:	6782      	move	a0,v0
7109275c:	6d00      	li	a1,0
7109275e:	1830 6d43 	jal	7805b50c <reset_file_pos>
71092762:	6500      	nop
71092764:	172a      	b	710925ba <mp3_v2_2_parse+0xe>
71092766:	a140      	lbu	v0,0(s1)
71092768:	2a03      	bnez	v0,71092770 <mp3_v2_2_parse+0x1c4>
7109276a:	6a00      	li	v0,0
7109276c:	d943      	sw	v0,12(s1)
7109276e:	1002      	b	71092774 <mp3_v2_2_parse+0x1c8>
71092770:	6a01      	li	v0,1
71092772:	d943      	sw	v0,12(s1)
71092774:	9943      	lw	v0,12(s1)
71092776:	65b9      	move	sp,s1
71092778:	6453      	restore	24,ra,s1
7109277a:	e8a0      	jrc	ra
7109277c:	b89c      	lwu	a0,112(s0)
7109277e:	7805      	sd	s0,40(s0)
71092780:	b92c      	lwu	s1,48(s1)
71092782:	7805      	sd	s0,40(s0)
71092784:	2c50      	bnez	a0,71092826 <mp3_v2_x_parse+0x4a>
71092786:	7109      	cmpi	s1,9
71092788:	b930      	lwu	s1,64(s1)
7109278a:	7805      	sd	s0,40(s0)
7109278c:	2645      	beqz	a2,71092818 <mp3_v2_x_parse+0x3c>
7109278e:	7129      	cmpi	s1,41

71092790 <mp3_check_pic_flag>:
71092790:	6492      	save	16,s1
71092792:	673d      	move	s1,sp
71092794:	d984      	sw	a0,16(s1)
71092796:	6a00      	li	v0,0
71092798:	c140      	sb	v0,0(s1)
7109279a:	8140      	lb	v0,0(s1)
7109279c:	5200      	slti	v0,0
7109279e:	6117      	btnez	710927ce <mp3_check_pic_flag+0x3e>
710927a0:	a160      	lbu	v1,0(s1)
710927a2:	9944      	lw	v0,16(s1)
710927a4:	e349      	addu	v0,v1,v0
710927a6:	a240      	lbu	v0,0(v0)
710927a8:	72ff      	cmpi	v0,255
710927aa:	6758      	move	v0,t8
710927ac:	5a01      	sltiu	v0,1
710927ae:	600b      	bteqz	710927c6 <mp3_check_pic_flag+0x36>
710927b0:	a160      	lbu	v1,0(s1)
710927b2:	9944      	lw	v0,16(s1)
710927b4:	e349      	addu	v0,v1,v0
710927b6:	a241      	lbu	v0,1(v0)
710927b8:	72d8      	cmpi	v0,216
710927ba:	6758      	move	v0,t8
710927bc:	5a01      	sltiu	v0,1
710927be:	6003      	bteqz	710927c6 <mp3_check_pic_flag+0x36>
710927c0:	8140      	lb	v0,0(s1)
710927c2:	d941      	sw	v0,4(s1)
710927c4:	1007      	b	710927d4 <mp3_check_pic_flag+0x44>
710927c6:	a140      	lbu	v0,0(s1)
710927c8:	4241      	addiu	v0,v0,1
710927ca:	c140      	sb	v0,0(s1)
710927cc:	17e6      	b	7109279a <mp3_check_pic_flag+0xa>
710927ce:	6a01      	li	v0,1
710927d0:	ea4b      	neg	v0
710927d2:	d941      	sw	v0,4(s1)
710927d4:	9941      	lw	v0,4(s1)
710927d6:	65b9      	move	sp,s1
710927d8:	6412      	restore	16,s1
710927da:	e8a0      	jrc	ra

710927dc <mp3_v2_x_parse>:
710927dc:	64d5      	save	40,ra,s1
710927de:	0104      	addiu	s1,sp,16
710927e0:	d986      	sw	a0,24(s1)
710927e2:	6745      	move	v0,a1
710927e4:	c15c      	sb	v0,28(s1)
710927e6:	6a00      	li	v0,0
710927e8:	c140      	sb	v0,0(s1)
710927ea:	b2a7      	lw	v0,71092a84 <mp3_v2_x_parse+0x2a8>
710927ec:	d942      	sw	v0,8(s1)
710927ee:	b2a7      	lw	v0,71092a88 <mp3_v2_x_parse+0x2ac>
710927f0:	9a60      	lw	v1,0(v0)
710927f2:	9946      	lw	v0,24(s1)
710927f4:	eb43      	sltu	v1,v0
710927f6:	f120 601a 	bteqz	71092a6e <mp3_v2_x_parse+0x292>
710927fa:	a140      	lbu	v0,0(s1)
710927fc:	5a07      	sltiu	v0,7
710927fe:	f120 6016 	bteqz	71092a6e <mp3_v2_x_parse+0x292>
71092802:	9942      	lw	v0,8(s1)
71092804:	6782      	move	a0,v0
71092806:	6d0b      	li	a1,11
71092808:	6e0b      	li	a2,11
7109280a:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
7109280e:	6500      	nop
71092810:	a15c      	lbu	v0,28(s1)
71092812:	7204      	cmpi	v0,4
71092814:	6758      	move	v0,t8
71092816:	5a01      	sltiu	v0,1
71092818:	6018      	bteqz	7109284a <mp3_v2_x_parse+0x6e>
7109281a:	9942      	lw	v0,8(s1)
7109281c:	a264      	lbu	v1,4(v0)
7109281e:	6a7f      	li	v0,127
71092820:	ea6c      	and	v0,v1
71092822:	345c      	sll	a0,v0,7
71092824:	9942      	lw	v0,8(s1)
71092826:	a265      	lbu	v1,5(v0)
71092828:	6a7f      	li	v0,127
7109282a:	ea6c      	and	v0,v1
7109282c:	e449      	addu	v0,a0,v0
7109282e:	345c      	sll	a0,v0,7
71092830:	9942      	lw	v0,8(s1)
71092832:	a266      	lbu	v1,6(v0)
71092834:	6a7f      	li	v0,127
71092836:	ea6c      	and	v0,v1
71092838:	e449      	addu	v0,a0,v0
7109283a:	345c      	sll	a0,v0,7
7109283c:	9942      	lw	v0,8(s1)
7109283e:	a267      	lbu	v1,7(v0)
71092840:	6a7f      	li	v0,127
71092842:	ea6c      	and	v0,v1
71092844:	e449      	addu	v0,a0,v0
71092846:	d941      	sw	v0,4(s1)
71092848:	100f      	b	71092868 <mp3_v2_x_parse+0x8c>
7109284a:	9942      	lw	v0,8(s1)
7109284c:	a244      	lbu	v0,4(v0)
7109284e:	3340      	sll	v1,v0,8
71092850:	9942      	lw	v0,8(s1)
71092852:	a245      	lbu	v0,5(v0)
71092854:	e349      	addu	v0,v1,v0
71092856:	3340      	sll	v1,v0,8
71092858:	9942      	lw	v0,8(s1)
7109285a:	a246      	lbu	v0,6(v0)
7109285c:	e349      	addu	v0,v1,v0
7109285e:	3340      	sll	v1,v0,8
71092860:	9942      	lw	v0,8(s1)
71092862:	a247      	lbu	v0,7(v0)
71092864:	e349      	addu	v0,v1,v0
71092866:	d941      	sw	v0,4(s1)
71092868:	9941      	lw	v0,4(s1)
7109286a:	2a0d      	bnez	v0,71092886 <mp3_v2_x_parse+0xaa>
7109286c:	9942      	lw	v0,8(s1)
7109286e:	9a40      	lw	v0,0(v0)
71092870:	2a01      	bnez	v0,71092874 <mp3_v2_x_parse+0x98>
71092872:	10fd      	b	71092a6e <mp3_v2_x_parse+0x292>
71092874:	b285      	lw	v0,71092a88 <mp3_v2_x_parse+0x2ac>
71092876:	9a40      	lw	v0,0(v0)
71092878:	424f      	addiu	v0,v0,-1
7109287a:	6c00      	li	a0,0
7109287c:	67a2      	move	a1,v0
7109287e:	1830 6d43 	jal	7805b50c <reset_file_pos>
71092882:	6500      	nop
71092884:	17b4      	b	710927ee <mp3_v2_x_parse+0x12>
71092886:	9941      	lw	v0,4(s1)
71092888:	424f      	addiu	v0,v0,-1
7109288a:	d941      	sw	v0,4(s1)
7109288c:	9942      	lw	v0,8(s1)
7109288e:	a240      	lbu	v0,0(v0)
71092890:	7254      	cmpi	v0,84
71092892:	6758      	move	v0,t8
71092894:	5a01      	sltiu	v0,1
71092896:	f080 601a 	bteqz	710929ce <mp3_v2_x_parse+0x1f2>
7109289a:	9942      	lw	v0,8(s1)
7109289c:	b37c      	lw	v1,71092a8c <mp3_v2_x_parse+0x2b0>
7109289e:	6782      	move	a0,v0
710928a0:	67a3      	move	a1,v1
710928a2:	6e04      	li	a2,4
710928a4:	6f06      	li	a3,6
710928a6:	1842 4940 	jal	71092500 <mp3_check_tag>
710928aa:	6500      	nop
710928ac:	c142      	sb	v0,2(s1)
710928ae:	8162      	lb	v1,2(s1)
710928b0:	6a01      	li	v0,1
710928b2:	ea4b      	neg	v0
710928b4:	ea6e      	xor	v0,v1
710928b6:	5a01      	sltiu	v0,1
710928b8:	f0c0 6112 	btnez	71092a60 <mp3_v2_x_parse+0x284>
710928bc:	a140      	lbu	v0,0(s1)
710928be:	4241      	addiu	v0,v0,1
710928c0:	c140      	sb	v0,0(s1)
710928c2:	b274      	lw	v0,71092a90 <mp3_v2_x_parse+0x2b4>
710928c4:	9a40      	lw	v0,0(v0)
710928c6:	a240      	lbu	v0,0(v0)
710928c8:	f0c0 220a 	beqz	v0,71092a60 <mp3_v2_x_parse+0x284>
710928cc:	9941      	lw	v0,4(s1)
710928ce:	c141      	sb	v0,1(s1)
710928d0:	9942      	lw	v0,8(s1)
710928d2:	a24a      	lbu	v0,10(v0)
710928d4:	2a20      	bnez	v0,71092916 <mp3_v2_x_parse+0x13a>
710928d6:	a161      	lbu	v1,1(s1)
710928d8:	b26e      	lw	v0,71092a90 <mp3_v2_x_parse+0x2b4>
710928da:	9a40      	lw	v0,0(v0)
710928dc:	a240      	lbu	v0,0(v0)
710928de:	424f      	addiu	v0,v0,-1
710928e0:	ea62      	slt	v0,v1
710928e2:	6005      	bteqz	710928ee <mp3_v2_x_parse+0x112>
710928e4:	b26b      	lw	v0,71092a90 <mp3_v2_x_parse+0x2b4>
710928e6:	9a40      	lw	v0,0(v0)
710928e8:	a240      	lbu	v0,0(v0)
710928ea:	424f      	addiu	v0,v0,-1
710928ec:	c141      	sb	v0,1(s1)
710928ee:	b269      	lw	v0,71092a90 <mp3_v2_x_parse+0x2b4>
710928f0:	9a40      	lw	v0,0(v0)
710928f2:	9a81      	lw	a0,4(v0)
710928f4:	b267      	lw	v0,71092a90 <mp3_v2_x_parse+0x2b4>
710928f6:	9a40      	lw	v0,0(v0)
710928f8:	a240      	lbu	v0,0(v0)
710928fa:	a161      	lbu	v1,1(s1)
710928fc:	67a2      	move	a1,v0
710928fe:	67c3      	move	a2,v1
71092900:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
71092904:	6500      	nop
71092906:	b263      	lw	v0,71092a90 <mp3_v2_x_parse+0x2b4>
71092908:	9a40      	lw	v0,0(v0)
7109290a:	a161      	lbu	v1,1(s1)
7109290c:	9a41      	lw	v0,4(v0)
7109290e:	e34d      	addu	v1,v0
71092910:	6a00      	li	v0,0
71092912:	c340      	sb	v0,0(v1)
71092914:	104d      	b	710929b0 <mp3_v2_x_parse+0x1d4>
71092916:	9942      	lw	v0,8(s1)
71092918:	a24a      	lbu	v0,10(v0)
7109291a:	7201      	cmpi	v0,1
7109291c:	6758      	move	v0,t8
7109291e:	5a01      	sltiu	v0,1
71092920:	6032      	bteqz	71092986 <mp3_v2_x_parse+0x1aa>
71092922:	a161      	lbu	v1,1(s1)
71092924:	b25b      	lw	v0,71092a90 <mp3_v2_x_parse+0x2b4>
71092926:	9a40      	lw	v0,0(v0)
71092928:	a240      	lbu	v0,0(v0)
7109292a:	424e      	addiu	v0,v0,-2
7109292c:	ea62      	slt	v0,v1
7109292e:	6005      	bteqz	7109293a <mp3_v2_x_parse+0x15e>
71092930:	b258      	lw	v0,71092a90 <mp3_v2_x_parse+0x2b4>
71092932:	9a40      	lw	v0,0(v0)
71092934:	a240      	lbu	v0,0(v0)
71092936:	424e      	addiu	v0,v0,-2
71092938:	c141      	sb	v0,1(s1)
7109293a:	b256      	lw	v0,71092a90 <mp3_v2_x_parse+0x2b4>
7109293c:	9a40      	lw	v0,0(v0)
7109293e:	9a81      	lw	a0,4(v0)
71092940:	b254      	lw	v0,71092a90 <mp3_v2_x_parse+0x2b4>
71092942:	9a40      	lw	v0,0(v0)
71092944:	a240      	lbu	v0,0(v0)
71092946:	a161      	lbu	v1,1(s1)
71092948:	67a2      	move	a1,v0
7109294a:	67c3      	move	a2,v1
7109294c:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
71092950:	6500      	nop
71092952:	b250      	lw	v0,71092a90 <mp3_v2_x_parse+0x2b4>
71092954:	9a40      	lw	v0,0(v0)
71092956:	9a41      	lw	v0,4(v0)
71092958:	aa60      	lhu	v1,0(v0)
7109295a:	f6ff 6a1f 	li	v0,65279
7109295e:	ea6e      	xor	v0,v1
71092960:	5a01      	sltiu	v0,1
71092962:	6106      	btnez	71092970 <mp3_v2_x_parse+0x194>
71092964:	b24b      	lw	v0,71092a90 <mp3_v2_x_parse+0x2b4>
71092966:	9a40      	lw	v0,0(v0)
71092968:	9a61      	lw	v1,4(v0)
7109296a:	6a00      	li	v0,0
7109296c:	cb40      	sh	v0,0(v1)
7109296e:	1020      	b	710929b0 <mp3_v2_x_parse+0x1d4>
71092970:	b248      	lw	v0,71092a90 <mp3_v2_x_parse+0x2b4>
71092972:	9a80      	lw	a0,0(v0)
71092974:	a161      	lbu	v1,1(s1)
71092976:	f7ff 6a1e 	li	v0,65534
7109297a:	eb4c      	and	v1,v0
7109297c:	9c41      	lw	v0,4(a0)
7109297e:	e34d      	addu	v1,v0
71092980:	6a00      	li	v0,0
71092982:	cb40      	sh	v0,0(v1)
71092984:	1015      	b	710929b0 <mp3_v2_x_parse+0x1d4>
71092986:	9942      	lw	v0,8(s1)
71092988:	a24a      	lbu	v0,10(v0)
7109298a:	7203      	cmpi	v0,3
7109298c:	6758      	move	v0,t8
7109298e:	5a01      	sltiu	v0,1
71092990:	600a      	bteqz	710929a6 <mp3_v2_x_parse+0x1ca>
71092992:	b240      	lw	v0,71092a90 <mp3_v2_x_parse+0x2b4>
71092994:	9a40      	lw	v0,0(v0)
71092996:	a161      	lbu	v1,1(s1)
71092998:	6782      	move	a0,v0
7109299a:	67a3      	move	a1,v1
7109299c:	6e00      	li	a2,0
7109299e:	b23e      	lw	v0,71092a94 <mp3_v2_x_parse+0x2b8>
710929a0:	eac0      	jalrc	v0
710929a2:	c141      	sb	v0,1(s1)
710929a4:	1005      	b	710929b0 <mp3_v2_x_parse+0x1d4>
710929a6:	b23b      	lw	v0,71092a90 <mp3_v2_x_parse+0x2b4>
710929a8:	9a40      	lw	v0,0(v0)
710929aa:	9a61      	lw	v1,4(v0)
710929ac:	6a00      	li	v0,0
710929ae:	c340      	sb	v0,0(v1)
710929b0:	a161      	lbu	v1,1(s1)
710929b2:	9941      	lw	v0,4(s1)
710929b4:	ea6e      	xor	v0,v1
710929b6:	5a01      	sltiu	v0,1
710929b8:	f71f 6119 	btnez	710927ee <mp3_v2_x_parse+0x12>
710929bc:	a141      	lbu	v0,1(s1)
710929be:	9961      	lw	v1,4(s1)
710929c0:	e34b      	subu	v0,v1,v0
710929c2:	6782      	move	a0,v0
710929c4:	6d00      	li	a1,0
710929c6:	1830 6d43 	jal	7805b50c <reset_file_pos>
710929ca:	6500      	nop
710929cc:	1710      	b	710927ee <mp3_v2_x_parse+0x12>
710929ce:	9942      	lw	v0,8(s1)
710929d0:	a240      	lbu	v0,0(v0)
710929d2:	7241      	cmpi	v0,65
710929d4:	6758      	move	v0,t8
710929d6:	5a01      	sltiu	v0,1
710929d8:	6043      	bteqz	71092a60 <mp3_v2_x_parse+0x284>
710929da:	b230      	lw	v0,71092a98 <mp3_v2_x_parse+0x2bc>
710929dc:	9a40      	lw	v0,0(v0)
710929de:	a25f      	lbu	v0,31(v0)
710929e0:	223f      	beqz	v0,71092a60 <mp3_v2_x_parse+0x284>
710929e2:	9942      	lw	v0,8(s1)
710929e4:	b32a      	lw	v1,71092a8c <mp3_v2_x_parse+0x2b0>
710929e6:	6782      	move	a0,v0
710929e8:	67a3      	move	a1,v1
710929ea:	6e04      	li	a2,4
710929ec:	6f07      	li	a3,7
710929ee:	1842 4940 	jal	71092500 <mp3_check_tag>
710929f2:	6500      	nop
710929f4:	c142      	sb	v0,2(s1)
710929f6:	8162      	lb	v1,2(s1)
710929f8:	6a01      	li	v0,1
710929fa:	ea4b      	neg	v0
710929fc:	ea6e      	xor	v0,v1
710929fe:	5a01      	sltiu	v0,1
71092a00:	612f      	btnez	71092a60 <mp3_v2_x_parse+0x284>
71092a02:	a140      	lbu	v0,0(s1)
71092a04:	4241      	addiu	v0,v0,1
71092a06:	c140      	sb	v0,0(s1)
71092a08:	b21f      	lw	v0,71092a84 <mp3_v2_x_parse+0x2a8>
71092a0a:	6782      	move	a0,v0
71092a0c:	6d80      	li	a1,128
71092a0e:	6e80      	li	a2,128
71092a10:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
71092a14:	6500      	nop
71092a16:	b21c      	lw	v0,71092a84 <mp3_v2_x_parse+0x2a8>
71092a18:	6782      	move	a0,v0
71092a1a:	1842 49e4 	jal	71092790 <mp3_check_pic_flag>
71092a1e:	6500      	nop
71092a20:	c142      	sb	v0,2(s1)
71092a22:	8162      	lb	v1,2(s1)
71092a24:	6a01      	li	v0,1
71092a26:	ea4b      	neg	v0
71092a28:	ea6e      	xor	v0,v1
71092a2a:	5a01      	sltiu	v0,1
71092a2c:	610d      	btnez	71092a48 <mp3_v2_x_parse+0x26c>
71092a2e:	b21b      	lw	v0,71092a98 <mp3_v2_x_parse+0x2bc>
71092a30:	9a80      	lw	a0,0(v0)
71092a32:	8162      	lb	v1,2(s1)
71092a34:	b215      	lw	v0,71092a88 <mp3_v2_x_parse+0x2ac>
71092a36:	9a40      	lw	v0,0(v0)
71092a38:	e349      	addu	v0,v1,v0
71092a3a:	4a80      	addiu	v0,-128
71092a3c:	dc4a      	sw	v0,40(a0)
71092a3e:	b217      	lw	v0,71092a98 <mp3_v2_x_parse+0x2bc>
71092a40:	9a60      	lw	v1,0(v0)
71092a42:	6a01      	li	v0,1
71092a44:	c35e      	sb	v0,30(v1)
71092a46:	1004      	b	71092a50 <mp3_v2_x_parse+0x274>
71092a48:	b214      	lw	v0,71092a98 <mp3_v2_x_parse+0x2bc>
71092a4a:	9a60      	lw	v1,0(v0)
71092a4c:	6a00      	li	v0,0
71092a4e:	c35e      	sb	v0,30(v1)
71092a50:	9941      	lw	v0,4(s1)
71092a52:	4a80      	addiu	v0,-128
71092a54:	6782      	move	a0,v0
71092a56:	6d00      	li	a1,0
71092a58:	1830 6d43 	jal	7805b50c <reset_file_pos>
71092a5c:	6500      	nop
71092a5e:	16c7      	b	710927ee <mp3_v2_x_parse+0x12>
71092a60:	9941      	lw	v0,4(s1)
71092a62:	6782      	move	a0,v0
71092a64:	6d00      	li	a1,0
71092a66:	1830 6d43 	jal	7805b50c <reset_file_pos>
71092a6a:	6500      	nop
71092a6c:	16c0      	b	710927ee <mp3_v2_x_parse+0x12>
71092a6e:	a140      	lbu	v0,0(s1)
71092a70:	2a03      	bnez	v0,71092a78 <mp3_v2_x_parse+0x29c>
71092a72:	6a00      	li	v0,0
71092a74:	d943      	sw	v0,12(s1)
71092a76:	1002      	b	71092a7c <mp3_v2_x_parse+0x2a0>
71092a78:	6a01      	li	v0,1
71092a7a:	d943      	sw	v0,12(s1)
71092a7c:	9943      	lw	v0,12(s1)
71092a7e:	65b9      	move	sp,s1
71092a80:	6453      	restore	24,ra,s1
71092a82:	e8a0      	jrc	ra
71092a84:	b89c      	lwu	a0,112(s0)
71092a86:	7805      	sd	s0,40(s0)
71092a88:	b92c      	lwu	s1,48(s1)
71092a8a:	7805      	sd	s0,40(s0)
71092a8c:	2c30      	bnez	a0,71092aee <mp3_v2_parse+0x52>
71092a8e:	7109      	cmpi	s1,9
71092a90:	b930      	lwu	s1,64(s1)
71092a92:	7805      	sd	s0,40(s0)
71092a94:	2645      	beqz	a2,71092b20 <mp3_v2_parse+0x84>
71092a96:	7129      	cmpi	s1,41
71092a98:	b934      	lwu	s1,80(s1)
71092a9a:	7805      	sd	s0,40(s0)

71092a9c <mp3_v2_parse>:
71092a9c:	64d5      	save	40,ra,s1
71092a9e:	0104      	addiu	s1,sp,16
71092aa0:	1830 6cde 	jal	7805b378 <get_init>
71092aa4:	6500      	nop
71092aa6:	b22e      	lw	v0,71092b5c <mp3_v2_parse+0xc0>
71092aa8:	6782      	move	a0,v0
71092aaa:	6d80      	li	a1,128
71092aac:	6e0a      	li	a2,10
71092aae:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
71092ab2:	6500      	nop
71092ab4:	b22a      	lw	v0,71092b5c <mp3_v2_parse+0xc0>
71092ab6:	d940      	sw	v0,0(s1)
71092ab8:	9940      	lw	v0,0(s1)
71092aba:	a240      	lbu	v0,0(v0)
71092abc:	7249      	cmpi	v0,73
71092abe:	6758      	move	v0,t8
71092ac0:	5a01      	sltiu	v0,1
71092ac2:	600d      	bteqz	71092ade <mp3_v2_parse+0x42>
71092ac4:	9940      	lw	v0,0(s1)
71092ac6:	a241      	lbu	v0,1(v0)
71092ac8:	7244      	cmpi	v0,68
71092aca:	6758      	move	v0,t8
71092acc:	5a01      	sltiu	v0,1
71092ace:	6007      	bteqz	71092ade <mp3_v2_parse+0x42>
71092ad0:	9940      	lw	v0,0(s1)
71092ad2:	a242      	lbu	v0,2(v0)
71092ad4:	7233      	cmpi	v0,51
71092ad6:	6758      	move	v0,t8
71092ad8:	5a01      	sltiu	v0,1
71092ada:	6001      	bteqz	71092ade <mp3_v2_parse+0x42>
71092adc:	1003      	b	71092ae4 <mp3_v2_parse+0x48>
71092ade:	6a00      	li	v0,0
71092ae0:	d943      	sw	v0,12(s1)
71092ae2:	1038      	b	71092b54 <mp3_v2_parse+0xb8>
71092ae4:	9940      	lw	v0,0(s1)
71092ae6:	a243      	lbu	v0,3(v0)
71092ae8:	c149      	sb	v0,9(s1)
71092aea:	9940      	lw	v0,0(s1)
71092aec:	a266      	lbu	v1,6(v0)
71092aee:	6a7f      	li	v0,127
71092af0:	ea6c      	and	v0,v1
71092af2:	345c      	sll	a0,v0,7
71092af4:	9940      	lw	v0,0(s1)
71092af6:	a267      	lbu	v1,7(v0)
71092af8:	6a7f      	li	v0,127
71092afa:	ea6c      	and	v0,v1
71092afc:	e449      	addu	v0,a0,v0
71092afe:	345c      	sll	a0,v0,7
71092b00:	9940      	lw	v0,0(s1)
71092b02:	a268      	lbu	v1,8(v0)
71092b04:	6a7f      	li	v0,127
71092b06:	ea6c      	and	v0,v1
71092b08:	e449      	addu	v0,a0,v0
71092b0a:	345c      	sll	a0,v0,7
71092b0c:	9940      	lw	v0,0(s1)
71092b0e:	a269      	lbu	v1,9(v0)
71092b10:	6a7f      	li	v0,127
71092b12:	ea6c      	and	v0,v1
71092b14:	e449      	addu	v0,a0,v0
71092b16:	4a0a      	addiu	v0,10
71092b18:	d941      	sw	v0,4(s1)
71092b1a:	a149      	lbu	v0,9(s1)
71092b1c:	5a03      	sltiu	v0,3
71092b1e:	6007      	bteqz	71092b2e <mp3_v2_parse+0x92>
71092b20:	9941      	lw	v0,4(s1)
71092b22:	6782      	move	a0,v0
71092b24:	1842 496b 	jal	710925ac <mp3_v2_2_parse>
71092b28:	6500      	nop
71092b2a:	c148      	sb	v0,8(s1)
71092b2c:	1008      	b	71092b3e <mp3_v2_parse+0xa2>
71092b2e:	9941      	lw	v0,4(s1)
71092b30:	a169      	lbu	v1,9(s1)
71092b32:	6782      	move	a0,v0
71092b34:	67a3      	move	a1,v1
71092b36:	1842 49f7 	jal	710927dc <mp3_v2_x_parse>
71092b3a:	6500      	nop
71092b3c:	c148      	sb	v0,8(s1)
71092b3e:	a148      	lbu	v0,8(s1)
71092b40:	2207      	beqz	v0,71092b50 <mp3_v2_parse+0xb4>
71092b42:	b208      	lw	v0,71092b60 <mp3_v2_parse+0xc4>
71092b44:	9a40      	lw	v0,0(v0)
71092b46:	a25b      	lbu	v0,27(v0)
71092b48:	2203      	beqz	v0,71092b50 <mp3_v2_parse+0xb4>
71092b4a:	1842 4ad9 	jal	71092b64 <check_genre_string>
71092b4e:	6500      	nop
71092b50:	a148      	lbu	v0,8(s1)
71092b52:	d943      	sw	v0,12(s1)
71092b54:	9943      	lw	v0,12(s1)
71092b56:	65b9      	move	sp,s1
71092b58:	6453      	restore	24,ra,s1
71092b5a:	e8a0      	jrc	ra
71092b5c:	b89c      	lwu	a0,112(s0)
71092b5e:	7805      	sd	s0,40(s0)
71092b60:	b934      	lwu	s1,80(s1)
71092b62:	7805      	sd	s0,40(s0)

71092b64 <check_genre_string>:
71092b64:	64d4      	save	32,ra,s1
71092b66:	0104      	addiu	s1,sp,16
71092b68:	6a00      	li	v0,0
71092b6a:	c143      	sb	v0,3(s1)
71092b6c:	b22f      	lw	v0,71092c28 <check_genre_string+0xc4>
71092b6e:	9a40      	lw	v0,0(v0)
71092b70:	9a43      	lw	v0,12(v0)
71092b72:	2a03      	bnez	v0,71092b7a <check_genre_string+0x16>
71092b74:	6a00      	li	v0,0
71092b76:	d941      	sw	v0,4(s1)
71092b78:	1052      	b	71092c1e <check_genre_string+0xba>
71092b7a:	b22c      	lw	v0,71092c28 <check_genre_string+0xc4>
71092b7c:	9a40      	lw	v0,0(v0)
71092b7e:	9a43      	lw	v0,12(v0)
71092b80:	a240      	lbu	v0,0(v0)
71092b82:	7228      	cmpi	v0,40
71092b84:	6758      	move	v0,t8
71092b86:	5a01      	sltiu	v0,1
71092b88:	6103      	btnez	71092b90 <check_genre_string+0x2c>
71092b8a:	6a00      	li	v0,0
71092b8c:	d941      	sw	v0,4(s1)
71092b8e:	1047      	b	71092c1e <check_genre_string+0xba>
71092b90:	6a01      	li	v0,1
71092b92:	c140      	sb	v0,0(s1)
71092b94:	6a00      	li	v0,0
71092b96:	c142      	sb	v0,2(s1)
71092b98:	b224      	lw	v0,71092c28 <check_genre_string+0xc4>
71092b9a:	9a40      	lw	v0,0(v0)
71092b9c:	a160      	lbu	v1,0(s1)
71092b9e:	9a43      	lw	v0,12(v0)
71092ba0:	e349      	addu	v0,v1,v0
71092ba2:	a240      	lbu	v0,0(v0)
71092ba4:	c141      	sb	v0,1(s1)
71092ba6:	a141      	lbu	v0,1(s1)
71092ba8:	222f      	beqz	v0,71092c08 <check_genre_string+0xa4>
71092baa:	a141      	lbu	v0,1(s1)
71092bac:	7229      	cmpi	v0,41
71092bae:	6758      	move	v0,t8
71092bb0:	5a01      	sltiu	v0,1
71092bb2:	600b      	bteqz	71092bca <check_genre_string+0x66>
71092bb4:	a140      	lbu	v0,0(s1)
71092bb6:	7201      	cmpi	v0,1
71092bb8:	6758      	move	v0,t8
71092bba:	5a01      	sltiu	v0,1
71092bbc:	6125      	btnez	71092c08 <check_genre_string+0xa4>
71092bbe:	a140      	lbu	v0,0(s1)
71092bc0:	5a05      	sltiu	v0,5
71092bc2:	6022      	bteqz	71092c08 <check_genre_string+0xa4>
71092bc4:	6a01      	li	v0,1
71092bc6:	c143      	sb	v0,3(s1)
71092bc8:	101f      	b	71092c08 <check_genre_string+0xa4>
71092bca:	a141      	lbu	v0,1(s1)
71092bcc:	5a30      	sltiu	v0,48
71092bce:	610e      	btnez	71092bec <check_genre_string+0x88>
71092bd0:	a141      	lbu	v0,1(s1)
71092bd2:	5a3a      	sltiu	v0,58
71092bd4:	600b      	bteqz	71092bec <check_genre_string+0x88>
71092bd6:	a162      	lbu	v1,2(s1)
71092bd8:	6743      	move	v0,v1
71092bda:	3248      	sll	v0,2
71092bdc:	e269      	addu	v0,v1
71092bde:	3244      	sll	v0,1
71092be0:	6762      	move	v1,v0
71092be2:	a141      	lbu	v0,1(s1)
71092be4:	e349      	addu	v0,v1,v0
71092be6:	4ad0      	addiu	v0,-48
71092be8:	c142      	sb	v0,2(s1)
71092bea:	1003      	b	71092bf2 <check_genre_string+0x8e>
71092bec:	6a00      	li	v0,0
71092bee:	c143      	sb	v0,3(s1)
71092bf0:	100b      	b	71092c08 <check_genre_string+0xa4>
71092bf2:	a140      	lbu	v0,0(s1)
71092bf4:	4241      	addiu	v0,v0,1
71092bf6:	c140      	sb	v0,0(s1)
71092bf8:	b20c      	lw	v0,71092c28 <check_genre_string+0xc4>
71092bfa:	9a40      	lw	v0,0(v0)
71092bfc:	a160      	lbu	v1,0(s1)
71092bfe:	9a43      	lw	v0,12(v0)
71092c00:	e349      	addu	v0,v1,v0
71092c02:	a240      	lbu	v0,0(v0)
71092c04:	c141      	sb	v0,1(s1)
71092c06:	17cf      	b	71092ba6 <check_genre_string+0x42>
71092c08:	a143      	lbu	v0,3(s1)
71092c0a:	2207      	beqz	v0,71092c1a <check_genre_string+0xb6>
71092c0c:	b207      	lw	v0,71092c28 <check_genre_string+0xc4>
71092c0e:	9a40      	lw	v0,0(v0)
71092c10:	a162      	lbu	v1,2(s1)
71092c12:	6782      	move	a0,v0
71092c14:	67a3      	move	a1,v1
71092c16:	b206      	lw	v0,71092c2c <check_genre_string+0xc8>
71092c18:	eac0      	jalrc	v0
71092c1a:	a143      	lbu	v0,3(s1)
71092c1c:	d941      	sw	v0,4(s1)
71092c1e:	9941      	lw	v0,4(s1)
71092c20:	65b9      	move	sp,s1
71092c22:	6452      	restore	16,ra,s1
71092c24:	e8a0      	jrc	ra
71092c26:	0000      	addiu	s0,sp,0
71092c28:	b934      	lwu	s1,80(s1)
71092c2a:	7805      	sd	s0,40(s0)
71092c2c:	2501      	beqz	a1,71092c30 <id3_tab_v2_3>
71092c2e:	7105      	cmpi	s1,5

71092c30 <id3_tab_v2_3>:
71092c30:	4954 3254 5054 3145 4154 424c 4354 4e4f     TIT2TPE1TALBTCON
71092c40:	4554 434e 5254 4b43 5041 4349 0000 0000     TENCTRCKAPIC....

71092c50 <id3_tab_v2_2>:
71092c50:	5454 5432 3150 4154 584c 5858 4554 544e     TT2TP1TALXXXTENT
71092c60:	4b52 5858 0058 0000 0000 0000 0000 0000     RKXXX...........
	...
Disassembly of section BANK_FRONT_ENHANCED_ID3_2_2:

710d2500 <get_id3_wma>:
710d2500:	64d6      	save	48,ra,s1
710d2502:	0104      	addiu	s1,sp,16
710d2504:	6a01      	li	v0,1
710d2506:	c141      	sb	v0,1(s1)
710d2508:	6a01      	li	v0,1
710d250a:	c140      	sb	v0,0(s1)
710d250c:	1830 6cde 	jal	7805b378 <get_init>
710d2510:	6500      	nop
710d2512:	b23b      	lw	v0,710d25fc <.L7+0x36>
710d2514:	b33b      	lw	v1,710d2600 <.L7+0x3a>
710d2516:	6782      	move	a0,v0
710d2518:	67a3      	move	a1,v1
710d251a:	6e10      	li	a2,16
710d251c:	6f02      	li	a3,2
710d251e:	b23a      	lw	v0,710d2604 <.L7+0x3e>
710d2520:	eac0      	jalrc	v0
710d2522:	651a      	move	t8,v0
710d2524:	6003      	bteqz	710d252c <get_id3_wma+0x2c>
710d2526:	6a00      	li	v0,0
710d2528:	d944      	sw	v0,16(s1)
710d252a:	1063      	b	710d25f2 <.L7+0x2c>
710d252c:	b237      	lw	v0,710d2608 <.L7+0x42>
710d252e:	9a40      	lw	v0,0(v0)
710d2530:	d942      	sw	v0,8(s1)
710d2532:	b337      	lw	v1,710d260c <.L7+0x46>
710d2534:	6a1e      	li	v0,30
710d2536:	db40      	sw	v0,0(v1)
710d2538:	b336      	lw	v1,710d2610 <.L7+0x4a>
710d253a:	6a1e      	li	v0,30
710d253c:	cb40      	sh	v0,0(v1)
710d253e:	b234      	lw	v0,710d260c <.L7+0x46>
710d2540:	9a60      	lw	v1,0(v0)
710d2542:	9942      	lw	v0,8(s1)
710d2544:	eb43      	sltu	v1,v0
710d2546:	6053      	bteqz	710d25ee <.L7+0x28>
710d2548:	b233      	lw	v0,710d2614 <.L7+0x4e>
710d254a:	6782      	move	a0,v0
710d254c:	6d80      	li	a1,128
710d254e:	6e18      	li	a2,24
710d2550:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
710d2554:	6500      	nop
710d2556:	b231      	lw	v0,710d2618 <.L7+0x52>
710d2558:	9a40      	lw	v0,0(v0)
710d255a:	d943      	sw	v0,12(s1)
710d255c:	6a00      	li	v0,0
710d255e:	d941      	sw	v0,4(s1)
710d2560:	a140      	lbu	v0,0(s1)
710d2562:	7201      	cmpi	v0,1
710d2564:	6758      	move	v0,t8
710d2566:	5a01      	sltiu	v0,1
710d2568:	6015      	bteqz	710d2594 <get_id3_wma+0x94>
710d256a:	b22b      	lw	v0,710d2614 <.L7+0x4e>
710d256c:	b32c      	lw	v1,710d261c <.L7+0x56>
710d256e:	6782      	move	a0,v0
710d2570:	67a3      	move	a1,v1
710d2572:	6e10      	li	a2,16
710d2574:	6f02      	li	a3,2
710d2576:	b224      	lw	v0,710d2604 <.L7+0x3e>
710d2578:	eac0      	jalrc	v0
710d257a:	651a      	move	t8,v0
710d257c:	610b      	btnez	710d2594 <get_id3_wma+0x94>
710d257e:	b224      	lw	v0,710d260c <.L7+0x46>
710d2580:	9a40      	lw	v0,0(v0)
710d2582:	d941      	sw	v0,4(s1)
710d2584:	9943      	lw	v0,12(s1)
710d2586:	6782      	move	a0,v0
710d2588:	1862 499c 	jal	710d2670 <wma_content_object>
710d258c:	6500      	nop
710d258e:	6a00      	li	v0,0
710d2590:	c140      	sb	v0,0(s1)
710d2592:	1019      	b	710d25c6 <.L7>
710d2594:	a141      	lbu	v0,1(s1)
710d2596:	7201      	cmpi	v0,1
710d2598:	6758      	move	v0,t8
710d259a:	5a01      	sltiu	v0,1
710d259c:	6014      	bteqz	710d25c6 <.L7>
710d259e:	b21e      	lw	v0,710d2614 <.L7+0x4e>
710d25a0:	b320      	lw	v1,710d2620 <.L7+0x5a>
710d25a2:	6782      	move	a0,v0
710d25a4:	67a3      	move	a1,v1
710d25a6:	6e10      	li	a2,16
710d25a8:	6f02      	li	a3,2
710d25aa:	b217      	lw	v0,710d2604 <.L7+0x3e>
710d25ac:	eac0      	jalrc	v0
710d25ae:	651a      	move	t8,v0
710d25b0:	610a      	btnez	710d25c6 <.L7>
710d25b2:	b217      	lw	v0,710d260c <.L7+0x46>
710d25b4:	9a40      	lw	v0,0(v0)
710d25b6:	d941      	sw	v0,4(s1)
710d25b8:	9943      	lw	v0,12(s1)
710d25ba:	6782      	move	a0,v0
710d25bc:	1862 4a3a 	jal	710d28e8 <wma_excontent_object>
710d25c0:	6500      	nop
710d25c2:	6a00      	li	v0,0
710d25c4:	c141      	sb	v0,1(s1)

710d25c6 <.L7>:
710d25c6:	a140      	lbu	v0,0(s1)
710d25c8:	2a03      	bnez	v0,710d25d0 <.L7+0xa>
710d25ca:	a141      	lbu	v0,1(s1)
710d25cc:	2a01      	bnez	v0,710d25d0 <.L7+0xa>
710d25ce:	100f      	b	710d25ee <.L7+0x28>
710d25d0:	9943      	lw	v0,12(s1)
710d25d2:	5a18      	sltiu	v0,24
710d25d4:	6109      	btnez	710d25e8 <.L7+0x22>
710d25d6:	9943      	lw	v0,12(s1)
710d25d8:	4ae8      	addiu	v0,-24
710d25da:	9961      	lw	v1,4(s1)
710d25dc:	6782      	move	a0,v0
710d25de:	67a3      	move	a1,v1
710d25e0:	1830 6d43 	jal	7805b50c <reset_file_pos>
710d25e4:	6500      	nop
710d25e6:	17ab      	b	710d253e <get_id3_wma+0x3e>
710d25e8:	6a00      	li	v0,0
710d25ea:	d944      	sw	v0,16(s1)
710d25ec:	1002      	b	710d25f2 <.L7+0x2c>
710d25ee:	6a01      	li	v0,1
710d25f0:	d944      	sw	v0,16(s1)
710d25f2:	9944      	lw	v0,16(s1)
710d25f4:	65b9      	move	sp,s1
710d25f6:	6454      	restore	32,ra,s1
710d25f8:	e8a0      	jrc	ra
710d25fa:	0000      	addiu	s0,sp,0
710d25fc:	b69c      	lw	a2,710d286c <wma_check_tag+0x38>
710d25fe:	7805      	sd	s0,40(s0)
710d2600:	2c18      	bnez	a0,710d2632 <wma_check_pic_flag+0xe>
710d2602:	710d      	cmpi	s1,13
710d2604:	6409      	restore	72
710d2606:	bfc1      	lwu	a2,4(a3)
710d2608:	b6ac      	lw	a2,710d28b8 <wma_check_tag+0x84>
710d260a:	7805      	sd	s0,40(s0)
710d260c:	b92c      	lwu	s1,48(s1)
710d260e:	7805      	sd	s0,40(s0)
710d2610:	b928      	lwu	s1,32(s1)
710d2612:	7805      	sd	s0,40(s0)
710d2614:	b89c      	lwu	a0,112(s0)
710d2616:	7805      	sd	s0,40(s0)
710d2618:	b8ac      	lwu	a1,48(s0)
710d261a:	7805      	sd	s0,40(s0)
710d261c:	2c28      	bnez	a0,710d266e <wma_check_pic_flag+0x4a>
710d261e:	710d      	cmpi	s1,13
710d2620:	2c38      	bnez	a0,710d2692 <wma_content_object+0x22>
710d2622:	710d      	cmpi	s1,13

710d2624 <wma_check_pic_flag>:
710d2624:	6492      	save	16,s1
710d2626:	673d      	move	s1,sp
710d2628:	d984      	sw	a0,16(s1)
710d262a:	6a00      	li	v0,0
710d262c:	c140      	sb	v0,0(s1)
710d262e:	8140      	lb	v0,0(s1)
710d2630:	5200      	slti	v0,0
710d2632:	6117      	btnez	710d2662 <wma_check_pic_flag+0x3e>
710d2634:	a160      	lbu	v1,0(s1)
710d2636:	9944      	lw	v0,16(s1)
710d2638:	e349      	addu	v0,v1,v0
710d263a:	a240      	lbu	v0,0(v0)
710d263c:	72ff      	cmpi	v0,255
710d263e:	6758      	move	v0,t8
710d2640:	5a01      	sltiu	v0,1
710d2642:	600b      	bteqz	710d265a <wma_check_pic_flag+0x36>
710d2644:	a160      	lbu	v1,0(s1)
710d2646:	9944      	lw	v0,16(s1)
710d2648:	e349      	addu	v0,v1,v0
710d264a:	a241      	lbu	v0,1(v0)
710d264c:	72d8      	cmpi	v0,216
710d264e:	6758      	move	v0,t8
710d2650:	5a01      	sltiu	v0,1
710d2652:	6003      	bteqz	710d265a <wma_check_pic_flag+0x36>
710d2654:	8140      	lb	v0,0(s1)
710d2656:	d941      	sw	v0,4(s1)
710d2658:	1007      	b	710d2668 <wma_check_pic_flag+0x44>
710d265a:	a140      	lbu	v0,0(s1)
710d265c:	4241      	addiu	v0,v0,1
710d265e:	c140      	sb	v0,0(s1)
710d2660:	17e6      	b	710d262e <wma_check_pic_flag+0xa>
710d2662:	6a01      	li	v0,1
710d2664:	ea4b      	neg	v0
710d2666:	d941      	sw	v0,4(s1)
710d2668:	9941      	lw	v0,4(s1)
710d266a:	65b9      	move	sp,s1
710d266c:	6412      	restore	16,s1
710d266e:	e8a0      	jrc	ra

710d2670 <wma_content_object>:
710d2670:	64d4      	save	32,ra,s1
710d2672:	0104      	addiu	s1,sp,16
710d2674:	d984      	sw	a0,16(s1)
710d2676:	b26e      	lw	v0,710d282c <wma_content_object+0x1bc>
710d2678:	d941      	sw	v0,4(s1)
710d267a:	b26d      	lw	v0,710d282c <wma_content_object+0x1bc>
710d267c:	6782      	move	a0,v0
710d267e:	6d0a      	li	a1,10
710d2680:	6e0a      	li	a2,10
710d2682:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
710d2686:	6500      	nop
710d2688:	b26a      	lw	v0,710d2830 <wma_content_object+0x1c0>
710d268a:	9a40      	lw	v0,0(v0)
710d268c:	a258      	lbu	v0,24(v0)
710d268e:	5a05      	sltiu	v0,5
710d2690:	6147      	btnez	710d2720 <wma_content_object+0xb0>
710d2692:	b268      	lw	v0,710d2830 <wma_content_object+0x1c0>
710d2694:	9a40      	lw	v0,0(v0)
710d2696:	a258      	lbu	v0,24(v0)
710d2698:	424e      	addiu	v0,v0,-2
710d269a:	6762      	move	v1,v0
710d269c:	eb31      	zeh	v1
710d269e:	9941      	lw	v0,4(s1)
710d26a0:	aa40      	lhu	v0,0(v0)
710d26a2:	6783      	move	a0,v1
710d26a4:	67a2      	move	a1,v0
710d26a6:	1862 4afc 	jal	710d2bf0 <wma_mini_num>
710d26aa:	6500      	nop
710d26ac:	c940      	sh	v0,0(s1)
710d26ae:	a940      	lhu	v0,0(s1)
710d26b0:	5a03      	sltiu	v0,3
710d26b2:	612f      	btnez	710d2712 <wma_content_object+0xa2>
710d26b4:	b25f      	lw	v0,710d2830 <wma_content_object+0x1c0>
710d26b6:	9a40      	lw	v0,0(v0)
710d26b8:	9a40      	lw	v0,0(v0)
710d26ba:	4282      	addiu	a0,v0,2
710d26bc:	b25d      	lw	v0,710d2830 <wma_content_object+0x1c0>
710d26be:	9a40      	lw	v0,0(v0)
710d26c0:	a258      	lbu	v0,24(v0)
710d26c2:	424e      	addiu	v0,v0,-2
710d26c4:	ea31      	zeh	v0
710d26c6:	a960      	lhu	v1,0(s1)
710d26c8:	67a2      	move	a1,v0
710d26ca:	67c3      	move	a2,v1
710d26cc:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
710d26d0:	6500      	nop
710d26d2:	b258      	lw	v0,710d2830 <wma_content_object+0x1c0>
710d26d4:	9a40      	lw	v0,0(v0)
710d26d6:	9a60      	lw	v1,0(v0)
710d26d8:	f100 6a01 	li	v0,257
710d26dc:	ea4b      	neg	v0
710d26de:	cb40      	sh	v0,0(v1)
710d26e0:	b254      	lw	v0,710d2830 <wma_content_object+0x1c0>
710d26e2:	9a80      	lw	a0,0(v0)
710d26e4:	a960      	lhu	v1,0(s1)
710d26e6:	f7ff 6a1e 	li	v0,65534
710d26ea:	eb4c      	and	v1,v0
710d26ec:	9c40      	lw	v0,0(a0)
710d26ee:	e34d      	addu	v1,v0
710d26f0:	6a00      	li	v0,0
710d26f2:	cb40      	sh	v0,0(v1)
710d26f4:	9941      	lw	v0,4(s1)
710d26f6:	aa60      	lhu	v1,0(v0)
710d26f8:	a940      	lhu	v0,0(s1)
710d26fa:	ea63      	sltu	v0,v1
710d26fc:	6011      	bteqz	710d2720 <wma_content_object+0xb0>
710d26fe:	9941      	lw	v0,4(s1)
710d2700:	aa60      	lhu	v1,0(v0)
710d2702:	a940      	lhu	v0,0(s1)
710d2704:	e34b      	subu	v0,v1,v0
710d2706:	6782      	move	a0,v0
710d2708:	6d00      	li	a1,0
710d270a:	1830 6d43 	jal	7805b50c <reset_file_pos>
710d270e:	6500      	nop
710d2710:	1007      	b	710d2720 <wma_content_object+0xb0>
710d2712:	9941      	lw	v0,4(s1)
710d2714:	aa40      	lhu	v0,0(v0)
710d2716:	6782      	move	a0,v0
710d2718:	6d00      	li	a1,0
710d271a:	1830 6d43 	jal	7805b50c <reset_file_pos>
710d271e:	6500      	nop
710d2720:	b244      	lw	v0,710d2830 <wma_content_object+0x1c0>
710d2722:	9a40      	lw	v0,0(v0)
710d2724:	a259      	lbu	v0,25(v0)
710d2726:	5a05      	sltiu	v0,5
710d2728:	6147      	btnez	710d27b8 <wma_content_object+0x148>
710d272a:	b242      	lw	v0,710d2830 <wma_content_object+0x1c0>
710d272c:	9a40      	lw	v0,0(v0)
710d272e:	a259      	lbu	v0,25(v0)
710d2730:	424e      	addiu	v0,v0,-2
710d2732:	6762      	move	v1,v0
710d2734:	eb31      	zeh	v1
710d2736:	9941      	lw	v0,4(s1)
710d2738:	aa41      	lhu	v0,2(v0)
710d273a:	6783      	move	a0,v1
710d273c:	67a2      	move	a1,v0
710d273e:	1862 4afc 	jal	710d2bf0 <wma_mini_num>
710d2742:	6500      	nop
710d2744:	c940      	sh	v0,0(s1)
710d2746:	a940      	lhu	v0,0(s1)
710d2748:	5a03      	sltiu	v0,3
710d274a:	612f      	btnez	710d27aa <wma_content_object+0x13a>
710d274c:	b239      	lw	v0,710d2830 <wma_content_object+0x1c0>
710d274e:	9a40      	lw	v0,0(v0)
710d2750:	9a41      	lw	v0,4(v0)
710d2752:	4282      	addiu	a0,v0,2
710d2754:	b237      	lw	v0,710d2830 <wma_content_object+0x1c0>
710d2756:	9a40      	lw	v0,0(v0)
710d2758:	a259      	lbu	v0,25(v0)
710d275a:	424e      	addiu	v0,v0,-2
710d275c:	ea31      	zeh	v0
710d275e:	a960      	lhu	v1,0(s1)
710d2760:	67a2      	move	a1,v0
710d2762:	67c3      	move	a2,v1
710d2764:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
710d2768:	6500      	nop
710d276a:	b232      	lw	v0,710d2830 <wma_content_object+0x1c0>
710d276c:	9a40      	lw	v0,0(v0)
710d276e:	9a61      	lw	v1,4(v0)
710d2770:	f100 6a01 	li	v0,257
710d2774:	ea4b      	neg	v0
710d2776:	cb40      	sh	v0,0(v1)
710d2778:	b22e      	lw	v0,710d2830 <wma_content_object+0x1c0>
710d277a:	9a80      	lw	a0,0(v0)
710d277c:	a960      	lhu	v1,0(s1)
710d277e:	f7ff 6a1e 	li	v0,65534
710d2782:	eb4c      	and	v1,v0
710d2784:	9c41      	lw	v0,4(a0)
710d2786:	e34d      	addu	v1,v0
710d2788:	6a00      	li	v0,0
710d278a:	cb40      	sh	v0,0(v1)
710d278c:	9941      	lw	v0,4(s1)
710d278e:	aa61      	lhu	v1,2(v0)
710d2790:	a940      	lhu	v0,0(s1)
710d2792:	ea63      	sltu	v0,v1
710d2794:	6011      	bteqz	710d27b8 <wma_content_object+0x148>
710d2796:	9941      	lw	v0,4(s1)
710d2798:	aa61      	lhu	v1,2(v0)
710d279a:	a940      	lhu	v0,0(s1)
710d279c:	e34b      	subu	v0,v1,v0
710d279e:	6782      	move	a0,v0
710d27a0:	6d00      	li	a1,0
710d27a2:	1830 6d43 	jal	7805b50c <reset_file_pos>
710d27a6:	6500      	nop
710d27a8:	1007      	b	710d27b8 <wma_content_object+0x148>
710d27aa:	9941      	lw	v0,4(s1)
710d27ac:	aa41      	lhu	v0,2(v0)
710d27ae:	6782      	move	a0,v0
710d27b0:	6d00      	li	a1,0
710d27b2:	1830 6d43 	jal	7805b50c <reset_file_pos>
710d27b6:	6500      	nop
710d27b8:	b21e      	lw	v0,710d2830 <wma_content_object+0x1c0>
710d27ba:	9a40      	lw	v0,0(v0)
710d27bc:	a25c      	lbu	v0,28(v0)
710d27be:	5a05      	sltiu	v0,5
710d27c0:	6131      	btnez	710d2824 <wma_content_object+0x1b4>
710d27c2:	b21c      	lw	v0,710d2830 <wma_content_object+0x1c0>
710d27c4:	9a40      	lw	v0,0(v0)
710d27c6:	a25c      	lbu	v0,28(v0)
710d27c8:	424e      	addiu	v0,v0,-2
710d27ca:	6762      	move	v1,v0
710d27cc:	eb31      	zeh	v1
710d27ce:	9941      	lw	v0,4(s1)
710d27d0:	aa42      	lhu	v0,4(v0)
710d27d2:	6783      	move	a0,v1
710d27d4:	67a2      	move	a1,v0
710d27d6:	1862 4afc 	jal	710d2bf0 <wma_mini_num>
710d27da:	6500      	nop
710d27dc:	c940      	sh	v0,0(s1)
710d27de:	a940      	lhu	v0,0(s1)
710d27e0:	5a03      	sltiu	v0,3
710d27e2:	6120      	btnez	710d2824 <wma_content_object+0x1b4>
710d27e4:	b213      	lw	v0,710d2830 <wma_content_object+0x1c0>
710d27e6:	9a40      	lw	v0,0(v0)
710d27e8:	9a44      	lw	v0,16(v0)
710d27ea:	4282      	addiu	a0,v0,2
710d27ec:	b211      	lw	v0,710d2830 <wma_content_object+0x1c0>
710d27ee:	9a40      	lw	v0,0(v0)
710d27f0:	a25c      	lbu	v0,28(v0)
710d27f2:	424e      	addiu	v0,v0,-2
710d27f4:	ea31      	zeh	v0
710d27f6:	a960      	lhu	v1,0(s1)
710d27f8:	67a2      	move	a1,v0
710d27fa:	67c3      	move	a2,v1
710d27fc:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
710d2800:	6500      	nop
710d2802:	b20c      	lw	v0,710d2830 <wma_content_object+0x1c0>
710d2804:	9a40      	lw	v0,0(v0)
710d2806:	9a64      	lw	v1,16(v0)
710d2808:	f100 6a01 	li	v0,257
710d280c:	ea4b      	neg	v0
710d280e:	cb40      	sh	v0,0(v1)
710d2810:	b208      	lw	v0,710d2830 <wma_content_object+0x1c0>
710d2812:	9a80      	lw	a0,0(v0)
710d2814:	a960      	lhu	v1,0(s1)
710d2816:	f7ff 6a1e 	li	v0,65534
710d281a:	eb4c      	and	v1,v0
710d281c:	9c44      	lw	v0,16(a0)
710d281e:	e34d      	addu	v1,v0
710d2820:	6a00      	li	v0,0
710d2822:	cb40      	sh	v0,0(v1)
710d2824:	6a01      	li	v0,1
710d2826:	65b9      	move	sp,s1
710d2828:	6452      	restore	16,ra,s1
710d282a:	e8a0      	jrc	ra
710d282c:	2cec      	bnez	a0,710d2806 <wma_content_object+0x196>
710d282e:	710d      	cmpi	s1,13
710d2830:	b934      	lwu	s1,80(s1)
710d2832:	7805      	sd	s0,40(s0)

710d2834 <wma_check_tag>:
710d2834:	64d4      	save	32,ra,s1
710d2836:	0104      	addiu	s1,sp,16
710d2838:	6a00      	li	v0,0
710d283a:	c140      	sb	v0,0(s1)
710d283c:	a140      	lbu	v0,0(s1)
710d283e:	5a08      	sltiu	v0,8
710d2840:	6029      	bteqz	710d2894 <wma_check_tag+0x60>
710d2842:	b324      	lw	v1,710d28d0 <wma_check_tag+0x9c>
710d2844:	a140      	lbu	v0,0(s1)
710d2846:	e349      	addu	v0,v1,v0
710d2848:	a240      	lbu	v0,0(v0)
710d284a:	7201      	cmpi	v0,1
710d284c:	6758      	move	v0,t8
710d284e:	5a01      	sltiu	v0,1
710d2850:	601d      	bteqz	710d288c <wma_check_tag+0x58>
710d2852:	b321      	lw	v1,710d28d4 <wma_check_tag+0xa0>
710d2854:	a140      	lbu	v0,0(s1)
710d2856:	324c      	sll	v0,3
710d2858:	e269      	addu	v0,v1
710d285a:	a244      	lbu	v0,4(v0)
710d285c:	2217      	beqz	v0,710d288c <wma_check_tag+0x58>
710d285e:	b41f      	lw	a0,710d28d8 <wma_check_tag+0xa4>
710d2860:	b31d      	lw	v1,710d28d4 <wma_check_tag+0xa0>
710d2862:	a140      	lbu	v0,0(s1)
710d2864:	324c      	sll	v0,3
710d2866:	e269      	addu	v0,v1
710d2868:	9aa0      	lw	a1,0(v0)
710d286a:	b31b      	lw	v1,710d28d4 <wma_check_tag+0xa0>
710d286c:	a140      	lbu	v0,0(s1)
710d286e:	324c      	sll	v0,3
710d2870:	e269      	addu	v0,v1
710d2872:	a244      	lbu	v0,4(v0)
710d2874:	67c2      	move	a2,v0
710d2876:	6f02      	li	a3,2
710d2878:	b219      	lw	v0,710d28dc <wma_check_tag+0xa8>
710d287a:	eac0      	jalrc	v0
710d287c:	651a      	move	t8,v0
710d287e:	6106      	btnez	710d288c <wma_check_tag+0x58>
710d2880:	b314      	lw	v1,710d28d0 <wma_check_tag+0x9c>
710d2882:	a140      	lbu	v0,0(s1)
710d2884:	e34d      	addu	v1,v0
710d2886:	6a00      	li	v0,0
710d2888:	c340      	sb	v0,0(v1)
710d288a:	1004      	b	710d2894 <wma_check_tag+0x60>
710d288c:	a140      	lbu	v0,0(s1)
710d288e:	4241      	addiu	v0,v0,1
710d2890:	c140      	sb	v0,0(s1)
710d2892:	17d4      	b	710d283c <wma_check_tag+0x8>
710d2894:	a140      	lbu	v0,0(s1)
710d2896:	5a08      	sltiu	v0,8
710d2898:	6104      	btnez	710d28a2 <wma_check_tag+0x6e>
710d289a:	6a01      	li	v0,1
710d289c:	ea4b      	neg	v0
710d289e:	d941      	sw	v0,4(s1)
710d28a0:	1013      	b	710d28c8 <wma_check_tag+0x94>
710d28a2:	b210      	lw	v0,710d28e0 <wma_check_tag+0xac>
710d28a4:	9a80      	lw	a0,0(v0)
710d28a6:	a140      	lbu	v0,0(s1)
710d28a8:	3348      	sll	v1,v0,2
710d28aa:	b20f      	lw	v0,710d28e4 <wma_check_tag+0xb0>
710d28ac:	9a40      	lw	v0,0(v0)
710d28ae:	e349      	addu	v0,v1,v0
710d28b0:	9a40      	lw	v0,0(v0)
710d28b2:	dc41      	sw	v0,4(a0)
710d28b4:	b20b      	lw	v0,710d28e0 <wma_check_tag+0xac>
710d28b6:	9a80      	lw	a0,0(v0)
710d28b8:	a160      	lbu	v1,0(s1)
710d28ba:	b20b      	lw	v0,710d28e4 <wma_check_tag+0xb0>
710d28bc:	9a40      	lw	v0,0(v0)
710d28be:	e349      	addu	v0,v1,v0
710d28c0:	a258      	lbu	v0,24(v0)
710d28c2:	c440      	sb	v0,0(a0)
710d28c4:	8140      	lb	v0,0(s1)
710d28c6:	d941      	sw	v0,4(s1)
710d28c8:	9941      	lw	v0,4(s1)
710d28ca:	65b9      	move	sp,s1
710d28cc:	6452      	restore	16,ra,s1
710d28ce:	e8a0      	jrc	ra
710d28d0:	b920      	lwu	s1,0(s1)
710d28d2:	7805      	sd	s0,40(s0)
710d28d4:	2cac      	bnez	a0,710d282e <wma_content_object+0x1be>
710d28d6:	710d      	cmpi	s1,13
710d28d8:	b89c      	lwu	a0,112(s0)
710d28da:	7805      	sd	s0,40(s0)
710d28dc:	6409      	restore	72
710d28de:	bfc1      	lwu	a2,4(a3)
710d28e0:	b930      	lwu	s1,64(s1)
710d28e2:	7805      	sd	s0,40(s0)
710d28e4:	b934      	lwu	s1,80(s1)
710d28e6:	7805      	sd	s0,40(s0)

710d28e8 <wma_excontent_object>:
710d28e8:	64d6      	save	48,ra,s1
710d28ea:	0104      	addiu	s1,sp,16
710d28ec:	d988      	sw	a0,32(s1)
710d28ee:	6a08      	li	v0,8
710d28f0:	c141      	sb	v0,1(s1)
710d28f2:	6a00      	li	v0,0
710d28f4:	c142      	sb	v0,2(s1)
710d28f6:	b2ba      	lw	v0,710d2bdc <wma_excontent_object+0x2f4>
710d28f8:	6782      	move	a0,v0
710d28fa:	6d80      	li	a1,128
710d28fc:	6e02      	li	a2,2
710d28fe:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
710d2902:	6500      	nop
710d2904:	b2b6      	lw	v0,710d2bdc <wma_excontent_object+0x2f4>
710d2906:	aa40      	lhu	v0,0(v0)
710d2908:	c942      	sh	v0,4(s1)
710d290a:	a141      	lbu	v0,1(s1)
710d290c:	6762      	move	v1,v0
710d290e:	eb31      	zeh	v1
710d2910:	a942      	lhu	v0,4(s1)
710d2912:	ea63      	sltu	v0,v1
710d2914:	6002      	bteqz	710d291a <wma_excontent_object+0x32>
710d2916:	a942      	lhu	v0,4(s1)
710d2918:	c141      	sb	v0,1(s1)
710d291a:	b2b2      	lw	v0,710d2be0 <wma_excontent_object+0x2f8>
710d291c:	9968      	lw	v1,32(s1)
710d291e:	9a40      	lw	v0,0(v0)
710d2920:	e349      	addu	v0,v1,v0
710d2922:	d948      	sw	v0,32(s1)
710d2924:	b2af      	lw	v0,710d2be0 <wma_excontent_object+0x2f8>
710d2926:	9a60      	lw	v1,0(v0)
710d2928:	9948      	lw	v0,32(s1)
710d292a:	eb43      	sltu	v1,v0
710d292c:	f140 6011 	bteqz	710d2bd2 <wma_excontent_object+0x2ea>
710d2930:	a142      	lbu	v0,2(s1)
710d2932:	a161      	lbu	v1,1(s1)
710d2934:	ea63      	sltu	v0,v1
710d2936:	f140 600c 	bteqz	710d2bd2 <wma_excontent_object+0x2ea>
710d293a:	b2a9      	lw	v0,710d2bdc <wma_excontent_object+0x2f4>
710d293c:	6782      	move	a0,v0
710d293e:	6d80      	li	a1,128
710d2940:	6e02      	li	a2,2
710d2942:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
710d2946:	6500      	nop
710d2948:	b2a5      	lw	v0,710d2bdc <wma_excontent_object+0x2f4>
710d294a:	aa40      	lhu	v0,0(v0)
710d294c:	c943      	sh	v0,6(s1)
710d294e:	b2a4      	lw	v0,710d2bdc <wma_excontent_object+0x2f4>
710d2950:	a963      	lhu	v1,6(s1)
710d2952:	6782      	move	a0,v0
710d2954:	6d80      	li	a1,128
710d2956:	67c3      	move	a2,v1
710d2958:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
710d295c:	6500      	nop
710d295e:	1862 4a0d 	jal	710d2834 <wma_check_tag>
710d2962:	6500      	nop
710d2964:	c140      	sb	v0,0(s1)
710d2966:	b29e      	lw	v0,710d2bdc <wma_excontent_object+0x2f4>
710d2968:	6782      	move	a0,v0
710d296a:	6d80      	li	a1,128
710d296c:	6e04      	li	a2,4
710d296e:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
710d2972:	6500      	nop
710d2974:	b29a      	lw	v0,710d2bdc <wma_excontent_object+0x2f4>
710d2976:	aa40      	lhu	v0,0(v0)
710d2978:	c945      	sh	v0,10(s1)
710d297a:	b29b      	lw	v0,710d2be4 <wma_excontent_object+0x2fc>
710d297c:	aa40      	lhu	v0,0(v0)
710d297e:	c944      	sh	v0,8(s1)
710d2980:	8160      	lb	v1,0(s1)
710d2982:	6a01      	li	v0,1
710d2984:	ea4b      	neg	v0
710d2986:	ea6e      	xor	v0,v1
710d2988:	5a01      	sltiu	v0,1
710d298a:	6007      	bteqz	710d299a <wma_excontent_object+0xb2>
710d298c:	a944      	lhu	v0,8(s1)
710d298e:	6782      	move	a0,v0
710d2990:	6d00      	li	a1,0
710d2992:	1830 6d43 	jal	7805b50c <reset_file_pos>
710d2996:	6500      	nop
710d2998:	17c5      	b	710d2924 <wma_excontent_object+0x3c>
710d299a:	a142      	lbu	v0,2(s1)
710d299c:	4241      	addiu	v0,v0,1
710d299e:	c142      	sb	v0,2(s1)
710d29a0:	a944      	lhu	v0,8(s1)
710d29a2:	5a04      	sltiu	v0,4
710d29a4:	6007      	bteqz	710d29b4 <wma_excontent_object+0xcc>
710d29a6:	a944      	lhu	v0,8(s1)
710d29a8:	6782      	move	a0,v0
710d29aa:	6d00      	li	a1,0
710d29ac:	1830 6d43 	jal	7805b50c <reset_file_pos>
710d29b0:	6500      	nop
710d29b2:	17b8      	b	710d2924 <wma_excontent_object+0x3c>
710d29b4:	8140      	lb	v0,0(s1)
710d29b6:	7206      	cmpi	v0,6
710d29b8:	6758      	move	v0,t8
710d29ba:	5a01      	sltiu	v0,1
710d29bc:	6039      	bteqz	710d2a30 <wma_excontent_object+0x148>
710d29be:	b28b      	lw	v0,710d2be8 <wma_excontent_object+0x300>
710d29c0:	9a40      	lw	v0,0(v0)
710d29c2:	a25f      	lbu	v0,31(v0)
710d29c4:	2235      	beqz	v0,710d2a30 <wma_excontent_object+0x148>
710d29c6:	b286      	lw	v0,710d2bdc <wma_excontent_object+0x2f4>
710d29c8:	6782      	move	a0,v0
710d29ca:	6d80      	li	a1,128
710d29cc:	6e80      	li	a2,128
710d29ce:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
710d29d2:	6500      	nop
710d29d4:	b282      	lw	v0,710d2bdc <wma_excontent_object+0x2f4>
710d29d6:	6782      	move	a0,v0
710d29d8:	1862 4989 	jal	710d2624 <wma_check_pic_flag>
710d29dc:	6500      	nop
710d29de:	c140      	sb	v0,0(s1)
710d29e0:	8160      	lb	v1,0(s1)
710d29e2:	6a01      	li	v0,1
710d29e4:	ea4b      	neg	v0
710d29e6:	ea6e      	xor	v0,v1
710d29e8:	5a01      	sltiu	v0,1
710d29ea:	6114      	btnez	710d2a14 <wma_excontent_object+0x12c>
710d29ec:	b27f      	lw	v0,710d2be8 <wma_excontent_object+0x300>
710d29ee:	9a80      	lw	a0,0(v0)
710d29f0:	a160      	lbu	v1,0(s1)
710d29f2:	b27c      	lw	v0,710d2be0 <wma_excontent_object+0x2f8>
710d29f4:	9a40      	lw	v0,0(v0)
710d29f6:	e349      	addu	v0,v1,v0
710d29f8:	4a80      	addiu	v0,-128
710d29fa:	dc4a      	sw	v0,40(a0)
710d29fc:	b27b      	lw	v0,710d2be8 <wma_excontent_object+0x300>
710d29fe:	9a60      	lw	v1,0(v0)
710d2a00:	6a01      	li	v0,1
710d2a02:	c35e      	sb	v0,30(v1)
710d2a04:	a944      	lhu	v0,8(s1)
710d2a06:	4a80      	addiu	v0,-128
710d2a08:	6782      	move	a0,v0
710d2a0a:	6d00      	li	a1,0
710d2a0c:	1830 6d43 	jal	7805b50c <reset_file_pos>
710d2a10:	6500      	nop
710d2a12:	1788      	b	710d2924 <wma_excontent_object+0x3c>
710d2a14:	b275      	lw	v0,710d2be8 <wma_excontent_object+0x300>
710d2a16:	9a60      	lw	v1,0(v0)
710d2a18:	6a00      	li	v0,0
710d2a1a:	c35e      	sb	v0,30(v1)
710d2a1c:	a964      	lhu	v1,8(s1)
710d2a1e:	b271      	lw	v0,710d2be0 <wma_excontent_object+0x2f8>
710d2a20:	9a40      	lw	v0,0(v0)
710d2a22:	4a80      	addiu	v0,-128
710d2a24:	6783      	move	a0,v1
710d2a26:	67a2      	move	a1,v0
710d2a28:	1830 6d43 	jal	7805b50c <reset_file_pos>
710d2a2c:	6500      	nop
710d2a2e:	177a      	b	710d2924 <wma_excontent_object+0x3c>
710d2a30:	8140      	lb	v0,0(s1)
710d2a32:	7205      	cmpi	v0,5
710d2a34:	6758      	move	v0,t8
710d2a36:	5a01      	sltiu	v0,1
710d2a38:	f080 6000 	bteqz	710d2b3c <wma_excontent_object+0x254>
710d2a3c:	b268      	lw	v0,710d2bdc <wma_excontent_object+0x2f4>
710d2a3e:	a964      	lhu	v1,8(s1)
710d2a40:	6782      	move	a0,v0
710d2a42:	6d80      	li	a1,128
710d2a44:	67c3      	move	a2,v1
710d2a46:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
710d2a4a:	6500      	nop
710d2a4c:	a945      	lhu	v0,10(s1)
710d2a4e:	2a6e      	bnez	v0,710d2b2c <wma_excontent_object+0x244>
710d2a50:	a944      	lhu	v0,8(s1)
710d2a52:	3246      	srl	v0,1
710d2a54:	424e      	addiu	v0,v0,-2
710d2a56:	c947      	sh	v0,14(s1)
710d2a58:	a947      	lhu	v0,14(s1)
710d2a5a:	d944      	sw	v0,16(s1)
710d2a5c:	9944      	lw	v0,16(s1)
710d2a5e:	7201      	cmpi	v0,1
710d2a60:	6758      	move	v0,t8
710d2a62:	5a01      	sltiu	v0,1
710d2a64:	6116      	btnez	710d2a92 <wma_excontent_object+0x1aa>
710d2a66:	9944      	lw	v0,16(s1)
710d2a68:	5202      	slti	v0,2
710d2a6a:	6003      	bteqz	710d2a72 <wma_excontent_object+0x18a>
710d2a6c:	9944      	lw	v0,16(s1)
710d2a6e:	220c      	beqz	v0,710d2a88 <wma_excontent_object+0x1a0>
710d2a70:	105a      	b	710d2b26 <wma_excontent_object+0x23e>
710d2a72:	9944      	lw	v0,16(s1)
710d2a74:	7202      	cmpi	v0,2
710d2a76:	6758      	move	v0,t8
710d2a78:	5a01      	sltiu	v0,1
710d2a7a:	6119      	btnez	710d2aae <wma_excontent_object+0x1c6>
710d2a7c:	9944      	lw	v0,16(s1)
710d2a7e:	7203      	cmpi	v0,3
710d2a80:	6758      	move	v0,t8
710d2a82:	5a01      	sltiu	v0,1
710d2a84:	612c      	btnez	710d2ade <wma_excontent_object+0x1f6>
710d2a86:	104f      	b	710d2b26 <wma_excontent_object+0x23e>
710d2a88:	b255      	lw	v0,710d2bdc <wma_excontent_object+0x2f4>
710d2a8a:	a240      	lbu	v0,0(v0)
710d2a8c:	4ad0      	addiu	v0,-48
710d2a8e:	c946      	sh	v0,12(s1)
710d2a90:	1050      	b	710d2b32 <wma_excontent_object+0x24a>
710d2a92:	b253      	lw	v0,710d2bdc <wma_excontent_object+0x2f4>
710d2a94:	a260      	lbu	v1,0(v0)
710d2a96:	6743      	move	v0,v1
710d2a98:	3248      	sll	v0,2
710d2a9a:	e269      	addu	v0,v1
710d2a9c:	3444      	sll	a0,v0,1
710d2a9e:	b250      	lw	v0,710d2bdc <wma_excontent_object+0x2f4>
710d2aa0:	a262      	lbu	v1,2(v0)
710d2aa2:	6744      	move	v0,a0
710d2aa4:	e349      	addu	v0,v1,v0
710d2aa6:	f5ff 4a10 	addiu	v0,-528
710d2aaa:	c946      	sh	v0,12(s1)
710d2aac:	1042      	b	710d2b32 <wma_excontent_object+0x24a>
710d2aae:	b24c      	lw	v0,710d2bdc <wma_excontent_object+0x2f4>
710d2ab0:	a260      	lbu	v1,0(v0)
710d2ab2:	6743      	move	v0,v1
710d2ab4:	3244      	sll	v0,1
710d2ab6:	e269      	addu	v0,v1
710d2ab8:	324c      	sll	v0,3
710d2aba:	e269      	addu	v0,v1
710d2abc:	3448      	sll	a0,v0,2
710d2abe:	b248      	lw	v0,710d2bdc <wma_excontent_object+0x2f4>
710d2ac0:	a262      	lbu	v1,2(v0)
710d2ac2:	6743      	move	v0,v1
710d2ac4:	3248      	sll	v0,2
710d2ac6:	e269      	addu	v0,v1
710d2ac8:	3244      	sll	v0,1
710d2aca:	6764      	move	v1,a0
710d2acc:	e351      	addu	a0,v1,v0
710d2ace:	b244      	lw	v0,710d2bdc <wma_excontent_object+0x2f4>
710d2ad0:	a264      	lbu	v1,4(v0)
710d2ad2:	6744      	move	v0,a0
710d2ad4:	e349      	addu	v0,v1,v0
710d2ad6:	f33d 4a10 	addiu	v0,-5328
710d2ada:	c946      	sh	v0,12(s1)
710d2adc:	102a      	b	710d2b32 <wma_excontent_object+0x24a>
710d2ade:	b240      	lw	v0,710d2bdc <wma_excontent_object+0x2f4>
710d2ae0:	a260      	lbu	v1,0(v0)
710d2ae2:	6743      	move	v0,v1
710d2ae4:	3254      	sll	v0,5
710d2ae6:	e26b      	subu	v0,v1
710d2ae8:	3248      	sll	v0,2
710d2aea:	e269      	addu	v0,v1
710d2aec:	344c      	sll	a0,v0,3
710d2aee:	b23c      	lw	v0,710d2bdc <wma_excontent_object+0x2f4>
710d2af0:	a262      	lbu	v1,2(v0)
710d2af2:	6743      	move	v0,v1
710d2af4:	3244      	sll	v0,1
710d2af6:	e269      	addu	v0,v1
710d2af8:	324c      	sll	v0,3
710d2afa:	e269      	addu	v0,v1
710d2afc:	3248      	sll	v0,2
710d2afe:	6764      	move	v1,a0
710d2b00:	e351      	addu	a0,v1,v0
710d2b02:	b237      	lw	v0,710d2bdc <wma_excontent_object+0x2f4>
710d2b04:	a264      	lbu	v1,4(v0)
710d2b06:	6743      	move	v0,v1
710d2b08:	3248      	sll	v0,2
710d2b0a:	e269      	addu	v0,v1
710d2b0c:	3244      	sll	v0,1
710d2b0e:	6764      	move	v1,a0
710d2b10:	e351      	addu	a0,v1,v0
710d2b12:	b233      	lw	v0,710d2bdc <wma_excontent_object+0x2f4>
710d2b14:	a266      	lbu	v1,6(v0)
710d2b16:	6744      	move	v0,a0
710d2b18:	e349      	addu	v0,v1,v0
710d2b1a:	f7a5 6b10 	li	v1,12208
710d2b1e:	eb6b      	neg	v1
710d2b20:	e26b      	subu	v0,v1
710d2b22:	c946      	sh	v0,12(s1)
710d2b24:	1006      	b	710d2b32 <wma_excontent_object+0x24a>
710d2b26:	6a00      	li	v0,0
710d2b28:	c946      	sh	v0,12(s1)
710d2b2a:	1003      	b	710d2b32 <wma_excontent_object+0x24a>
710d2b2c:	b22c      	lw	v0,710d2bdc <wma_excontent_object+0x2f4>
710d2b2e:	9a40      	lw	v0,0(v0)
710d2b30:	c946      	sh	v0,12(s1)
710d2b32:	b22e      	lw	v0,710d2be8 <wma_excontent_object+0x300>
710d2b34:	9a60      	lw	v1,0(v0)
710d2b36:	a946      	lhu	v0,12(s1)
710d2b38:	cb51      	sh	v0,34(v1)
710d2b3a:	16f4      	b	710d2924 <wma_excontent_object+0x3c>
710d2b3c:	b22c      	lw	v0,710d2bec <wma_excontent_object+0x304>
710d2b3e:	9a40      	lw	v0,0(v0)
710d2b40:	a240      	lbu	v0,0(v0)
710d2b42:	2a07      	bnez	v0,710d2b52 <wma_excontent_object+0x26a>
710d2b44:	a944      	lhu	v0,8(s1)
710d2b46:	6782      	move	a0,v0
710d2b48:	6d00      	li	a1,0
710d2b4a:	1830 6d43 	jal	7805b50c <reset_file_pos>
710d2b4e:	6500      	nop
710d2b50:	16e9      	b	710d2924 <wma_excontent_object+0x3c>
710d2b52:	a945      	lhu	v0,10(s1)
710d2b54:	f6ff 2a06 	bnez	v0,710d2924 <wma_excontent_object+0x3c>
710d2b58:	a964      	lhu	v1,8(s1)
710d2b5a:	b225      	lw	v0,710d2bec <wma_excontent_object+0x304>
710d2b5c:	9a40      	lw	v0,0(v0)
710d2b5e:	a240      	lbu	v0,0(v0)
710d2b60:	424c      	addiu	v0,v0,-4
710d2b62:	ea62      	slt	v0,v1
710d2b64:	6006      	bteqz	710d2b72 <wma_excontent_object+0x28a>
710d2b66:	b222      	lw	v0,710d2bec <wma_excontent_object+0x304>
710d2b68:	9a40      	lw	v0,0(v0)
710d2b6a:	a240      	lbu	v0,0(v0)
710d2b6c:	424c      	addiu	v0,v0,-4
710d2b6e:	c943      	sh	v0,6(s1)
710d2b70:	1002      	b	710d2b76 <wma_excontent_object+0x28e>
710d2b72:	a944      	lhu	v0,8(s1)
710d2b74:	c943      	sh	v0,6(s1)
710d2b76:	b21e      	lw	v0,710d2bec <wma_excontent_object+0x304>
710d2b78:	9a40      	lw	v0,0(v0)
710d2b7a:	9a41      	lw	v0,4(v0)
710d2b7c:	4282      	addiu	a0,v0,2
710d2b7e:	b21c      	lw	v0,710d2bec <wma_excontent_object+0x304>
710d2b80:	9a40      	lw	v0,0(v0)
710d2b82:	a240      	lbu	v0,0(v0)
710d2b84:	424e      	addiu	v0,v0,-2
710d2b86:	ea31      	zeh	v0
710d2b88:	a963      	lhu	v1,6(s1)
710d2b8a:	67a2      	move	a1,v0
710d2b8c:	67c3      	move	a2,v1
710d2b8e:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
710d2b92:	6500      	nop
710d2b94:	b216      	lw	v0,710d2bec <wma_excontent_object+0x304>
710d2b96:	9a80      	lw	a0,0(v0)
710d2b98:	a963      	lhu	v1,6(s1)
710d2b9a:	f7ff 6a1e 	li	v0,65534
710d2b9e:	eb4c      	and	v1,v0
710d2ba0:	9c41      	lw	v0,4(a0)
710d2ba2:	e34d      	addu	v1,v0
710d2ba4:	6a00      	li	v0,0
710d2ba6:	cb41      	sh	v0,2(v1)
710d2ba8:	b211      	lw	v0,710d2bec <wma_excontent_object+0x304>
710d2baa:	9a40      	lw	v0,0(v0)
710d2bac:	9a61      	lw	v1,4(v0)
710d2bae:	f100 6a01 	li	v0,257
710d2bb2:	ea4b      	neg	v0
710d2bb4:	cb40      	sh	v0,0(v1)
710d2bb6:	a963      	lhu	v1,6(s1)
710d2bb8:	a944      	lhu	v0,8(s1)
710d2bba:	eb43      	sltu	v1,v0
710d2bbc:	f6bf 6012 	bteqz	710d2924 <wma_excontent_object+0x3c>
710d2bc0:	a944      	lhu	v0,8(s1)
710d2bc2:	a963      	lhu	v1,6(s1)
710d2bc4:	e26b      	subu	v0,v1
710d2bc6:	6782      	move	a0,v0
710d2bc8:	6d00      	li	a1,0
710d2bca:	1830 6d43 	jal	7805b50c <reset_file_pos>
710d2bce:	6500      	nop
710d2bd0:	16a9      	b	710d2924 <wma_excontent_object+0x3c>
710d2bd2:	6a01      	li	v0,1
710d2bd4:	65b9      	move	sp,s1
710d2bd6:	6454      	restore	32,ra,s1
710d2bd8:	e8a0      	jrc	ra
710d2bda:	0000      	addiu	s0,sp,0
710d2bdc:	b89c      	lwu	a0,112(s0)
710d2bde:	7805      	sd	s0,40(s0)
710d2be0:	b92c      	lwu	s1,48(s1)
710d2be2:	7805      	sd	s0,40(s0)
710d2be4:	b89e      	lwu	a0,120(s0)
710d2be6:	7805      	sd	s0,40(s0)
710d2be8:	b934      	lwu	s1,80(s1)
710d2bea:	7805      	sd	s0,40(s0)
710d2bec:	b930      	lwu	s1,64(s1)
710d2bee:	7805      	sd	s0,40(s0)

710d2bf0 <wma_mini_num>:
710d2bf0:	6492      	save	16,s1
710d2bf2:	673d      	move	s1,sp
710d2bf4:	6744      	move	v0,a0
710d2bf6:	6765      	move	v1,a1
710d2bf8:	c948      	sh	v0,16(s1)
710d2bfa:	c96a      	sh	v1,20(s1)
710d2bfc:	a96a      	lhu	v1,20(s1)
710d2bfe:	a948      	lhu	v0,16(s1)
710d2c00:	eb43      	sltu	v1,v0
710d2c02:	6003      	bteqz	710d2c0a <wma_mini_num+0x1a>
710d2c04:	a94a      	lhu	v0,20(s1)
710d2c06:	d940      	sw	v0,0(s1)
710d2c08:	1002      	b	710d2c0e <wma_mini_num+0x1e>
710d2c0a:	a948      	lhu	v0,16(s1)
710d2c0c:	d940      	sw	v0,0(s1)
710d2c0e:	9940      	lw	v0,0(s1)
710d2c10:	65b9      	move	sp,s1
710d2c12:	6412      	restore	16,s1
710d2c14:	e8a0      	jrc	ra
710d2c16:	6500      	nop

710d2c18 <asf_header_obj>:
710d2c18:	2630 75b2 668e 11cf d9a6 aa00 6200 6cce     0&.u.f.......b.l

710d2c28 <content_description_obj>:
710d2c28:	2633 75b2 668e 11cf d9a6 aa00 6200 6cce     3&.u.f.......b.l

710d2c38 <extended_content_description_obj>:
710d2c38:	a440 d2d0 e307 11d2 f097 a000 5ec9 50a8     @............^.P

710d2c48 <alb_descriptor_name>:
710d2c48:	0057 004d 002f 0041 006c 0062 0075 006d     W.M./.A.l.b.u.m.
710d2c58:	0054 0069 0074 006c 0065 0000               T.i.t.l.e...

710d2c64 <genre_descriptor_name>:
710d2c64:	0057 004d 002f 0047 0065 006e 0072 0065     W.M./.G.e.n.r.e.
710d2c74:	0000 0000                                   ....

710d2c78 <tracknum_descriptor_name>:
710d2c78:	0057 004d 002f 0054 0072 0061 0063 006b     W.M./.T.r.a.c.k.
710d2c88:	004e 0075 006d 0062 0065 0072 0000 0000     N.u.m.b.e.r.....

710d2c98 <picture_descriptor_name>:
710d2c98:	0057 004d 002f 0050 0069 0063 0074 0075     W.M./.P.i.c.t.u.
710d2ca8:	0072 0065                                   r.e.

710d2cac <tag_string_info>:
	...
710d2cbc:	2c48 710d 001a 0000 2c64 710d 0012 0000     H,.q....d,.q....
	...
710d2cd4:	2c78 710d 001e 0000 2c98 710d 0014 0000     x,.q.....,.q....
	...

710d2cec <tag_info_tab>:
	...
Disassembly of section BANK_FRONT_ENHANCED_ID3_2_3:

71112500 <ape_read_datax>:
71112500:	64d7      	save	56,ra,s1
71112502:	0106      	addiu	s1,sp,24
71112504:	d988      	sw	a0,32(s1)
71112506:	d9a9      	sw	a1,36(s1)
71112508:	b276      	lw	v0,711126e0 <.LBE2+0xda>
7111250a:	aa60      	lhu	v1,0(v0)
7111250c:	9949      	lw	v0,36(s1)
7111250e:	e349      	addu	v0,v1,v0
71112510:	d943      	sw	v0,12(s1)
71112512:	9949      	lw	v0,36(s1)
71112514:	d942      	sw	v0,8(s1)
71112516:	9942      	lw	v0,8(s1)
71112518:	5a81      	sltiu	v0,129
7111251a:	6102      	btnez	71112520 <ape_read_datax+0x20>
7111251c:	6a80      	li	v0,128
7111251e:	d942      	sw	v0,8(s1)
71112520:	9949      	lw	v0,36(s1)
71112522:	2a72      	bnez	v0,71112608 <.LBE2+0x2>

71112524 <.LBB2>:
71112524:	6a00      	li	v0,0
71112526:	c948      	sh	v0,16(s1)
71112528:	b36f      	lw	v1,711126e4 <.LBE2+0xde>
7111252a:	9943      	lw	v0,12(s1)
7111252c:	e349      	addu	v0,v1,v0
7111252e:	a240      	lbu	v0,0(v0)
71112530:	222f      	beqz	v0,71112590 <.LBB2+0x6c>
71112532:	9942      	lw	v0,8(s1)
71112534:	4241      	addiu	v0,v0,1
71112536:	d942      	sw	v0,8(s1)
71112538:	9943      	lw	v0,12(s1)
7111253a:	4241      	addiu	v0,v0,1
7111253c:	d943      	sw	v0,12(s1)
7111253e:	9942      	lw	v0,8(s1)
71112540:	5a81      	sltiu	v0,129
71112542:	6103      	btnez	7111254a <.LBB2+0x26>
71112544:	6a00      	li	v0,0
71112546:	d945      	sw	v0,20(s1)
71112548:	10c6      	b	711126d6 <.LBE2+0xd0>
7111254a:	9943      	lw	v0,12(s1)
7111254c:	f200 5a00 	sltiu	v0,512
71112550:	61eb      	btnez	71112528 <.LBB2+0x4>
71112552:	9988      	lw	a0,32(s1)
71112554:	b263      	lw	v0,711126e0 <.LBE2+0xda>
71112556:	aa60      	lhu	v1,0(v0)
71112558:	b263      	lw	v0,711126e4 <.LBE2+0xde>
7111255a:	e349      	addu	v0,v1,v0
7111255c:	9962      	lw	v1,8(s1)
7111255e:	67a2      	move	a1,v0
71112560:	67c3      	move	a2,v1
71112562:	6f00      	li	a3,0
71112564:	b261      	lw	v0,711126e8 <.LBE2+0xe2>
71112566:	eac0      	jalrc	v0
71112568:	b261      	lw	v0,711126e8 <.LBE2+0xe2>
7111256a:	9a60      	lw	v1,0(v0)
7111256c:	b55e      	lw	a1,711126e4 <.LBE2+0xde>
7111256e:	f200 6e00 	li	a2,512
71112572:	b260      	lw	v0,711126f0 <.LBE2+0xea>
71112574:	9ae0      	lw	a3,0(v0)
71112576:	6a0d      	li	v0,13
71112578:	d204      	sw	v0,16(sp)
7111257a:	6783      	move	a0,v1
7111257c:	b25e      	lw	v0,711126f4 <.LBE2+0xee>
7111257e:	eac0      	jalrc	v0
71112580:	6a00      	li	v0,0
71112582:	d943      	sw	v0,12(s1)
71112584:	b357      	lw	v1,711126e0 <.LBE2+0xda>
71112586:	6a00      	li	v0,0
71112588:	cb40      	sh	v0,0(v1)
7111258a:	9942      	lw	v0,8(s1)
7111258c:	c948      	sh	v0,16(s1)
7111258e:	17cc      	b	71112528 <.LBB2+0x4>
71112590:	a968      	lhu	v1,16(s1)
71112592:	9942      	lw	v0,8(s1)
71112594:	ea6e      	xor	v0,v1
71112596:	5a01      	sltiu	v0,1
71112598:	610e      	btnez	711125b6 <.LBB2+0x92>
7111259a:	a968      	lhu	v1,16(s1)
7111259c:	9948      	lw	v0,32(s1)
7111259e:	e351      	addu	a0,v1,v0
711125a0:	b250      	lw	v0,711126e0 <.LBE2+0xda>
711125a2:	aa60      	lhu	v1,0(v0)
711125a4:	b250      	lw	v0,711126e4 <.LBE2+0xde>
711125a6:	e355      	addu	a1,v1,v0
711125a8:	a968      	lhu	v1,16(s1)
711125aa:	9942      	lw	v0,8(s1)
711125ac:	e26b      	subu	v0,v1
711125ae:	67c2      	move	a2,v0
711125b0:	6f00      	li	a3,0
711125b2:	b24e      	lw	v0,711126e8 <.LBE2+0xe2>
711125b4:	eac0      	jalrc	v0
711125b6:	9968      	lw	v1,32(s1)
711125b8:	9942      	lw	v0,8(s1)
711125ba:	e34d      	addu	v1,v0
711125bc:	6a00      	li	v0,0
711125be:	c340      	sb	v0,0(v1)
711125c0:	9943      	lw	v0,12(s1)
711125c2:	f1e0 721f 	cmpi	v0,511
711125c6:	6758      	move	v0,t8
711125c8:	5a01      	sltiu	v0,1
711125ca:	6012      	bteqz	711125f0 <.LBB2+0xcc>
711125cc:	b248      	lw	v0,711126ec <.LBE2+0xe6>
711125ce:	9a60      	lw	v1,0(v0)
711125d0:	b545      	lw	a1,711126e4 <.LBE2+0xde>
711125d2:	f200 6e00 	li	a2,512
711125d6:	b247      	lw	v0,711126f0 <.LBE2+0xea>
711125d8:	9ae0      	lw	a3,0(v0)
711125da:	6a0d      	li	v0,13
711125dc:	d204      	sw	v0,16(sp)
711125de:	6783      	move	a0,v1
711125e0:	b245      	lw	v0,711126f4 <.LBE2+0xee>
711125e2:	eac0      	jalrc	v0
711125e4:	b33f      	lw	v1,711126dc <.LBE2+0xd6>
711125e6:	6a00      	li	v0,0
711125e8:	cb40      	sh	v0,0(v1)
711125ea:	6a00      	li	v0,0
711125ec:	d943      	sw	v0,12(s1)
711125ee:	1004      	b	711125f8 <.LBB2+0xd4>
711125f0:	b33c      	lw	v1,711126e0 <.LBE2+0xda>
711125f2:	9943      	lw	v0,12(s1)
711125f4:	4241      	addiu	v0,v0,1
711125f6:	cb40      	sh	v0,0(v1)
711125f8:	b440      	lw	a0,711126f8 <.LBE2+0xf2>
711125fa:	b240      	lw	v0,711126f8 <.LBE2+0xf2>
711125fc:	9a60      	lw	v1,0(v0)
711125fe:	9942      	lw	v0,8(s1)
71112600:	e349      	addu	v0,v1,v0
71112602:	4241      	addiu	v0,v0,1
71112604:	dc40      	sw	v0,0(a0)

71112606 <.LBE2>:
71112606:	1065      	b	711126d2 <.LBE2+0xcc>
71112608:	9943      	lw	v0,12(s1)
7111260a:	f200 5a00 	sltiu	v0,512
7111260e:	600c      	bteqz	71112628 <.LBE2+0x22>
71112610:	9988      	lw	a0,32(s1)
71112612:	b234      	lw	v0,711126e0 <.LBE2+0xda>
71112614:	aa60      	lhu	v1,0(v0)
71112616:	b234      	lw	v0,711126e4 <.LBE2+0xde>
71112618:	e349      	addu	v0,v1,v0
7111261a:	9962      	lw	v1,8(s1)
7111261c:	67a2      	move	a1,v0
7111261e:	67c3      	move	a2,v1
71112620:	6f00      	li	a3,0
71112622:	b232      	lw	v0,711126e8 <.LBE2+0xe2>
71112624:	eac0      	jalrc	v0
71112626:	1047      	b	711126b6 <.LBE2+0xb0>
71112628:	b22e      	lw	v0,711126e0 <.LBE2+0xda>
7111262a:	aa60      	lhu	v1,0(v0)
7111262c:	f200 6a00 	li	v0,512
71112630:	e26b      	subu	v0,v1
71112632:	d940      	sw	v0,0(s1)
71112634:	9960      	lw	v1,0(s1)
71112636:	9942      	lw	v0,8(s1)
71112638:	ea63      	sltu	v0,v1
7111263a:	6018      	bteqz	7111266c <.LBE2+0x66>
7111263c:	9988      	lw	a0,32(s1)
7111263e:	b229      	lw	v0,711126e0 <.LBE2+0xda>
71112640:	aa60      	lhu	v1,0(v0)
71112642:	b229      	lw	v0,711126e4 <.LBE2+0xde>
71112644:	e349      	addu	v0,v1,v0
71112646:	9962      	lw	v1,8(s1)
71112648:	67a2      	move	a1,v0
7111264a:	67c3      	move	a2,v1
7111264c:	6f00      	li	a3,0
7111264e:	b227      	lw	v0,711126e8 <.LBE2+0xe2>
71112650:	eac0      	jalrc	v0
71112652:	b227      	lw	v0,711126ec <.LBE2+0xe6>
71112654:	9a60      	lw	v1,0(v0)
71112656:	b524      	lw	a1,711126e4 <.LBE2+0xde>
71112658:	f200 6e00 	li	a2,512
7111265c:	b225      	lw	v0,711126f0 <.LBE2+0xea>
7111265e:	9ae0      	lw	a3,0(v0)
71112660:	6a0d      	li	v0,13
71112662:	d204      	sw	v0,16(sp)
71112664:	6783      	move	a0,v1
71112666:	b224      	lw	v0,711126f4 <.LBE2+0xee>
71112668:	eac0      	jalrc	v0
7111266a:	1025      	b	711126b6 <.LBE2+0xb0>
7111266c:	9988      	lw	a0,32(s1)
7111266e:	b21d      	lw	v0,711126e0 <.LBE2+0xda>
71112670:	aa60      	lhu	v1,0(v0)
71112672:	b21d      	lw	v0,711126e4 <.LBE2+0xde>
71112674:	e349      	addu	v0,v1,v0
71112676:	9960      	lw	v1,0(s1)
71112678:	67a2      	move	a1,v0
7111267a:	67c3      	move	a2,v1
7111267c:	6f00      	li	a3,0
7111267e:	b21b      	lw	v0,711126e8 <.LBE2+0xe2>
71112680:	eac0      	jalrc	v0
71112682:	b21b      	lw	v0,711126ec <.LBE2+0xe6>
71112684:	9a60      	lw	v1,0(v0)
71112686:	b518      	lw	a1,711126e4 <.LBE2+0xde>
71112688:	f200 6e00 	li	a2,512
7111268c:	b219      	lw	v0,711126f0 <.LBE2+0xea>
7111268e:	9ae0      	lw	a3,0(v0)
71112690:	6a0d      	li	v0,13
71112692:	d204      	sw	v0,16(sp)
71112694:	6783      	move	a0,v1
71112696:	b218      	lw	v0,711126f4 <.LBE2+0xee>
71112698:	eac0      	jalrc	v0
7111269a:	9962      	lw	v1,8(s1)
7111269c:	9940      	lw	v0,0(s1)
7111269e:	e34b      	subu	v0,v1,v0
711126a0:	d941      	sw	v0,4(s1)
711126a2:	9968      	lw	v1,32(s1)
711126a4:	9940      	lw	v0,0(s1)
711126a6:	e349      	addu	v0,v1,v0
711126a8:	b30f      	lw	v1,711126e4 <.LBE2+0xde>
711126aa:	99c1      	lw	a2,4(s1)
711126ac:	6782      	move	a0,v0
711126ae:	67a3      	move	a1,v1
711126b0:	6f00      	li	a3,0
711126b2:	b20e      	lw	v0,711126e8 <.LBE2+0xe2>
711126b4:	eac0      	jalrc	v0
711126b6:	b40b      	lw	a0,711126e0 <.LBE2+0xda>
711126b8:	9943      	lw	v0,12(s1)
711126ba:	651a      	move	t8,v0
711126bc:	6778      	move	v1,t8
711126be:	f1e0 6a1f 	li	v0,511
711126c2:	ea6c      	and	v0,v1
711126c4:	cc40      	sh	v0,0(a0)
711126c6:	b40d      	lw	a0,711126f8 <.LBE2+0xf2>
711126c8:	b20c      	lw	v0,711126f8 <.LBE2+0xf2>
711126ca:	9a60      	lw	v1,0(v0)
711126cc:	9949      	lw	v0,36(s1)
711126ce:	e349      	addu	v0,v1,v0
711126d0:	dc40      	sw	v0,0(a0)
711126d2:	6a01      	li	v0,1
711126d4:	d945      	sw	v0,20(s1)
711126d6:	9945      	lw	v0,20(s1)
711126d8:	65b9      	move	sp,s1
711126da:	6454      	restore	32,ra,s1
711126dc:	e8a0      	jrc	ra
711126de:	0000      	addiu	s0,sp,0
711126e0:	b928      	lwu	s1,32(s1)
711126e2:	7805      	sd	s0,40(s0)
711126e4:	b69c      	lw	a2,71112954 <ape_v2_parse+0x1a4>
711126e6:	7805      	sd	s0,40(s0)
711126e8:	6409      	restore	72
711126ea:	bfc1      	lwu	a2,4(a3)
711126ec:	5c04      	sltiu	a0,4
711126ee:	9fc1      	lw	a2,4(a3)
711126f0:	5c74      	sltiu	a0,116
711126f2:	9fc1      	lw	a2,4(a3)
711126f4:	6411      	restore	8,s1
711126f6:	bfc1      	lwu	a2,4(a3)
711126f8:	b92c      	lwu	s1,48(s1)
711126fa:	7805      	sd	s0,40(s0)

711126fc <ape_check_tag>:
711126fc:	64d4      	save	32,ra,s1
711126fe:	0104      	addiu	s1,sp,16
71112700:	d984      	sw	a0,16(s1)
71112702:	9944      	lw	v0,16(s1)
71112704:	6782      	move	a0,v0
71112706:	6d00      	li	a1,0
71112708:	1830 6d6e 	jal	7805b5b8 <str_to_capital>
7111270c:	6500      	nop
7111270e:	c141      	sb	v0,1(s1)
71112710:	a141      	lbu	v0,1(s1)
71112712:	223b      	beqz	v0,7111278a <ape_check_tag+0x8e>
71112714:	6a00      	li	v0,0
71112716:	c140      	sb	v0,0(s1)
71112718:	a140      	lbu	v0,0(s1)
7111271a:	5a06      	sltiu	v0,6
7111271c:	6036      	bteqz	7111278a <ape_check_tag+0x8e>
7111271e:	b31f      	lw	v1,71112798 <ape_check_tag+0x9c>
71112720:	a140      	lbu	v0,0(s1)
71112722:	e349      	addu	v0,v1,v0
71112724:	a240      	lbu	v0,0(v0)
71112726:	7201      	cmpi	v0,1
71112728:	6758      	move	v0,t8
7111272a:	5a01      	sltiu	v0,1
7111272c:	602a      	bteqz	71112782 <ape_check_tag+0x86>
7111272e:	9984      	lw	a0,16(s1)
71112730:	a160      	lbu	v1,0(s1)
71112732:	6743      	move	v0,v1
71112734:	324c      	sll	v0,3
71112736:	e26b      	subu	v0,v1
71112738:	b319      	lw	v1,7111279c <ape_check_tag+0xa0>
7111273a:	e275      	addu	a1,v0,v1
7111273c:	b319      	lw	v1,711127a0 <ape_check_tag+0xa4>
7111273e:	a140      	lbu	v0,0(s1)
71112740:	e349      	addu	v0,v1,v0
71112742:	a240      	lbu	v0,0(v0)
71112744:	67c2      	move	a2,v0
71112746:	6f02      	li	a3,2
71112748:	b217      	lw	v0,711127a4 <ape_check_tag+0xa8>
7111274a:	eac0      	jalrc	v0
7111274c:	651a      	move	t8,v0
7111274e:	6119      	btnez	71112782 <ape_check_tag+0x86>
71112750:	b312      	lw	v1,71112798 <ape_check_tag+0x9c>
71112752:	a140      	lbu	v0,0(s1)
71112754:	e34d      	addu	v1,v0
71112756:	6a00      	li	v0,0
71112758:	c340      	sb	v0,0(v1)
7111275a:	b214      	lw	v0,711127a8 <ape_check_tag+0xac>
7111275c:	9a80      	lw	a0,0(v0)
7111275e:	a140      	lbu	v0,0(s1)
71112760:	3348      	sll	v1,v0,2
71112762:	b213      	lw	v0,711127ac <ape_check_tag+0xb0>
71112764:	9a40      	lw	v0,0(v0)
71112766:	e349      	addu	v0,v1,v0
71112768:	9a40      	lw	v0,0(v0)
7111276a:	dc41      	sw	v0,4(a0)
7111276c:	b20f      	lw	v0,711127a8 <ape_check_tag+0xac>
7111276e:	9a80      	lw	a0,0(v0)
71112770:	a160      	lbu	v1,0(s1)
71112772:	b20f      	lw	v0,711127ac <ape_check_tag+0xb0>
71112774:	9a40      	lw	v0,0(v0)
71112776:	e349      	addu	v0,v1,v0
71112778:	a258      	lbu	v0,24(v0)
7111277a:	c440      	sb	v0,0(a0)
7111277c:	8140      	lb	v0,0(s1)
7111277e:	d941      	sw	v0,4(s1)
71112780:	1007      	b	71112790 <ape_check_tag+0x94>
71112782:	a140      	lbu	v0,0(s1)
71112784:	4241      	addiu	v0,v0,1
71112786:	c140      	sb	v0,0(s1)
71112788:	17c7      	b	71112718 <ape_check_tag+0x1c>
7111278a:	6a01      	li	v0,1
7111278c:	ea4b      	neg	v0
7111278e:	d941      	sw	v0,4(s1)
71112790:	9941      	lw	v0,4(s1)
71112792:	65b9      	move	sp,s1
71112794:	6452      	restore	16,ra,s1
71112796:	e8a0      	jrc	ra
71112798:	b920      	lwu	s1,0(s1)
7111279a:	7805      	sd	s0,40(s0)
7111279c:	2b28      	bnez	v1,711127ee <ape_v2_parse+0x3e>
7111279e:	7111      	cmpi	s1,17
711127a0:	2b54      	bnez	v1,7111284a <ape_v2_parse+0x9a>
711127a2:	7111      	cmpi	s1,17
711127a4:	6409      	restore	72
711127a6:	bfc1      	lwu	a2,4(a3)
711127a8:	b930      	lwu	s1,64(s1)
711127aa:	7805      	sd	s0,40(s0)
711127ac:	b934      	lwu	s1,80(s1)
711127ae:	7805      	sd	s0,40(s0)

711127b0 <ape_v2_parse>:
711127b0:	64d7      	save	56,ra,s1
711127b2:	0106      	addiu	s1,sp,24
711127b4:	b2a9      	lw	v0,71112a58 <ape_v2_parse+0x2a8>
711127b6:	9a80      	lw	a0,0(v0)
711127b8:	b5a9      	lw	a1,71112a5c <ape_v2_parse+0x2ac>
711127ba:	b2aa      	lw	v0,71112a60 <ape_v2_parse+0x2b0>
711127bc:	9a60      	lw	v1,0(v0)
711127be:	6a09      	li	v0,9
711127c0:	d204      	sw	v0,16(sp)
711127c2:	67c3      	move	a2,v1
711127c4:	6f00      	li	a3,0
711127c6:	b2a8      	lw	v0,71112a64 <ape_v2_parse+0x2b4>
711127c8:	eac0      	jalrc	v0
711127ca:	651a      	move	t8,v0
711127cc:	6758      	move	v0,t8
711127ce:	ea11      	zeb	v0
711127d0:	2a03      	bnez	v0,711127d8 <ape_v2_parse+0x28>
711127d2:	6a00      	li	v0,0
711127d4:	d945      	sw	v0,20(s1)
711127d6:	113c      	b	71112a50 <ape_v2_parse+0x2a0>
711127d8:	b2a4      	lw	v0,71112a68 <ape_v2_parse+0x2b8>
711127da:	d940      	sw	v0,0(s1)
711127dc:	b2a4      	lw	v0,71112a6c <ape_v2_parse+0x2bc>
711127de:	d941      	sw	v0,4(s1)
711127e0:	9940      	lw	v0,0(s1)
711127e2:	9a44      	lw	v0,16(v0)
711127e4:	d943      	sw	v0,12(s1)
711127e6:	9940      	lw	v0,0(s1)
711127e8:	9a43      	lw	v0,12(v0)
711127ea:	d944      	sw	v0,16(s1)
711127ec:	9943      	lw	v0,12(s1)
711127ee:	2a03      	bnez	v0,711127f6 <ape_v2_parse+0x46>
711127f0:	6a00      	li	v0,0
711127f2:	d945      	sw	v0,20(s1)
711127f4:	112d      	b	71112a50 <ape_v2_parse+0x2a0>
711127f6:	6a00      	li	v0,0
711127f8:	c148      	sb	v0,8(s1)
711127fa:	9940      	lw	v0,0(s1)
711127fc:	9a43      	lw	v0,12(v0)
711127fe:	5a81      	sltiu	v0,129
71112800:	6134      	btnez	7111286a <ape_v2_parse+0xba>
71112802:	b59c      	lw	a1,71112a70 <ape_v2_parse+0x2c0>
71112804:	b296      	lw	v0,71112a5c <ape_v2_parse+0x2ac>
71112806:	9960      	lw	v1,0(s1)
71112808:	9a80      	lw	a0,0(v0)
7111280a:	9b43      	lw	v0,12(v1)
7111280c:	e44b      	subu	v0,a0,v0
7111280e:	dd40      	sw	v0,0(a1)
71112810:	b499      	lw	a0,71112a74 <ape_v2_parse+0x2c4>
71112812:	b298      	lw	v0,71112a70 <ape_v2_parse+0x2c0>
71112814:	9a60      	lw	v1,0(v0)
71112816:	f1e0 6a1f 	li	v0,511
7111281a:	ea6c      	and	v0,v1
7111281c:	cc40      	sh	v0,0(a0)
7111281e:	b28f      	lw	v0,71112a58 <ape_v2_parse+0x2a8>
71112820:	9aa0      	lw	a1,0(v0)
71112822:	b494      	lw	a0,71112a70 <ape_v2_parse+0x2c0>
71112824:	b294      	lw	v0,71112a74 <ape_v2_parse+0x2c4>
71112826:	aa60      	lhu	v1,0(v0)
71112828:	9c40      	lw	v0,0(a0)
7111282a:	e26f      	subu	v1,v0,v1
7111282c:	b28d      	lw	v0,71112a60 <ape_v2_parse+0x2b0>
7111282e:	9ae0      	lw	a3,0(v0)
71112830:	6a0b      	li	v0,11
71112832:	d204      	sw	v0,16(sp)
71112834:	6785      	move	a0,a1
71112836:	67a3      	move	a1,v1
71112838:	6e00      	li	a2,0
7111283a:	b28b      	lw	v0,71112a64 <ape_v2_parse+0x2b4>
7111283c:	eac0      	jalrc	v0
7111283e:	b287      	lw	v0,71112a58 <ape_v2_parse+0x2a8>
71112840:	9a60      	lw	v1,0(v0)
71112842:	b58e      	lw	a1,71112a78 <ape_v2_parse+0x2c8>
71112844:	f200 6e00 	li	a2,512
71112848:	b286      	lw	v0,71112a60 <ape_v2_parse+0x2b0>
7111284a:	9ae0      	lw	a3,0(v0)
7111284c:	6a0d      	li	v0,13
7111284e:	d204      	sw	v0,16(sp)
71112850:	6783      	move	a0,v1
71112852:	b285      	lw	v0,71112a64 <ape_v2_parse+0x2b4>
71112854:	eac0      	jalrc	v0
71112856:	b488      	lw	a0,71112a74 <ape_v2_parse+0x2c4>
71112858:	b286      	lw	v0,71112a70 <ape_v2_parse+0x2c0>
7111285a:	9a40      	lw	v0,0(v0)
7111285c:	651a      	move	t8,v0
7111285e:	6778      	move	v1,t8
71112860:	f1e0 6a1f 	li	v0,511
71112864:	ea6c      	and	v0,v1
71112866:	cc40      	sh	v0,0(a0)
71112868:	100e      	b	71112886 <ape_v2_parse+0xd6>
7111286a:	b483      	lw	a0,71112a74 <ape_v2_parse+0x2c4>
7111286c:	9940      	lw	v0,0(s1)
7111286e:	9a43      	lw	v0,12(v0)
71112870:	6762      	move	v1,v0
71112872:	6a80      	li	v0,128
71112874:	e26b      	subu	v0,v1
71112876:	cc40      	sh	v0,0(a0)
71112878:	b57e      	lw	a1,71112a70 <ape_v2_parse+0x2c0>
7111287a:	b279      	lw	v0,71112a5c <ape_v2_parse+0x2ac>
7111287c:	9960      	lw	v1,0(s1)
7111287e:	9a80      	lw	a0,0(v0)
71112880:	9b43      	lw	v0,12(v1)
71112882:	e44b      	subu	v0,a0,v0
71112884:	dd40      	sw	v0,0(a1)
71112886:	9943      	lw	v0,12(s1)
71112888:	f0c0 2200 	beqz	v0,71112a0c <ape_v2_parse+0x25c>
7111288c:	b279      	lw	v0,71112a70 <ape_v2_parse+0x2c0>
7111288e:	b374      	lw	v1,71112a5c <ape_v2_parse+0x2ac>
71112890:	9a80      	lw	a0,0(v0)
71112892:	9b40      	lw	v0,0(v1)
71112894:	ec43      	sltu	a0,v0
71112896:	f0a0 6019 	bteqz	71112a0c <ape_v2_parse+0x25c>
7111289a:	9943      	lw	v0,12(s1)
7111289c:	424f      	addiu	v0,v0,-1
7111289e:	d943      	sw	v0,12(s1)
711128a0:	9941      	lw	v0,4(s1)
711128a2:	6782      	move	a0,v0
711128a4:	6d08      	li	a1,8
711128a6:	1882 4940 	jal	71112500 <ape_read_datax>
711128aa:	6500      	nop
711128ac:	9941      	lw	v0,4(s1)
711128ae:	9a40      	lw	v0,0(v0)
711128b0:	2a01      	bnez	v0,711128b4 <ape_v2_parse+0x104>
711128b2:	17e9      	b	71112886 <ape_v2_parse+0xd6>
711128b4:	b272      	lw	v0,71112a7c <ape_v2_parse+0x2cc>
711128b6:	6782      	move	a0,v0
711128b8:	6d00      	li	a1,0
711128ba:	1882 4940 	jal	71112500 <ape_read_datax>
711128be:	6500      	nop
711128c0:	b26f      	lw	v0,71112a7c <ape_v2_parse+0x2cc>
711128c2:	6782      	move	a0,v0
711128c4:	6d00      	li	a1,0
711128c6:	1830 6d6e 	jal	7805b5b8 <str_to_capital>
711128ca:	6500      	nop
711128cc:	651a      	move	t8,v0
711128ce:	f080 6015 	bteqz	711129fc <ape_v2_parse+0x24c>
711128d2:	b26b      	lw	v0,71112a7c <ape_v2_parse+0x2cc>
711128d4:	6782      	move	a0,v0
711128d6:	1882 49bf 	jal	711126fc <ape_check_tag>
711128da:	6500      	nop
711128dc:	6762      	move	v1,v0
711128de:	6a01      	li	v0,1
711128e0:	ea4b      	neg	v0
711128e2:	ea6e      	xor	v0,v1
711128e4:	5a01      	sltiu	v0,1
711128e6:	f080 6101 	btnez	711129ec <ape_v2_parse+0x23c>
711128ea:	a148      	lbu	v0,8(s1)
711128ec:	4241      	addiu	v0,v0,1
711128ee:	c148      	sb	v0,8(s1)
711128f0:	b363      	lw	v1,71112a7c <ape_v2_parse+0x2cc>
711128f2:	9941      	lw	v0,4(s1)
711128f4:	9a40      	lw	v0,0(v0)
711128f6:	6783      	move	a0,v1
711128f8:	67a2      	move	a1,v0
711128fa:	1882 4940 	jal	71112500 <ape_read_datax>
711128fe:	6500      	nop
71112900:	b260      	lw	v0,71112a80 <ape_v2_parse+0x2d0>
71112902:	9a40      	lw	v0,0(v0)
71112904:	a240      	lbu	v0,0(v0)
71112906:	22bf      	beqz	v0,71112886 <ape_v2_parse+0xd6>
71112908:	9941      	lw	v0,4(s1)
7111290a:	9a40      	lw	v0,0(v0)
7111290c:	2a01      	bnez	v0,71112910 <ape_v2_parse+0x160>
7111290e:	17bb      	b	71112886 <ape_v2_parse+0xd6>
71112910:	b25c      	lw	v0,71112a80 <ape_v2_parse+0x2d0>
71112912:	9a40      	lw	v0,0(v0)
71112914:	a240      	lbu	v0,0(v0)
71112916:	426f      	addiu	v1,v0,-1
71112918:	9941      	lw	v0,4(s1)
7111291a:	9a40      	lw	v0,0(v0)
7111291c:	eb43      	sltu	v1,v0
7111291e:	6006      	bteqz	7111292c <ape_v2_parse+0x17c>
71112920:	9961      	lw	v1,4(s1)
71112922:	b258      	lw	v0,71112a80 <ape_v2_parse+0x2d0>
71112924:	9a40      	lw	v0,0(v0)
71112926:	a240      	lbu	v0,0(v0)
71112928:	424f      	addiu	v0,v0,-1
7111292a:	db40      	sw	v0,0(v1)
7111292c:	b254      	lw	v0,71112a7c <ape_v2_parse+0x2cc>
7111292e:	a240      	lbu	v0,0(v0)
71112930:	72ef      	cmpi	v0,239
71112932:	6758      	move	v0,t8
71112934:	5a01      	sltiu	v0,1
71112936:	6020      	bteqz	71112978 <ape_v2_parse+0x1c8>
71112938:	b251      	lw	v0,71112a7c <ape_v2_parse+0x2cc>
7111293a:	a241      	lbu	v0,1(v0)
7111293c:	72bb      	cmpi	v0,187
7111293e:	6758      	move	v0,t8
71112940:	5a01      	sltiu	v0,1
71112942:	601a      	bteqz	71112978 <ape_v2_parse+0x1c8>
71112944:	b24e      	lw	v0,71112a7c <ape_v2_parse+0x2cc>
71112946:	a242      	lbu	v0,2(v0)
71112948:	72bf      	cmpi	v0,191
7111294a:	6758      	move	v0,t8
7111294c:	5a01      	sltiu	v0,1
7111294e:	6014      	bteqz	71112978 <ape_v2_parse+0x1c8>
71112950:	b24c      	lw	v0,71112a80 <ape_v2_parse+0x2d0>
71112952:	9a40      	lw	v0,0(v0)
71112954:	9a61      	lw	v1,4(v0)
71112956:	b54a      	lw	a1,71112a7c <ape_v2_parse+0x2cc>
71112958:	9941      	lw	v0,4(s1)
7111295a:	9a40      	lw	v0,0(v0)
7111295c:	6783      	move	a0,v1
7111295e:	67c2      	move	a2,v0
71112960:	6f00      	li	a3,0
71112962:	b249      	lw	v0,71112a84 <ape_v2_parse+0x2d4>
71112964:	eac0      	jalrc	v0
71112966:	b247      	lw	v0,71112a80 <ape_v2_parse+0x2d0>
71112968:	9a40      	lw	v0,0(v0)
7111296a:	9961      	lw	v1,4(s1)
7111296c:	9a81      	lw	a0,4(v0)
7111296e:	9b40      	lw	v0,0(v1)
71112970:	e44d      	addu	v1,a0,v0
71112972:	6a00      	li	v0,0
71112974:	c340      	sb	v0,0(v1)
71112976:	1035      	b	711129e2 <ape_v2_parse+0x232>
71112978:	b242      	lw	v0,71112a80 <ape_v2_parse+0x2d0>
7111297a:	9a40      	lw	v0,0(v0)
7111297c:	a240      	lbu	v0,0(v0)
7111297e:	426f      	addiu	v1,v0,-1
71112980:	9941      	lw	v0,4(s1)
71112982:	9a40      	lw	v0,0(v0)
71112984:	4243      	addiu	v0,v0,3
71112986:	eb43      	sltu	v1,v0
71112988:	6006      	bteqz	71112996 <ape_v2_parse+0x1e6>
7111298a:	9961      	lw	v1,4(s1)
7111298c:	b23d      	lw	v0,71112a80 <ape_v2_parse+0x2d0>
7111298e:	9a40      	lw	v0,0(v0)
71112990:	a240      	lbu	v0,0(v0)
71112992:	424c      	addiu	v0,v0,-4
71112994:	db40      	sw	v0,0(v1)
71112996:	b23b      	lw	v0,71112a80 <ape_v2_parse+0x2d0>
71112998:	9a40      	lw	v0,0(v0)
7111299a:	9a41      	lw	v0,4(v0)
7111299c:	4263      	addiu	v1,v0,3
7111299e:	b538      	lw	a1,71112a7c <ape_v2_parse+0x2cc>
711129a0:	9941      	lw	v0,4(s1)
711129a2:	9a40      	lw	v0,0(v0)
711129a4:	6783      	move	a0,v1
711129a6:	67c2      	move	a2,v0
711129a8:	6f00      	li	a3,0
711129aa:	b237      	lw	v0,71112a84 <ape_v2_parse+0x2d4>
711129ac:	eac0      	jalrc	v0
711129ae:	b235      	lw	v0,71112a80 <ape_v2_parse+0x2d0>
711129b0:	9a40      	lw	v0,0(v0)
711129b2:	9a61      	lw	v1,4(v0)
711129b4:	6a11      	li	v0,17
711129b6:	ea4b      	neg	v0
711129b8:	c340      	sb	v0,0(v1)
711129ba:	b232      	lw	v0,71112a80 <ape_v2_parse+0x2d0>
711129bc:	9a40      	lw	v0,0(v0)
711129be:	9a61      	lw	v1,4(v0)
711129c0:	6a45      	li	v0,69
711129c2:	ea4b      	neg	v0
711129c4:	c341      	sb	v0,1(v1)
711129c6:	b22f      	lw	v0,71112a80 <ape_v2_parse+0x2d0>
711129c8:	9a40      	lw	v0,0(v0)
711129ca:	9a61      	lw	v1,4(v0)
711129cc:	6a41      	li	v0,65
711129ce:	ea4b      	neg	v0
711129d0:	c342      	sb	v0,2(v1)
711129d2:	b22c      	lw	v0,71112a80 <ape_v2_parse+0x2d0>
711129d4:	9a40      	lw	v0,0(v0)
711129d6:	9961      	lw	v1,4(s1)
711129d8:	9a81      	lw	a0,4(v0)
711129da:	9b40      	lw	v0,0(v1)
711129dc:	e44d      	addu	v1,a0,v0
711129de:	6a00      	li	v0,0
711129e0:	c343      	sb	v0,3(v1)
711129e2:	a148      	lbu	v0,8(s1)
711129e4:	5a06      	sltiu	v0,6
711129e6:	f75f 610e 	btnez	71112886 <ape_v2_parse+0xd6>
711129ea:	1010      	b	71112a0c <ape_v2_parse+0x25c>
711129ec:	9941      	lw	v0,4(s1)
711129ee:	9a40      	lw	v0,0(v0)
711129f0:	6782      	move	a0,v0
711129f2:	6d00      	li	a1,0
711129f4:	1830 6d43 	jal	7805b50c <reset_file_pos>
711129f8:	6500      	nop
711129fa:	1745      	b	71112886 <ape_v2_parse+0xd6>
711129fc:	9941      	lw	v0,4(s1)
711129fe:	9a40      	lw	v0,0(v0)
71112a00:	6782      	move	a0,v0
71112a02:	6d00      	li	a1,0
71112a04:	1830 6d43 	jal	7805b50c <reset_file_pos>
71112a08:	6500      	nop
71112a0a:	173d      	b	71112886 <ape_v2_parse+0xd6>
71112a0c:	a148      	lbu	v0,8(s1)
71112a0e:	221e      	beqz	v0,71112a4c <ape_v2_parse+0x29c>
71112a10:	b21e      	lw	v0,71112a88 <ape_v2_parse+0x2d8>
71112a12:	9a40      	lw	v0,0(v0)
71112a14:	a25b      	lbu	v0,27(v0)
71112a16:	2217      	beqz	v0,71112a46 <ape_v2_parse+0x296>
71112a18:	b21c      	lw	v0,71112a88 <ape_v2_parse+0x2d8>
71112a1a:	9a40      	lw	v0,0(v0)
71112a1c:	9a43      	lw	v0,12(v0)
71112a1e:	a240      	lbu	v0,0(v0)
71112a20:	5a30      	sltiu	v0,48
71112a22:	6111      	btnez	71112a46 <ape_v2_parse+0x296>
71112a24:	b219      	lw	v0,71112a88 <ape_v2_parse+0x2d8>
71112a26:	9a40      	lw	v0,0(v0)
71112a28:	9a43      	lw	v0,12(v0)
71112a2a:	a240      	lbu	v0,0(v0)
71112a2c:	5a3a      	sltiu	v0,58
71112a2e:	600b      	bteqz	71112a46 <ape_v2_parse+0x296>
71112a30:	b216      	lw	v0,71112a88 <ape_v2_parse+0x2d8>
71112a32:	9a60      	lw	v1,0(v0)
71112a34:	b215      	lw	v0,71112a88 <ape_v2_parse+0x2d8>
71112a36:	9a40      	lw	v0,0(v0)
71112a38:	9a43      	lw	v0,12(v0)
71112a3a:	a240      	lbu	v0,0(v0)
71112a3c:	6783      	move	a0,v1
71112a3e:	67a2      	move	a1,v0
71112a40:	1822 4940 	jal	71052500 <mp3_select_genre>
71112a44:	6500      	nop
71112a46:	6a01      	li	v0,1
71112a48:	d945      	sw	v0,20(s1)
71112a4a:	1002      	b	71112a50 <ape_v2_parse+0x2a0>
71112a4c:	6a00      	li	v0,0
71112a4e:	d945      	sw	v0,20(s1)
71112a50:	9945      	lw	v0,20(s1)
71112a52:	65b9      	move	sp,s1
71112a54:	6454      	restore	32,ra,s1
71112a56:	e8a0      	jrc	ra
71112a58:	5c04      	sltiu	a0,4
71112a5a:	9fc1      	lw	a2,4(a3)
71112a5c:	2b5c      	bnez	v1,71112b16 <get_id3_ape+0x8a>
71112a5e:	7111      	cmpi	s1,17
71112a60:	5c74      	sltiu	a0,116
71112a62:	9fc1      	lw	a2,4(a3)
71112a64:	6411      	restore	8,s1
71112a66:	bfc1      	lwu	a2,4(a3)
71112a68:	b6fc      	lw	a2,71112e58 <item_buf+0x2f8>
71112a6a:	7805      	sd	s0,40(s0)
71112a6c:	2b60      	bnez	v1,71112b2e <item_key_tab+0x6>
71112a6e:	7111      	cmpi	s1,17
71112a70:	b92c      	lwu	s1,48(s1)
71112a72:	7805      	sd	s0,40(s0)
71112a74:	b928      	lwu	s1,32(s1)
71112a76:	7805      	sd	s0,40(s0)
71112a78:	b69c      	lw	a2,71112ce8 <item_buf+0x188>
71112a7a:	7805      	sd	s0,40(s0)
71112a7c:	b89c      	lwu	a0,112(s0)
71112a7e:	7805      	sd	s0,40(s0)
71112a80:	b930      	lwu	s1,64(s1)
71112a82:	7805      	sd	s0,40(s0)
71112a84:	6409      	restore	72
71112a86:	bfc1      	lwu	a2,4(a3)
71112a88:	b934      	lwu	s1,80(s1)
71112a8a:	7805      	sd	s0,40(s0)

71112a8c <get_id3_ape>:
71112a8c:	64d5      	save	40,ra,s1
71112a8e:	0106      	addiu	s1,sp,24
71112a90:	b21c      	lw	v0,71112b00 <get_id3_ape+0x74>
71112a92:	9a80      	lw	a0,0(v0)
71112a94:	b51c      	lw	a1,71112b04 <get_id3_ape+0x78>
71112a96:	b21d      	lw	v0,71112b08 <get_id3_ape+0x7c>
71112a98:	9a60      	lw	v1,0(v0)
71112a9a:	6a09      	li	v0,9
71112a9c:	d204      	sw	v0,16(sp)
71112a9e:	67c3      	move	a2,v1
71112aa0:	6f00      	li	a3,0
71112aa2:	b21b      	lw	v0,71112b0c <get_id3_ape+0x80>
71112aa4:	eac0      	jalrc	v0
71112aa6:	651a      	move	t8,v0
71112aa8:	6758      	move	v0,t8
71112aaa:	ea11      	zeb	v0
71112aac:	2a03      	bnez	v0,71112ab4 <get_id3_ape+0x28>
71112aae:	6a00      	li	v0,0
71112ab0:	d940      	sw	v0,0(s1)
71112ab2:	1022      	b	71112af8 <get_id3_ape+0x6c>
71112ab4:	b214      	lw	v0,71112b04 <get_id3_ape+0x78>
71112ab6:	9a40      	lw	v0,0(v0)
71112ab8:	f200 5a00 	sltiu	v0,512
71112abc:	6003      	bteqz	71112ac4 <get_id3_ape+0x38>
71112abe:	6a00      	li	v0,0
71112ac0:	d940      	sw	v0,0(s1)
71112ac2:	101a      	b	71112af8 <get_id3_ape+0x6c>
71112ac4:	1822 496c 	jal	710525b0 <mp3_v1_parse>
71112ac8:	6500      	nop
71112aca:	651a      	move	t8,v0
71112acc:	6003      	bteqz	71112ad4 <get_id3_ape+0x48>
71112ace:	6a01      	li	v0,1
71112ad0:	d940      	sw	v0,0(s1)
71112ad2:	1012      	b	71112af8 <get_id3_ape+0x6c>
71112ad4:	b20f      	lw	v0,71112b10 <get_id3_ape+0x84>
71112ad6:	b310      	lw	v1,71112b14 <get_id3_ape+0x88>
71112ad8:	6782      	move	a0,v0
71112ada:	67a3      	move	a1,v1
71112adc:	6e08      	li	a2,8
71112ade:	6f02      	li	a3,2
71112ae0:	b20e      	lw	v0,71112b18 <get_id3_ape+0x8c>
71112ae2:	eac0      	jalrc	v0
71112ae4:	651a      	move	t8,v0
71112ae6:	6106      	btnez	71112af4 <get_id3_ape+0x68>
71112ae8:	1882 49ec 	jal	711127b0 <ape_v2_parse>
71112aec:	6500      	nop
71112aee:	ea11      	zeb	v0
71112af0:	d940      	sw	v0,0(s1)
71112af2:	1002      	b	71112af8 <get_id3_ape+0x6c>
71112af4:	6a00      	li	v0,0
71112af6:	d940      	sw	v0,0(s1)
71112af8:	9940      	lw	v0,0(s1)
71112afa:	65b9      	move	sp,s1
71112afc:	6452      	restore	16,ra,s1
71112afe:	e8a0      	jrc	ra
71112b00:	5c04      	sltiu	a0,4
71112b02:	9fc1      	lw	a2,4(a3)
71112b04:	2b5c      	bnez	v1,71112bbe <item_buf+0x5e>
71112b06:	7111      	cmpi	s1,17
71112b08:	5c74      	sltiu	a0,116
71112b0a:	9fc1      	lw	a2,4(a3)
71112b0c:	6411      	restore	8,s1
71112b0e:	bfc1      	lwu	a2,4(a3)
71112b10:	b6fc      	lw	a2,71112f00 <item_buf+0x3a0>
71112b12:	7805      	sd	s0,40(s0)
71112b14:	2b1c      	bnez	v1,71112b4e <item_key_tab+0x26>
71112b16:	7111      	cmpi	s1,17
71112b18:	6409      	restore	72
71112b1a:	bfc1      	lwu	a2,4(a3)

71112b1c <ape_preamble>:
71112b1c:	5041 5445 4741 5845 0000 0000               APETAGEX....

71112b28 <item_key_tab>:
71112b28:	4954 4c54 0045 4100 5452 5349 0054 4c41     TITLE..ARTIST.AL
71112b38:	5542 004d 4700 4e45 4552 0000 5858 5858     BUM..GENRE..XXXX
71112b48:	0058 5400 4152 4b43 0000 0000               X..TRACK....

71112b54 <item_key_len>:
71112b54:	0605 0505 0505 0000                         ........

71112b5c <file_len>:
71112b5c:	0000 0000                                   ....

71112b60 <item_buf>:
	...
Disassembly of section BANK_FRONT_ENHANCED_ID3_2_4:

71152500 <flac_check_tag>:
71152500:	64d4      	save	32,ra,s1
71152502:	0104      	addiu	s1,sp,16
71152504:	d984      	sw	a0,16(s1)
71152506:	9944      	lw	v0,16(s1)
71152508:	6782      	move	a0,v0
7115250a:	6d3d      	li	a1,61
7115250c:	1830 6d6e 	jal	7805b5b8 <str_to_capital>
71152510:	6500      	nop
71152512:	651a      	move	t8,v0
71152514:	603d      	bteqz	71152590 <flac_check_tag+0x90>
71152516:	6a00      	li	v0,0
71152518:	c140      	sb	v0,0(s1)
7115251a:	a140      	lbu	v0,0(s1)
7115251c:	5a06      	sltiu	v0,6
7115251e:	6038      	bteqz	71152590 <flac_check_tag+0x90>
71152520:	b320      	lw	v1,711525a0 <flac_check_tag+0xa0>
71152522:	a140      	lbu	v0,0(s1)
71152524:	e349      	addu	v0,v1,v0
71152526:	a240      	lbu	v0,0(v0)
71152528:	7201      	cmpi	v0,1
7115252a:	6758      	move	v0,t8
7115252c:	5a01      	sltiu	v0,1
7115252e:	602c      	bteqz	71152588 <flac_check_tag+0x88>
71152530:	9984      	lw	a0,16(s1)
71152532:	a160      	lbu	v1,0(s1)
71152534:	6743      	move	v0,v1
71152536:	3244      	sll	v0,1
71152538:	e269      	addu	v0,v1
7115253a:	3248      	sll	v0,2
7115253c:	e269      	addu	v0,v1
7115253e:	b31a      	lw	v1,711525a4 <flac_check_tag+0xa4>
71152540:	e275      	addu	a1,v0,v1
71152542:	b31a      	lw	v1,711525a8 <flac_check_tag+0xa8>
71152544:	a140      	lbu	v0,0(s1)
71152546:	e349      	addu	v0,v1,v0
71152548:	a240      	lbu	v0,0(v0)
7115254a:	67c2      	move	a2,v0
7115254c:	6f02      	li	a3,2
7115254e:	b218      	lw	v0,711525ac <flac_check_tag+0xac>
71152550:	eac0      	jalrc	v0
71152552:	651a      	move	t8,v0
71152554:	6119      	btnez	71152588 <flac_check_tag+0x88>
71152556:	b313      	lw	v1,711525a0 <flac_check_tag+0xa0>
71152558:	a140      	lbu	v0,0(s1)
7115255a:	e34d      	addu	v1,v0
7115255c:	6a00      	li	v0,0
7115255e:	c340      	sb	v0,0(v1)
71152560:	b214      	lw	v0,711525b0 <flac_check_tag+0xb0>
71152562:	9a80      	lw	a0,0(v0)
71152564:	a140      	lbu	v0,0(s1)
71152566:	3348      	sll	v1,v0,2
71152568:	b213      	lw	v0,711525b4 <flac_check_tag+0xb4>
7115256a:	9a40      	lw	v0,0(v0)
7115256c:	e349      	addu	v0,v1,v0
7115256e:	9a40      	lw	v0,0(v0)
71152570:	dc41      	sw	v0,4(a0)
71152572:	b210      	lw	v0,711525b0 <flac_check_tag+0xb0>
71152574:	9a80      	lw	a0,0(v0)
71152576:	a160      	lbu	v1,0(s1)
71152578:	b20f      	lw	v0,711525b4 <flac_check_tag+0xb4>
7115257a:	9a40      	lw	v0,0(v0)
7115257c:	e349      	addu	v0,v1,v0
7115257e:	a258      	lbu	v0,24(v0)
71152580:	c440      	sb	v0,0(a0)
71152582:	8140      	lb	v0,0(s1)
71152584:	d941      	sw	v0,4(s1)
71152586:	1007      	b	71152596 <flac_check_tag+0x96>
71152588:	a140      	lbu	v0,0(s1)
7115258a:	4241      	addiu	v0,v0,1
7115258c:	c140      	sb	v0,0(s1)
7115258e:	17c5      	b	7115251a <flac_check_tag+0x1a>
71152590:	6a01      	li	v0,1
71152592:	ea4b      	neg	v0
71152594:	d941      	sw	v0,4(s1)
71152596:	9941      	lw	v0,4(s1)
71152598:	65b9      	move	sp,s1
7115259a:	6452      	restore	16,ra,s1
7115259c:	e8a0      	jrc	ra
7115259e:	0000      	addiu	s0,sp,0
711525a0:	b920      	lwu	s1,0(s1)
711525a2:	7805      	sd	s0,40(s0)
711525a4:	28e8      	bnez	s0,71152576 <flac_check_tag+0x76>
711525a6:	7115      	cmpi	s1,21
711525a8:	2938      	bnez	s1,7115261a <get_id3_flac+0x62>
711525aa:	7115      	cmpi	s1,21
711525ac:	6409      	restore	72
711525ae:	bfc1      	lwu	a2,4(a3)
711525b0:	b930      	lwu	s1,64(s1)
711525b2:	7805      	sd	s0,40(s0)
711525b4:	b934      	lwu	s1,80(s1)
711525b6:	7805      	sd	s0,40(s0)

711525b8 <get_id3_flac>:
711525b8:	64d5      	save	40,ra,s1
711525ba:	0104      	addiu	s1,sp,16
711525bc:	6a00      	li	v0,0
711525be:	c144      	sb	v0,4(s1)
711525c0:	6a00      	li	v0,0
711525c2:	c145      	sb	v0,5(s1)
711525c4:	1830 6cde 	jal	7805b378 <get_init>
711525c8:	6500      	nop
711525ca:	b225      	lw	v0,7115265c <get_id3_flac+0xa4>
711525cc:	6782      	move	a0,v0
711525ce:	6d80      	li	a1,128
711525d0:	6e04      	li	a2,4
711525d2:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
711525d6:	6500      	nop
711525d8:	b221      	lw	v0,7115265c <get_id3_flac+0xa4>
711525da:	b322      	lw	v1,71152660 <get_id3_flac+0xa8>
711525dc:	6782      	move	a0,v0
711525de:	67a3      	move	a1,v1
711525e0:	6e04      	li	a2,4
711525e2:	6f02      	li	a3,2
711525e4:	b220      	lw	v0,71152664 <get_id3_flac+0xac>
711525e6:	eac0      	jalrc	v0
711525e8:	651a      	move	t8,v0
711525ea:	6003      	bteqz	711525f2 <get_id3_flac+0x3a>
711525ec:	6a00      	li	v0,0
711525ee:	d942      	sw	v0,8(s1)
711525f0:	1031      	b	71152654 <get_id3_flac+0x9c>
711525f2:	6c04      	li	a0,4
711525f4:	67b1      	move	a1,s1
711525f6:	18a2 499b 	jal	7115266c <flac_find_vorbis_blk>
711525fa:	6500      	nop
711525fc:	c144      	sb	v0,4(s1)
711525fe:	a144      	lbu	v0,4(s1)
71152600:	2208      	beqz	v0,71152612 <get_id3_flac+0x5a>
71152602:	9940      	lw	v0,0(s1)
71152604:	2206      	beqz	v0,71152612 <get_id3_flac+0x5a>
71152606:	9940      	lw	v0,0(s1)
71152608:	6782      	move	a0,v0
7115260a:	18a2 49bc 	jal	711526f0 <flac_get_items>
7115260e:	6500      	nop
71152610:	c144      	sb	v0,4(s1)
71152612:	b216      	lw	v0,71152668 <get_id3_flac+0xb0>
71152614:	9a40      	lw	v0,0(v0)
71152616:	a25f      	lbu	v0,31(v0)
71152618:	7201      	cmpi	v0,1
7115261a:	6758      	move	v0,t8
7115261c:	5a01      	sltiu	v0,1
7115261e:	6013      	bteqz	71152646 <get_id3_flac+0x8e>
71152620:	6c00      	li	a0,0
71152622:	6d04      	li	a1,4
71152624:	1830 6d43 	jal	7805b50c <reset_file_pos>
71152628:	6500      	nop
7115262a:	6c06      	li	a0,6
7115262c:	67b1      	move	a1,s1
7115262e:	18a2 499b 	jal	7115266c <flac_find_vorbis_blk>
71152632:	6500      	nop
71152634:	c145      	sb	v0,5(s1)
71152636:	a145      	lbu	v0,5(s1)
71152638:	2206      	beqz	v0,71152646 <get_id3_flac+0x8e>
7115263a:	9940      	lw	v0,0(s1)
7115263c:	2204      	beqz	v0,71152646 <get_id3_flac+0x8e>
7115263e:	18a2 4a13 	jal	7115284c <flac_get_picture>
71152642:	6500      	nop
71152644:	c145      	sb	v0,5(s1)
71152646:	a144      	lbu	v0,4(s1)
71152648:	a165      	lbu	v1,5(s1)
7115264a:	6782      	move	a0,v0
7115264c:	6743      	move	v0,v1
7115264e:	ea8d      	or	v0,a0
71152650:	ea11      	zeb	v0
71152652:	d942      	sw	v0,8(s1)
71152654:	9942      	lw	v0,8(s1)
71152656:	65b9      	move	sp,s1
71152658:	6453      	restore	24,ra,s1
7115265a:	e8a0      	jrc	ra
7115265c:	b89c      	lwu	a0,112(s0)
7115265e:	7805      	sd	s0,40(s0)
71152660:	2940      	bnez	s1,711526e2 <flac_find_vorbis_blk+0x76>
71152662:	7115      	cmpi	s1,21
71152664:	6409      	restore	72
71152666:	bfc1      	lwu	a2,4(a3)
71152668:	b934      	lwu	s1,80(s1)
7115266a:	7805      	sd	s0,40(s0)

7115266c <flac_find_vorbis_blk>:
7115266c:	64d4      	save	32,ra,s1
7115266e:	0104      	addiu	s1,sp,16
71152670:	6744      	move	v0,a0
71152672:	d9a5      	sw	a1,20(s1)
71152674:	c150      	sb	v0,16(s1)
71152676:	b21d      	lw	v0,711526e8 <flac_find_vorbis_blk+0x7c>
71152678:	9a40      	lw	v0,0(v0)
7115267a:	f004 5a00 	sltiu	v0,8192
7115267e:	602e      	bteqz	711526dc <flac_find_vorbis_blk+0x70>
71152680:	b21b      	lw	v0,711526ec <flac_find_vorbis_blk+0x80>
71152682:	6782      	move	a0,v0
71152684:	6d80      	li	a1,128
71152686:	6e04      	li	a2,4
71152688:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
7115268c:	6500      	nop
7115268e:	b218      	lw	v0,711526ec <flac_find_vorbis_blk+0x80>
71152690:	a241      	lbu	v0,1(v0)
71152692:	3340      	sll	v1,v0,8
71152694:	b216      	lw	v0,711526ec <flac_find_vorbis_blk+0x80>
71152696:	a242      	lbu	v0,2(v0)
71152698:	e349      	addu	v0,v1,v0
7115269a:	3340      	sll	v1,v0,8
7115269c:	b214      	lw	v0,711526ec <flac_find_vorbis_blk+0x80>
7115269e:	a243      	lbu	v0,3(v0)
711526a0:	e349      	addu	v0,v1,v0
711526a2:	d940      	sw	v0,0(s1)
711526a4:	b212      	lw	v0,711526ec <flac_find_vorbis_blk+0x80>
711526a6:	a260      	lbu	v1,0(v0)
711526a8:	6a7f      	li	v0,127
711526aa:	eb4c      	and	v1,v0
711526ac:	a150      	lbu	v0,16(s1)
711526ae:	ea6e      	xor	v0,v1
711526b0:	5a01      	sltiu	v0,1
711526b2:	6006      	bteqz	711526c0 <flac_find_vorbis_blk+0x54>
711526b4:	9965      	lw	v1,20(s1)
711526b6:	9940      	lw	v0,0(s1)
711526b8:	db40      	sw	v0,0(v1)
711526ba:	6a01      	li	v0,1
711526bc:	d941      	sw	v0,4(s1)
711526be:	1010      	b	711526e0 <flac_find_vorbis_blk+0x74>
711526c0:	b20b      	lw	v0,711526ec <flac_find_vorbis_blk+0x80>
711526c2:	8240      	lb	v0,0(v0)
711526c4:	5200      	slti	v0,0
711526c6:	6003      	bteqz	711526ce <flac_find_vorbis_blk+0x62>
711526c8:	6a00      	li	v0,0
711526ca:	d941      	sw	v0,4(s1)
711526cc:	1009      	b	711526e0 <flac_find_vorbis_blk+0x74>
711526ce:	9940      	lw	v0,0(s1)
711526d0:	6782      	move	a0,v0
711526d2:	6d00      	li	a1,0
711526d4:	1830 6d43 	jal	7805b50c <reset_file_pos>
711526d8:	6500      	nop
711526da:	17cd      	b	71152676 <flac_find_vorbis_blk+0xa>
711526dc:	6a00      	li	v0,0
711526de:	d941      	sw	v0,4(s1)
711526e0:	9941      	lw	v0,4(s1)
711526e2:	65b9      	move	sp,s1
711526e4:	6452      	restore	16,ra,s1
711526e6:	e8a0      	jrc	ra
711526e8:	b92c      	lwu	s1,48(s1)
711526ea:	7805      	sd	s0,40(s0)
711526ec:	b89c      	lwu	a0,112(s0)
711526ee:	7805      	sd	s0,40(s0)

711526f0 <flac_get_items>:
711526f0:	64d6      	save	48,ra,s1
711526f2:	0104      	addiu	s1,sp,16
711526f4:	d988      	sw	a0,32(s1)
711526f6:	6a00      	li	v0,0
711526f8:	c14d      	sb	v0,13(s1)
711526fa:	9948      	lw	v0,32(s1)
711526fc:	d942      	sw	v0,8(s1)
711526fe:	6791      	move	a0,s1
71152700:	6d04      	li	a1,4
71152702:	6e04      	li	a2,4
71152704:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
71152708:	6500      	nop
7115270a:	9940      	lw	v0,0(s1)
7115270c:	6782      	move	a0,v0
7115270e:	6d00      	li	a1,0
71152710:	1830 6d43 	jal	7805b50c <reset_file_pos>
71152714:	6500      	nop
71152716:	4144      	addiu	v0,s1,4
71152718:	6782      	move	a0,v0
7115271a:	6d04      	li	a1,4
7115271c:	6e04      	li	a2,4
7115271e:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
71152722:	6500      	nop
71152724:	9962      	lw	v1,8(s1)
71152726:	9940      	lw	v0,0(s1)
71152728:	e34f      	subu	v1,v0
7115272a:	b231      	lw	v0,711527ec <flac_get_items+0xfc>
7115272c:	9a40      	lw	v0,0(v0)
7115272e:	e349      	addu	v0,v1,v0
71152730:	4248      	addiu	v0,v0,-8
71152732:	d942      	sw	v0,8(s1)
71152734:	9941      	lw	v0,4(s1)
71152736:	224e      	beqz	v0,711527d4 <flac_get_items+0xe4>
71152738:	b22d      	lw	v0,711527ec <flac_get_items+0xfc>
7115273a:	9a60      	lw	v1,0(v0)
7115273c:	9942      	lw	v0,8(s1)
7115273e:	eb43      	sltu	v1,v0
71152740:	6049      	bteqz	711527d4 <flac_get_items+0xe4>
71152742:	9941      	lw	v0,4(s1)
71152744:	424f      	addiu	v0,v0,-1
71152746:	d941      	sw	v0,4(s1)
71152748:	6791      	move	a0,s1
7115274a:	6d04      	li	a1,4
7115274c:	6e04      	li	a2,4
7115274e:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
71152752:	6500      	nop
71152754:	651a      	move	t8,v0
71152756:	6103      	btnez	7115275e <flac_get_items+0x6e>
71152758:	6a00      	li	v0,0
7115275a:	d944      	sw	v0,16(s1)
7115275c:	1042      	b	711527e2 <flac_get_items+0xf2>
7115275e:	9940      	lw	v0,0(s1)
71152760:	2a01      	bnez	v0,71152764 <flac_get_items+0x74>
71152762:	17e8      	b	71152734 <flac_get_items+0x44>
71152764:	b223      	lw	v0,711527f0 <flac_get_items+0x100>
71152766:	9960      	lw	v1,0(s1)
71152768:	6782      	move	a0,v0
7115276a:	6d80      	li	a1,128
7115276c:	67c3      	move	a2,v1
7115276e:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
71152772:	6500      	nop
71152774:	651a      	move	t8,v0
71152776:	6103      	btnez	7115277e <flac_get_items+0x8e>
71152778:	6a00      	li	v0,0
7115277a:	d944      	sw	v0,16(s1)
7115277c:	1032      	b	711527e2 <flac_get_items+0xf2>
7115277e:	b21d      	lw	v0,711527f0 <flac_get_items+0x100>
71152780:	6782      	move	a0,v0
71152782:	18a2 4940 	jal	71152500 <flac_check_tag>
71152786:	6500      	nop
71152788:	c14c      	sb	v0,12(s1)
7115278a:	816c      	lb	v1,12(s1)
7115278c:	6a01      	li	v0,1
7115278e:	ea4b      	neg	v0
71152790:	ea6e      	xor	v0,v1
71152792:	5a01      	sltiu	v0,1
71152794:	61cf      	btnez	71152734 <flac_get_items+0x44>
71152796:	a14d      	lbu	v0,13(s1)
71152798:	4241      	addiu	v0,v0,1
7115279a:	c14d      	sb	v0,13(s1)
7115279c:	b216      	lw	v0,711527f4 <flac_get_items+0x104>
7115279e:	9a40      	lw	v0,0(v0)
711527a0:	a240      	lbu	v0,0(v0)
711527a2:	2a01      	bnez	v0,711527a6 <flac_get_items+0xb6>
711527a4:	17c7      	b	71152734 <flac_get_items+0x44>
711527a6:	b315      	lw	v1,711527f8 <flac_get_items+0x108>
711527a8:	814c      	lb	v0,12(s1)
711527aa:	e349      	addu	v0,v1,v0
711527ac:	a260      	lbu	v1,0(v0)
711527ae:	9940      	lw	v0,0(s1)
711527b0:	e26b      	subu	v0,v1
711527b2:	d940      	sw	v0,0(s1)
711527b4:	b210      	lw	v0,711527f4 <flac_get_items+0x104>
711527b6:	9a80      	lw	a0,0(v0)
711527b8:	99a0      	lw	a1,0(s1)
711527ba:	b310      	lw	v1,711527f8 <flac_get_items+0x108>
711527bc:	814c      	lb	v0,12(s1)
711527be:	e349      	addu	v0,v1,v0
711527c0:	a260      	lbu	v1,0(v0)
711527c2:	b20c      	lw	v0,711527f0 <flac_get_items+0x100>
711527c4:	e349      	addu	v0,v1,v0
711527c6:	67c2      	move	a2,v0
711527c8:	b20d      	lw	v0,711527fc <flac_get_items+0x10c>
711527ca:	eac0      	jalrc	v0
711527cc:	d940      	sw	v0,0(s1)
711527ce:	a14d      	lbu	v0,13(s1)
711527d0:	5a06      	sltiu	v0,6
711527d2:	61b0      	btnez	71152734 <flac_get_items+0x44>
711527d4:	a14d      	lbu	v0,13(s1)
711527d6:	2203      	beqz	v0,711527de <flac_get_items+0xee>
711527d8:	6a01      	li	v0,1
711527da:	d944      	sw	v0,16(s1)
711527dc:	1002      	b	711527e2 <flac_get_items+0xf2>
711527de:	6a00      	li	v0,0
711527e0:	d944      	sw	v0,16(s1)
711527e2:	9944      	lw	v0,16(s1)
711527e4:	65b9      	move	sp,s1
711527e6:	6454      	restore	32,ra,s1
711527e8:	e8a0      	jrc	ra
711527ea:	0000      	addiu	s0,sp,0
711527ec:	b92c      	lwu	s1,48(s1)
711527ee:	7805      	sd	s0,40(s0)
711527f0:	b89c      	lwu	a0,112(s0)
711527f2:	7805      	sd	s0,40(s0)
711527f4:	b930      	lwu	s1,64(s1)
711527f6:	7805      	sd	s0,40(s0)
711527f8:	2938      	bnez	s1,7115286a <flac_get_picture+0x1e>
711527fa:	7115      	cmpi	s1,21
711527fc:	2645      	beqz	a2,71152888 <flac_get_picture+0x3c>
711527fe:	7129      	cmpi	s1,41

71152800 <flac_check_pic_flag>:
71152800:	6492      	save	16,s1
71152802:	673d      	move	s1,sp
71152804:	d984      	sw	a0,16(s1)
71152806:	6a00      	li	v0,0
71152808:	c140      	sb	v0,0(s1)
7115280a:	8140      	lb	v0,0(s1)
7115280c:	5200      	slti	v0,0
7115280e:	6117      	btnez	7115283e <flac_check_pic_flag+0x3e>
71152810:	a160      	lbu	v1,0(s1)
71152812:	9944      	lw	v0,16(s1)
71152814:	e349      	addu	v0,v1,v0
71152816:	a240      	lbu	v0,0(v0)
71152818:	72ff      	cmpi	v0,255
7115281a:	6758      	move	v0,t8
7115281c:	5a01      	sltiu	v0,1
7115281e:	600b      	bteqz	71152836 <flac_check_pic_flag+0x36>
71152820:	a160      	lbu	v1,0(s1)
71152822:	9944      	lw	v0,16(s1)
71152824:	e349      	addu	v0,v1,v0
71152826:	a241      	lbu	v0,1(v0)
71152828:	72d8      	cmpi	v0,216
7115282a:	6758      	move	v0,t8
7115282c:	5a01      	sltiu	v0,1
7115282e:	6003      	bteqz	71152836 <flac_check_pic_flag+0x36>
71152830:	8140      	lb	v0,0(s1)
71152832:	d941      	sw	v0,4(s1)
71152834:	1007      	b	71152844 <flac_check_pic_flag+0x44>
71152836:	a140      	lbu	v0,0(s1)
71152838:	4241      	addiu	v0,v0,1
7115283a:	c140      	sb	v0,0(s1)
7115283c:	17e6      	b	7115280a <flac_check_pic_flag+0xa>
7115283e:	6a01      	li	v0,1
71152840:	ea4b      	neg	v0
71152842:	d941      	sw	v0,4(s1)
71152844:	9941      	lw	v0,4(s1)
71152846:	65b9      	move	sp,s1
71152848:	6412      	restore	16,s1
7115284a:	e8a0      	jrc	ra

7115284c <flac_get_picture>:
7115284c:	64d4      	save	32,ra,s1
7115284e:	0104      	addiu	s1,sp,16
71152850:	6c08      	li	a0,8
71152852:	6d00      	li	a1,0
71152854:	1830 6d43 	jal	7805b50c <reset_file_pos>
71152858:	6500      	nop
7115285a:	b21f      	lw	v0,711528d4 <flac_get_picture+0x88>
7115285c:	6782      	move	a0,v0
7115285e:	6d80      	li	a1,128
71152860:	6e0a      	li	a2,10
71152862:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
71152866:	6500      	nop
71152868:	b21c      	lw	v0,711528d8 <flac_get_picture+0x8c>
7115286a:	b31b      	lw	v1,711528d4 <flac_get_picture+0x88>
7115286c:	6782      	move	a0,v0
7115286e:	67a3      	move	a1,v1
71152870:	6e0a      	li	a2,10
71152872:	6f02      	li	a3,2
71152874:	b21a      	lw	v0,711528dc <flac_get_picture+0x90>
71152876:	eac0      	jalrc	v0
71152878:	651a      	move	t8,v0
7115287a:	6003      	bteqz	71152882 <flac_get_picture+0x36>
7115287c:	6a00      	li	v0,0
7115287e:	d941      	sw	v0,4(s1)
71152880:	1024      	b	711528ca <flac_get_picture+0x7e>
71152882:	b215      	lw	v0,711528d4 <flac_get_picture+0x88>
71152884:	6782      	move	a0,v0
71152886:	6d80      	li	a1,128
71152888:	6e80      	li	a2,128
7115288a:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
7115288e:	6500      	nop
71152890:	b211      	lw	v0,711528d4 <flac_get_picture+0x88>
71152892:	6782      	move	a0,v0
71152894:	18a2 4a00 	jal	71152800 <flac_check_pic_flag>
71152898:	6500      	nop
7115289a:	c140      	sb	v0,0(s1)
7115289c:	8160      	lb	v1,0(s1)
7115289e:	6a01      	li	v0,1
711528a0:	ea4b      	neg	v0
711528a2:	ea6e      	xor	v0,v1
711528a4:	5a01      	sltiu	v0,1
711528a6:	610f      	btnez	711528c6 <flac_get_picture+0x7a>
711528a8:	b20e      	lw	v0,711528e0 <flac_get_picture+0x94>
711528aa:	9a80      	lw	a0,0(v0)
711528ac:	a160      	lbu	v1,0(s1)
711528ae:	b20e      	lw	v0,711528e4 <flac_get_picture+0x98>
711528b0:	9a40      	lw	v0,0(v0)
711528b2:	e349      	addu	v0,v1,v0
711528b4:	4a80      	addiu	v0,-128
711528b6:	dc4a      	sw	v0,40(a0)
711528b8:	b20a      	lw	v0,711528e0 <flac_get_picture+0x94>
711528ba:	9a60      	lw	v1,0(v0)
711528bc:	6a01      	li	v0,1
711528be:	c35e      	sb	v0,30(v1)
711528c0:	6a01      	li	v0,1
711528c2:	d941      	sw	v0,4(s1)
711528c4:	1002      	b	711528ca <flac_get_picture+0x7e>
711528c6:	6a00      	li	v0,0
711528c8:	d941      	sw	v0,4(s1)
711528ca:	9941      	lw	v0,4(s1)
711528cc:	65b9      	move	sp,s1
711528ce:	6452      	restore	16,ra,s1
711528d0:	e8a0      	jrc	ra
711528d2:	0000      	addiu	s0,sp,0
711528d4:	b89c      	lwu	a0,112(s0)
711528d6:	7805      	sd	s0,40(s0)
711528d8:	2948      	bnez	s1,7115296a <flac_image_tag+0x22>
711528da:	7115      	cmpi	s1,21
711528dc:	6409      	restore	72
711528de:	bfc1      	lwu	a2,4(a3)
711528e0:	b934      	lwu	s1,80(s1)
711528e2:	7805      	sd	s0,40(s0)
711528e4:	b92c      	lwu	s1,48(s1)
711528e6:	7805      	sd	s0,40(s0)

711528e8 <item_key_tab>:
711528e8:	4954 4c54 3d45 0000 0000 0000 4100 5452     TITLE=.......ART
711528f8:	5349 3d54 0000 0000 0000 4c41 5542 3d4d     IST=......ALBUM=
71152908:	0000 0000 0000 4700 4e45 4552 003d 0000     .......GENRE=...
	...
71152928:	5400 4152 4b43 554e 424d 5245 003d 0000     .TRACKNUMBER=...

71152938 <item_key_len>:
71152938:	0706 0606 0c00 0000                         ........

71152940 <flac_file_tag>:
71152940:	4c66 4361 0000 0000                         fLaC....

71152948 <flac_image_tag>:
71152948:	6d69 6761 2f65 706a 6765 0000 0000 0000     image/jpeg......
	...
Disassembly of section BANK_FRONT_ENHANCED_ID3_2_5:

71192500 <IsTextUTF8>:
71192500:	6493      	save	24,s1
71192502:	673d      	move	s1,sp
71192504:	d986      	sw	a0,24(s1)
71192506:	6745      	move	v0,a1
71192508:	c15c      	sb	v0,28(s1)
7119250a:	6a00      	li	v0,0
7119250c:	c144      	sb	v0,4(s1)
7119250e:	6a01      	li	v0,1
71192510:	c146      	sb	v0,6(s1)
71192512:	6a00      	li	v0,0
71192514:	d940      	sw	v0,0(s1)
71192516:	a15c      	lbu	v0,28(s1)
71192518:	9960      	lw	v1,0(s1)
7119251a:	eb42      	slt	v1,v0
7119251c:	6048      	bteqz	711925ae <IsTextUTF8+0xae>
7119251e:	9966      	lw	v1,24(s1)
71192520:	9940      	lw	v0,0(s1)
71192522:	e349      	addu	v0,v1,v0
71192524:	a240      	lbu	v0,0(v0)
71192526:	c145      	sb	v0,5(s1)
71192528:	8145      	lb	v0,5(s1)
7119252a:	5200      	slti	v0,0
7119252c:	6002      	bteqz	71192532 <IsTextUTF8+0x32>
7119252e:	6a00      	li	v0,0
71192530:	c146      	sb	v0,6(s1)
71192532:	a144      	lbu	v0,4(s1)
71192534:	2a2b      	bnez	v0,7119258c <IsTextUTF8+0x8c>
71192536:	8145      	lb	v0,5(s1)
71192538:	5200      	slti	v0,0
7119253a:	6035      	bteqz	711925a6 <IsTextUTF8+0xa6>
7119253c:	a145      	lbu	v0,5(s1)
7119253e:	5afc      	sltiu	v0,252
71192540:	6106      	btnez	7119254e <IsTextUTF8+0x4e>
71192542:	a145      	lbu	v0,5(s1)
71192544:	5afe      	sltiu	v0,254
71192546:	6003      	bteqz	7119254e <IsTextUTF8+0x4e>
71192548:	6a06      	li	v0,6
7119254a:	c144      	sb	v0,4(s1)
7119254c:	101b      	b	71192584 <IsTextUTF8+0x84>
7119254e:	a145      	lbu	v0,5(s1)
71192550:	5af8      	sltiu	v0,248
71192552:	6103      	btnez	7119255a <IsTextUTF8+0x5a>
71192554:	6a05      	li	v0,5
71192556:	c144      	sb	v0,4(s1)
71192558:	1015      	b	71192584 <IsTextUTF8+0x84>
7119255a:	a145      	lbu	v0,5(s1)
7119255c:	5af0      	sltiu	v0,240
7119255e:	6103      	btnez	71192566 <IsTextUTF8+0x66>
71192560:	6a04      	li	v0,4
71192562:	c144      	sb	v0,4(s1)
71192564:	100f      	b	71192584 <IsTextUTF8+0x84>
71192566:	a145      	lbu	v0,5(s1)
71192568:	5ae0      	sltiu	v0,224
7119256a:	6103      	btnez	71192572 <IsTextUTF8+0x72>
7119256c:	6a03      	li	v0,3
7119256e:	c144      	sb	v0,4(s1)
71192570:	1009      	b	71192584 <IsTextUTF8+0x84>
71192572:	a145      	lbu	v0,5(s1)
71192574:	5ac0      	sltiu	v0,192
71192576:	6103      	btnez	7119257e <IsTextUTF8+0x7e>
71192578:	6a02      	li	v0,2
7119257a:	c144      	sb	v0,4(s1)
7119257c:	1003      	b	71192584 <IsTextUTF8+0x84>
7119257e:	6a00      	li	v0,0
71192580:	d942      	sw	v0,8(s1)
71192582:	101c      	b	711925bc <IsTextUTF8+0xbc>
71192584:	a144      	lbu	v0,4(s1)
71192586:	424f      	addiu	v0,v0,-1
71192588:	c144      	sb	v0,4(s1)
7119258a:	100d      	b	711925a6 <IsTextUTF8+0xa6>
7119258c:	a165      	lbu	v1,5(s1)
7119258e:	6ac0      	li	v0,192
71192590:	ea6c      	and	v0,v1
71192592:	7280      	cmpi	v0,128
71192594:	6758      	move	v0,t8
71192596:	5a01      	sltiu	v0,1
71192598:	6103      	btnez	711925a0 <IsTextUTF8+0xa0>
7119259a:	6a00      	li	v0,0
7119259c:	d942      	sw	v0,8(s1)
7119259e:	100e      	b	711925bc <IsTextUTF8+0xbc>
711925a0:	a144      	lbu	v0,4(s1)
711925a2:	424f      	addiu	v0,v0,-1
711925a4:	c144      	sb	v0,4(s1)
711925a6:	9940      	lw	v0,0(s1)
711925a8:	4241      	addiu	v0,v0,1
711925aa:	d940      	sw	v0,0(s1)
711925ac:	17b4      	b	71192516 <IsTextUTF8+0x16>
711925ae:	a144      	lbu	v0,4(s1)
711925b0:	2203      	beqz	v0,711925b8 <IsTextUTF8+0xb8>
711925b2:	6a00      	li	v0,0
711925b4:	d942      	sw	v0,8(s1)
711925b6:	1002      	b	711925bc <IsTextUTF8+0xbc>
711925b8:	6a01      	li	v0,1
711925ba:	d942      	sw	v0,8(s1)
711925bc:	9942      	lw	v0,8(s1)
711925be:	65b9      	move	sp,s1
711925c0:	6413      	restore	24,s1
711925c2:	e8a0      	jrc	ra

711925c4 <ogg_get_items>:
711925c4:	64d5      	save	40,ra,s1
711925c6:	0104      	addiu	s1,sp,16
711925c8:	d986      	sw	a0,24(s1)
711925ca:	6a00      	li	v0,0
711925cc:	c145      	sb	v0,5(s1)
711925ce:	9946      	lw	v0,24(s1)
711925d0:	225d      	beqz	v0,7119268c <ogg_get_items+0xc8>
711925d2:	9946      	lw	v0,24(s1)
711925d4:	424f      	addiu	v0,v0,-1
711925d6:	d946      	sw	v0,24(s1)
711925d8:	6791      	move	a0,s1
711925da:	6d04      	li	a1,4
711925dc:	6e04      	li	a2,4
711925de:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
711925e2:	6500      	nop
711925e4:	651a      	move	t8,v0
711925e6:	6103      	btnez	711925ee <ogg_get_items+0x2a>
711925e8:	6a00      	li	v0,0
711925ea:	d942      	sw	v0,8(s1)
711925ec:	1056      	b	7119269a <ogg_get_items+0xd6>
711925ee:	9940      	lw	v0,0(s1)
711925f0:	2a01      	bnez	v0,711925f4 <ogg_get_items+0x30>
711925f2:	17ed      	b	711925ce <ogg_get_items+0xa>
711925f4:	b22c      	lw	v0,711926a4 <ogg_get_items+0xe0>
711925f6:	9960      	lw	v1,0(s1)
711925f8:	6782      	move	a0,v0
711925fa:	6d80      	li	a1,128
711925fc:	67c3      	move	a2,v1
711925fe:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
71192602:	6500      	nop
71192604:	651a      	move	t8,v0
71192606:	6103      	btnez	7119260e <ogg_get_items+0x4a>
71192608:	6a00      	li	v0,0
7119260a:	d942      	sw	v0,8(s1)
7119260c:	1046      	b	7119269a <ogg_get_items+0xd6>
7119260e:	b226      	lw	v0,711926a4 <ogg_get_items+0xe0>
71192610:	6782      	move	a0,v0
71192612:	18c2 49e4 	jal	71192790 <ogg_check_tag>
71192616:	6500      	nop
71192618:	c144      	sb	v0,4(s1)
7119261a:	8164      	lb	v1,4(s1)
7119261c:	6a01      	li	v0,1
7119261e:	ea4b      	neg	v0
71192620:	ea6e      	xor	v0,v1
71192622:	5a01      	sltiu	v0,1
71192624:	61d4      	btnez	711925ce <ogg_get_items+0xa>
71192626:	b221      	lw	v0,711926a8 <ogg_get_items+0xe4>
71192628:	9a40      	lw	v0,0(v0)
7119262a:	a240      	lbu	v0,0(v0)
7119262c:	2a01      	bnez	v0,71192630 <ogg_get_items+0x6c>
7119262e:	17cf      	b	711925ce <ogg_get_items+0xa>
71192630:	b31f      	lw	v1,711926ac <ogg_get_items+0xe8>
71192632:	8144      	lb	v0,4(s1)
71192634:	e349      	addu	v0,v1,v0
71192636:	a260      	lbu	v1,0(v0)
71192638:	b21b      	lw	v0,711926a4 <ogg_get_items+0xe0>
7119263a:	e34d      	addu	v1,v0
7119263c:	9940      	lw	v0,0(s1)
7119263e:	ea11      	zeb	v0
71192640:	6783      	move	a0,v1
71192642:	67a2      	move	a1,v0
71192644:	18c2 4940 	jal	71192500 <IsTextUTF8>
71192648:	6500      	nop
7119264a:	651a      	move	t8,v0
7119264c:	6105      	btnez	71192658 <ogg_get_items+0x94>
7119264e:	b217      	lw	v0,711926a8 <ogg_get_items+0xe4>
71192650:	9a60      	lw	v1,0(v0)
71192652:	6a00      	li	v0,0
71192654:	c340      	sb	v0,0(v1)
71192656:	17bb      	b	711925ce <ogg_get_items+0xa>
71192658:	a145      	lbu	v0,5(s1)
7119265a:	4241      	addiu	v0,v0,1
7119265c:	c145      	sb	v0,5(s1)
7119265e:	b314      	lw	v1,711926ac <ogg_get_items+0xe8>
71192660:	8144      	lb	v0,4(s1)
71192662:	e349      	addu	v0,v1,v0
71192664:	a260      	lbu	v1,0(v0)
71192666:	9940      	lw	v0,0(s1)
71192668:	e26b      	subu	v0,v1
7119266a:	d940      	sw	v0,0(s1)
7119266c:	b20f      	lw	v0,711926a8 <ogg_get_items+0xe4>
7119266e:	9a80      	lw	a0,0(v0)
71192670:	99a0      	lw	a1,0(s1)
71192672:	b30f      	lw	v1,711926ac <ogg_get_items+0xe8>
71192674:	8144      	lb	v0,4(s1)
71192676:	e349      	addu	v0,v1,v0
71192678:	a260      	lbu	v1,0(v0)
7119267a:	b20b      	lw	v0,711926a4 <ogg_get_items+0xe0>
7119267c:	e349      	addu	v0,v1,v0
7119267e:	67c2      	move	a2,v0
71192680:	b20c      	lw	v0,711926b0 <ogg_get_items+0xec>
71192682:	eac0      	jalrc	v0
71192684:	d940      	sw	v0,0(s1)
71192686:	a145      	lbu	v0,5(s1)
71192688:	5a04      	sltiu	v0,4
7119268a:	61a1      	btnez	711925ce <ogg_get_items+0xa>
7119268c:	a145      	lbu	v0,5(s1)
7119268e:	2203      	beqz	v0,71192696 <ogg_get_items+0xd2>
71192690:	6a01      	li	v0,1
71192692:	d942      	sw	v0,8(s1)
71192694:	1002      	b	7119269a <ogg_get_items+0xd6>
71192696:	6a00      	li	v0,0
71192698:	d942      	sw	v0,8(s1)
7119269a:	9942      	lw	v0,8(s1)
7119269c:	65b9      	move	sp,s1
7119269e:	6453      	restore	24,ra,s1
711926a0:	e8a0      	jrc	ra
711926a2:	0000      	addiu	s0,sp,0
711926a4:	b89c      	lwu	a0,112(s0)
711926a6:	7805      	sd	s0,40(s0)
711926a8:	b930      	lwu	s1,64(s1)
711926aa:	7805      	sd	s0,40(s0)
711926ac:	2908      	bnez	s1,711926be <ogg_search_key+0xa>
711926ae:	7119      	cmpi	s1,25
711926b0:	2645      	beqz	a2,7119273c <ogg_search_key+0x88>
711926b2:	7129      	cmpi	s1,41

711926b4 <ogg_search_key>:
711926b4:	64d5      	save	40,ra,s1
711926b6:	0106      	addiu	s1,sp,24
711926b8:	d984      	sw	a0,16(s1)
711926ba:	d9a5      	sw	a1,20(s1)
711926bc:	6a00      	li	v0,0
711926be:	c941      	sh	v0,2(s1)
711926c0:	b32e      	lw	v1,71192778 <ogg_search_key+0xc4>
711926c2:	6a00      	li	v0,0
711926c4:	db40      	sw	v0,0(v1)
711926c6:	9945      	lw	v0,20(s1)
711926c8:	2250      	beqz	v0,7119276a <ogg_search_key+0xb6>
711926ca:	9945      	lw	v0,20(s1)
711926cc:	424f      	addiu	v0,v0,-1
711926ce:	d945      	sw	v0,20(s1)
711926d0:	b22b      	lw	v0,7119277c <ogg_search_key+0xc8>
711926d2:	aa40      	lhu	v0,0(v0)
711926d4:	f200 5a00 	sltiu	v0,512
711926d8:	6032      	bteqz	7119273e <ogg_search_key+0x8a>
711926da:	b32a      	lw	v1,71192780 <ogg_search_key+0xcc>
711926dc:	b228      	lw	v0,7119277c <ogg_search_key+0xc8>
711926de:	aa40      	lhu	v0,0(v0)
711926e0:	ea31      	zeh	v0
711926e2:	e349      	addu	v0,v1,v0
711926e4:	a240      	lbu	v0,0(v0)
711926e6:	c140      	sb	v0,0(s1)
711926e8:	b325      	lw	v1,7119277c <ogg_search_key+0xc8>
711926ea:	b225      	lw	v0,7119277c <ogg_search_key+0xc8>
711926ec:	aa40      	lhu	v0,0(v0)
711926ee:	4241      	addiu	v0,v0,1
711926f0:	cb40      	sh	v0,0(v1)
711926f2:	8140      	lb	v0,0(s1)
711926f4:	5261      	slti	v0,97
711926f6:	6106      	btnez	71192704 <ogg_search_key+0x50>
711926f8:	8140      	lb	v0,0(s1)
711926fa:	527b      	slti	v0,123
711926fc:	6003      	bteqz	71192704 <ogg_search_key+0x50>
711926fe:	a140      	lbu	v0,0(s1)
71192700:	4ae0      	addiu	v0,-32
71192702:	c140      	sb	v0,0(s1)
71192704:	a961      	lhu	v1,2(s1)
71192706:	9944      	lw	v0,16(s1)
71192708:	e349      	addu	v0,v1,v0
7119270a:	8261      	lb	v1,1(v0)
7119270c:	8140      	lb	v0,0(s1)
7119270e:	ea6e      	xor	v0,v1
71192710:	5a01      	sltiu	v0,1
71192712:	6103      	btnez	7119271a <ogg_search_key+0x66>
71192714:	6a00      	li	v0,0
71192716:	c941      	sh	v0,2(s1)
71192718:	1003      	b	71192720 <ogg_search_key+0x6c>
7119271a:	a941      	lhu	v0,2(s1)
7119271c:	4241      	addiu	v0,v0,1
7119271e:	c941      	sh	v0,2(s1)
71192720:	a961      	lhu	v1,2(s1)
71192722:	9944      	lw	v0,16(s1)
71192724:	8240      	lb	v0,0(v0)
71192726:	eb42      	slt	v1,v0
71192728:	61d3      	btnez	711926d0 <ogg_search_key+0x1c>
7119272a:	b414      	lw	a0,71192778 <ogg_search_key+0xc4>
7119272c:	b214      	lw	v0,7119277c <ogg_search_key+0xc8>
7119272e:	aa60      	lhu	v1,0(v0)
71192730:	b212      	lw	v0,71192778 <ogg_search_key+0xc4>
71192732:	9a40      	lw	v0,0(v0)
71192734:	e349      	addu	v0,v1,v0
71192736:	dc40      	sw	v0,0(a0)
71192738:	6a01      	li	v0,1
7119273a:	d941      	sw	v0,4(s1)
7119273c:	1018      	b	7119276e <ogg_search_key+0xba>
7119273e:	b30f      	lw	v1,71192778 <ogg_search_key+0xc4>
71192740:	b20e      	lw	v0,71192778 <ogg_search_key+0xc4>
71192742:	9a40      	lw	v0,0(v0)
71192744:	f200 4a00 	addiu	v0,512
71192748:	db40      	sw	v0,0(v1)
7119274a:	b30d      	lw	v1,7119277c <ogg_search_key+0xc8>
7119274c:	6a00      	li	v0,0
7119274e:	cb40      	sh	v0,0(v1)
71192750:	b20d      	lw	v0,71192784 <ogg_search_key+0xd0>
71192752:	9a60      	lw	v1,0(v0)
71192754:	b50b      	lw	a1,71192780 <ogg_search_key+0xcc>
71192756:	f200 6e00 	li	a2,512
7119275a:	b20c      	lw	v0,71192788 <ogg_search_key+0xd4>
7119275c:	9ae0      	lw	a3,0(v0)
7119275e:	6a0d      	li	v0,13
71192760:	d204      	sw	v0,16(sp)
71192762:	6783      	move	a0,v1
71192764:	b20a      	lw	v0,7119278c <ogg_search_key+0xd8>
71192766:	eac0      	jalrc	v0
71192768:	17ae      	b	711926c6 <ogg_search_key+0x12>
7119276a:	6a00      	li	v0,0
7119276c:	d941      	sw	v0,4(s1)
7119276e:	9941      	lw	v0,4(s1)
71192770:	65b9      	move	sp,s1
71192772:	6452      	restore	16,ra,s1
71192774:	e8a0      	jrc	ra
71192776:	0000      	addiu	s0,sp,0
71192778:	b92c      	lwu	s1,48(s1)
7119277a:	7805      	sd	s0,40(s0)
7119277c:	b928      	lwu	s1,32(s1)
7119277e:	7805      	sd	s0,40(s0)
71192780:	b69c      	lw	a2,711929f0 <ogg_taginfo_keyword+0xdc>
71192782:	7805      	sd	s0,40(s0)
71192784:	5c04      	sltiu	a0,4
71192786:	9fc1      	lw	a2,4(a3)
71192788:	5c74      	sltiu	a0,116
7119278a:	9fc1      	lw	a2,4(a3)
7119278c:	6411      	restore	8,s1
7119278e:	bfc1      	lwu	a2,4(a3)

71192790 <ogg_check_tag>:
71192790:	64d4      	save	32,ra,s1
71192792:	0104      	addiu	s1,sp,16
71192794:	d984      	sw	a0,16(s1)
71192796:	9944      	lw	v0,16(s1)
71192798:	6782      	move	a0,v0
7119279a:	6d3d      	li	a1,61
7119279c:	1830 6d6e 	jal	7805b5b8 <str_to_capital>
711927a0:	6500      	nop
711927a2:	651a      	move	t8,v0
711927a4:	6039      	bteqz	71192818 <ogg_check_tag+0x88>
711927a6:	6a00      	li	v0,0
711927a8:	c140      	sb	v0,0(s1)
711927aa:	a140      	lbu	v0,0(s1)
711927ac:	5a04      	sltiu	v0,4
711927ae:	6034      	bteqz	71192818 <ogg_check_tag+0x88>
711927b0:	b31e      	lw	v1,71192828 <ogg_check_tag+0x98>
711927b2:	a140      	lbu	v0,0(s1)
711927b4:	e349      	addu	v0,v1,v0
711927b6:	a240      	lbu	v0,0(v0)
711927b8:	7201      	cmpi	v0,1
711927ba:	6758      	move	v0,t8
711927bc:	5a01      	sltiu	v0,1
711927be:	6028      	bteqz	71192810 <ogg_check_tag+0x80>
711927c0:	9984      	lw	a0,16(s1)
711927c2:	a140      	lbu	v0,0(s1)
711927c4:	334c      	sll	v1,v0,3
711927c6:	b21a      	lw	v0,7119282c <ogg_check_tag+0x9c>
711927c8:	e355      	addu	a1,v1,v0
711927ca:	b31a      	lw	v1,71192830 <ogg_check_tag+0xa0>
711927cc:	a140      	lbu	v0,0(s1)
711927ce:	e349      	addu	v0,v1,v0
711927d0:	a240      	lbu	v0,0(v0)
711927d2:	67c2      	move	a2,v0
711927d4:	6f02      	li	a3,2
711927d6:	b218      	lw	v0,71192834 <ogg_check_tag+0xa4>
711927d8:	eac0      	jalrc	v0
711927da:	651a      	move	t8,v0
711927dc:	6119      	btnez	71192810 <ogg_check_tag+0x80>
711927de:	b313      	lw	v1,71192828 <ogg_check_tag+0x98>
711927e0:	a140      	lbu	v0,0(s1)
711927e2:	e34d      	addu	v1,v0
711927e4:	6a00      	li	v0,0
711927e6:	c340      	sb	v0,0(v1)
711927e8:	b214      	lw	v0,71192838 <ogg_check_tag+0xa8>
711927ea:	9a80      	lw	a0,0(v0)
711927ec:	a140      	lbu	v0,0(s1)
711927ee:	3348      	sll	v1,v0,2
711927f0:	b213      	lw	v0,7119283c <ogg_check_tag+0xac>
711927f2:	9a40      	lw	v0,0(v0)
711927f4:	e349      	addu	v0,v1,v0
711927f6:	9a40      	lw	v0,0(v0)
711927f8:	dc41      	sw	v0,4(a0)
711927fa:	b210      	lw	v0,71192838 <ogg_check_tag+0xa8>
711927fc:	9a80      	lw	a0,0(v0)
711927fe:	a160      	lbu	v1,0(s1)
71192800:	b20f      	lw	v0,7119283c <ogg_check_tag+0xac>
71192802:	9a40      	lw	v0,0(v0)
71192804:	e349      	addu	v0,v1,v0
71192806:	a258      	lbu	v0,24(v0)
71192808:	c440      	sb	v0,0(a0)
7119280a:	8140      	lb	v0,0(s1)
7119280c:	d941      	sw	v0,4(s1)
7119280e:	1007      	b	7119281e <ogg_check_tag+0x8e>
71192810:	a140      	lbu	v0,0(s1)
71192812:	4241      	addiu	v0,v0,1
71192814:	c140      	sb	v0,0(s1)
71192816:	17c9      	b	711927aa <ogg_check_tag+0x1a>
71192818:	6a01      	li	v0,1
7119281a:	ea4b      	neg	v0
7119281c:	d941      	sw	v0,4(s1)
7119281e:	9941      	lw	v0,4(s1)
71192820:	65b9      	move	sp,s1
71192822:	6452      	restore	16,ra,s1
71192824:	e8a0      	jrc	ra
71192826:	0000      	addiu	s0,sp,0
71192828:	b920      	lwu	s1,0(s1)
7119282a:	7805      	sd	s0,40(s0)
7119282c:	28e8      	bnez	s0,711927fe <ogg_check_tag+0x6e>
7119282e:	7119      	cmpi	s1,25
71192830:	2908      	bnez	s1,71192842 <get_id3_ogg+0x2>
71192832:	7119      	cmpi	s1,25
71192834:	6409      	restore	72
71192836:	bfc1      	lwu	a2,4(a3)
71192838:	b930      	lwu	s1,64(s1)
7119283a:	7805      	sd	s0,40(s0)
7119283c:	b934      	lwu	s1,80(s1)
7119283e:	7805      	sd	s0,40(s0)

71192840 <get_id3_ogg>:
71192840:	64d5      	save	40,ra,s1
71192842:	0104      	addiu	s1,sp,16
71192844:	1830 6cde 	jal	7805b378 <get_init>
71192848:	6500      	nop
7119284a:	b224      	lw	v0,711928d8 <get_id3_ogg+0x98>
7119284c:	6782      	move	a0,v0
7119284e:	6d80      	li	a1,128
71192850:	6e04      	li	a2,4
71192852:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
71192856:	6500      	nop
71192858:	b220      	lw	v0,711928d8 <get_id3_ogg+0x98>
7119285a:	b321      	lw	v1,711928dc <get_id3_ogg+0x9c>
7119285c:	6782      	move	a0,v0
7119285e:	67a3      	move	a1,v1
71192860:	6e04      	li	a2,4
71192862:	6f02      	li	a3,2
71192864:	b21f      	lw	v0,711928e0 <get_id3_ogg+0xa0>
71192866:	eac0      	jalrc	v0
71192868:	651a      	move	t8,v0
7119286a:	6003      	bteqz	71192872 <get_id3_ogg+0x32>
7119286c:	6a00      	li	v0,0
7119286e:	d943      	sw	v0,12(s1)
71192870:	102e      	b	711928ce <get_id3_ogg+0x8e>
71192872:	b21d      	lw	v0,711928e4 <get_id3_ogg+0xa4>
71192874:	6782      	move	a0,v0
71192876:	6d08      	li	a1,8
71192878:	18c2 49ad 	jal	711926b4 <ogg_search_key>
7119287c:	6500      	nop
7119287e:	c148      	sb	v0,8(s1)
71192880:	a148      	lbu	v0,8(s1)
71192882:	2a03      	bnez	v0,7119288a <get_id3_ogg+0x4a>
71192884:	6a00      	li	v0,0
71192886:	d943      	sw	v0,12(s1)
71192888:	1022      	b	711928ce <get_id3_ogg+0x8e>
7119288a:	6791      	move	a0,s1
7119288c:	6d04      	li	a1,4
7119288e:	6e04      	li	a2,4
71192890:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
71192894:	6500      	nop
71192896:	9940      	lw	v0,0(s1)
71192898:	6782      	move	a0,v0
7119289a:	6d00      	li	a1,0
7119289c:	1830 6d43 	jal	7805b50c <reset_file_pos>
711928a0:	6500      	nop
711928a2:	4144      	addiu	v0,s1,4
711928a4:	6782      	move	a0,v0
711928a6:	6d04      	li	a1,4
711928a8:	6e04      	li	a2,4
711928aa:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
711928ae:	6500      	nop
711928b0:	9941      	lw	v0,4(s1)
711928b2:	2a03      	bnez	v0,711928ba <get_id3_ogg+0x7a>
711928b4:	6a00      	li	v0,0
711928b6:	d943      	sw	v0,12(s1)
711928b8:	100a      	b	711928ce <get_id3_ogg+0x8e>
711928ba:	9941      	lw	v0,4(s1)
711928bc:	6782      	move	a0,v0
711928be:	18c2 4971 	jal	711925c4 <ogg_get_items>
711928c2:	6500      	nop
711928c4:	651a      	move	t8,v0
711928c6:	6758      	move	v0,t8
711928c8:	651a      	move	t8,v0
711928ca:	6758      	move	v0,t8
711928cc:	d943      	sw	v0,12(s1)
711928ce:	9943      	lw	v0,12(s1)
711928d0:	65b9      	move	sp,s1
711928d2:	6453      	restore	24,ra,s1
711928d4:	e8a0      	jrc	ra
711928d6:	0000      	addiu	s0,sp,0
711928d8:	b89c      	lwu	a0,112(s0)
711928da:	7805      	sd	s0,40(s0)
711928dc:	290c      	bnez	s1,711928f6 <item_key_tab+0xe>
711928de:	7119      	cmpi	s1,25
711928e0:	6409      	restore	72
711928e2:	bfc1      	lwu	a2,4(a3)
711928e4:	2914      	bnez	s1,7119290e <ogg_file_tag+0x2>
711928e6:	7119      	cmpi	s1,25

711928e8 <item_key_tab>:
711928e8:	4954 4c54 3d45 0000 5241 4954 5453 003d     TITLE=..ARTIST=.
711928f8:	4c41 5542 3d4d 0000 4547 524e 3d45 0000     ALBUM=..GENRE=..

71192908 <item_key_len>:
71192908:	0706 0606                                   ....

7119290c <ogg_file_tag>:
7119290c:	674f 5367 0000 0000                         OggS....

71192914 <ogg_taginfo_keyword>:
71192914:	0307 4f56 4252 5349 0000 0000 0000 0000     ..VORBIS........
	...
Disassembly of section BANK_FRONT_ENHANCED_ID3_2_6:

711d2500 <aa_find_tag>:
711d2500:	6493      	save	24,s1
711d2502:	673d      	move	s1,sp
711d2504:	d986      	sw	a0,24(s1)
711d2506:	d9a7      	sw	a1,28(s1)
711d2508:	d9c8      	sw	a2,32(s1)
711d250a:	d9e9      	sw	a3,36(s1)
711d250c:	9968      	lw	v1,32(s1)
711d250e:	6a00      	li	v0,0
711d2510:	db40      	sw	v0,0(v1)
711d2512:	9968      	lw	v1,32(s1)
711d2514:	6a00      	li	v0,0
711d2516:	db41      	sw	v0,4(v1)
711d2518:	6a10      	li	v0,16
711d251a:	d940      	sw	v0,0(s1)
711d251c:	9940      	lw	v0,0(s1)
711d251e:	9967      	lw	v1,28(s1)
711d2520:	ea63      	sltu	v0,v1
711d2522:	6059      	bteqz	711d25d6 <aa_find_tag+0xd6>
711d2524:	9966      	lw	v1,24(s1)
711d2526:	9940      	lw	v0,0(s1)
711d2528:	e349      	addu	v0,v1,v0
711d252a:	a240      	lbu	v0,0(v0)
711d252c:	3440      	sll	a0,v0,8
711d252e:	9966      	lw	v1,24(s1)
711d2530:	9940      	lw	v0,0(s1)
711d2532:	e349      	addu	v0,v1,v0
711d2534:	a241      	lbu	v0,1(v0)
711d2536:	e449      	addu	v0,a0,v0
711d2538:	3440      	sll	a0,v0,8
711d253a:	9966      	lw	v1,24(s1)
711d253c:	9940      	lw	v0,0(s1)
711d253e:	e349      	addu	v0,v1,v0
711d2540:	a242      	lbu	v0,2(v0)
711d2542:	e449      	addu	v0,a0,v0
711d2544:	3440      	sll	a0,v0,8
711d2546:	9966      	lw	v1,24(s1)
711d2548:	9940      	lw	v0,0(s1)
711d254a:	e349      	addu	v0,v1,v0
711d254c:	a243      	lbu	v0,3(v0)
711d254e:	e449      	addu	v0,a0,v0
711d2550:	d942      	sw	v0,8(s1)
711d2552:	9962      	lw	v1,8(s1)
711d2554:	9949      	lw	v0,36(s1)
711d2556:	ea6e      	xor	v0,v1
711d2558:	5a01      	sltiu	v0,1
711d255a:	6039      	bteqz	711d25ce <aa_find_tag+0xce>
711d255c:	9940      	lw	v0,0(s1)
711d255e:	4244      	addiu	v0,v0,4
711d2560:	d941      	sw	v0,4(s1)
711d2562:	99a8      	lw	a1,32(s1)
711d2564:	9966      	lw	v1,24(s1)
711d2566:	9941      	lw	v0,4(s1)
711d2568:	e349      	addu	v0,v1,v0
711d256a:	a240      	lbu	v0,0(v0)
711d256c:	3440      	sll	a0,v0,8
711d256e:	9966      	lw	v1,24(s1)
711d2570:	9941      	lw	v0,4(s1)
711d2572:	e349      	addu	v0,v1,v0
711d2574:	a241      	lbu	v0,1(v0)
711d2576:	e449      	addu	v0,a0,v0
711d2578:	3440      	sll	a0,v0,8
711d257a:	9966      	lw	v1,24(s1)
711d257c:	9941      	lw	v0,4(s1)
711d257e:	e349      	addu	v0,v1,v0
711d2580:	a242      	lbu	v0,2(v0)
711d2582:	e449      	addu	v0,a0,v0
711d2584:	3440      	sll	a0,v0,8
711d2586:	9966      	lw	v1,24(s1)
711d2588:	9941      	lw	v0,4(s1)
711d258a:	e349      	addu	v0,v1,v0
711d258c:	a243      	lbu	v0,3(v0)
711d258e:	e449      	addu	v0,a0,v0
711d2590:	dd40      	sw	v0,0(a1)
711d2592:	9941      	lw	v0,4(s1)
711d2594:	4244      	addiu	v0,v0,4
711d2596:	d941      	sw	v0,4(s1)
711d2598:	99a8      	lw	a1,32(s1)
711d259a:	9966      	lw	v1,24(s1)
711d259c:	9941      	lw	v0,4(s1)
711d259e:	e349      	addu	v0,v1,v0
711d25a0:	a240      	lbu	v0,0(v0)
711d25a2:	3440      	sll	a0,v0,8
711d25a4:	9966      	lw	v1,24(s1)
711d25a6:	9941      	lw	v0,4(s1)
711d25a8:	e349      	addu	v0,v1,v0
711d25aa:	a241      	lbu	v0,1(v0)
711d25ac:	e449      	addu	v0,a0,v0
711d25ae:	3440      	sll	a0,v0,8
711d25b0:	9966      	lw	v1,24(s1)
711d25b2:	9941      	lw	v0,4(s1)
711d25b4:	e349      	addu	v0,v1,v0
711d25b6:	a242      	lbu	v0,2(v0)
711d25b8:	e449      	addu	v0,a0,v0
711d25ba:	3440      	sll	a0,v0,8
711d25bc:	9966      	lw	v1,24(s1)
711d25be:	9941      	lw	v0,4(s1)
711d25c0:	e349      	addu	v0,v1,v0
711d25c2:	a243      	lbu	v0,3(v0)
711d25c4:	e449      	addu	v0,a0,v0
711d25c6:	dd41      	sw	v0,4(a1)
711d25c8:	6a01      	li	v0,1
711d25ca:	d943      	sw	v0,12(s1)
711d25cc:	1006      	b	711d25da <aa_find_tag+0xda>
711d25ce:	9940      	lw	v0,0(s1)
711d25d0:	4a0c      	addiu	v0,12
711d25d2:	d940      	sw	v0,0(s1)
711d25d4:	17a3      	b	711d251c <aa_find_tag+0x1c>
711d25d6:	6a00      	li	v0,0
711d25d8:	d943      	sw	v0,12(s1)
711d25da:	9943      	lw	v0,12(s1)
711d25dc:	65b9      	move	sp,s1
711d25de:	6413      	restore	24,s1
711d25e0:	e8a0      	jrc	ra
	...

711d25e4 <aa_check_tag>:
711d25e4:	64d4      	save	32,ra,s1
711d25e6:	0104      	addiu	s1,sp,16
711d25e8:	d984      	sw	a0,16(s1)
711d25ea:	d9a5      	sw	a1,20(s1)
711d25ec:	6a00      	li	v0,0
711d25ee:	c140      	sb	v0,0(s1)
711d25f0:	a140      	lbu	v0,0(s1)
711d25f2:	5a04      	sltiu	v0,4
711d25f4:	603c      	bteqz	711d266e <aa_check_tag+0x8a>
711d25f6:	b322      	lw	v1,711d267c <aa_check_tag+0x98>
711d25f8:	a140      	lbu	v0,0(s1)
711d25fa:	e349      	addu	v0,v1,v0
711d25fc:	a240      	lbu	v0,0(v0)
711d25fe:	7201      	cmpi	v0,1
711d2600:	6758      	move	v0,t8
711d2602:	5a01      	sltiu	v0,1
711d2604:	6030      	bteqz	711d2666 <aa_check_tag+0x82>
711d2606:	b31f      	lw	v1,711d2680 <aa_check_tag+0x9c>
711d2608:	a140      	lbu	v0,0(s1)
711d260a:	e349      	addu	v0,v1,v0
711d260c:	a260      	lbu	v1,0(v0)
711d260e:	9945      	lw	v0,20(s1)
711d2610:	ea6e      	xor	v0,v1
711d2612:	5a01      	sltiu	v0,1
711d2614:	6028      	bteqz	711d2666 <aa_check_tag+0x82>
711d2616:	9984      	lw	a0,16(s1)
711d2618:	a160      	lbu	v1,0(s1)
711d261a:	6743      	move	v0,v1
711d261c:	324c      	sll	v0,3
711d261e:	e26b      	subu	v0,v1
711d2620:	b319      	lw	v1,711d2684 <aa_check_tag+0xa0>
711d2622:	e269      	addu	v0,v1
711d2624:	9965      	lw	v1,20(s1)
711d2626:	67a2      	move	a1,v0
711d2628:	67c3      	move	a2,v1
711d262a:	6f02      	li	a3,2
711d262c:	b217      	lw	v0,711d2688 <aa_check_tag+0xa4>
711d262e:	eac0      	jalrc	v0
711d2630:	651a      	move	t8,v0
711d2632:	6119      	btnez	711d2666 <aa_check_tag+0x82>
711d2634:	b312      	lw	v1,711d267c <aa_check_tag+0x98>
711d2636:	a140      	lbu	v0,0(s1)
711d2638:	e34d      	addu	v1,v0
711d263a:	6a00      	li	v0,0
711d263c:	c340      	sb	v0,0(v1)
711d263e:	b214      	lw	v0,711d268c <aa_check_tag+0xa8>
711d2640:	9a80      	lw	a0,0(v0)
711d2642:	a140      	lbu	v0,0(s1)
711d2644:	3348      	sll	v1,v0,2
711d2646:	b213      	lw	v0,711d2690 <aa_check_tag+0xac>
711d2648:	9a40      	lw	v0,0(v0)
711d264a:	e349      	addu	v0,v1,v0
711d264c:	9a40      	lw	v0,0(v0)
711d264e:	dc41      	sw	v0,4(a0)
711d2650:	b20f      	lw	v0,711d268c <aa_check_tag+0xa8>
711d2652:	9a80      	lw	a0,0(v0)
711d2654:	a160      	lbu	v1,0(s1)
711d2656:	b20f      	lw	v0,711d2690 <aa_check_tag+0xac>
711d2658:	9a40      	lw	v0,0(v0)
711d265a:	e349      	addu	v0,v1,v0
711d265c:	a258      	lbu	v0,24(v0)
711d265e:	c440      	sb	v0,0(a0)
711d2660:	8140      	lb	v0,0(s1)
711d2662:	d941      	sw	v0,4(s1)
711d2664:	1007      	b	711d2674 <aa_check_tag+0x90>
711d2666:	a140      	lbu	v0,0(s1)
711d2668:	4241      	addiu	v0,v0,1
711d266a:	c140      	sb	v0,0(s1)
711d266c:	17c1      	b	711d25f0 <aa_check_tag+0xc>
711d266e:	6a01      	li	v0,1
711d2670:	ea4b      	neg	v0
711d2672:	d941      	sw	v0,4(s1)
711d2674:	9941      	lw	v0,4(s1)
711d2676:	65b9      	move	sp,s1
711d2678:	6452      	restore	16,ra,s1
711d267a:	e8a0      	jrc	ra
711d267c:	b920      	lwu	s1,0(s1)
711d267e:	7805      	sd	s0,40(s0)
711d2680:	29a8      	bnez	s1,711d25d2 <aa_find_tag+0xd2>
711d2682:	711d      	cmpi	s1,29
711d2684:	298c      	bnez	s1,711d259e <aa_find_tag+0x9e>
711d2686:	711d      	cmpi	s1,29
711d2688:	6409      	restore	72
711d268a:	bfc1      	lwu	a2,4(a3)
711d268c:	b930      	lwu	s1,64(s1)
711d268e:	7805      	sd	s0,40(s0)
711d2690:	b934      	lwu	s1,80(s1)
711d2692:	7805      	sd	s0,40(s0)

711d2694 <aa_check_pic_flag>:
711d2694:	6492      	save	16,s1
711d2696:	673d      	move	s1,sp
711d2698:	d984      	sw	a0,16(s1)
711d269a:	6a00      	li	v0,0
711d269c:	c140      	sb	v0,0(s1)
711d269e:	8140      	lb	v0,0(s1)
711d26a0:	5200      	slti	v0,0
711d26a2:	6117      	btnez	711d26d2 <aa_check_pic_flag+0x3e>
711d26a4:	a160      	lbu	v1,0(s1)
711d26a6:	9944      	lw	v0,16(s1)
711d26a8:	e349      	addu	v0,v1,v0
711d26aa:	a240      	lbu	v0,0(v0)
711d26ac:	72ff      	cmpi	v0,255
711d26ae:	6758      	move	v0,t8
711d26b0:	5a01      	sltiu	v0,1
711d26b2:	600b      	bteqz	711d26ca <aa_check_pic_flag+0x36>
711d26b4:	a160      	lbu	v1,0(s1)
711d26b6:	9944      	lw	v0,16(s1)
711d26b8:	e349      	addu	v0,v1,v0
711d26ba:	a241      	lbu	v0,1(v0)
711d26bc:	72d8      	cmpi	v0,216
711d26be:	6758      	move	v0,t8
711d26c0:	5a01      	sltiu	v0,1
711d26c2:	6003      	bteqz	711d26ca <aa_check_pic_flag+0x36>
711d26c4:	8140      	lb	v0,0(s1)
711d26c6:	d941      	sw	v0,4(s1)
711d26c8:	1007      	b	711d26d8 <aa_check_pic_flag+0x44>
711d26ca:	a140      	lbu	v0,0(s1)
711d26cc:	4241      	addiu	v0,v0,1
711d26ce:	c140      	sb	v0,0(s1)
711d26d0:	17e6      	b	711d269e <aa_check_pic_flag+0xa>
711d26d2:	6a01      	li	v0,1
711d26d4:	ea4b      	neg	v0
711d26d6:	d941      	sw	v0,4(s1)
711d26d8:	9941      	lw	v0,4(s1)
711d26da:	65b9      	move	sp,s1
711d26dc:	6412      	restore	16,s1
711d26de:	e8a0      	jrc	ra

711d26e0 <aa_get_picture>:
711d26e0:	64d6      	save	48,ra,s1
711d26e2:	0106      	addiu	s1,sp,24
711d26e4:	b226      	lw	v0,711d277c <aa_get_picture+0x9c>
711d26e6:	9a60      	lw	v1,0(v0)
711d26e8:	b226      	lw	v0,711d2780 <aa_get_picture+0xa0>
711d26ea:	9ae0      	lw	a3,0(v0)
711d26ec:	6a0b      	li	v0,11
711d26ee:	d204      	sw	v0,16(sp)
711d26f0:	6783      	move	a0,v1
711d26f2:	6d00      	li	a1,0
711d26f4:	6e00      	li	a2,0
711d26f6:	b224      	lw	v0,711d2784 <aa_get_picture+0xa4>
711d26f8:	eac0      	jalrc	v0
711d26fa:	1830 6cde 	jal	7805b378 <get_init>
711d26fe:	6500      	nop
711d2700:	b222      	lw	v0,711d2788 <aa_get_picture+0xa8>
711d2702:	6782      	move	a0,v0
711d2704:	6da0      	li	a1,160
711d2706:	67d1      	move	a2,s1
711d2708:	6f0b      	li	a3,11
711d270a:	18e2 4940 	jal	711d2500 <aa_find_tag>
711d270e:	6500      	nop
711d2710:	c148      	sb	v0,8(s1)
711d2712:	8148      	lb	v0,8(s1)
711d2714:	2202      	beqz	v0,711d271a <aa_get_picture+0x3a>
711d2716:	9941      	lw	v0,4(s1)
711d2718:	2a03      	bnez	v0,711d2720 <aa_get_picture+0x40>
711d271a:	6a00      	li	v0,0
711d271c:	d943      	sw	v0,12(s1)
711d271e:	102a      	b	711d2774 <aa_get_picture+0x94>
711d2720:	9940      	lw	v0,0(s1)
711d2722:	6782      	move	a0,v0
711d2724:	6d00      	li	a1,0
711d2726:	1830 6d43 	jal	7805b50c <reset_file_pos>
711d272a:	6500      	nop
711d272c:	b218      	lw	v0,711d278c <aa_get_picture+0xac>
711d272e:	6782      	move	a0,v0
711d2730:	6d80      	li	a1,128
711d2732:	6e80      	li	a2,128
711d2734:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
711d2738:	6500      	nop
711d273a:	b215      	lw	v0,711d278c <aa_get_picture+0xac>
711d273c:	6782      	move	a0,v0
711d273e:	18e2 49a5 	jal	711d2694 <aa_check_pic_flag>
711d2742:	6500      	nop
711d2744:	c148      	sb	v0,8(s1)
711d2746:	8168      	lb	v1,8(s1)
711d2748:	6a01      	li	v0,1
711d274a:	ea4b      	neg	v0
711d274c:	ea6e      	xor	v0,v1
711d274e:	5a01      	sltiu	v0,1
711d2750:	610f      	btnez	711d2770 <aa_get_picture+0x90>
711d2752:	b210      	lw	v0,711d2790 <aa_get_picture+0xb0>
711d2754:	9a80      	lw	a0,0(v0)
711d2756:	8168      	lb	v1,8(s1)
711d2758:	b20f      	lw	v0,711d2794 <aa_get_picture+0xb4>
711d275a:	9a40      	lw	v0,0(v0)
711d275c:	e349      	addu	v0,v1,v0
711d275e:	4a80      	addiu	v0,-128
711d2760:	dc4a      	sw	v0,40(a0)
711d2762:	b20c      	lw	v0,711d2790 <aa_get_picture+0xb0>
711d2764:	9a60      	lw	v1,0(v0)
711d2766:	6a01      	li	v0,1
711d2768:	c35e      	sb	v0,30(v1)
711d276a:	6a01      	li	v0,1
711d276c:	d943      	sw	v0,12(s1)
711d276e:	1002      	b	711d2774 <aa_get_picture+0x94>
711d2770:	6a00      	li	v0,0
711d2772:	d943      	sw	v0,12(s1)
711d2774:	9943      	lw	v0,12(s1)
711d2776:	65b9      	move	sp,s1
711d2778:	6453      	restore	24,ra,s1
711d277a:	e8a0      	jrc	ra
711d277c:	5c04      	sltiu	a0,4
711d277e:	9fc1      	lw	a2,4(a3)
711d2780:	5c74      	sltiu	a0,116
711d2782:	9fc1      	lw	a2,4(a3)
711d2784:	6411      	restore	8,s1
711d2786:	bfc1      	lwu	a2,4(a3)
711d2788:	b69c      	lw	a2,711d29f8 <item_key_len+0x50>
711d278a:	7805      	sd	s0,40(s0)
711d278c:	b89c      	lwu	a0,112(s0)
711d278e:	7805      	sd	s0,40(s0)
711d2790:	b934      	lwu	s1,80(s1)
711d2792:	7805      	sd	s0,40(s0)
711d2794:	b92c      	lwu	s1,48(s1)
711d2796:	7805      	sd	s0,40(s0)

711d2798 <get_id3_aa>:
711d2798:	64d8      	save	64,ra,s1
711d279a:	0104      	addiu	s1,sp,16
711d279c:	1830 6cde 	jal	7805b378 <get_init>
711d27a0:	6500      	nop
711d27a2:	6a00      	li	v0,0
711d27a4:	c141      	sb	v0,1(s1)
711d27a6:	b275      	lw	v0,711d2978 <get_id3_aa+0x1e0>
711d27a8:	4167      	addiu	v1,s1,7
711d27aa:	4b11      	addiu	v1,17
711d27ac:	6782      	move	a0,v0
711d27ae:	6da0      	li	a1,160
711d27b0:	67c3      	move	a2,v1
711d27b2:	6f02      	li	a3,2
711d27b4:	18e2 4940 	jal	711d2500 <aa_find_tag>
711d27b8:	6500      	nop
711d27ba:	c140      	sb	v0,0(s1)
711d27bc:	a140      	lbu	v0,0(s1)
711d27be:	2202      	beqz	v0,711d27c4 <get_id3_aa+0x2c>
711d27c0:	9947      	lw	v0,28(s1)
711d27c2:	2a03      	bnez	v0,711d27ca <get_id3_aa+0x32>
711d27c4:	6a00      	li	v0,0
711d27c6:	d948      	sw	v0,32(s1)
711d27c8:	10d2      	b	711d296e <get_id3_aa+0x1d6>
711d27ca:	9946      	lw	v0,24(s1)
711d27cc:	6782      	move	a0,v0
711d27ce:	6d00      	li	a1,0
711d27d0:	1830 6d43 	jal	7805b50c <reset_file_pos>
711d27d4:	6500      	nop
711d27d6:	b26a      	lw	v0,711d297c <get_id3_aa+0x1e4>
711d27d8:	6782      	move	a0,v0
711d27da:	6d80      	li	a1,128
711d27dc:	6e04      	li	a2,4
711d27de:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
711d27e2:	6500      	nop
711d27e4:	b266      	lw	v0,711d297c <get_id3_aa+0x1e4>
711d27e6:	a240      	lbu	v0,0(v0)
711d27e8:	3340      	sll	v1,v0,8
711d27ea:	b265      	lw	v0,711d297c <get_id3_aa+0x1e4>
711d27ec:	a241      	lbu	v0,1(v0)
711d27ee:	e349      	addu	v0,v1,v0
711d27f0:	3340      	sll	v1,v0,8
711d27f2:	b263      	lw	v0,711d297c <get_id3_aa+0x1e4>
711d27f4:	a242      	lbu	v0,2(v0)
711d27f6:	e349      	addu	v0,v1,v0
711d27f8:	3340      	sll	v1,v0,8
711d27fa:	b261      	lw	v0,711d297c <get_id3_aa+0x1e4>
711d27fc:	a243      	lbu	v0,3(v0)
711d27fe:	e349      	addu	v0,v1,v0
711d2800:	d941      	sw	v0,4(s1)
711d2802:	9941      	lw	v0,4(s1)
711d2804:	2a03      	bnez	v0,711d280c <get_id3_aa+0x74>
711d2806:	6a00      	li	v0,0
711d2808:	d948      	sw	v0,32(s1)
711d280a:	10b1      	b	711d296e <get_id3_aa+0x1d6>
711d280c:	9941      	lw	v0,4(s1)
711d280e:	f080 221c 	beqz	v0,711d294a <get_id3_aa+0x1b2>
711d2812:	9941      	lw	v0,4(s1)
711d2814:	424f      	addiu	v0,v0,-1
711d2816:	d941      	sw	v0,4(s1)
711d2818:	9966      	lw	v1,24(s1)
711d281a:	9947      	lw	v0,28(s1)
711d281c:	e34d      	addu	v1,v0
711d281e:	b259      	lw	v0,711d2980 <get_id3_aa+0x1e8>
711d2820:	9a40      	lw	v0,0(v0)
711d2822:	eb43      	sltu	v1,v0
711d2824:	6001      	bteqz	711d2828 <get_id3_aa+0x90>
711d2826:	1091      	b	711d294a <get_id3_aa+0x1b2>
711d2828:	b255      	lw	v0,711d297c <get_id3_aa+0x1e4>
711d282a:	6782      	move	a0,v0
711d282c:	6d80      	li	a1,128
711d282e:	6e09      	li	a2,9
711d2830:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
711d2834:	6500      	nop
711d2836:	b252      	lw	v0,711d297c <get_id3_aa+0x1e4>
711d2838:	a240      	lbu	v0,0(v0)
711d283a:	2201      	beqz	v0,711d283e <get_id3_aa+0xa6>
711d283c:	1086      	b	711d294a <get_id3_aa+0x1b2>
711d283e:	b250      	lw	v0,711d297c <get_id3_aa+0x1e4>
711d2840:	a241      	lbu	v0,1(v0)
711d2842:	3340      	sll	v1,v0,8
711d2844:	b24e      	lw	v0,711d297c <get_id3_aa+0x1e4>
711d2846:	a242      	lbu	v0,2(v0)
711d2848:	e349      	addu	v0,v1,v0
711d284a:	3340      	sll	v1,v0,8
711d284c:	b24c      	lw	v0,711d297c <get_id3_aa+0x1e4>
711d284e:	a243      	lbu	v0,3(v0)
711d2850:	e349      	addu	v0,v1,v0
711d2852:	3340      	sll	v1,v0,8
711d2854:	b24a      	lw	v0,711d297c <get_id3_aa+0x1e4>
711d2856:	a244      	lbu	v0,4(v0)
711d2858:	e349      	addu	v0,v1,v0
711d285a:	d942      	sw	v0,8(s1)
711d285c:	b248      	lw	v0,711d297c <get_id3_aa+0x1e4>
711d285e:	a245      	lbu	v0,5(v0)
711d2860:	3340      	sll	v1,v0,8
711d2862:	b247      	lw	v0,711d297c <get_id3_aa+0x1e4>
711d2864:	a246      	lbu	v0,6(v0)
711d2866:	e349      	addu	v0,v1,v0
711d2868:	3340      	sll	v1,v0,8
711d286a:	b245      	lw	v0,711d297c <get_id3_aa+0x1e4>
711d286c:	a247      	lbu	v0,7(v0)
711d286e:	e349      	addu	v0,v1,v0
711d2870:	3340      	sll	v1,v0,8
711d2872:	b243      	lw	v0,711d297c <get_id3_aa+0x1e4>
711d2874:	a248      	lbu	v0,8(v0)
711d2876:	e349      	addu	v0,v1,v0
711d2878:	d943      	sw	v0,12(s1)
711d287a:	9942      	lw	v0,8(s1)
711d287c:	5a05      	sltiu	v0,5
711d287e:	615c      	btnez	711d2938 <get_id3_aa+0x1a0>
711d2880:	9942      	lw	v0,8(s1)
711d2882:	5a07      	sltiu	v0,7
711d2884:	6059      	bteqz	711d2938 <get_id3_aa+0x1a0>
711d2886:	b23e      	lw	v0,711d297c <get_id3_aa+0x1e4>
711d2888:	9962      	lw	v1,8(s1)
711d288a:	6782      	move	a0,v0
711d288c:	6d80      	li	a1,128
711d288e:	67c3      	move	a2,v1
711d2890:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
711d2894:	6500      	nop
711d2896:	b23a      	lw	v0,711d297c <get_id3_aa+0x1e4>
711d2898:	9962      	lw	v1,8(s1)
711d289a:	6782      	move	a0,v0
711d289c:	67a3      	move	a1,v1
711d289e:	18e2 4979 	jal	711d25e4 <aa_check_tag>
711d28a2:	6500      	nop
711d28a4:	6762      	move	v1,v0
711d28a6:	6a01      	li	v0,1
711d28a8:	ea4b      	neg	v0
711d28aa:	ea6e      	xor	v0,v1
711d28ac:	5a01      	sltiu	v0,1
711d28ae:	613d      	btnez	711d292a <get_id3_aa+0x192>
711d28b0:	a141      	lbu	v0,1(s1)
711d28b2:	4241      	addiu	v0,v0,1
711d28b4:	c141      	sb	v0,1(s1)
711d28b6:	b234      	lw	v0,711d2984 <get_id3_aa+0x1ec>
711d28b8:	9a40      	lw	v0,0(v0)
711d28ba:	a240      	lbu	v0,0(v0)
711d28bc:	22a7      	beqz	v0,711d280c <get_id3_aa+0x74>
711d28be:	9943      	lw	v0,12(s1)
711d28c0:	2a01      	bnez	v0,711d28c4 <get_id3_aa+0x12c>
711d28c2:	17a4      	b	711d280c <get_id3_aa+0x74>
711d28c4:	b230      	lw	v0,711d2984 <get_id3_aa+0x1ec>
711d28c6:	9a40      	lw	v0,0(v0)
711d28c8:	a240      	lbu	v0,0(v0)
711d28ca:	426f      	addiu	v1,v0,-1
711d28cc:	9943      	lw	v0,12(s1)
711d28ce:	eb43      	sltu	v1,v0
711d28d0:	6006      	bteqz	711d28de <get_id3_aa+0x146>
711d28d2:	b22d      	lw	v0,711d2984 <get_id3_aa+0x1ec>
711d28d4:	9a40      	lw	v0,0(v0)
711d28d6:	a240      	lbu	v0,0(v0)
711d28d8:	424f      	addiu	v0,v0,-1
711d28da:	d944      	sw	v0,16(s1)
711d28dc:	1002      	b	711d28e2 <get_id3_aa+0x14a>
711d28de:	9943      	lw	v0,12(s1)
711d28e0:	d944      	sw	v0,16(s1)
711d28e2:	b229      	lw	v0,711d2984 <get_id3_aa+0x1ec>
711d28e4:	9a40      	lw	v0,0(v0)
711d28e6:	9a81      	lw	a0,4(v0)
711d28e8:	b227      	lw	v0,711d2984 <get_id3_aa+0x1ec>
711d28ea:	9a40      	lw	v0,0(v0)
711d28ec:	a240      	lbu	v0,0(v0)
711d28ee:	9964      	lw	v1,16(s1)
711d28f0:	67a2      	move	a1,v0
711d28f2:	67c3      	move	a2,v1
711d28f4:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
711d28f8:	6500      	nop
711d28fa:	b223      	lw	v0,711d2984 <get_id3_aa+0x1ec>
711d28fc:	9a40      	lw	v0,0(v0)
711d28fe:	9a61      	lw	v1,4(v0)
711d2900:	9944      	lw	v0,16(s1)
711d2902:	e34d      	addu	v1,v0
711d2904:	6a00      	li	v0,0
711d2906:	c340      	sb	v0,0(v1)
711d2908:	9964      	lw	v1,16(s1)
711d290a:	9943      	lw	v0,12(s1)
711d290c:	eb43      	sltu	v1,v0
711d290e:	6008      	bteqz	711d2920 <get_id3_aa+0x188>
711d2910:	9943      	lw	v0,12(s1)
711d2912:	9964      	lw	v1,16(s1)
711d2914:	e26b      	subu	v0,v1
711d2916:	6782      	move	a0,v0
711d2918:	6d00      	li	a1,0
711d291a:	1830 6d43 	jal	7805b50c <reset_file_pos>
711d291e:	6500      	nop
711d2920:	a141      	lbu	v0,1(s1)
711d2922:	5a04      	sltiu	v0,4
711d2924:	f77f 6112 	btnez	711d280c <get_id3_aa+0x74>
711d2928:	1010      	b	711d294a <get_id3_aa+0x1b2>
711d292a:	9943      	lw	v0,12(s1)
711d292c:	6782      	move	a0,v0
711d292e:	6d00      	li	a1,0
711d2930:	1830 6d43 	jal	7805b50c <reset_file_pos>
711d2934:	6500      	nop
711d2936:	176a      	b	711d280c <get_id3_aa+0x74>
711d2938:	9942      	lw	v0,8(s1)
711d293a:	9963      	lw	v1,12(s1)
711d293c:	e269      	addu	v0,v1
711d293e:	6782      	move	a0,v0
711d2940:	6d00      	li	a1,0
711d2942:	1830 6d43 	jal	7805b50c <reset_file_pos>
711d2946:	6500      	nop
711d2948:	1761      	b	711d280c <get_id3_aa+0x74>
711d294a:	b210      	lw	v0,711d2988 <get_id3_aa+0x1f0>
711d294c:	9a40      	lw	v0,0(v0)
711d294e:	a25f      	lbu	v0,31(v0)
711d2950:	7201      	cmpi	v0,1
711d2952:	6758      	move	v0,t8
711d2954:	5a01      	sltiu	v0,1
711d2956:	6004      	bteqz	711d2960 <get_id3_aa+0x1c8>
711d2958:	18e2 49b8 	jal	711d26e0 <aa_get_picture>
711d295c:	6500      	nop
711d295e:	c140      	sb	v0,0(s1)
711d2960:	a141      	lbu	v0,1(s1)
711d2962:	2203      	beqz	v0,711d296a <get_id3_aa+0x1d2>
711d2964:	6a01      	li	v0,1
711d2966:	d948      	sw	v0,32(s1)
711d2968:	1002      	b	711d296e <get_id3_aa+0x1d6>
711d296a:	6a00      	li	v0,0
711d296c:	d948      	sw	v0,32(s1)
711d296e:	9948      	lw	v0,32(s1)
711d2970:	65b9      	move	sp,s1
711d2972:	6456      	restore	48,ra,s1
711d2974:	e8a0      	jrc	ra
711d2976:	0000      	addiu	s0,sp,0
711d2978:	b69c      	lw	a2,711d2be8 <item_key_len+0x240>
711d297a:	7805      	sd	s0,40(s0)
711d297c:	b89c      	lwu	a0,112(s0)
711d297e:	7805      	sd	s0,40(s0)
711d2980:	b92c      	lwu	s1,48(s1)
711d2982:	7805      	sd	s0,40(s0)
711d2984:	b930      	lwu	s1,64(s1)
711d2986:	7805      	sd	s0,40(s0)
711d2988:	b934      	lwu	s1,80(s1)
711d298a:	7805      	sd	s0,40(s0)

711d298c <item_key_tab>:
711d298c:	6974 6c74 0065 6100 7475 6f68 0072 6c61     title..author.al
711d299c:	7562 006d 6700 6e65 6572 0000               bum..genre..

711d29a8 <item_key_len>:
711d29a8:	0605 0505 0000 0000 0000 0000 0000 0000     ................
	...
Disassembly of section BANK_FRONT_ENHANCED_ID3_2_7:

71212500 <aax_get_frame_size>:
71212500:	6492      	save	16,s1
71212502:	673d      	move	s1,sp
71212504:	b20e      	lw	v0,7121253c <aax_get_frame_size+0x3c>
71212506:	a240      	lbu	v0,0(v0)
71212508:	d940      	sw	v0,0(s1)
7121250a:	9940      	lw	v0,0(s1)
7121250c:	3340      	sll	v1,v0,8
7121250e:	b20c      	lw	v0,7121253c <aax_get_frame_size+0x3c>
71212510:	a241      	lbu	v0,1(v0)
71212512:	e34d      	addu	v1,v0
71212514:	d960      	sw	v1,0(s1)
71212516:	9940      	lw	v0,0(s1)
71212518:	3340      	sll	v1,v0,8
7121251a:	b209      	lw	v0,7121253c <aax_get_frame_size+0x3c>
7121251c:	a242      	lbu	v0,2(v0)
7121251e:	e34d      	addu	v1,v0
71212520:	d960      	sw	v1,0(s1)
71212522:	9940      	lw	v0,0(s1)
71212524:	3340      	sll	v1,v0,8
71212526:	b206      	lw	v0,7121253c <aax_get_frame_size+0x3c>
71212528:	a243      	lbu	v0,3(v0)
7121252a:	e34d      	addu	v1,v0
7121252c:	d960      	sw	v1,0(s1)
7121252e:	9940      	lw	v0,0(s1)
71212530:	651a      	move	t8,v0
71212532:	6758      	move	v0,t8
71212534:	65b9      	move	sp,s1
71212536:	6412      	restore	16,s1
71212538:	e8a0      	jrc	ra
7121253a:	0000      	addiu	s0,sp,0
7121253c:	b89c      	lwu	a0,112(s0)
7121253e:	7805      	sd	s0,40(s0)

71212540 <aax_check_tag>:
71212540:	64d4      	save	32,ra,s1
71212542:	0104      	addiu	s1,sp,16
71212544:	d984      	sw	a0,16(s1)
71212546:	d9a5      	sw	a1,20(s1)
71212548:	6a00      	li	v0,0
7121254a:	c140      	sb	v0,0(s1)
7121254c:	a140      	lbu	v0,0(s1)
7121254e:	5a06      	sltiu	v0,6
71212550:	601f      	bteqz	71212590 <aax_check_tag+0x50>
71212552:	b32a      	lw	v1,712125f8 <aax_check_tag+0xb8>
71212554:	a140      	lbu	v0,0(s1)
71212556:	e349      	addu	v0,v1,v0
71212558:	a240      	lbu	v0,0(v0)
7121255a:	7201      	cmpi	v0,1
7121255c:	6758      	move	v0,t8
7121255e:	5a01      	sltiu	v0,1
71212560:	6010      	bteqz	71212582 <aax_check_tag+0x42>
71212562:	9944      	lw	v0,16(s1)
71212564:	9965      	lw	v1,20(s1)
71212566:	6782      	move	a0,v0
71212568:	67a3      	move	a1,v1
7121256a:	6e03      	li	a2,3
7121256c:	6f02      	li	a3,2
7121256e:	b224      	lw	v0,712125fc <aax_check_tag+0xbc>
71212570:	eac0      	jalrc	v0
71212572:	651a      	move	t8,v0
71212574:	6106      	btnez	71212582 <aax_check_tag+0x42>
71212576:	b321      	lw	v1,712125f8 <aax_check_tag+0xb8>
71212578:	a140      	lbu	v0,0(s1)
7121257a:	e34d      	addu	v1,v0
7121257c:	6a00      	li	v0,0
7121257e:	c340      	sb	v0,0(v1)
71212580:	1007      	b	71212590 <aax_check_tag+0x50>
71212582:	9945      	lw	v0,20(s1)
71212584:	4243      	addiu	v0,v0,3
71212586:	d945      	sw	v0,20(s1)
71212588:	a140      	lbu	v0,0(s1)
7121258a:	4241      	addiu	v0,v0,1
7121258c:	c140      	sb	v0,0(s1)
7121258e:	17de      	b	7121254c <aax_check_tag+0xc>
71212590:	a140      	lbu	v0,0(s1)
71212592:	7206      	cmpi	v0,6
71212594:	6758      	move	v0,t8
71212596:	5a01      	sltiu	v0,1
71212598:	6004      	bteqz	712125a2 <aax_check_tag+0x62>
7121259a:	6a01      	li	v0,1
7121259c:	ea4b      	neg	v0
7121259e:	d941      	sw	v0,4(s1)
712125a0:	1025      	b	712125ec <aax_check_tag+0xac>
712125a2:	b218      	lw	v0,71212600 <aax_check_tag+0xc0>
712125a4:	9a80      	lw	a0,0(v0)
712125a6:	a140      	lbu	v0,0(s1)
712125a8:	3348      	sll	v1,v0,2
712125aa:	b217      	lw	v0,71212604 <aax_check_tag+0xc4>
712125ac:	9a40      	lw	v0,0(v0)
712125ae:	e349      	addu	v0,v1,v0
712125b0:	9a40      	lw	v0,0(v0)
712125b2:	dc41      	sw	v0,4(a0)
712125b4:	b213      	lw	v0,71212600 <aax_check_tag+0xc0>
712125b6:	9a80      	lw	a0,0(v0)
712125b8:	a160      	lbu	v1,0(s1)
712125ba:	b213      	lw	v0,71212604 <aax_check_tag+0xc4>
712125bc:	9a40      	lw	v0,0(v0)
712125be:	e349      	addu	v0,v1,v0
712125c0:	a258      	lbu	v0,24(v0)
712125c2:	c440      	sb	v0,0(a0)
712125c4:	a140      	lbu	v0,0(s1)
712125c6:	7205      	cmpi	v0,5
712125c8:	6758      	move	v0,t8
712125ca:	5a01      	sltiu	v0,1
712125cc:	600d      	bteqz	712125e8 <aax_check_tag+0xa8>
712125ce:	b20f      	lw	v0,71212608 <aax_check_tag+0xc8>
712125d0:	0b09      	la	v1,712125f4 <aax_check_tag+0xb4>
712125d2:	6782      	move	a0,v0
712125d4:	67a3      	move	a1,v1
712125d6:	6e03      	li	a2,3
712125d8:	6f02      	li	a3,2
712125da:	b209      	lw	v0,712125fc <aax_check_tag+0xbc>
712125dc:	eac0      	jalrc	v0
712125de:	651a      	move	t8,v0
712125e0:	6103      	btnez	712125e8 <aax_check_tag+0xa8>
712125e2:	b30b      	lw	v1,7121260c <aax_check_tag+0xcc>
712125e4:	6a01      	li	v0,1
712125e6:	c340      	sb	v0,0(v1)
712125e8:	8140      	lb	v0,0(s1)
712125ea:	d941      	sw	v0,4(s1)
712125ec:	9941      	lw	v0,4(s1)
712125ee:	65b9      	move	sp,s1
712125f0:	6452      	restore	16,ra,s1
712125f2:	e8a0      	jrc	ra
712125f4:	6b72      	li	v1,114
712125f6:	006e      	addiu	s0,sp,440
712125f8:	b920      	lwu	s1,0(s1)
712125fa:	7805      	sd	s0,40(s0)
712125fc:	6409      	restore	72
712125fe:	bfc1      	lwu	a2,4(a3)
71212600:	b930      	lwu	s1,64(s1)
71212602:	7805      	sd	s0,40(s0)
71212604:	b934      	lwu	s1,80(s1)
71212606:	7805      	sd	s0,40(s0)
71212608:	b8a1      	lwu	a1,4(s0)
7121260a:	7805      	sd	s0,40(s0)
7121260c:	b938      	lwu	s1,96(s1)
7121260e:	7805      	sd	s0,40(s0)

71212610 <aax_check_pic_flag>:
71212610:	6492      	save	16,s1
71212612:	673d      	move	s1,sp
71212614:	d984      	sw	a0,16(s1)
71212616:	6a00      	li	v0,0
71212618:	c140      	sb	v0,0(s1)
7121261a:	8140      	lb	v0,0(s1)
7121261c:	5200      	slti	v0,0
7121261e:	6117      	btnez	7121264e <aax_check_pic_flag+0x3e>
71212620:	a160      	lbu	v1,0(s1)
71212622:	9944      	lw	v0,16(s1)
71212624:	e349      	addu	v0,v1,v0
71212626:	a240      	lbu	v0,0(v0)
71212628:	72ff      	cmpi	v0,255
7121262a:	6758      	move	v0,t8
7121262c:	5a01      	sltiu	v0,1
7121262e:	600b      	bteqz	71212646 <aax_check_pic_flag+0x36>
71212630:	a160      	lbu	v1,0(s1)
71212632:	9944      	lw	v0,16(s1)
71212634:	e349      	addu	v0,v1,v0
71212636:	a241      	lbu	v0,1(v0)
71212638:	72d8      	cmpi	v0,216
7121263a:	6758      	move	v0,t8
7121263c:	5a01      	sltiu	v0,1
7121263e:	6003      	bteqz	71212646 <aax_check_pic_flag+0x36>
71212640:	8140      	lb	v0,0(s1)
71212642:	d941      	sw	v0,4(s1)
71212644:	1007      	b	71212654 <aax_check_pic_flag+0x44>
71212646:	a140      	lbu	v0,0(s1)
71212648:	4241      	addiu	v0,v0,1
7121264a:	c140      	sb	v0,0(s1)
7121264c:	17e6      	b	7121261a <aax_check_pic_flag+0xa>
7121264e:	6a01      	li	v0,1
71212650:	ea4b      	neg	v0
71212652:	d941      	sw	v0,4(s1)
71212654:	9941      	lw	v0,4(s1)
71212656:	65b9      	move	sp,s1
71212658:	6412      	restore	16,s1
7121265a:	e8a0      	jrc	ra

7121265c <get_id3_aax_sub>:
7121265c:	64d7      	save	56,ra,s1
7121265e:	0104      	addiu	s1,sp,16
71212660:	d98a      	sw	a0,40(s1)
71212662:	6a00      	li	v0,0
71212664:	c151      	sb	v0,17(s1)
71212666:	b2b0      	lw	v0,71212924 <get_id3_aax_sub+0x2c8>
71212668:	9a60      	lw	v1,0(v0)
7121266a:	994a      	lw	v0,40(s1)
7121266c:	eb43      	sltu	v1,v0
7121266e:	f140 600e 	bteqz	7121290e <get_id3_aax_sub+0x2b2>
71212672:	b2ae      	lw	v0,71212928 <get_id3_aax_sub+0x2cc>
71212674:	6782      	move	a0,v0
71212676:	6d80      	li	a1,128
71212678:	6e08      	li	a2,8
7121267a:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
7121267e:	6500      	nop
71212680:	1902 4940 	jal	71212500 <aax_get_frame_size>
71212684:	6500      	nop
71212686:	4248      	addiu	v0,v0,-8
71212688:	d941      	sw	v0,4(s1)
7121268a:	b2a9      	lw	v0,7121292c <get_id3_aax_sub+0x2d0>
7121268c:	b3a9      	lw	v1,71212930 <get_id3_aax_sub+0x2d4>
7121268e:	6782      	move	a0,v0
71212690:	67a3      	move	a1,v1
71212692:	1902 4950 	jal	71212540 <aax_check_tag>
71212696:	6500      	nop
71212698:	c150      	sb	v0,16(s1)
7121269a:	8170      	lb	v1,16(s1)
7121269c:	6a01      	li	v0,1
7121269e:	ea4b      	neg	v0
712126a0:	ea6e      	xor	v0,v1
712126a2:	5a01      	sltiu	v0,1
712126a4:	f0e0 6107 	btnez	71212876 <get_id3_aax_sub+0x21a>
712126a8:	b2a0      	lw	v0,71212928 <get_id3_aax_sub+0x2cc>
712126aa:	6782      	move	a0,v0
712126ac:	6d80      	li	a1,128
712126ae:	6e08      	li	a2,8
712126b0:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
712126b4:	6500      	nop
712126b6:	9941      	lw	v0,4(s1)
712126b8:	4248      	addiu	v0,v0,-8
712126ba:	d941      	sw	v0,4(s1)
712126bc:	b29e      	lw	v0,71212934 <get_id3_aax_sub+0x2d8>
712126be:	b39f      	lw	v1,71212938 <get_id3_aax_sub+0x2dc>
712126c0:	6782      	move	a0,v0
712126c2:	67a3      	move	a1,v1
712126c4:	6e04      	li	a2,4
712126c6:	6f02      	li	a3,2
712126c8:	b29d      	lw	v0,7121293c <get_id3_aax_sub+0x2e0>
712126ca:	eac0      	jalrc	v0
712126cc:	651a      	move	t8,v0
712126ce:	f0c0 6108 	btnez	71212862 <get_id3_aax_sub+0x206>
712126d2:	1902 4940 	jal	71212500 <aax_get_frame_size>
712126d6:	6500      	nop
712126d8:	4248      	addiu	v0,v0,-8
712126da:	d940      	sw	v0,0(s1)
712126dc:	a151      	lbu	v0,17(s1)
712126de:	4241      	addiu	v0,v0,1
712126e0:	c151      	sb	v0,17(s1)
712126e2:	b298      	lw	v0,71212940 <get_id3_aax_sub+0x2e4>
712126e4:	9a40      	lw	v0,0(v0)
712126e6:	a240      	lbu	v0,0(v0)
712126e8:	f0a0 2217 	beqz	v0,7121285a <get_id3_aax_sub+0x1fe>
712126ec:	b28f      	lw	v0,71212928 <get_id3_aax_sub+0x2cc>
712126ee:	6782      	move	a0,v0
712126f0:	6d80      	li	a1,128
712126f2:	6e08      	li	a2,8
712126f4:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
712126f8:	6500      	nop
712126fa:	9940      	lw	v0,0(s1)
712126fc:	4248      	addiu	v0,v0,-8
712126fe:	d940      	sw	v0,0(s1)
71212700:	b28a      	lw	v0,71212928 <get_id3_aax_sub+0x2cc>
71212702:	a243      	lbu	v0,3(v0)
71212704:	7201      	cmpi	v0,1
71212706:	6758      	move	v0,t8
71212708:	5a01      	sltiu	v0,1
7121270a:	600a      	bteqz	71212720 <get_id3_aax_sub+0xc4>
7121270c:	b28d      	lw	v0,71212940 <get_id3_aax_sub+0x2e4>
7121270e:	9a40      	lw	v0,0(v0)
71212710:	9960      	lw	v1,0(s1)
71212712:	6782      	move	a0,v0
71212714:	67a3      	move	a1,v1
71212716:	6e00      	li	a2,0
71212718:	b28b      	lw	v0,71212944 <get_id3_aax_sub+0x2e8>
7121271a:	eac0      	jalrc	v0
7121271c:	d940      	sw	v0,0(s1)
7121271e:	1077      	b	7121280e <get_id3_aax_sub+0x1b2>
71212720:	b282      	lw	v0,71212928 <get_id3_aax_sub+0x2cc>
71212722:	a243      	lbu	v0,3(v0)
71212724:	7202      	cmpi	v0,2
71212726:	6758      	move	v0,t8
71212728:	5a01      	sltiu	v0,1
7121272a:	602d      	bteqz	71212786 <get_id3_aax_sub+0x12a>
7121272c:	b285      	lw	v0,71212940 <get_id3_aax_sub+0x2e4>
7121272e:	9a40      	lw	v0,0(v0)
71212730:	a240      	lbu	v0,0(v0)
71212732:	426c      	addiu	v1,v0,-4
71212734:	9940      	lw	v0,0(s1)
71212736:	eb43      	sltu	v1,v0
71212738:	6005      	bteqz	71212744 <get_id3_aax_sub+0xe8>
7121273a:	b282      	lw	v0,71212940 <get_id3_aax_sub+0x2e4>
7121273c:	9a40      	lw	v0,0(v0)
7121273e:	a240      	lbu	v0,0(v0)
71212740:	424c      	addiu	v0,v0,-4
71212742:	d940      	sw	v0,0(s1)
71212744:	b27f      	lw	v0,71212940 <get_id3_aax_sub+0x2e4>
71212746:	9a40      	lw	v0,0(v0)
71212748:	9a61      	lw	v1,4(v0)
7121274a:	f100 6a01 	li	v0,257
7121274e:	ea4b      	neg	v0
71212750:	cb40      	sh	v0,0(v1)
71212752:	b27c      	lw	v0,71212940 <get_id3_aax_sub+0x2e4>
71212754:	9a40      	lw	v0,0(v0)
71212756:	9a41      	lw	v0,4(v0)
71212758:	4282      	addiu	a0,v0,2
7121275a:	b27a      	lw	v0,71212940 <get_id3_aax_sub+0x2e4>
7121275c:	9a40      	lw	v0,0(v0)
7121275e:	a240      	lbu	v0,0(v0)
71212760:	424e      	addiu	v0,v0,-2
71212762:	ea31      	zeh	v0
71212764:	9960      	lw	v1,0(s1)
71212766:	67a2      	move	a1,v0
71212768:	67c3      	move	a2,v1
7121276a:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
7121276e:	6500      	nop
71212770:	b274      	lw	v0,71212940 <get_id3_aax_sub+0x2e4>
71212772:	9a80      	lw	a0,0(v0)
71212774:	9960      	lw	v1,0(s1)
71212776:	f7ff 6a1e 	li	v0,65534
7121277a:	eb4c      	and	v1,v0
7121277c:	9c41      	lw	v0,4(a0)
7121277e:	e34d      	addu	v1,v0
71212780:	6a00      	li	v0,0
71212782:	cb41      	sh	v0,2(v1)
71212784:	1044      	b	7121280e <get_id3_aax_sub+0x1b2>
71212786:	b26f      	lw	v0,71212940 <get_id3_aax_sub+0x2e4>
71212788:	9a40      	lw	v0,0(v0)
7121278a:	a240      	lbu	v0,0(v0)
7121278c:	426f      	addiu	v1,v0,-1
7121278e:	9940      	lw	v0,0(s1)
71212790:	eb43      	sltu	v1,v0
71212792:	6005      	bteqz	7121279e <get_id3_aax_sub+0x142>
71212794:	b26b      	lw	v0,71212940 <get_id3_aax_sub+0x2e4>
71212796:	9a40      	lw	v0,0(v0)
71212798:	a240      	lbu	v0,0(v0)
7121279a:	424f      	addiu	v0,v0,-1
7121279c:	d940      	sw	v0,0(s1)
7121279e:	b26b      	lw	v0,71212948 <get_id3_aax_sub+0x2ec>
712127a0:	a240      	lbu	v0,0(v0)
712127a2:	7201      	cmpi	v0,1
712127a4:	6758      	move	v0,t8
712127a6:	5a01      	sltiu	v0,1
712127a8:	6008      	bteqz	712127ba <get_id3_aax_sub+0x15e>
712127aa:	4147      	addiu	v0,s1,7
712127ac:	4241      	addiu	v0,v0,1
712127ae:	6782      	move	a0,v0
712127b0:	6d03      	li	a1,3
712127b2:	6e03      	li	a2,3
712127b4:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
712127b8:	6500      	nop
712127ba:	b262      	lw	v0,71212940 <get_id3_aax_sub+0x2e4>
712127bc:	9a40      	lw	v0,0(v0)
712127be:	9a81      	lw	a0,4(v0)
712127c0:	b260      	lw	v0,71212940 <get_id3_aax_sub+0x2e4>
712127c2:	9a40      	lw	v0,0(v0)
712127c4:	a240      	lbu	v0,0(v0)
712127c6:	9960      	lw	v1,0(s1)
712127c8:	67a2      	move	a1,v0
712127ca:	67c3      	move	a2,v1
712127cc:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
712127d0:	6500      	nop
712127d2:	b25c      	lw	v0,71212940 <get_id3_aax_sub+0x2e4>
712127d4:	9a40      	lw	v0,0(v0)
712127d6:	9a61      	lw	v1,4(v0)
712127d8:	9940      	lw	v0,0(s1)
712127da:	e34d      	addu	v1,v0
712127dc:	6a00      	li	v0,0
712127de:	c340      	sb	v0,0(v1)
712127e0:	8150      	lb	v0,16(s1)
712127e2:	7203      	cmpi	v0,3
712127e4:	6758      	move	v0,t8
712127e6:	5a01      	sltiu	v0,1
712127e8:	6012      	bteqz	7121280e <get_id3_aax_sub+0x1b2>
712127ea:	b256      	lw	v0,71212940 <get_id3_aax_sub+0x2e4>
712127ec:	9a40      	lw	v0,0(v0)
712127ee:	9a41      	lw	v0,4(v0)
712127f0:	a240      	lbu	v0,0(v0)
712127f2:	2a0d      	bnez	v0,7121280e <get_id3_aax_sub+0x1b2>
712127f4:	b256      	lw	v0,7121294c <get_id3_aax_sub+0x2f0>
712127f6:	9a60      	lw	v1,0(v0)
712127f8:	b252      	lw	v0,71212940 <get_id3_aax_sub+0x2e4>
712127fa:	9a40      	lw	v0,0(v0)
712127fc:	9a41      	lw	v0,4(v0)
712127fe:	a241      	lbu	v0,1(v0)
71212800:	424f      	addiu	v0,v0,-1
71212802:	ea11      	zeb	v0
71212804:	6783      	move	a0,v1
71212806:	67a2      	move	a1,v0
71212808:	1822 4940 	jal	71052500 <mp3_select_genre>
7121280c:	6500      	nop
7121280e:	b24f      	lw	v0,71212948 <get_id3_aax_sub+0x2ec>
71212810:	a240      	lbu	v0,0(v0)
71212812:	7201      	cmpi	v0,1
71212814:	6758      	move	v0,t8
71212816:	5a01      	sltiu	v0,1
71212818:	601b      	bteqz	71212850 <get_id3_aax_sub+0x1f4>
7121281a:	b34c      	lw	v1,71212948 <get_id3_aax_sub+0x2ec>
7121281c:	6a00      	li	v0,0
7121281e:	c340      	sb	v0,0(v1)
71212820:	b24b      	lw	v0,7121294c <get_id3_aax_sub+0x2f0>
71212822:	9a60      	lw	v1,0(v0)
71212824:	b247      	lw	v0,71212940 <get_id3_aax_sub+0x2e4>
71212826:	9a40      	lw	v0,0(v0)
71212828:	9a41      	lw	v0,4(v0)
7121282a:	a240      	lbu	v0,0(v0)
7121282c:	cb51      	sh	v0,34(v1)
7121282e:	b245      	lw	v0,71212940 <get_id3_aax_sub+0x2e4>
71212830:	9a40      	lw	v0,0(v0)
71212832:	9a61      	lw	v1,4(v0)
71212834:	6a00      	li	v0,0
71212836:	c340      	sb	v0,0(v1)
71212838:	b33b      	lw	v1,71212924 <get_id3_aax_sub+0x2c8>
7121283a:	b23b      	lw	v0,71212924 <get_id3_aax_sub+0x2c8>
7121283c:	9a40      	lw	v0,0(v0)
7121283e:	424d      	addiu	v0,v0,-3
71212840:	db40      	sw	v0,0(v1)
71212842:	b239      	lw	v0,71212924 <get_id3_aax_sub+0x2c8>
71212844:	9a40      	lw	v0,0(v0)
71212846:	6c00      	li	a0,0
71212848:	67a2      	move	a1,v0
7121284a:	1830 6d43 	jal	7805b50c <reset_file_pos>
7121284e:	6500      	nop
71212850:	9961      	lw	v1,4(s1)
71212852:	9940      	lw	v0,0(s1)
71212854:	e34b      	subu	v0,v1,v0
71212856:	4248      	addiu	v0,v0,-8
71212858:	d941      	sw	v0,4(s1)
7121285a:	a151      	lbu	v0,17(s1)
7121285c:	5a07      	sltiu	v0,7
7121285e:	6101      	btnez	71212862 <get_id3_aax_sub+0x206>
71212860:	1056      	b	7121290e <get_id3_aax_sub+0x2b2>
71212862:	9941      	lw	v0,4(s1)
71212864:	f6ff 221f 	beqz	v0,71212666 <get_id3_aax_sub+0xa>
71212868:	9941      	lw	v0,4(s1)
7121286a:	6782      	move	a0,v0
7121286c:	6d00      	li	a1,0
7121286e:	1830 6d43 	jal	7805b50c <reset_file_pos>
71212872:	6500      	nop
71212874:	16f8      	b	71212666 <get_id3_aax_sub+0xa>
71212876:	b236      	lw	v0,7121294c <get_id3_aax_sub+0x2f0>
71212878:	9a40      	lw	v0,0(v0)
7121287a:	a25f      	lbu	v0,31(v0)
7121287c:	7201      	cmpi	v0,1
7121287e:	6758      	move	v0,t8
71212880:	5a01      	sltiu	v0,1
71212882:	603e      	bteqz	71212900 <get_id3_aax_sub+0x2a4>
71212884:	b22c      	lw	v0,71212934 <get_id3_aax_sub+0x2d8>
71212886:	b333      	lw	v1,71212950 <get_id3_aax_sub+0x2f4>
71212888:	6782      	move	a0,v0
7121288a:	67a3      	move	a1,v1
7121288c:	6e04      	li	a2,4
7121288e:	6f02      	li	a3,2
71212890:	b22b      	lw	v0,7121293c <get_id3_aax_sub+0x2e0>
71212892:	eac0      	jalrc	v0
71212894:	651a      	move	t8,v0
71212896:	6134      	btnez	71212900 <get_id3_aax_sub+0x2a4>
71212898:	a151      	lbu	v0,17(s1)
7121289a:	4241      	addiu	v0,v0,1
7121289c:	c151      	sb	v0,17(s1)
7121289e:	b223      	lw	v0,71212928 <get_id3_aax_sub+0x2cc>
712128a0:	6782      	move	a0,v0
712128a2:	6d80      	li	a1,128
712128a4:	6e80      	li	a2,128
712128a6:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
712128aa:	6500      	nop
712128ac:	b21f      	lw	v0,71212928 <get_id3_aax_sub+0x2cc>
712128ae:	6782      	move	a0,v0
712128b0:	1902 4984 	jal	71212610 <aax_check_pic_flag>
712128b4:	6500      	nop
712128b6:	c150      	sb	v0,16(s1)
712128b8:	8170      	lb	v1,16(s1)
712128ba:	6a01      	li	v0,1
712128bc:	ea4b      	neg	v0
712128be:	ea6e      	xor	v0,v1
712128c0:	5a01      	sltiu	v0,1
712128c2:	6119      	btnez	712128f6 <get_id3_aax_sub+0x29a>
712128c4:	b222      	lw	v0,7121294c <get_id3_aax_sub+0x2f0>
712128c6:	9a80      	lw	a0,0(v0)
712128c8:	8170      	lb	v1,16(s1)
712128ca:	b217      	lw	v0,71212924 <get_id3_aax_sub+0x2c8>
712128cc:	9a40      	lw	v0,0(v0)
712128ce:	e349      	addu	v0,v1,v0
712128d0:	4a80      	addiu	v0,-128
712128d2:	dc4a      	sw	v0,40(a0)
712128d4:	b21e      	lw	v0,7121294c <get_id3_aax_sub+0x2f0>
712128d6:	9a60      	lw	v1,0(v0)
712128d8:	6a01      	li	v0,1
712128da:	c35e      	sb	v0,30(v1)
712128dc:	9941      	lw	v0,4(s1)
712128de:	220b      	beqz	v0,712128f6 <get_id3_aax_sub+0x29a>
712128e0:	9941      	lw	v0,4(s1)
712128e2:	4a80      	addiu	v0,-128
712128e4:	d945      	sw	v0,20(s1)
712128e6:	9945      	lw	v0,20(s1)
712128e8:	2206      	beqz	v0,712128f6 <get_id3_aax_sub+0x29a>
712128ea:	9945      	lw	v0,20(s1)
712128ec:	6782      	move	a0,v0
712128ee:	6d00      	li	a1,0
712128f0:	1830 6d43 	jal	7805b50c <reset_file_pos>
712128f4:	6500      	nop
712128f6:	a151      	lbu	v0,17(s1)
712128f8:	5a07      	sltiu	v0,7
712128fa:	f6bf 6114 	btnez	71212666 <get_id3_aax_sub+0xa>
712128fe:	1007      	b	7121290e <get_id3_aax_sub+0x2b2>
71212900:	9941      	lw	v0,4(s1)
71212902:	6782      	move	a0,v0
71212904:	6d00      	li	a1,0
71212906:	1830 6d43 	jal	7805b50c <reset_file_pos>
7121290a:	6500      	nop
7121290c:	16ac      	b	71212666 <get_id3_aax_sub+0xa>
7121290e:	a151      	lbu	v0,17(s1)
71212910:	2203      	beqz	v0,71212918 <get_id3_aax_sub+0x2bc>
71212912:	6a01      	li	v0,1
71212914:	d946      	sw	v0,24(s1)
71212916:	1002      	b	7121291c <get_id3_aax_sub+0x2c0>
71212918:	6a00      	li	v0,0
7121291a:	d946      	sw	v0,24(s1)
7121291c:	9946      	lw	v0,24(s1)
7121291e:	65b9      	move	sp,s1
71212920:	6455      	restore	40,ra,s1
71212922:	e8a0      	jrc	ra
71212924:	b92c      	lwu	s1,48(s1)
71212926:	7805      	sd	s0,40(s0)
71212928:	b89c      	lwu	a0,112(s0)
7121292a:	7805      	sd	s0,40(s0)
7121292c:	b8a1      	lwu	a1,4(s0)
7121292e:	7805      	sd	s0,40(s0)
71212930:	2bb4      	bnez	v1,7121289a <get_id3_aax_sub+0x23e>
71212932:	7121      	cmpi	s1,33
71212934:	b8a0      	lwu	a1,0(s0)
71212936:	7805      	sd	s0,40(s0)
71212938:	2bac      	bnez	v1,71212892 <get_id3_aax_sub+0x236>
7121293a:	7121      	cmpi	s1,33
7121293c:	6409      	restore	72
7121293e:	bfc1      	lwu	a2,4(a3)
71212940:	b930      	lwu	s1,64(s1)
71212942:	7805      	sd	s0,40(s0)
71212944:	2645      	beqz	a2,712129d0 <get_id3_aax+0x7c>
71212946:	7129      	cmpi	s1,41
71212948:	b938      	lwu	s1,96(s1)
7121294a:	7805      	sd	s0,40(s0)
7121294c:	b934      	lwu	s1,80(s1)
7121294e:	7805      	sd	s0,40(s0)
71212950:	2bc8      	bnez	v1,712128e2 <get_id3_aax_sub+0x286>
71212952:	7121      	cmpi	s1,33

71212954 <get_id3_aax>:
71212954:	64d6      	save	48,ra,s1
71212956:	0104      	addiu	s1,sp,16
71212958:	6a00      	li	v0,0
7121295a:	c14c      	sb	v0,12(s1)
7121295c:	b37a      	lw	v1,71212b44 <get_id3_aax+0x1f0>
7121295e:	6a00      	li	v0,0
71212960:	c340      	sb	v0,0(v1)
71212962:	1830 6cde 	jal	7805b378 <get_init>
71212966:	6500      	nop
71212968:	b278      	lw	v0,71212b48 <get_id3_aax+0x1f4>
7121296a:	6782      	move	a0,v0
7121296c:	6d80      	li	a1,128
7121296e:	6e08      	li	a2,8
71212970:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
71212974:	6500      	nop
71212976:	b276      	lw	v0,71212b4c <get_id3_aax+0x1f8>
71212978:	b376      	lw	v1,71212b50 <get_id3_aax+0x1fc>
7121297a:	6782      	move	a0,v0
7121297c:	67a3      	move	a1,v1
7121297e:	6e04      	li	a2,4
71212980:	6f02      	li	a3,2
71212982:	b275      	lw	v0,71212b54 <get_id3_aax+0x200>
71212984:	eac0      	jalrc	v0
71212986:	651a      	move	t8,v0
71212988:	610c      	btnez	712129a2 <get_id3_aax+0x4e>
7121298a:	1902 4940 	jal	71212500 <aax_get_frame_size>
7121298e:	6500      	nop
71212990:	d942      	sw	v0,8(s1)
71212992:	9942      	lw	v0,8(s1)
71212994:	4248      	addiu	v0,v0,-8
71212996:	6782      	move	a0,v0
71212998:	6d00      	li	a1,0
7121299a:	1830 6d43 	jal	7805b50c <reset_file_pos>
7121299e:	6500      	nop
712129a0:	1003      	b	712129a8 <get_id3_aax+0x54>
712129a2:	6a00      	li	v0,0
712129a4:	d944      	sw	v0,16(s1)
712129a6:	10ca      	b	71212b3c <get_id3_aax+0x1e8>
712129a8:	b268      	lw	v0,71212b48 <get_id3_aax+0x1f4>
712129aa:	6782      	move	a0,v0
712129ac:	6d80      	li	a1,128
712129ae:	6e08      	li	a2,8
712129b0:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
712129b4:	6500      	nop
712129b6:	b266      	lw	v0,71212b4c <get_id3_aax+0x1f8>
712129b8:	b368      	lw	v1,71212b58 <get_id3_aax+0x204>
712129ba:	6782      	move	a0,v0
712129bc:	67a3      	move	a1,v1
712129be:	6e04      	li	a2,4
712129c0:	6f02      	li	a3,2
712129c2:	b265      	lw	v0,71212b54 <get_id3_aax+0x200>
712129c4:	eac0      	jalrc	v0
712129c6:	651a      	move	t8,v0
712129c8:	f0a0 6116 	btnez	71212b38 <get_id3_aax+0x1e4>
712129cc:	1902 4940 	jal	71212500 <aax_get_frame_size>
712129d0:	6500      	nop
712129d2:	d940      	sw	v0,0(s1)
712129d4:	b262      	lw	v0,71212b5c <get_id3_aax+0x208>
712129d6:	9960      	lw	v1,0(s1)
712129d8:	9a40      	lw	v0,0(v0)
712129da:	e349      	addu	v0,v1,v0
712129dc:	4248      	addiu	v0,v0,-8
712129de:	d941      	sw	v0,4(s1)
712129e0:	b25f      	lw	v0,71212b5c <get_id3_aax+0x208>
712129e2:	9a60      	lw	v1,0(v0)
712129e4:	9941      	lw	v0,4(s1)
712129e6:	eb43      	sltu	v1,v0
712129e8:	602d      	bteqz	71212a44 <get_id3_aax+0xf0>
712129ea:	a14c      	lbu	v0,12(s1)
712129ec:	2a2b      	bnez	v0,71212a44 <get_id3_aax+0xf0>
712129ee:	b257      	lw	v0,71212b48 <get_id3_aax+0x1f4>
712129f0:	6782      	move	a0,v0
712129f2:	6d80      	li	a1,128
712129f4:	6e08      	li	a2,8
712129f6:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
712129fa:	6500      	nop
712129fc:	b254      	lw	v0,71212b4c <get_id3_aax+0x1f8>
712129fe:	b359      	lw	v1,71212b60 <get_id3_aax+0x20c>
71212a00:	6782      	move	a0,v0
71212a02:	67a3      	move	a1,v1
71212a04:	6e04      	li	a2,4
71212a06:	6f02      	li	a3,2
71212a08:	b253      	lw	v0,71212b54 <get_id3_aax+0x200>
71212a0a:	eac0      	jalrc	v0
71212a0c:	651a      	move	t8,v0
71212a0e:	610e      	btnez	71212a2c <get_id3_aax+0xd8>
71212a10:	1902 4940 	jal	71212500 <aax_get_frame_size>
71212a14:	6500      	nop
71212a16:	d940      	sw	v0,0(s1)
71212a18:	b251      	lw	v0,71212b5c <get_id3_aax+0x208>
71212a1a:	9960      	lw	v1,0(s1)
71212a1c:	9a40      	lw	v0,0(v0)
71212a1e:	e349      	addu	v0,v1,v0
71212a20:	4248      	addiu	v0,v0,-8
71212a22:	d941      	sw	v0,4(s1)
71212a24:	a14c      	lbu	v0,12(s1)
71212a26:	4241      	addiu	v0,v0,1
71212a28:	c14c      	sb	v0,12(s1)
71212a2a:	17da      	b	712129e0 <get_id3_aax+0x8c>
71212a2c:	1902 4940 	jal	71212500 <aax_get_frame_size>
71212a30:	6500      	nop
71212a32:	d942      	sw	v0,8(s1)
71212a34:	9942      	lw	v0,8(s1)
71212a36:	4248      	addiu	v0,v0,-8
71212a38:	6782      	move	a0,v0
71212a3a:	6d00      	li	a1,0
71212a3c:	1830 6d43 	jal	7805b50c <reset_file_pos>
71212a40:	6500      	nop
71212a42:	17ce      	b	712129e0 <get_id3_aax+0x8c>
71212a44:	b246      	lw	v0,71212b5c <get_id3_aax+0x208>
71212a46:	9a60      	lw	v1,0(v0)
71212a48:	9941      	lw	v0,4(s1)
71212a4a:	eb43      	sltu	v1,v0
71212a4c:	6030      	bteqz	71212aae <get_id3_aax+0x15a>
71212a4e:	a14c      	lbu	v0,12(s1)
71212a50:	7201      	cmpi	v0,1
71212a52:	6758      	move	v0,t8
71212a54:	5a01      	sltiu	v0,1
71212a56:	602b      	bteqz	71212aae <get_id3_aax+0x15a>
71212a58:	b23c      	lw	v0,71212b48 <get_id3_aax+0x1f4>
71212a5a:	6782      	move	a0,v0
71212a5c:	6d80      	li	a1,128
71212a5e:	6e0c      	li	a2,12
71212a60:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
71212a64:	6500      	nop
71212a66:	b23a      	lw	v0,71212b4c <get_id3_aax+0x1f8>
71212a68:	b33f      	lw	v1,71212b64 <get_id3_aax+0x210>
71212a6a:	6782      	move	a0,v0
71212a6c:	67a3      	move	a1,v1
71212a6e:	6e04      	li	a2,4
71212a70:	6f02      	li	a3,2
71212a72:	b239      	lw	v0,71212b54 <get_id3_aax+0x200>
71212a74:	eac0      	jalrc	v0
71212a76:	651a      	move	t8,v0
71212a78:	610e      	btnez	71212a96 <get_id3_aax+0x142>
71212a7a:	1902 4940 	jal	71212500 <aax_get_frame_size>
71212a7e:	6500      	nop
71212a80:	d940      	sw	v0,0(s1)
71212a82:	b237      	lw	v0,71212b5c <get_id3_aax+0x208>
71212a84:	9960      	lw	v1,0(s1)
71212a86:	9a40      	lw	v0,0(v0)
71212a88:	e349      	addu	v0,v1,v0
71212a8a:	4af4      	addiu	v0,-12
71212a8c:	d941      	sw	v0,4(s1)
71212a8e:	a14c      	lbu	v0,12(s1)
71212a90:	4241      	addiu	v0,v0,1
71212a92:	c14c      	sb	v0,12(s1)
71212a94:	17d7      	b	71212a44 <get_id3_aax+0xf0>
71212a96:	1902 4940 	jal	71212500 <aax_get_frame_size>
71212a9a:	6500      	nop
71212a9c:	d942      	sw	v0,8(s1)
71212a9e:	9942      	lw	v0,8(s1)
71212aa0:	4af4      	addiu	v0,-12
71212aa2:	6782      	move	a0,v0
71212aa4:	6d00      	li	a1,0
71212aa6:	1830 6d43 	jal	7805b50c <reset_file_pos>
71212aaa:	6500      	nop
71212aac:	17cb      	b	71212a44 <get_id3_aax+0xf0>
71212aae:	b22c      	lw	v0,71212b5c <get_id3_aax+0x208>
71212ab0:	9a60      	lw	v1,0(v0)
71212ab2:	9941      	lw	v0,4(s1)
71212ab4:	eb43      	sltu	v1,v0
71212ab6:	6030      	bteqz	71212b18 <get_id3_aax+0x1c4>
71212ab8:	a14c      	lbu	v0,12(s1)
71212aba:	7202      	cmpi	v0,2
71212abc:	6758      	move	v0,t8
71212abe:	5a01      	sltiu	v0,1
71212ac0:	602b      	bteqz	71212b18 <get_id3_aax+0x1c4>
71212ac2:	b222      	lw	v0,71212b48 <get_id3_aax+0x1f4>
71212ac4:	6782      	move	a0,v0
71212ac6:	6d80      	li	a1,128
71212ac8:	6e08      	li	a2,8
71212aca:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
71212ace:	6500      	nop
71212ad0:	b21f      	lw	v0,71212b4c <get_id3_aax+0x1f8>
71212ad2:	b326      	lw	v1,71212b68 <get_id3_aax+0x214>
71212ad4:	6782      	move	a0,v0
71212ad6:	67a3      	move	a1,v1
71212ad8:	6e04      	li	a2,4
71212ada:	6f02      	li	a3,2
71212adc:	b21e      	lw	v0,71212b54 <get_id3_aax+0x200>
71212ade:	eac0      	jalrc	v0
71212ae0:	651a      	move	t8,v0
71212ae2:	610e      	btnez	71212b00 <get_id3_aax+0x1ac>
71212ae4:	1902 4940 	jal	71212500 <aax_get_frame_size>
71212ae8:	6500      	nop
71212aea:	d940      	sw	v0,0(s1)
71212aec:	b21c      	lw	v0,71212b5c <get_id3_aax+0x208>
71212aee:	9960      	lw	v1,0(s1)
71212af0:	9a40      	lw	v0,0(v0)
71212af2:	e349      	addu	v0,v1,v0
71212af4:	4248      	addiu	v0,v0,-8
71212af6:	d941      	sw	v0,4(s1)
71212af8:	a14c      	lbu	v0,12(s1)
71212afa:	4241      	addiu	v0,v0,1
71212afc:	c14c      	sb	v0,12(s1)
71212afe:	17d7      	b	71212aae <get_id3_aax+0x15a>
71212b00:	1902 4940 	jal	71212500 <aax_get_frame_size>
71212b04:	6500      	nop
71212b06:	d942      	sw	v0,8(s1)
71212b08:	9942      	lw	v0,8(s1)
71212b0a:	4248      	addiu	v0,v0,-8
71212b0c:	6782      	move	a0,v0
71212b0e:	6d00      	li	a1,0
71212b10:	1830 6d43 	jal	7805b50c <reset_file_pos>
71212b14:	6500      	nop
71212b16:	17cb      	b	71212aae <get_id3_aax+0x15a>
71212b18:	a14c      	lbu	v0,12(s1)
71212b1a:	7203      	cmpi	v0,3
71212b1c:	6758      	move	v0,t8
71212b1e:	5a01      	sltiu	v0,1
71212b20:	600b      	bteqz	71212b38 <get_id3_aax+0x1e4>
71212b22:	9941      	lw	v0,4(s1)
71212b24:	6782      	move	a0,v0
71212b26:	1902 4997 	jal	7121265c <get_id3_aax_sub>
71212b2a:	6500      	nop
71212b2c:	651a      	move	t8,v0
71212b2e:	6758      	move	v0,t8
71212b30:	651a      	move	t8,v0
71212b32:	6758      	move	v0,t8
71212b34:	d944      	sw	v0,16(s1)
71212b36:	1002      	b	71212b3c <get_id3_aax+0x1e8>
71212b38:	6a00      	li	v0,0
71212b3a:	d944      	sw	v0,16(s1)
71212b3c:	9944      	lw	v0,16(s1)
71212b3e:	65b9      	move	sp,s1
71212b40:	6454      	restore	32,ra,s1
71212b42:	e8a0      	jrc	ra
71212b44:	b938      	lwu	s1,96(s1)
71212b46:	7805      	sd	s0,40(s0)
71212b48:	b89c      	lwu	a0,112(s0)
71212b4a:	7805      	sd	s0,40(s0)
71212b4c:	b8a0      	lwu	a1,0(s0)
71212b4e:	7805      	sd	s0,40(s0)
71212b50:	2b6c      	bnez	v1,71212c2a <pic_string+0x62>
71212b52:	7121      	cmpi	s1,33
71212b54:	6409      	restore	72
71212b56:	bfc1      	lwu	a2,4(a3)
71212b58:	2b74      	bnez	v1,71212c42 <pic_string+0x7a>
71212b5a:	7121      	cmpi	s1,33
71212b5c:	b92c      	lwu	s1,48(s1)
71212b5e:	7805      	sd	s0,40(s0)
71212b60:	2b8c      	bnez	v1,71212a7a <get_id3_aax+0x126>
71212b62:	7121      	cmpi	s1,33
71212b64:	2b94      	bnez	v1,71212a8e <get_id3_aax+0x13a>
71212b66:	7121      	cmpi	s1,33
71212b68:	2ba4      	bnez	v1,71212ab2 <get_id3_aax+0x15e>
71212b6a:	7121      	cmpi	s1,33

71212b6c <ftypString>:
71212b6c:	7466 7079 0000 0000                         ftyp....

71212b74 <moovString>:
71212b74:	6f6d 766f 0000 0000                         moov....

71212b7c <mvhdString>:
71212b7c:	766d 6468 0000 0000                         mvhd....

71212b84 <trakString>:
71212b84:	7274 6e6b 0000 0000                         trkn....

71212b8c <udtaString>:
71212b8c:	6475 6174 0000 0000                         udta....

71212b94 <metaString>:
71212b94:	656d 6174 0000 0000                         meta....

71212b9c <hdlrString>:
71212b9c:	6468 726c 0000 0000                         hdlr....

71212ba4 <ilstString>:
71212ba4:	6c69 7473 0000 0000                         ilst....

71212bac <dataString>:
71212bac:	6164 6174 0000 0000                         data....

71212bb4 <tag_string>:
71212bb4:	616e 416d 5452 6c61 6e62 6572 3d3d 723d     namARTalbnre===r
71212bc4:	6e6b 0000                                   kn..

71212bc8 <pic_string>:
71212bc8:	6f63 7276 0000 0000 0000 0000 0000 0000     covr............
	...
Disassembly of section BANK_FRONT_ENHANCED_ID3_2_8:

71252500 <id3_function_sub_deal>:
71252500:	6491      	save	8,s1
71252502:	673d      	move	s1,sp
71252504:	65b9      	move	sp,s1
71252506:	6411      	restore	8,s1
71252508:	e8a0      	jrc	ra
7125250a:	6500      	nop
	...
Disassembly of section BANK_FRONT_ENHANCED_ID3_2_9:

71292500 <utf8_to_utf16>:
71292500:	6494      	save	32,s1
71292502:	673d      	move	s1,sp
71292504:	d988      	sw	a0,32(s1)
71292506:	d9a9      	sw	a1,36(s1)
71292508:	d9ca      	sw	a2,40(s1)
7129250a:	9948      	lw	v0,32(s1)
7129250c:	d940      	sw	v0,0(s1)
7129250e:	6a00      	li	v0,0
71292510:	c943      	sh	v0,6(s1)
71292512:	6a00      	li	v0,0
71292514:	c948      	sh	v0,16(s1)
71292516:	9940      	lw	v0,0(s1)
71292518:	a240      	lbu	v0,0(v0)
7129251a:	f080 2207 	beqz	v0,7129262c <utf8_to_utf16+0x12c>
7129251e:	9940      	lw	v0,0(s1)
71292520:	a240      	lbu	v0,0(v0)
71292522:	c144      	sb	v0,4(s1)
71292524:	8144      	lb	v0,4(s1)
71292526:	5200      	slti	v0,0
71292528:	6105      	btnez	71292534 <utf8_to_utf16+0x34>
7129252a:	a144      	lbu	v0,4(s1)
7129252c:	c150      	sb	v0,16(s1)
7129252e:	6a00      	li	v0,0
71292530:	c151      	sb	v0,17(s1)
71292532:	1062      	b	712925f8 <utf8_to_utf16+0xf8>
71292534:	a164      	lbu	v1,4(s1)
71292536:	f7e3 6a00 	li	v0,8160
7129253a:	ea6c      	and	v0,v1
7129253c:	72c0      	cmpi	v0,192
7129253e:	6758      	move	v0,t8
71292540:	5a01      	sltiu	v0,1
71292542:	6020      	bteqz	71292584 <utf8_to_utf16+0x84>
71292544:	a144      	lbu	v0,4(s1)
71292546:	6762      	move	v1,v0
71292548:	6a1f      	li	v0,31
7129254a:	ea6c      	and	v0,v1
7129254c:	c148      	sb	v0,8(s1)
7129254e:	9940      	lw	v0,0(s1)
71292550:	4241      	addiu	v0,v0,1
71292552:	d940      	sw	v0,0(s1)
71292554:	9940      	lw	v0,0(s1)
71292556:	a240      	lbu	v0,0(v0)
71292558:	c144      	sb	v0,4(s1)
7129255a:	a144      	lbu	v0,4(s1)
7129255c:	2a01      	bnez	v0,71292560 <utf8_to_utf16+0x60>
7129255e:	1066      	b	7129262c <utf8_to_utf16+0x12c>
71292560:	a144      	lbu	v0,4(s1)
71292562:	6762      	move	v1,v0
71292564:	6a3f      	li	v0,63
71292566:	ea6c      	and	v0,v1
71292568:	c149      	sb	v0,9(s1)
7129256a:	a168      	lbu	v1,8(s1)
7129256c:	6a03      	li	v0,3
7129256e:	ea6c      	and	v0,v1
71292570:	3258      	sll	v0,6
71292572:	651a      	move	t8,v0
71292574:	a149      	lbu	v0,9(s1)
71292576:	6778      	move	v1,t8
71292578:	ea6d      	or	v0,v1
7129257a:	c150      	sb	v0,16(s1)
7129257c:	a148      	lbu	v0,8(s1)
7129257e:	324a      	srl	v0,2
71292580:	c151      	sb	v0,17(s1)
71292582:	103a      	b	712925f8 <utf8_to_utf16+0xf8>
71292584:	a164      	lbu	v1,4(s1)
71292586:	f7e1 6a10 	li	v0,4080
7129258a:	ea6c      	and	v0,v1
7129258c:	72e0      	cmpi	v0,224
7129258e:	6758      	move	v0,t8
71292590:	5a01      	sltiu	v0,1
71292592:	6032      	bteqz	712925f8 <utf8_to_utf16+0xf8>
71292594:	a144      	lbu	v0,4(s1)
71292596:	6762      	move	v1,v0
71292598:	6a1f      	li	v0,31
7129259a:	ea6c      	and	v0,v1
7129259c:	c148      	sb	v0,8(s1)
7129259e:	9940      	lw	v0,0(s1)
712925a0:	4241      	addiu	v0,v0,1
712925a2:	d940      	sw	v0,0(s1)
712925a4:	9940      	lw	v0,0(s1)
712925a6:	a240      	lbu	v0,0(v0)
712925a8:	c144      	sb	v0,4(s1)
712925aa:	a144      	lbu	v0,4(s1)
712925ac:	2a01      	bnez	v0,712925b0 <utf8_to_utf16+0xb0>
712925ae:	103e      	b	7129262c <utf8_to_utf16+0x12c>
712925b0:	a144      	lbu	v0,4(s1)
712925b2:	6762      	move	v1,v0
712925b4:	6a3f      	li	v0,63
712925b6:	ea6c      	and	v0,v1
712925b8:	c149      	sb	v0,9(s1)
712925ba:	9940      	lw	v0,0(s1)
712925bc:	4241      	addiu	v0,v0,1
712925be:	d940      	sw	v0,0(s1)
712925c0:	9940      	lw	v0,0(s1)
712925c2:	a240      	lbu	v0,0(v0)
712925c4:	c144      	sb	v0,4(s1)
712925c6:	a144      	lbu	v0,4(s1)
712925c8:	2a01      	bnez	v0,712925cc <utf8_to_utf16+0xcc>
712925ca:	1030      	b	7129262c <utf8_to_utf16+0x12c>
712925cc:	a144      	lbu	v0,4(s1)
712925ce:	6762      	move	v1,v0
712925d0:	6a3f      	li	v0,63
712925d2:	ea6c      	and	v0,v1
712925d4:	c14a      	sb	v0,10(s1)
712925d6:	a169      	lbu	v1,9(s1)
712925d8:	6a03      	li	v0,3
712925da:	ea6c      	and	v0,v1
712925dc:	3258      	sll	v0,6
712925de:	651a      	move	t8,v0
712925e0:	a14a      	lbu	v0,10(s1)
712925e2:	6778      	move	v1,t8
712925e4:	ea6d      	or	v0,v1
712925e6:	c150      	sb	v0,16(s1)
712925e8:	a148      	lbu	v0,8(s1)
712925ea:	3350      	sll	v1,v0,4
712925ec:	a149      	lbu	v0,9(s1)
712925ee:	324a      	srl	v0,2
712925f0:	651b      	move	t8,v1
712925f2:	6778      	move	v1,t8
712925f4:	ea6d      	or	v0,v1
712925f6:	c151      	sb	v0,17(s1)
712925f8:	9940      	lw	v0,0(s1)
712925fa:	4241      	addiu	v0,v0,1
712925fc:	d940      	sw	v0,0(s1)
712925fe:	a943      	lhu	v0,6(s1)
71292600:	4242      	addiu	v0,v0,2
71292602:	c943      	sh	v0,6(s1)
71292604:	9969      	lw	v1,36(s1)
71292606:	a151      	lbu	v0,17(s1)
71292608:	cb40      	sh	v0,0(v1)
7129260a:	9969      	lw	v1,36(s1)
7129260c:	9949      	lw	v0,36(s1)
7129260e:	aa40      	lhu	v0,0(v0)
71292610:	3240      	sll	v0,8
71292612:	cb40      	sh	v0,0(v1)
71292614:	99a9      	lw	a1,36(s1)
71292616:	9949      	lw	v0,36(s1)
71292618:	a190      	lbu	a0,16(s1)
7129261a:	aa40      	lhu	v0,0(v0)
7129261c:	6762      	move	v1,v0
7129261e:	6744      	move	v0,a0
71292620:	ea6d      	or	v0,v1
71292622:	cd40      	sh	v0,0(a1)
71292624:	9949      	lw	v0,36(s1)
71292626:	4242      	addiu	v0,v0,2
71292628:	d949      	sw	v0,36(s1)
7129262a:	1775      	b	71292516 <utf8_to_utf16+0x16>
7129262c:	a943      	lhu	v0,6(s1)
7129262e:	4242      	addiu	v0,v0,2
71292630:	c943      	sh	v0,6(s1)
71292632:	996a      	lw	v1,40(s1)
71292634:	a943      	lhu	v0,6(s1)
71292636:	cb40      	sh	v0,0(v1)
71292638:	9969      	lw	v1,36(s1)
7129263a:	6a00      	li	v0,0
7129263c:	cb40      	sh	v0,0(v1)
7129263e:	65b9      	move	sp,s1
71292640:	6414      	restore	32,s1
71292642:	e8a0      	jrc	ra

71292644 <id3_read_utf8_deal>:
71292644:	64d5      	save	40,ra,s1
71292646:	0104      	addiu	s1,sp,16
71292648:	d986      	sw	a0,24(s1)
7129264a:	d9a7      	sw	a1,28(s1)
7129264c:	d9c8      	sw	a2,32(s1)
7129264e:	9947      	lw	v0,28(s1)
71292650:	2a03      	bnez	v0,71292658 <id3_read_utf8_deal+0x14>
71292652:	9947      	lw	v0,28(s1)
71292654:	d942      	sw	v0,8(s1)
71292656:	1060      	b	71292718 <id3_read_utf8_deal+0xd4>
71292658:	9947      	lw	v0,28(s1)
7129265a:	5a80      	sltiu	v0,128
7129265c:	6003      	bteqz	71292664 <id3_read_utf8_deal+0x20>
7129265e:	9947      	lw	v0,28(s1)
71292660:	d940      	sw	v0,0(s1)
71292662:	1002      	b	71292668 <id3_read_utf8_deal+0x24>
71292664:	6a80      	li	v0,128
71292666:	d940      	sw	v0,0(s1)
71292668:	9940      	lw	v0,0(s1)
7129266a:	7201      	cmpi	v0,1
7129266c:	6758      	move	v0,t8
7129266e:	5a01      	sltiu	v0,1
71292670:	6006      	bteqz	7129267e <id3_read_utf8_deal+0x3a>
71292672:	9968      	lw	v1,32(s1)
71292674:	6a00      	li	v0,0
71292676:	c341      	sb	v0,1(v1)
71292678:	9940      	lw	v0,0(s1)
7129267a:	4241      	addiu	v0,v0,1
7129267c:	d940      	sw	v0,0(s1)
7129267e:	9948      	lw	v0,32(s1)
71292680:	2209      	beqz	v0,71292694 <id3_read_utf8_deal+0x50>
71292682:	b228      	lw	v0,71292720 <id3_read_utf8_deal+0xdc>
71292684:	9968      	lw	v1,32(s1)
71292686:	99c0      	lw	a2,0(s1)
71292688:	6782      	move	a0,v0
7129268a:	67a3      	move	a1,v1
7129268c:	6f00      	li	a3,0
7129268e:	b226      	lw	v0,71292724 <id3_read_utf8_deal+0xe0>
71292690:	eac0      	jalrc	v0
71292692:	1008      	b	712926a4 <id3_read_utf8_deal+0x60>
71292694:	b223      	lw	v0,71292720 <id3_read_utf8_deal+0xdc>
71292696:	9960      	lw	v1,0(s1)
71292698:	6782      	move	a0,v0
7129269a:	6d80      	li	a1,128
7129269c:	67c3      	move	a2,v1
7129269e:	1830 6cf0 	jal	7805b3c0 <read_buf_data>
712926a2:	6500      	nop
712926a4:	b21f      	lw	v0,71292720 <id3_read_utf8_deal+0xdc>
712926a6:	b321      	lw	v1,71292728 <id3_read_utf8_deal+0xe4>
712926a8:	41c4      	addiu	a2,s1,4
712926aa:	6782      	move	a0,v0
712926ac:	67a3      	move	a1,v1
712926ae:	1942 4940 	jal	71292500 <utf8_to_utf16>
712926b2:	6500      	nop
712926b4:	a942      	lhu	v0,4(s1)
712926b6:	7202      	cmpi	v0,2
712926b8:	6758      	move	v0,t8
712926ba:	5a01      	sltiu	v0,1
712926bc:	6103      	btnez	712926c4 <id3_read_utf8_deal+0x80>
712926be:	9946      	lw	v0,24(s1)
712926c0:	a240      	lbu	v0,0(v0)
712926c2:	2a05      	bnez	v0,712926ce <id3_read_utf8_deal+0x8a>
712926c4:	9946      	lw	v0,24(s1)
712926c6:	9a61      	lw	v1,4(v0)
712926c8:	6a00      	li	v0,0
712926ca:	c340      	sb	v0,0(v1)
712926cc:	1023      	b	71292714 <id3_read_utf8_deal+0xd0>
712926ce:	a962      	lhu	v1,4(s1)
712926d0:	9946      	lw	v0,24(s1)
712926d2:	a240      	lbu	v0,0(v0)
712926d4:	424c      	addiu	v0,v0,-4
712926d6:	ea62      	slt	v0,v1
712926d8:	6004      	bteqz	712926e2 <id3_read_utf8_deal+0x9e>
712926da:	9946      	lw	v0,24(s1)
712926dc:	a240      	lbu	v0,0(v0)
712926de:	424c      	addiu	v0,v0,-4
712926e0:	c942      	sh	v0,4(s1)
712926e2:	9946      	lw	v0,24(s1)
712926e4:	9a41      	lw	v0,4(v0)
712926e6:	4242      	addiu	v0,v0,2
712926e8:	b310      	lw	v1,71292728 <id3_read_utf8_deal+0xe4>
712926ea:	a9c2      	lhu	a2,4(s1)
712926ec:	6782      	move	a0,v0
712926ee:	67a3      	move	a1,v1
712926f0:	6f00      	li	a3,0
712926f2:	b20d      	lw	v0,71292724 <id3_read_utf8_deal+0xe0>
712926f4:	eac0      	jalrc	v0
712926f6:	9946      	lw	v0,24(s1)
712926f8:	9a61      	lw	v1,4(v0)
712926fa:	f100 6a01 	li	v0,257
712926fe:	ea4b      	neg	v0
71292700:	cb40      	sh	v0,0(v1)
71292702:	9986      	lw	a0,24(s1)
71292704:	a962      	lhu	v1,4(s1)
71292706:	f7ff 6a1e 	li	v0,65534
7129270a:	eb4c      	and	v1,v0
7129270c:	9c41      	lw	v0,4(a0)
7129270e:	e34d      	addu	v1,v0
71292710:	6a00      	li	v0,0
71292712:	cb41      	sh	v0,2(v1)
71292714:	9940      	lw	v0,0(s1)
71292716:	d942      	sw	v0,8(s1)
71292718:	9942      	lw	v0,8(s1)
7129271a:	65b9      	move	sp,s1
7129271c:	6453      	restore	24,ra,s1
7129271e:	e8a0      	jrc	ra
71292720:	27ac      	beqz	a3,7129267a <id3_read_utf8_deal+0x36>
71292722:	7129      	cmpi	s1,41
71292724:	6409      	restore	72
71292726:	bfc1      	lwu	a2,4(a3)
71292728:	272c      	beqz	a3,71292782 <temp_bank_bufA+0x56>
7129272a:	7129      	cmpi	s1,41

7129272c <temp_bank_bufA>:
	...

712927ac <temp_bank_bufB>:
	...
Disassembly of section BANK_CONTROL_1_48:

40c14c00 <gui_menulist>:
40c14c00:	64de      	save	112,ra,s1
 * \endcode
 * \note
 *******************************************************************************/
app_result_e gui_menulist(uint16 style_id, menu_com_data_t *menu_com)
{
40c14c02:	0104      	addiu	s1,sp,16
40c14c04:	6744      	move	v0,a0
40c14c06:	d9b9      	sw	a1,100(s1)
40c14c08:	f060 c940 	sh	v0,96(s1)
40c14c0c:	6a00      	li	v0,0
    menulist_control_t ml_control; //菜单列表控制结构体
    menulist_stack_t menu_stack[3]; //菜单嵌套控制
    menu_title_action_t title_action;
    style_infor_t style_infor;

#ifdef PC
    menu_cb_leaf callback_func;
#endif

    app_result_e result = RESULT_NULL;
40c14c0e:	f040 c950 	sh	v0,80(s1)
40c14c12:	6a01      	li	v0,1

    uint16 last_style; //上一个菜单 style id
    int8 scroll_timer = -1;
40c14c14:	ea4b      	neg	v0
40c14c16:	f040 c154 	sb	v0,84(s1)
40c14c1a:	1a01 53bf 	jal	40c14efc <get_app_timer_tag>
    uint8 tag_backup;
    uint8 mode_backup, icon_backup;

    tag_backup = get_app_timer_tag();
40c14c1e:	6500      	nop
40c14c20:	f040 c155 	sb	v0,85(s1)
40c14c24:	6c86      	li	a0,134
    change_app_timer_tag(APP_TIEMR_TAG_MENU);
40c14c26:	1a01 53b9 	jal	40c14ee4 <change_app_timer_tag>
40c14c2a:	6500      	nop
40c14c2c:	4147      	addiu	v0,s1,7

    gui_get_headbar_mode(&mode_backup, &icon_backup);
40c14c2e:	4a4f      	addiu	v0,79
40c14c30:	4167      	addiu	v1,s1,7
40c14c32:	4b50      	addiu	v1,80
40c14c34:	6782      	move	a0,v0
40c14c36:	67a3      	move	a1,v1
40c14c38:	b292      	lw	v0,40c14e80 <gui_menulist+0x280>
40c14c3a:	eac0      	jalrc	v0
40c14c3c:	b392      	lw	v1,40c14e80 <gui_menulist+0x280>

    //读取菜单记忆路径，初始化菜单控制结构体
    menu_history_valid = FALSE;
40c14c3e:	6a00      	li	v0,0
40c14c40:	c340      	sb	v0,0(v1)
40c14c42:	f060 a940 	lhu	v0,96(s1)
    last_style = style_id;
40c14c46:	f040 c952 	sh	v0,82(s1)
40c14c4a:	f060 a940 	lhu	v0,96(s1)
    ml_control.style_id = style_id;
40c14c4e:	c940      	sh	v0,0(s1)
40c14c50:	9959      	lw	v0,100(s1)
    ml_control.menu_com = menu_com;
40c14c52:	d941      	sw	v0,4(s1)
40c14c54:	4147      	addiu	v0,s1,7
    init_menulist_param(&ml_control, menu_stack, &title_action);
40c14c56:	4a19      	addiu	v0,25
40c14c58:	4167      	addiu	v1,s1,7
40c14c5a:	4b29      	addiu	v1,41
40c14c5c:	6791      	move	a0,s1
40c14c5e:	67a2      	move	a1,v0
40c14c60:	67c3      	move	a2,v1
40c14c62:	b28a      	lw	v0,40c14e88 <gui_menulist+0x288>
40c14c64:	eac0      	jalrc	v0
40c14c66:	4147      	addiu	v0,s1,7
    //获取菜单头结构体，用来在 re_enter_currentdir 中判断是否到达菜单最顶层
    load_conf_title(&ml_control, menu_stack);
40c14c68:	4a19      	addiu	v0,25
40c14c6a:	6791      	move	a0,s1
40c14c6c:	67a2      	move	a1,v0
40c14c6e:	b288      	lw	v0,40c14e8c <gui_menulist+0x28c>
40c14c70:	eac0      	jalrc	v0
40c14c72:	4167      	addiu	v1,s1,7
    //允许进入菜单时进行某些特殊处理（等同于重新进入入口菜单，title_action.str_id指向select项）
    re_enter_currentdir(&ml_control, menu_stack, &title_action, menu_com->menu_func);//此时title_action.str_id为-1
40c14c74:	4b19      	addiu	v1,25
40c14c76:	41c7      	addiu	a2,s1,7
40c14c78:	4e29      	addiu	a2,41
40c14c7a:	9959      	lw	v0,100(s1)
40c14c7c:	9a41      	lw	v0,4(v0)
40c14c7e:	6791      	move	a0,s1
40c14c80:	67a3      	move	a1,v1
40c14c82:	67e2      	move	a3,v0
40c14c84:	b283      	lw	v0,40c14e90 <gui_menulist+0x290>
40c14c86:	eac0      	jalrc	v0
40c14c88:	9959      	lw	v0,100(s1)
    //需要进入最新菜单退出路径
    if (menu_com->browse_mode == 1)
40c14c8a:	a243      	lbu	v0,3(v0)
40c14c8c:	7201      	cmpi	v0,1
40c14c8e:	6758      	move	v0,t8
40c14c90:	5a01      	sltiu	v0,1
40c14c92:	6009      	bteqz	40c14ca6 <gui_menulist+0xa6>
40c14c94:	4147      	addiu	v0,s1,7
    {
        //搜索并进入最新菜单退出路径
        enter_newest_menulist(&ml_control, menu_stack, &title_action);
40c14c96:	4a19      	addiu	v0,25
40c14c98:	4167      	addiu	v1,s1,7
40c14c9a:	4b29      	addiu	v1,41
40c14c9c:	6791      	move	a0,s1
40c14c9e:	67a2      	move	a1,v0
40c14ca0:	67c3      	move	a2,v1
40c14ca2:	b27d      	lw	v0,40c14e94 <gui_menulist+0x294>
40c14ca4:	eac0      	jalrc	v0
40c14ca6:	6a01      	li	v0,1
    }
    ml_control.enter_menu = TRUE;
40c14ca8:	c15a      	sb	v0,26(s1)
40c14caa:	a159      	lbu	v0,25(s1)

    //进入菜单循环
    while (1)
    {
        if (ml_control.draw_mode != LIST_DRAW_NULL)//更新列表
40c14cac:	f0a0 2214 	beqz	v0,40c14e18 <gui_menulist+0x218>
40c14cb0:	a978      	lhu	v1,48(s1)
        {
            //至此，要求 menu_stack 和 title_action 为当前层次菜单控制信息，否则就会出错
            if (title_action.style_id == V_U16_INVALID)
40c14cb2:	f7ff 6a1f 	li	v0,65535
40c14cb6:	ea6e      	xor	v0,v1
40c14cb8:	5a01      	sltiu	v0,1
40c14cba:	6005      	bteqz	40c14cc6 <gui_menulist+0xc6>
40c14cbc:	f060 a940 	lhu	v0,96(s1)
            {
                style_infor.style_id = style_id;
40c14cc0:	f040 c948 	sh	v0,72(s1)
40c14cc4:	1003      	b	40c14ccc <gui_menulist+0xcc>
40c14cc6:	a958      	lhu	v0,48(s1)
            }
            else
            {
                style_infor.style_id = title_action.style_id;
40c14cc8:	f040 c948 	sh	v0,72(s1)
40c14ccc:	6a01      	li	v0,1
            }
            style_infor.type = UI_COM;
40c14cce:	f040 c14a 	sb	v0,74(s1)
40c14cd2:	f040 a968 	lhu	v1,72(s1)
            if (style_infor.style_id != last_style)
40c14cd6:	f040 a952 	lhu	v0,82(s1)
40c14cda:	ea6e      	xor	v0,v1
40c14cdc:	5a01      	sltiu	v0,1
40c14cde:	6102      	btnez	40c14ce4 <gui_menulist+0xe4>
40c14ce0:	6a03      	li	v0,3
            {
                ml_control.draw_mode = LIST_DRAW_ALL;
40c14ce2:	c159      	sb	v0,25(s1)
40c14ce4:	f040 a948 	lhu	v0,72(s1)
            }
            last_style = style_infor.style_id;
40c14ce8:	f040 c952 	sh	v0,82(s1)
40c14cec:	4147      	addiu	v0,s1,7

            //加载 listbox 控件属性参数
            ui_get_listbox_attrb(&style_infor, &ml_control.one_page_count, 0);
40c14cee:	4a41      	addiu	v0,65
40c14cf0:	4163      	addiu	v1,s1,3
40c14cf2:	6782      	move	a0,v0
40c14cf4:	67a3      	move	a1,v1
40c14cf6:	6e00      	li	a2,0
40c14cf8:	6f0e      	li	a3,14
40c14cfa:	b268      	lw	v0,40c14e98 <gui_menulist+0x298>
40c14cfc:	eac0      	jalrc	v0
40c14cfe:	a15a      	lbu	v0,26(s1)

            if (ml_control.enter_menu == TRUE)
40c14d00:	7201      	cmpi	v0,1
40c14d02:	6758      	move	v0,t8
40c14d04:	5a01      	sltiu	v0,1
40c14d06:	6009      	bteqz	40c14d1a <gui_menulist+0x11a>
40c14d08:	4147      	addiu	v0,s1,7
            {
                //加载菜单头并初始化 ml_control
                load_confmenu_title_data(&ml_control, menu_stack, &title_action);
40c14d0a:	4a19      	addiu	v0,25
40c14d0c:	4167      	addiu	v1,s1,7
40c14d0e:	4b29      	addiu	v1,41
40c14d10:	6791      	move	a0,s1
40c14d12:	67a2      	move	a1,v0
40c14d14:	67c3      	move	a2,v1
40c14d16:	b262      	lw	v0,40c14e9c <gui_menulist+0x29c>
40c14d18:	eac0      	jalrc	v0
40c14d1a:	6791      	move	a0,s1
            }

            //加载一页菜单项
            load_confmenu_item_data(&ml_control);
40c14d1c:	1a01 5411 	jal	40c15044 <load_confmenu_item_data>
40c14d20:	6500      	nop
40c14d22:	1a01 53b3 	jal	40c14ecc <get_screensave_state>

            //显示菜单列表
            if (get_screensave_state() == FALSE)
40c14d26:	6500      	nop
40c14d28:	651a      	move	t8,v0
40c14d2a:	615e      	btnez	40c14de8 <gui_menulist+0x1e8>
40c14d2c:	a159      	lbu	v0,25(s1)
            {
                if (ml_control.draw_mode == LIST_DRAW_ALL)
40c14d2e:	7203      	cmpi	v0,3
40c14d30:	6758      	move	v0,t8
40c14d32:	5a01      	sltiu	v0,1
40c14d34:	602a      	bteqz	40c14d8a <gui_menulist+0x18a>
40c14d36:	f0c3 6a03 	li	v0,6339
                {
                    ui_set_backgd_color(Color_BACKCOLOR_def);//清为全灰屏 //2015-10-30
40c14d3a:	6782      	move	a0,v0
40c14d3c:	6d00      	li	a1,0
40c14d3e:	6e00      	li	a2,0
40c14d40:	6f14      	li	a3,20
40c14d42:	b256      	lw	v0,40c14e98 <gui_menulist+0x298>
40c14d44:	eac0      	jalrc	v0
40c14d46:	6c00      	li	a0,0
                    ui_clear_screen(NULL);
40c14d48:	6d00      	li	a1,0
40c14d4a:	6e00      	li	a2,0
40c14d4c:	6f12      	li	a3,18
40c14d4e:	b253      	lw	v0,40c14e98 <gui_menulist+0x298>
40c14d50:	eac0      	jalrc	v0
40c14d52:	f040 a952 	lhu	v0,82(s1)

                    if ((last_style == MENULIST) || (last_style == MENULIST_TITLE))
40c14d56:	f00c 7202 	cmpi	v0,24578
40c14d5a:	6758      	move	v0,t8
40c14d5c:	5a01      	sltiu	v0,1
40c14d5e:	6108      	btnez	40c14d70 <gui_menulist+0x170>
40c14d60:	f040 a952 	lhu	v0,82(s1)
40c14d64:	f00c 7204 	cmpi	v0,24580
40c14d68:	6758      	move	v0,t8
40c14d6a:	5a01      	sltiu	v0,1
40c14d6c:	6101      	btnez	40c14d70 <gui_menulist+0x170>
40c14d6e:	1007      	b	40c14d7e <gui_menulist+0x17e>
40c14d70:	b24c      	lw	v0,40c14ea0 <gui_menulist+0x2a0>
                    {
                        gui_set_headbar_mode(HEADBAR_MODE_NORMAL, this_headbar_icon_id);
40c14d72:	a240      	lbu	v0,0(v0)
40c14d74:	6c01      	li	a0,1
40c14d76:	67a2      	move	a1,v0
40c14d78:	b24b      	lw	v0,40c14ea4 <gui_menulist+0x2a4>
40c14d7a:	eac0      	jalrc	v0
40c14d7c:	1006      	b	40c14d8a <gui_menulist+0x18a>
40c14d7e:	b249      	lw	v0,40c14ea0 <gui_menulist+0x2a0>
                    }
                    else
                    {
                        gui_set_headbar_mode(HEADBAR_MODE_NULL, this_headbar_icon_id);
40c14d80:	a240      	lbu	v0,0(v0)
40c14d82:	6c00      	li	a0,0
40c14d84:	67a2      	move	a1,v0
40c14d86:	b248      	lw	v0,40c14ea4 <gui_menulist+0x2a4>
40c14d88:	eac0      	jalrc	v0
40c14d8a:	b248      	lw	v0,40c14ea8 <gui_menulist+0x2a8>
                    }
                }
                
                update_menulist_private(&ml_control, &menu_private, &title_action);
40c14d8c:	4167      	addiu	v1,s1,7
40c14d8e:	4b29      	addiu	v1,41
40c14d90:	6791      	move	a0,s1
40c14d92:	67a2      	move	a1,v0
40c14d94:	67c3      	move	a2,v1
40c14d96:	b246      	lw	v0,40c14eac <gui_menulist+0x2ac>
40c14d98:	eac0      	jalrc	v0
40c14d9a:	4147      	addiu	v0,s1,7
                
                if (ui_show_listbox(&style_infor, &menu_private, (uint32) ml_control.draw_mode) == UI_NEED_SCROLL)
40c14d9c:	4a41      	addiu	v0,65
40c14d9e:	b343      	lw	v1,40c14ea8 <gui_menulist+0x2a8>
40c14da0:	a1d9      	lbu	a2,25(s1)
40c14da2:	6782      	move	a0,v0
40c14da4:	67a3      	move	a1,v1
40c14da6:	6f08      	li	a3,8
40c14da8:	b23c      	lw	v0,40c14e98 <gui_menulist+0x298>
40c14daa:	eac0      	jalrc	v0
40c14dac:	ea11      	zeb	v0
40c14dae:	7202      	cmpi	v0,2
40c14db0:	6758      	move	v0,t8
40c14db2:	5a01      	sltiu	v0,1
40c14db4:	6010      	bteqz	40c14dd6 <gui_menulist+0x1d6>
40c14db6:	f040 8174 	lb	v1,84(s1)
                {
                    if (scroll_timer == -1)//未创建，创建
40c14dba:	6a01      	li	v0,1
40c14dbc:	ea4b      	neg	v0
40c14dbe:	ea6e      	xor	v0,v1
40c14dc0:	5a01      	sltiu	v0,1
40c14dc2:	6012      	bteqz	40c14de8 <gui_menulist+0x1e8>
40c14dc4:	b23b      	lw	v0,40c14eb0 <gui_menulist+0x2b0>
                    {
                        scroll_timer = set_app_timer(APP_TIMER_ATTRB_UI, 80, __menulist_scroll_handle);
40c14dc6:	6c00      	li	a0,0
40c14dc8:	6d50      	li	a1,80
40c14dca:	67c2      	move	a2,v0
40c14dcc:	b23a      	lw	v0,40c14eb4 <gui_menulist+0x2b4>
40c14dce:	eac0      	jalrc	v0
40c14dd0:	f040 c154 	sb	v0,84(s1)
40c14dd4:	1009      	b	40c14de8 <gui_menulist+0x1e8>
40c14dd6:	f040 8154 	lb	v0,84(s1)
                    }
                }
                else
                {
                    //删除定时器，即使没创建也没问题
                    kill_app_timer(scroll_timer);
40c14dda:	6782      	move	a0,v0
40c14ddc:	b237      	lw	v0,40c14eb8 <gui_menulist+0x2b8>
40c14dde:	eac0      	jalrc	v0
40c14de0:	6a01      	li	v0,1
                    scroll_timer = -1;
40c14de2:	ea4b      	neg	v0
40c14de4:	f040 c154 	sb	v0,84(s1)
40c14de8:	a15a      	lbu	v0,26(s1)
                }
            }

            //即时叶子菜单响应
            if ((ml_control.enter_menu == FALSE) && (g_menu_items[ml_control.active].callback != NULL))
40c14dea:	2a12      	bnez	v0,40c14e10 <gui_menulist+0x210>
40c14dec:	b434      	lw	a0,40c14ebc <gui_menulist+0x2bc>
40c14dee:	a96a      	lhu	v1,20(s1)
40c14df0:	6743      	move	v0,v1
40c14df2:	3248      	sll	v0,2
40c14df4:	e269      	addu	v0,v1
40c14df6:	3248      	sll	v0,2
40c14df8:	e289      	addu	v0,a0
40c14dfa:	9a43      	lw	v0,12(v0)
40c14dfc:	2209      	beqz	v0,40c14e10 <gui_menulist+0x210>
40c14dfe:	b430      	lw	a0,40c14ebc <gui_menulist+0x2bc>
            {
#ifndef PC
                g_menu_items[ml_control.active].callback();
40c14e00:	a96a      	lhu	v1,20(s1)
40c14e02:	6743      	move	v0,v1
40c14e04:	3248      	sll	v0,2
40c14e06:	e269      	addu	v0,v1
40c14e08:	3248      	sll	v0,2
40c14e0a:	e289      	addu	v0,a0
40c14e0c:	9a43      	lw	v0,12(v0)
40c14e0e:	eac0      	jalrc	v0
40c14e10:	6a00      	li	v0,0
#else
                callback_func = this_get_callback_func(g_menu_items[ml_control.active].str_id, g_menu_items[ml_control.active].str_id_sub);
                callback_func();
#endif
            }

            ml_control.enter_menu = FALSE;
40c14e12:	c15a      	sb	v0,26(s1)
40c14e14:	6a00      	li	v0,0
            ml_control.draw_mode = LIST_DRAW_NULL;
40c14e16:	c159      	sb	v0,25(s1)
40c14e18:	4147      	addiu	v0,s1,7
        }

        result = menulist_msg_deal(&ml_control, menu_stack, &title_action);
40c14e1a:	4a19      	addiu	v0,25
40c14e1c:	4167      	addiu	v1,s1,7
40c14e1e:	4b29      	addiu	v1,41
40c14e20:	6791      	move	a0,s1
40c14e22:	67a2      	move	a1,v0
40c14e24:	67c3      	move	a2,v1
40c14e26:	b227      	lw	v0,40c14ec0 <gui_menulist+0x2c0>
40c14e28:	eac0      	jalrc	v0
40c14e2a:	f040 c950 	sh	v0,80(s1)
40c14e2e:	f040 a950 	lhu	v0,80(s1)
        if(result != RESULT_NULL)
40c14e32:	2201      	beqz	v0,40c14e36 <gui_menulist+0x236>
40c14e34:	1007      	b	40c14e44 <gui_menulist+0x244>
        {
            break;
40c14e36:	6c01      	li	a0,1
        }

        //挂起10ms，多任务调度
        sys_os_time_dly(1);
40c14e38:	6d00      	li	a1,0
40c14e3a:	6e00      	li	a2,0
40c14e3c:	6f31      	li	a3,49
40c14e3e:	b222      	lw	v0,40c14ec4 <gui_menulist+0x2c4>
40c14e40:	eac0      	jalrc	v0
40c14e42:	1733      	b	40c14caa <gui_menulist+0xaa>
40c14e44:	6791      	move	a0,s1
    }

    write_history_item_menu(&ml_control, TRUE);
40c14e46:	6d01      	li	a1,1
40c14e48:	b220      	lw	v0,40c14ec8 <gui_menulist+0x2c8>
40c14e4a:	eac0      	jalrc	v0
40c14e4c:	f040 8154 	lb	v0,84(s1)
    kill_app_timer(scroll_timer);
40c14e50:	6782      	move	a0,v0
40c14e52:	b21a      	lw	v0,40c14eb8 <gui_menulist+0x2b8>
40c14e54:	eac0      	jalrc	v0
40c14e56:	f040 a155 	lbu	v0,85(s1)
    change_app_timer_tag(tag_backup);
40c14e5a:	6782      	move	a0,v0
40c14e5c:	1a01 53b9 	jal	40c14ee4 <change_app_timer_tag>
40c14e60:	6500      	nop
40c14e62:	f040 a156 	lbu	v0,86(s1)
    gui_set_headbar_mode(mode_backup, icon_backup);
40c14e66:	f040 a177 	lbu	v1,87(s1)
40c14e6a:	6782      	move	a0,v0
40c14e6c:	67a3      	move	a1,v1
40c14e6e:	b20e      	lw	v0,40c14ea4 <gui_menulist+0x2a4>
40c14e70:	eac0      	jalrc	v0
40c14e72:	f040 a950 	lhu	v0,80(s1)
    return result;
40c14e76:	651a      	move	t8,v0
40c14e78:	6758      	move	v0,t8
}
40c14e7a:	65b9      	move	sp,s1
40c14e7c:	645c      	restore	96,ra,s1
40c14e7e:	e8a0      	jrc	ra
40c14e80:	4695      	daddiu	a0,a2,5
40c14e82:	4885      	addiu	s0,-123
40c14e84:	5bdd      	sltiu	v1,221
40c14e86:	9fc1      	lw	a2,4(a3)
40c14e88:	4c8d      	addiu	a0,-115
40c14e8a:	40c5      	addiu	a2,s0,5
40c14e8c:	4d11      	addiu	a1,17
40c14e8e:	40c5      	addiu	a2,s0,5
40c14e90:	4ecd      	addiu	a2,-51
40c14e92:	40c5      	addiu	a2,s0,5
40c14e94:	4db9      	addiu	a1,-71
40c14e96:	40c5      	addiu	a2,s0,5
40c14e98:	6bb1      	li	v1,177
40c14e9a:	bfc1      	lwu	a2,4(a3)
40c14e9c:	4d89      	addiu	a1,-119
40c14e9e:	40c5      	addiu	a2,s0,5
40c14ea0:	5bac      	sltiu	v1,172
40c14ea2:	9fc1      	lw	a2,4(a3)
40c14ea4:	4601      	addiu	s0,a2,1
40c14ea6:	4885      	addiu	s0,-123
40c14ea8:	50a8      	slti	s0,168
40c14eaa:	40c1      	addiu	a2,s0,1
40c14eac:	463d      	daddiu	s1,a2,-3
40c14eae:	4879      	addiu	s0,121
40c14eb0:	4f15      	addiu	a3,21
40c14eb2:	40c1      	addiu	a2,s0,1
40c14eb4:	4601      	addiu	s0,a2,1
40c14eb6:	4845      	addiu	s0,69
40c14eb8:	473d      	daddiu	s1,a3,-3
40c14eba:	4845      	addiu	s0,69
40c14ebc:	5afc      	sltiu	v0,252
40c14ebe:	9fc1      	lw	a2,4(a3)
40c14ec0:	4f31      	addiu	a3,49
40c14ec2:	40c1      	addiu	a2,s0,1
40c14ec4:	640d      	restore	104
40c14ec6:	bfc1      	lwu	a2,4(a3)
40c14ec8:	5119      	slti	s1,25
40c14eca:	40c5      	addiu	a2,s0,5

40c14ecc <get_screensave_state>:
40c14ecc:	6491      	save	8,s1
40c14ece:	673d      	move	s1,sp
40c14ed0:	b204      	lw	v0,40c14ee0 <get_screensave_state+0x14>
40c14ed2:	a24a      	lbu	v0,10(v0)
40c14ed4:	651a      	move	t8,v0
40c14ed6:	6758      	move	v0,t8
40c14ed8:	65b9      	move	sp,s1
40c14eda:	6411      	restore	8,s1
40c14edc:	e8a0      	jrc	ra
40c14ede:	0000      	addiu	s0,sp,0
40c14ee0:	a1b8      	lbu	a1,24(s1)
40c14ee2:	9fc1      	lw	a2,4(a3)

40c14ee4 <change_app_timer_tag>:
40c14ee4:	6491      	save	8,s1
40c14ee6:	673d      	move	s1,sp
40c14ee8:	6744      	move	v0,a0
40c14eea:	c148      	sb	v0,8(s1)
40c14eec:	b303      	lw	v1,40c14ef8 <change_app_timer_tag+0x14>
40c14eee:	a148      	lbu	v0,8(s1)
40c14ef0:	c340      	sb	v0,0(v1)
40c14ef2:	65b9      	move	sp,s1
40c14ef4:	6411      	restore	8,s1
40c14ef6:	e8a0      	jrc	ra
40c14ef8:	a200      	lbu	s0,0(v0)
40c14efa:	9fc1      	lw	a2,4(a3)

40c14efc <get_app_timer_tag>:
40c14efc:	6491      	save	8,s1
40c14efe:	673d      	move	s1,sp
40c14f00:	b204      	lw	v0,40c14f10 <get_app_timer_tag+0x14>
40c14f02:	a240      	lbu	v0,0(v0)
40c14f04:	651a      	move	t8,v0
40c14f06:	6758      	move	v0,t8
40c14f08:	65b9      	move	sp,s1
40c14f0a:	6411      	restore	8,s1
40c14f0c:	e8a0      	jrc	ra
40c14f0e:	0000      	addiu	s0,sp,0
40c14f10:	a200      	lbu	s0,0(v0)
40c14f12:	9fc1      	lw	a2,4(a3)

40c14f14 <__menulist_scroll_handle>:
40c14f14:	64d3      	save	24,ra,s1

/*! \endcond */

/*! \cond */
static void __menulist_scroll_handle(void)
{
40c14f16:	0104      	addiu	s1,sp,16
40c14f18:	6c00      	li	a0,0
    ui_show_listbox(NULL, NULL, LIST_DRAW_ACTIVE_SCROLL);
40c14f1a:	6d00      	li	a1,0
40c14f1c:	6e05      	li	a2,5
40c14f1e:	6f08      	li	a3,8
40c14f20:	b203      	lw	v0,40c14f2c <__menulist_scroll_handle+0x18>
40c14f22:	eac0      	jalrc	v0
40c14f24:	65b9      	move	sp,s1
}
40c14f26:	6451      	restore	8,ra,s1
40c14f28:	e8a0      	jrc	ra
40c14f2a:	0000      	addiu	s0,sp,0
40c14f2c:	6bb1      	li	v1,177
40c14f2e:	bfc1      	lwu	a2,4(a3)

40c14f30 <menulist_msg_deal>:
40c14f30:	64d8      	save	64,ra,s1

//menulist gui app msg deal
app_result_e menulist_msg_deal(menulist_control_t *p_ml_control, menulist_stack_t *p_menu_stack,
        menu_title_action_t *title_action)
{
40c14f32:	0104      	addiu	s1,sp,16
40c14f34:	d98c      	sw	a0,48(s1)
40c14f36:	d9ad      	sw	a1,52(s1)
40c14f38:	d9ce      	sw	a2,56(s1)
40c14f3a:	6a00      	li	v0,0
    input_gui_msg_t input_msg; //输入型消息，即gui消息
    msg_apps_type_e gui_event; //gui 消息映射事件
    private_msg_t private_msg; //私有消息
    app_result_e result = RESULT_NULL;
40c14f3c:	c950      	sh	v0,32(s1)
40c14f3e:	6791      	move	a0,s1

    //获取gui消息
    if (get_gui_msg(&input_msg) == TRUE)//有gui消息
40c14f40:	b238      	lw	v0,40c15020 <menulist_msg_deal+0xf0>
40c14f42:	eac0      	jalrc	v0
40c14f44:	7201      	cmpi	v0,1
40c14f46:	6758      	move	v0,t8
40c14f48:	5a01      	sltiu	v0,1
40c14f4a:	6016      	bteqz	40c14f78 <menulist_msg_deal+0x48>
40c14f4c:	4147      	addiu	v0,s1,7
    {
        //进行按键映射
        if (com_key_mapping(&input_msg, &gui_event, menulist_key_map_list) == TRUE)
40c14f4e:	4241      	addiu	v0,v0,1
40c14f50:	b335      	lw	v1,40c15024 <menulist_msg_deal+0xf4>
40c14f52:	6791      	move	a0,s1
40c14f54:	67a2      	move	a1,v0
40c14f56:	67c3      	move	a2,v1
40c14f58:	b234      	lw	v0,40c15028 <menulist_msg_deal+0xf8>
40c14f5a:	eac0      	jalrc	v0
40c14f5c:	7201      	cmpi	v0,1
40c14f5e:	6758      	move	v0,t8
40c14f60:	5a01      	sltiu	v0,1
40c14f62:	6057      	bteqz	40c15012 <menulist_msg_deal+0xe2>
40c14f64:	994c      	lw	v0,48(s1)
        {
            result = menulist_msg_deal_gui(p_ml_control, p_menu_stack, title_action, gui_event);
40c14f66:	996d      	lw	v1,52(s1)
40c14f68:	99ce      	lw	a2,56(s1)
40c14f6a:	a9e4      	lhu	a3,8(s1)
40c14f6c:	6782      	move	a0,v0
40c14f6e:	67a3      	move	a1,v1
40c14f70:	b22f      	lw	v0,40c1502c <menulist_msg_deal+0xfc>
40c14f72:	eac0      	jalrc	v0
40c14f74:	c950      	sh	v0,32(s1)
40c14f76:	104d      	b	40c15012 <menulist_msg_deal+0xe2>
40c14f78:	4147      	addiu	v0,s1,7
        }
    }
    else
    {
        //到此，gui消息队列已经处理完毕
        //处理ap私有消息和系统消息
        if (get_app_msg(&private_msg) == TRUE)
40c14f7a:	4a09      	addiu	v0,9
40c14f7c:	6782      	move	a0,v0
40c14f7e:	b22d      	lw	v0,40c15030 <menulist_msg_deal+0x100>
40c14f80:	eac0      	jalrc	v0
40c14f82:	7201      	cmpi	v0,1
40c14f84:	6758      	move	v0,t8
40c14f86:	5a01      	sltiu	v0,1
40c14f88:	6044      	bteqz	40c15012 <menulist_msg_deal+0xe2>
40c14f8a:	b22b      	lw	v0,40c15034 <menulist_msg_deal+0x104>
        {
            result = g_this_app_msg_dispatch(&private_msg);
40c14f8c:	4167      	addiu	v1,s1,7
40c14f8e:	4b09      	addiu	v1,9
40c14f90:	9a40      	lw	v0,0(v0)
40c14f92:	6783      	move	a0,v1
40c14f94:	eac0      	jalrc	v0
40c14f96:	c950      	sh	v0,32(s1)
40c14f98:	b228      	lw	v0,40c15038 <menulist_msg_deal+0x108>
            //卡拔插后刷新MENU(ap_music入口菜单-- 所有歌曲和主盘目录)
            if (g_this_app_info->app_id == APP_ID_MUSIC)
40c14f9a:	9a40      	lw	v0,0(v0)
40c14f9c:	a241      	lbu	v0,1(v0)
40c14f9e:	2a1e      	bnez	v0,40c14fdc <menulist_msg_deal+0xac>
40c14fa0:	994c      	lw	v0,48(s1)
            {
                if (((p_ml_control->menu_com->menu_entry == 0) || (p_ml_control->menu_com->menu_entry == 1))
40c14fa2:	9a41      	lw	v0,4(v0)
40c14fa4:	a241      	lbu	v0,1(v0)
40c14fa6:	2208      	beqz	v0,40c14fb8 <menulist_msg_deal+0x88>
40c14fa8:	994c      	lw	v0,48(s1)
40c14faa:	9a41      	lw	v0,4(v0)
40c14fac:	a241      	lbu	v0,1(v0)
40c14fae:	7201      	cmpi	v0,1
40c14fb0:	6758      	move	v0,t8
40c14fb2:	5a01      	sltiu	v0,1
40c14fb4:	6101      	btnez	40c14fb8 <menulist_msg_deal+0x88>
40c14fb6:	1012      	b	40c14fdc <menulist_msg_deal+0xac>
40c14fb8:	994c      	lw	v0,48(s1)
40c14fba:	a249      	lbu	v0,9(v0)
40c14fbc:	2a0f      	bnez	v0,40c14fdc <menulist_msg_deal+0xac>
40c14fbe:	9944      	lw	v0,16(s1)
                        && (p_ml_control->layer_no == 0))
                {
                    if ((private_msg.msg.type == MSG_SD_IN) || (private_msg.msg.type == MSG_SD_OUT))
40c14fc0:	72b0      	cmpi	v0,176
40c14fc2:	6758      	move	v0,t8
40c14fc4:	5a01      	sltiu	v0,1
40c14fc6:	6106      	btnez	40c14fd4 <menulist_msg_deal+0xa4>
40c14fc8:	9944      	lw	v0,16(s1)
40c14fca:	72b1      	cmpi	v0,177
40c14fcc:	6758      	move	v0,t8
40c14fce:	5a01      	sltiu	v0,1
40c14fd0:	6101      	btnez	40c14fd4 <menulist_msg_deal+0xa4>
40c14fd2:	1004      	b	40c14fdc <menulist_msg_deal+0xac>
40c14fd4:	f5ed 6a1f 	li	v0,28159
                    {
                        result = RESULT_REFRESH_MENU;
40c14fd8:	ea4b      	neg	v0
40c14fda:	c950      	sh	v0,32(s1)
40c14fdc:	a970      	lhu	v1,32(s1)
                    }
                }
            }
            if (result == RESULT_REDRAW)
40c14fde:	f010 6a14 	li	v0,32788
40c14fe2:	ea6e      	xor	v0,v1
40c14fe4:	5a01      	sltiu	v0,1
40c14fe6:	6006      	bteqz	40c14ff4 <menulist_msg_deal+0xc4>
40c14fe8:	994c      	lw	v0,48(s1)
            {
                //界面显示提示，返回重绘UI
                p_ml_control->draw_mode = LIST_DRAW_ALL;
40c14fea:	6b03      	li	v1,3
40c14fec:	c279      	sb	v1,25(v0)
40c14fee:	6a00      	li	v0,0
                result = RESULT_NULL;//不退出控件
40c14ff0:	c950      	sh	v0,32(s1)
40c14ff2:	100f      	b	40c15012 <menulist_msg_deal+0xe2>
40c14ff4:	a950      	lhu	v0,32(s1)
            }
            else if (result != RESULT_NULL)
40c14ff6:	220d      	beqz	v0,40c15012 <menulist_msg_deal+0xe2>
40c14ff8:	b211      	lw	v0,40c1503c <menulist_msg_deal+0x10c>
            {
                //执行返回父菜单回调函数
                if ((g_back_to_parant_arg != NULL) && (*g_back_to_parant_arg != 0))
40c14ffa:	9a40      	lw	v0,0(v0)
40c14ffc:	220a      	beqz	v0,40c15012 <menulist_msg_deal+0xe2>
40c14ffe:	b210      	lw	v0,40c1503c <menulist_msg_deal+0x10c>
40c15000:	9a40      	lw	v0,0(v0)
40c15002:	a240      	lbu	v0,0(v0)
40c15004:	2206      	beqz	v0,40c15012 <menulist_msg_deal+0xe2>
40c15006:	b20f      	lw	v0,40c15040 <menulist_msg_deal+0x110>
                {
                    g_back_to_parent_func();
40c15008:	9a40      	lw	v0,0(v0)
40c1500a:	eac0      	jalrc	v0
40c1500c:	b30c      	lw	v1,40c15038 <menulist_msg_deal+0x108>
                    g_back_to_parant_arg = NULL;
40c1500e:	6a00      	li	v0,0
40c15010:	db40      	sw	v0,0(v1)
40c15012:	a950      	lhu	v0,32(s1)
                }
            }
            else
            {
            }
        }
    }

    return result;
40c15014:	651a      	move	t8,v0
40c15016:	6758      	move	v0,t8
}
40c15018:	65b9      	move	sp,s1
40c1501a:	6456      	restore	48,ra,s1
40c1501c:	e8a0      	jrc	ra
40c1501e:	0000      	addiu	s0,sp,0
40c15020:	66d5      	0x66d5
40c15022:	bfc1      	lwu	a2,4(a3)
40c15024:	4684      	addiu	a0,a2,4
40c15026:	4855      	addiu	s0,85
40c15028:	47ad      	addiu	a1,a3,-3
40c1502a:	4855      	addiu	s0,85
40c1502c:	44b1      	daddiu	a1,a0,1
40c1502e:	487d      	addiu	s0,125
40c15030:	6741      	move	v0,at
40c15032:	bfc1      	lwu	a2,4(a3)
40c15034:	a1f8      	lbu	a3,24(s1)
40c15036:	9fc1      	lw	a2,4(a3)
40c15038:	a1f0      	lbu	a3,16(s1)
40c1503a:	9fc1      	lw	a2,4(a3)
40c1503c:	5b8c      	sltiu	v1,140
40c1503e:	9fc1      	lw	a2,4(a3)
40c15040:	5b88      	sltiu	v1,136
40c15042:	9fc1      	lw	a2,4(a3)

40c15044 <load_confmenu_item_data>:
40c15044:	64d4      	save	32,ra,s1

//加载一页菜单项
void load_confmenu_item_data(menulist_control_t *p_ml_control)
{
40c15046:	0104      	addiu	s1,sp,16
40c15048:	d984      	sw	a0,16(s1)
40c1504a:	6a00      	li	v0,0
    uint8 i;

    for (i = 0; i < p_ml_control->one_page_count; i++)
40c1504c:	c140      	sb	v0,0(s1)
40c1504e:	9944      	lw	v0,16(s1)
40c15050:	a263      	lbu	v1,3(v0)
40c15052:	a140      	lbu	v0,0(s1)
40c15054:	ea63      	sltu	v0,v1
40c15056:	601e      	bteqz	40c15094 <load_confmenu_item_data+0x50>
40c15058:	a160      	lbu	v1,0(s1)
    {
        if ((i + p_ml_control->top) > p_ml_control->bottom)
40c1505a:	9944      	lw	v0,16(s1)
40c1505c:	aa46      	lhu	v0,12(v0)
40c1505e:	e34d      	addu	v1,v0
40c15060:	9944      	lw	v0,16(s1)
40c15062:	aa47      	lhu	v0,14(v0)
40c15064:	ea62      	slt	v0,v1
40c15066:	6001      	bteqz	40c1506a <load_confmenu_item_data+0x26>
40c15068:	1015      	b	40c15094 <load_confmenu_item_data+0x50>
        {
            break;
40c1506a:	b40d      	lw	a0,40c1509c <load_confmenu_item_data+0x58>
        }

        //获取菜单项字符串
        com_get_confmenu_item(&g_menu_title, p_ml_control->top + i, g_menu_items + i);
40c1506c:	9944      	lw	v0,16(s1)
40c1506e:	a160      	lbu	v1,0(s1)
40c15070:	aa46      	lhu	v0,12(v0)
40c15072:	e349      	addu	v0,v1,v0
40c15074:	67a2      	move	a1,v0
40c15076:	ed31      	zeh	a1
40c15078:	a160      	lbu	v1,0(s1)
40c1507a:	6743      	move	v0,v1
40c1507c:	3248      	sll	v0,2
40c1507e:	e269      	addu	v0,v1
40c15080:	3348      	sll	v1,v0,2
40c15082:	b208      	lw	v0,40c150a0 <load_confmenu_item_data+0x5c>
40c15084:	e349      	addu	v0,v1,v0
40c15086:	67c2      	move	a2,v0
40c15088:	b207      	lw	v0,40c150a4 <load_confmenu_item_data+0x60>
40c1508a:	eac0      	jalrc	v0
40c1508c:	a140      	lbu	v0,0(s1)
40c1508e:	4241      	addiu	v0,v0,1
40c15090:	c140      	sb	v0,0(s1)
40c15092:	17dd      	b	40c1504e <load_confmenu_item_data+0xa>
40c15094:	65b9      	move	sp,s1
    }
}
40c15096:	6452      	restore	16,ra,s1
40c15098:	e8a0      	jrc	ra
40c1509a:	0000      	addiu	s0,sp,0
40c1509c:	5af0      	sltiu	v0,240
40c1509e:	9fc1      	lw	a2,4(a3)
40c150a0:	5afc      	sltiu	v0,252
40c150a2:	9fc1      	lw	a2,4(a3)
40c150a4:	4511      	daddiu	s0,a1,1
40c150a6:	4859      	addiu	s0,89

40c150a8 <menu_private>:
	...
Disassembly of section BANK_CONTROL_1_49:

40c54c00 <update_menu_stack>:
40c54c00:	6492      	save	16,s1

//更新 menu stack 控制变量
static void update_menu_stack(menulist_control_t *p_ml_control, menulist_stack_t *p_menu_stack,
        menu_title_action_t *title_action, uint16 ori_menu_entry, uint8 mode)
{
40c54c02:	673d      	move	s1,sp
40c54c04:	d984      	sw	a0,16(s1)
40c54c06:	d9a5      	sw	a1,20(s1)
40c54c08:	d9c6      	sw	a2,24(s1)
40c54c0a:	6747      	move	v0,a3
40c54c0c:	9968      	lw	v1,32(s1)
40c54c0e:	c94e      	sh	v0,28(s1)
40c54c10:	c160      	sb	v1,0(s1)
40c54c12:	a140      	lbu	v0,0(s1)
    if (mode == 0)//进入动态入口菜单
40c54c14:	2a1f      	bnez	v0,40c54c54 <update_menu_stack+0x54>
40c54c16:	9944      	lw	v0,16(s1)
    {
        p_menu_stack[p_ml_control->stack_pointer].cur_entry = (uint8) title_action->menu_entry;
40c54c18:	a242      	lbu	v0,2(v0)
40c54c1a:	3348      	sll	v1,v0,2
40c54c1c:	9945      	lw	v0,20(s1)
40c54c1e:	e34d      	addu	v1,v0
40c54c20:	9946      	lw	v0,24(s1)
40c54c22:	aa41      	lhu	v0,2(v0)
40c54c24:	c340      	sb	v0,0(v1)
40c54c26:	9944      	lw	v0,16(s1)
        p_menu_stack[p_ml_control->stack_pointer].ori_entry = (uint8) ori_menu_entry;//old菜单头ID
40c54c28:	a242      	lbu	v0,2(v0)
40c54c2a:	3348      	sll	v1,v0,2
40c54c2c:	9945      	lw	v0,20(s1)
40c54c2e:	e34d      	addu	v1,v0
40c54c30:	a94e      	lhu	v0,28(s1)
40c54c32:	c341      	sb	v0,1(v1)
40c54c34:	9944      	lw	v0,16(s1)
        p_menu_stack[p_ml_control->stack_pointer].menu_id = (uint8) title_action->menu_entry;
40c54c36:	a242      	lbu	v0,2(v0)
40c54c38:	3348      	sll	v1,v0,2
40c54c3a:	9945      	lw	v0,20(s1)
40c54c3c:	e34d      	addu	v1,v0
40c54c3e:	9946      	lw	v0,24(s1)
40c54c40:	aa41      	lhu	v0,2(v0)
40c54c42:	c342      	sb	v0,2(v1)
40c54c44:	9944      	lw	v0,16(s1)
        p_menu_stack[p_ml_control->stack_pointer].layer = 0;
40c54c46:	a242      	lbu	v0,2(v0)
40c54c48:	3348      	sll	v1,v0,2
40c54c4a:	9945      	lw	v0,20(s1)
40c54c4c:	e34d      	addu	v1,v0
40c54c4e:	6a00      	li	v0,0
40c54c50:	c343      	sb	v0,3(v1)
40c54c52:	1018      	b	40c54c84 <update_menu_stack+0x84>
40c54c54:	9944      	lw	v0,16(s1)
    }
    else//返回上一级时替换为动态入口菜单，只能用于首层
    {
        //动态入口菜单，进入新的入口菜单，替换掉旧的入口菜单
        p_menu_stack[p_ml_control->stack_pointer].cur_entry = (uint8) title_action->menu_entry;
40c54c56:	a242      	lbu	v0,2(v0)
40c54c58:	3348      	sll	v1,v0,2
40c54c5a:	9945      	lw	v0,20(s1)
40c54c5c:	e34d      	addu	v1,v0
40c54c5e:	9946      	lw	v0,24(s1)
40c54c60:	aa41      	lhu	v0,2(v0)
40c54c62:	c340      	sb	v0,0(v1)
40c54c64:	9944      	lw	v0,16(s1)
        p_menu_stack[p_ml_control->stack_pointer].ori_entry = (uint8) title_action->menu_entry;
40c54c66:	a242      	lbu	v0,2(v0)
40c54c68:	3348      	sll	v1,v0,2
40c54c6a:	9945      	lw	v0,20(s1)
40c54c6c:	e34d      	addu	v1,v0
40c54c6e:	9946      	lw	v0,24(s1)
40c54c70:	aa41      	lhu	v0,2(v0)
40c54c72:	c341      	sb	v0,1(v1)
40c54c74:	9944      	lw	v0,16(s1)
        p_menu_stack[p_ml_control->stack_pointer].menu_id = (uint8) title_action->menu_entry;
40c54c76:	a242      	lbu	v0,2(v0)
40c54c78:	3348      	sll	v1,v0,2
40c54c7a:	9945      	lw	v0,20(s1)
40c54c7c:	e34d      	addu	v1,v0
40c54c7e:	9946      	lw	v0,24(s1)
40c54c80:	aa41      	lhu	v0,2(v0)
40c54c82:	c342      	sb	v0,2(v1)
40c54c84:	65b9      	move	sp,s1
        //层级不变，无需更新
    }
}
40c54c86:	6412      	restore	16,s1
40c54c88:	e8a0      	jrc	ra
	...

40c54c8c <init_menulist_param>:
40c54c8c:	64d3      	save	24,ra,s1

//初始化菜单列表参数
void init_menulist_param(menulist_control_t *p_ml_control, menulist_stack_t *p_menu_stack,
        menu_title_action_t *title_action)
{
40c54c8e:	0104      	addiu	s1,sp,16
40c54c90:	d982      	sw	a0,8(s1)
40c54c92:	d9a3      	sw	a1,12(s1)
40c54c94:	d9c4      	sw	a2,16(s1)
40c54c96:	9962      	lw	v1,8(s1)
    p_ml_control->stack_pointer = 0;
40c54c98:	6a00      	li	v0,0
40c54c9a:	c342      	sb	v0,2(v1)
40c54c9c:	9962      	lw	v1,8(s1)
    p_ml_control->path_id = p_ml_control->menu_com->path_id;
40c54c9e:	9942      	lw	v0,8(s1)
40c54ca0:	9a41      	lw	v0,4(v0)
40c54ca2:	a242      	lbu	v0,2(v0)
40c54ca4:	c348      	sb	v0,8(v1)
40c54ca6:	9962      	lw	v1,8(s1)
    p_ml_control->layer_no = 0;
40c54ca8:	6a00      	li	v0,0
40c54caa:	c349      	sb	v0,9(v1)
40c54cac:	9962      	lw	v1,8(s1)
    p_ml_control->draw_mode = LIST_DRAW_ALL;
40c54cae:	6a03      	li	v0,3
40c54cb0:	c359      	sb	v0,25(v1)
40c54cb2:	9942      	lw	v0,8(s1)
    p_menu_stack[p_ml_control->stack_pointer].cur_entry = p_ml_control->menu_com->menu_entry;
40c54cb4:	a242      	lbu	v0,2(v0)
40c54cb6:	3348      	sll	v1,v0,2
40c54cb8:	9943      	lw	v0,12(s1)
40c54cba:	e34d      	addu	v1,v0
40c54cbc:	9942      	lw	v0,8(s1)
40c54cbe:	9a41      	lw	v0,4(v0)
40c54cc0:	a241      	lbu	v0,1(v0)
40c54cc2:	c340      	sb	v0,0(v1)
40c54cc4:	9942      	lw	v0,8(s1)
    p_menu_stack[p_ml_control->stack_pointer].ori_entry = p_ml_control->menu_com->menu_entry;
40c54cc6:	a242      	lbu	v0,2(v0)
40c54cc8:	3348      	sll	v1,v0,2
40c54cca:	9943      	lw	v0,12(s1)
40c54ccc:	e34d      	addu	v1,v0
40c54cce:	9942      	lw	v0,8(s1)
40c54cd0:	9a41      	lw	v0,4(v0)
40c54cd2:	a241      	lbu	v0,1(v0)
40c54cd4:	c341      	sb	v0,1(v1)
40c54cd6:	9942      	lw	v0,8(s1)
    p_menu_stack[p_ml_control->stack_pointer].menu_id = p_ml_control->menu_com->menu_entry;
40c54cd8:	a242      	lbu	v0,2(v0)
40c54cda:	3348      	sll	v1,v0,2
40c54cdc:	9943      	lw	v0,12(s1)
40c54cde:	e34d      	addu	v1,v0
40c54ce0:	9942      	lw	v0,8(s1)
40c54ce2:	9a41      	lw	v0,4(v0)
40c54ce4:	a241      	lbu	v0,1(v0)
40c54ce6:	c342      	sb	v0,2(v1)
40c54ce8:	9942      	lw	v0,8(s1)
    p_menu_stack[p_ml_control->stack_pointer].layer = 0;
40c54cea:	a242      	lbu	v0,2(v0)
40c54cec:	3348      	sll	v1,v0,2
40c54cee:	9943      	lw	v0,12(s1)
40c54cf0:	e34d      	addu	v1,v0
40c54cf2:	6a00      	li	v0,0
40c54cf4:	c343      	sb	v0,3(v1)
40c54cf6:	9944      	lw	v0,16(s1)
    __init_action_title(title_action);
40c54cf8:	6782      	move	a0,v0
40c54cfa:	b205      	lw	v0,40c54d0c <init_menulist_param+0x80>
40c54cfc:	eac0      	jalrc	v0
40c54cfe:	9964      	lw	v1,16(s1)
    title_action->style_id = p_ml_control->style_id;
40c54d00:	9942      	lw	v0,8(s1)
40c54d02:	aa40      	lhu	v0,0(v0)
40c54d04:	cb40      	sh	v0,0(v1)
40c54d06:	65b9      	move	sp,s1
}
40c54d08:	6451      	restore	8,ra,s1
40c54d0a:	e8a0      	jrc	ra
40c54d0c:	4401      	addiu	s0,a0,1
40c54d0e:	487d      	addiu	s0,125

40c54d10 <load_conf_title>:
40c54d10:	64d5      	save	40,ra,s1

//加载菜单头结构体
void load_conf_title(menulist_control_t *p_ml_control, menulist_stack_t *p_menu_stack)
{
40c54d12:	0104      	addiu	s1,sp,16
40c54d14:	d986      	sw	a0,24(s1)
40c54d16:	d9a7      	sw	a1,28(s1)
40c54d18:	9946      	lw	v0,24(s1)
    com_get_confmenu_title(p_menu_stack[p_ml_control->stack_pointer].menu_id, &g_menu_title);
40c54d1a:	a242      	lbu	v0,2(v0)
40c54d1c:	3348      	sll	v1,v0,2
40c54d1e:	9947      	lw	v0,28(s1)
40c54d20:	e349      	addu	v0,v1,v0
40c54d22:	a242      	lbu	v0,2(v0)
40c54d24:	b317      	lw	v1,40c54d80 <.LBE2+0x6>
40c54d26:	6782      	move	a0,v0
40c54d28:	67a3      	move	a1,v1
40c54d2a:	b217      	lw	v0,40c54d84 <.LBE2+0xa>
40c54d2c:	eac0      	jalrc	v0
40c54d2e:	9946      	lw	v0,24(s1)
    //入口菜单，并且是动态入口菜单，那么需要更新 father_index 和 father_active
    if ((p_menu_stack[p_ml_control->stack_pointer].layer == 0) && (p_menu_stack[p_ml_control->stack_pointer].menu_id
40c54d30:	a242      	lbu	v0,2(v0)
40c54d32:	3348      	sll	v1,v0,2
40c54d34:	9947      	lw	v0,28(s1)
40c54d36:	e349      	addu	v0,v1,v0
40c54d38:	a243      	lbu	v0,3(v0)
40c54d3a:	2a1f      	bnez	v0,40c54d7a <.LBE2>
40c54d3c:	9946      	lw	v0,24(s1)
40c54d3e:	a242      	lbu	v0,2(v0)
40c54d40:	3348      	sll	v1,v0,2
40c54d42:	9947      	lw	v0,28(s1)
40c54d44:	e351      	addu	a0,v1,v0
40c54d46:	9946      	lw	v0,24(s1)
40c54d48:	a242      	lbu	v0,2(v0)
40c54d4a:	3348      	sll	v1,v0,2
40c54d4c:	9947      	lw	v0,28(s1)
40c54d4e:	e349      	addu	v0,v1,v0
40c54d50:	a462      	lbu	v1,2(a0)
40c54d52:	a241      	lbu	v0,1(v0)
40c54d54:	ea6e      	xor	v0,v1
40c54d56:	5a01      	sltiu	v0,1
40c54d58:	6110      	btnez	40c54d7a <.LBE2>

40c54d5a <.LBB2>:
40c54d5a:	9946      	lw	v0,24(s1)
            != p_menu_stack[p_ml_control->stack_pointer].ori_entry))
    {
        menu_title_data_t temp_title;

        com_get_confmenu_title(p_menu_stack[p_ml_control->stack_pointer].ori_entry, &temp_title);
40c54d5c:	a242      	lbu	v0,2(v0)
40c54d5e:	3348      	sll	v1,v0,2
40c54d60:	9947      	lw	v0,28(s1)
40c54d62:	e349      	addu	v0,v1,v0
40c54d64:	a241      	lbu	v0,1(v0)
40c54d66:	6782      	move	a0,v0
40c54d68:	67b1      	move	a1,s1
40c54d6a:	b207      	lw	v0,40c54d84 <.LBE2+0xa>
40c54d6c:	eac0      	jalrc	v0
40c54d6e:	b305      	lw	v1,40c54d80 <.LBE2+0x6>
        g_menu_title.father_index = temp_title.father_index;
40c54d70:	a944      	lhu	v0,8(s1)
40c54d72:	cb44      	sh	v0,8(v1)
40c54d74:	b303      	lw	v1,40c54d80 <.LBE2+0x6>
        g_menu_title.father_active = temp_title.father_active;
40c54d76:	a945      	lhu	v0,10(s1)
40c54d78:	cb45      	sh	v0,10(v1)

40c54d7a <.LBE2>:
40c54d7a:	65b9      	move	sp,s1
    }
}
40c54d7c:	6453      	restore	24,ra,s1
40c54d7e:	e8a0      	jrc	ra
40c54d80:	5af0      	sltiu	v0,240
40c54d82:	9fc1      	lw	a2,4(a3)
40c54d84:	44a9      	addiu	a1,a0,-7
40c54d86:	4859      	addiu	s0,89

40c54d88 <load_confmenu_title_data>:
40c54d88:	64d3      	save	24,ra,s1

//加载菜单头并初始化 ml_control
void load_confmenu_title_data(menulist_control_t *p_ml_control, menulist_stack_t *p_menu_stack,
        menu_title_action_t *title_action)
{
40c54d8a:	0104      	addiu	s1,sp,16
40c54d8c:	d982      	sw	a0,8(s1)
40c54d8e:	d9a3      	sw	a1,12(s1)
40c54d90:	d9c4      	sw	a2,16(s1)
40c54d92:	9942      	lw	v0,8(s1)
    //加载菜单头结构体
    load_conf_title(p_ml_control, p_menu_stack);
40c54d94:	9963      	lw	v1,12(s1)
40c54d96:	6782      	move	a0,v0
40c54d98:	67a3      	move	a1,v1
40c54d9a:	1a21 5344 	jal	40c54d10 <load_conf_title>
40c54d9e:	6500      	nop
40c54da0:	9962      	lw	v1,8(s1)

    //初始化 ml_control
    init_ml_control(p_ml_control, title_action->str_id);
40c54da2:	9944      	lw	v0,16(s1)
40c54da4:	aa43      	lhu	v0,6(v0)
40c54da6:	6783      	move	a0,v1
40c54da8:	67a2      	move	a1,v0
40c54daa:	1a21 5495 	jal	40c55254 <init_ml_control>
40c54dae:	6500      	nop
40c54db0:	65b9      	move	sp,s1
}
40c54db2:	6451      	restore	8,ra,s1
40c54db4:	e8a0      	jrc	ra
	...

40c54db8 <enter_newest_menulist>:
40c54db8:	64d6      	save	48,ra,s1

//搜索并进入菜单最新退出路径，就像进入到上次退出时的子菜单一样
void enter_newest_menulist(menulist_control_t *p_ml_control, menulist_stack_t *p_menu_stack,
        menu_title_action_t *title_action)
{
40c54dba:	0106      	addiu	s1,sp,24
40c54dbc:	d986      	sw	a0,24(s1)
40c54dbe:	d9a7      	sw	a1,28(s1)
40c54dc0:	d9c8      	sw	a2,32(s1)
40c54dc2:	9966      	lw	v1,24(s1)
    menu_item_data_t *active_menu;
    history_item_t history_item;

    //循环模拟进入下一级菜单，直到叶子菜单
    while (1)
    {
        //加载菜单头并初始化 ml_control
        p_ml_control->one_page_count = LIST_NUM_ONE_PAGE_MAX;//为默认6项即可
40c54dc4:	6a07      	li	v0,7
40c54dc6:	c343      	sb	v0,3(v1)
40c54dc8:	9946      	lw	v0,24(s1)
        load_confmenu_title_data(p_ml_control, p_menu_stack, title_action);
40c54dca:	9967      	lw	v1,28(s1)
40c54dcc:	99c8      	lw	a2,32(s1)
40c54dce:	6782      	move	a0,v0
40c54dd0:	67a3      	move	a1,v1
40c54dd2:	1a21 5362 	jal	40c54d88 <load_confmenu_title_data>
40c54dd6:	6500      	nop
40c54dd8:	9946      	lw	v0,24(s1)

        //获取下一层路径记忆，判断是否到最底层路径记忆
        read_next_layer_history(p_ml_control, &history_item);
40c54dda:	4167      	addiu	v1,s1,7
40c54ddc:	4361      	addiu	v1,v1,1
40c54dde:	6782      	move	a0,v0
40c54de0:	67a3      	move	a1,v1
40c54de2:	1a21 5486 	jal	40c55218 <read_next_layer_history>
40c54de6:	6500      	nop
40c54de8:	a964      	lhu	v1,8(s1)
        if (history_item.top == 0xffff)//无效路径记忆项
40c54dea:	f7ff 6a1f 	li	v0,65535
40c54dee:	ea6e      	xor	v0,v1
40c54df0:	5a01      	sltiu	v0,1
40c54df2:	6001      	bteqz	40c54df6 <enter_newest_menulist+0x3e>
40c54df4:	105f      	b	40c54eb4 <enter_newest_menulist+0xfc>
        {
            break;//已到最底层路径记忆，退出
40c54df6:	b432      	lw	a0,40c54ebc <enter_newest_menulist+0x104>
        }

        //获取active 项，保存到 g_menu_items[0]
        com_get_confmenu_item(&g_menu_title, p_ml_control->list_no, g_menu_items);
40c54df8:	9946      	lw	v0,24(s1)
40c54dfa:	aa48      	lhu	v0,16(v0)
40c54dfc:	b331      	lw	v1,40c54ec0 <enter_newest_menulist+0x108>
40c54dfe:	67a2      	move	a1,v0
40c54e00:	67c3      	move	a2,v1
40c54e02:	b231      	lw	v0,40c54ec4 <enter_newest_menulist+0x10c>
40c54e04:	eac0      	jalrc	v0
40c54e06:	b22f      	lw	v0,40c54ec0 <enter_newest_menulist+0x108>
        active_menu = &g_menu_items[0];
40c54e08:	d940      	sw	v0,0(s1)
40c54e0a:	9940      	lw	v0,0(s1)
        if ((active_menu->child_index & MENU_TYPE_LEAF) == MENU_TYPE_LEAF)
40c54e0c:	aa60      	lhu	v1,0(v0)
40c54e0e:	f7ef 6a1f 	li	v0,32767
40c54e12:	ea6c      	and	v0,v1
40c54e14:	f7ef 721f 	cmpi	v0,32767
40c54e18:	6758      	move	v0,t8
40c54e1a:	5a01      	sltiu	v0,1
40c54e1c:	6001      	bteqz	40c54e20 <enter_newest_menulist+0x68>
40c54e1e:	104a      	b	40c54eb4 <enter_newest_menulist+0xfc>
        {
            break;//已到叶子菜单，退出
40c54e20:	9948      	lw	v0,32(s1)
        }

        __init_action_title(title_action);
40c54e22:	6782      	move	a0,v0
40c54e24:	b229      	lw	v0,40c54ec8 <enter_newest_menulist+0x110>
40c54e26:	eac0      	jalrc	v0
40c54e28:	9940      	lw	v0,0(s1)
        //自动选择 active(对应list_no) 项进入
        if (active_menu->menu_func != NULL)
40c54e2a:	9a42      	lw	v0,8(v0)
40c54e2c:	2221      	beqz	v0,40c54e70 <enter_newest_menulist+0xb8>
40c54e2e:	9940      	lw	v0,0(s1)
        {
#ifdef PC
            menu_cb_func func;
#endif

            //根据根菜单项确定函数确定，该确定函数的返回值不处理，返回 RESULT_NULL 即可
#ifndef PC
            active_menu->menu_func(title_action);
40c54e30:	9968      	lw	v1,32(s1)
40c54e32:	9a42      	lw	v0,8(v0)
40c54e34:	6783      	move	a0,v1
40c54e36:	eac0      	jalrc	v0
40c54e38:	9948      	lw	v0,32(s1)
#else
            func = this_get_menu_func(active_menu->str_id, active_menu->str_id_sub);
            func(title_action);
#endif
            if (title_action->menu_entry != V_U16_INVALID)
40c54e3a:	aa61      	lhu	v1,2(v0)
40c54e3c:	f7ff 6a1f 	li	v0,65535
40c54e40:	ea6e      	xor	v0,v1
40c54e42:	5a01      	sltiu	v0,1
40c54e44:	6115      	btnez	40c54e70 <enter_newest_menulist+0xb8>
40c54e46:	9966      	lw	v1,24(s1)
            {
                //进入新入口菜单
                p_ml_control->stack_pointer++;
40c54e48:	9946      	lw	v0,24(s1)
40c54e4a:	a242      	lbu	v0,2(v0)
40c54e4c:	4241      	addiu	v0,v0,1
40c54e4e:	c342      	sb	v0,2(v1)
40c54e50:	9966      	lw	v1,24(s1)
                p_ml_control->layer_no++;
40c54e52:	9946      	lw	v0,24(s1)
40c54e54:	a249      	lbu	v0,9(v0)
40c54e56:	4241      	addiu	v0,v0,1
40c54e58:	c349      	sb	v0,9(v1)
40c54e5a:	9966      	lw	v1,24(s1)

                //进入新入口菜单，更新 menu stack 控制变量
                update_menu_stack(p_ml_control, p_menu_stack, title_action, active_menu->child_index, 0);
40c54e5c:	99a7      	lw	a1,28(s1)
40c54e5e:	99c8      	lw	a2,32(s1)
40c54e60:	9940      	lw	v0,0(s1)
40c54e62:	aae0      	lhu	a3,0(v0)
40c54e64:	6a00      	li	v0,0
40c54e66:	d204      	sw	v0,16(sp)
40c54e68:	6783      	move	a0,v1
40c54e6a:	1a21 5300 	jal	40c54c00 <update_menu_stack>
40c54e6e:	6500      	nop
40c54e70:	9948      	lw	v0,32(s1)
            }
        }

        if (title_action->menu_entry == V_U16_INVALID)
40c54e72:	aa61      	lhu	v1,2(v0)
40c54e74:	f7ff 6a1f 	li	v0,65535
40c54e78:	ea6e      	xor	v0,v1
40c54e7a:	5a01      	sltiu	v0,1
40c54e7c:	60a2      	bteqz	40c54dc2 <enter_newest_menulist+0xa>
40c54e7e:	9946      	lw	v0,24(s1)
        {
            //进入下一级菜单
            p_menu_stack[p_ml_control->stack_pointer].menu_id = (uint8) active_menu->child_index;
40c54e80:	a242      	lbu	v0,2(v0)
40c54e82:	3348      	sll	v1,v0,2
40c54e84:	9947      	lw	v0,28(s1)
40c54e86:	e34d      	addu	v1,v0
40c54e88:	9940      	lw	v0,0(s1)
40c54e8a:	aa40      	lhu	v0,0(v0)
40c54e8c:	c342      	sb	v0,2(v1)
40c54e8e:	9946      	lw	v0,24(s1)
            p_menu_stack[p_ml_control->stack_pointer].layer++;
40c54e90:	a242      	lbu	v0,2(v0)
40c54e92:	3348      	sll	v1,v0,2
40c54e94:	9947      	lw	v0,28(s1)
40c54e96:	e351      	addu	a0,v1,v0
40c54e98:	9946      	lw	v0,24(s1)
40c54e9a:	a242      	lbu	v0,2(v0)
40c54e9c:	3348      	sll	v1,v0,2
40c54e9e:	9947      	lw	v0,28(s1)
40c54ea0:	e349      	addu	v0,v1,v0
40c54ea2:	a243      	lbu	v0,3(v0)
40c54ea4:	4241      	addiu	v0,v0,1
40c54ea6:	c443      	sb	v0,3(a0)
40c54ea8:	9966      	lw	v1,24(s1)
            p_ml_control->layer_no++;
40c54eaa:	9946      	lw	v0,24(s1)
40c54eac:	a249      	lbu	v0,9(v0)
40c54eae:	4241      	addiu	v0,v0,1
40c54eb0:	c349      	sb	v0,9(v1)
40c54eb2:	1787      	b	40c54dc2 <enter_newest_menulist+0xa>
40c54eb4:	65b9      	move	sp,s1
        }
    }
}
40c54eb6:	6453      	restore	24,ra,s1
40c54eb8:	e8a0      	jrc	ra
40c54eba:	0000      	addiu	s0,sp,0
40c54ebc:	5af0      	sltiu	v0,240
40c54ebe:	9fc1      	lw	a2,4(a3)
40c54ec0:	5afc      	sltiu	v0,252
40c54ec2:	9fc1      	lw	a2,4(a3)
40c54ec4:	4511      	daddiu	s0,a1,1
40c54ec6:	4859      	addiu	s0,89
40c54ec8:	4401      	addiu	s0,a0,1
40c54eca:	487d      	addiu	s0,125

40c54ecc <re_enter_currentdir>:
40c54ecc:	64d9      	save	72,ra,s1

//重新进入当前层菜单，等于返回上一级后重新进入，为了更新为新style和入口
//（比如设置关机时间后返回，需要更新为新style和入口，以便查看设置结果）
void re_enter_currentdir(menulist_control_t *p_ml_control, menulist_stack_t *p_menu_stack,
        menu_title_action_t *title_action, menu_cb_func menu_func)
{
40c54ece:	0106      	addiu	s1,sp,24
40c54ed0:	d98c      	sw	a0,48(s1)
40c54ed2:	d9ad      	sw	a1,52(s1)
40c54ed4:	d9ce      	sw	a2,56(s1)
40c54ed6:	d9ef      	sw	a3,60(s1)
40c54ed8:	994e      	lw	v0,56(s1)
    menu_item_data_t *active_menu;
    menu_title_action_t temp_title_action;
    uint16 str_id_bk = title_action->str_id;
40c54eda:	aa43      	lhu	v0,6(v0)
40c54edc:	c950      	sh	v0,32(s1)
40c54ede:	4147      	addiu	v0,s1,7

    __init_action_title(&temp_title_action);
40c54ee0:	4241      	addiu	v0,v0,1
40c54ee2:	6782      	move	a0,v0
40c54ee4:	b25d      	lw	v0,40c55058 <re_enter_currentdir+0x18c>
40c54ee6:	eac0      	jalrc	v0
40c54ee8:	994c      	lw	v0,48(s1)
    //已在最顶层，直接加载入口菜单
    if ((p_ml_control->stack_pointer == 0) && (p_menu_stack[0].layer == 0))
40c54eea:	a242      	lbu	v0,2(v0)
40c54eec:	2a1d      	bnez	v0,40c54f28 <re_enter_currentdir+0x5c>
40c54eee:	994d      	lw	v0,52(s1)
40c54ef0:	a243      	lbu	v0,3(v0)
40c54ef2:	2a1a      	bnez	v0,40c54f28 <re_enter_currentdir+0x5c>
40c54ef4:	994f      	lw	v0,60(s1)
    {
        //此时有可能需要更新最顶层入口菜单，要求在 menu_func 中处理
        if (menu_func != NULL)
40c54ef6:	f0a0 2202 	beqz	v0,40c5503e <re_enter_currentdir+0x172>
40c54efa:	994e      	lw	v0,56(s1)
        {
            menu_func(title_action);
40c54efc:	996f      	lw	v1,60(s1)
40c54efe:	6782      	move	a0,v0
40c54f00:	ebc0      	jalrc	v1
40c54f02:	994e      	lw	v0,56(s1)
            if (title_action->menu_entry != V_U16_INVALID)
40c54f04:	aa61      	lhu	v1,2(v0)
40c54f06:	f7ff 6a1f 	li	v0,65535
40c54f0a:	ea6e      	xor	v0,v1
40c54f0c:	5a01      	sltiu	v0,1
40c54f0e:	f080 6116 	btnez	40c5503e <re_enter_currentdir+0x172>
40c54f12:	996c      	lw	v1,48(s1)
            {
                //替换入口菜单，更新 menu stack 控制变量
                update_menu_stack(p_ml_control, p_menu_stack, title_action, 0, 1);
40c54f14:	99ad      	lw	a1,52(s1)
40c54f16:	99ce      	lw	a2,56(s1)
40c54f18:	6a01      	li	v0,1
40c54f1a:	d204      	sw	v0,16(sp)
40c54f1c:	6783      	move	a0,v1
40c54f1e:	6f00      	li	a3,0
40c54f20:	1a21 5300 	jal	40c54c00 <update_menu_stack>
40c54f24:	6500      	nop
40c54f26:	108b      	b	40c5503e <re_enter_currentdir+0x172>
40c54f28:	994c      	lw	v0,48(s1)
            }
        }
    }
    else//尚未到最顶层，返回上一级
    {
        //此时，有可能是返回作为动态菜单的上一级，但是因为该动态菜单节点和
        //原菜单节点在菜单树中是等价的，所以可以直接继续返回上一级
        if (p_menu_stack[p_ml_control->stack_pointer].layer == 0)
40c54f2a:	a242      	lbu	v0,2(v0)
40c54f2c:	3348      	sll	v1,v0,2
40c54f2e:	994d      	lw	v0,52(s1)
40c54f30:	e349      	addu	v0,v1,v0
40c54f32:	a243      	lbu	v0,3(v0)
40c54f34:	2a0b      	bnez	v0,40c54f4c <re_enter_currentdir+0x80>
40c54f36:	996c      	lw	v1,48(s1)
        {
            //退出当前入口菜单，返回上一个入口菜单
            p_ml_control->stack_pointer--;
40c54f38:	994c      	lw	v0,48(s1)
40c54f3a:	a242      	lbu	v0,2(v0)
40c54f3c:	424f      	addiu	v0,v0,-1
40c54f3e:	c342      	sb	v0,2(v1)
40c54f40:	996c      	lw	v1,48(s1)
            p_ml_control->layer_no--;
40c54f42:	994c      	lw	v0,48(s1)
40c54f44:	a249      	lbu	v0,9(v0)
40c54f46:	424f      	addiu	v0,v0,-1
40c54f48:	c349      	sb	v0,9(v1)
40c54f4a:	101a      	b	40c54f80 <re_enter_currentdir+0xb4>
40c54f4c:	994c      	lw	v0,48(s1)
        }
        else
        {
            //返回上一级菜单
            p_menu_stack[p_ml_control->stack_pointer].menu_id = (uint8) g_menu_title.father_index;
40c54f4e:	a242      	lbu	v0,2(v0)
40c54f50:	3348      	sll	v1,v0,2
40c54f52:	994d      	lw	v0,52(s1)
40c54f54:	e34d      	addu	v1,v0
40c54f56:	b242      	lw	v0,40c5505c <re_enter_currentdir+0x190>
40c54f58:	aa44      	lhu	v0,8(v0)
40c54f5a:	c342      	sb	v0,2(v1)
40c54f5c:	994c      	lw	v0,48(s1)
            p_menu_stack[p_ml_control->stack_pointer].layer--;
40c54f5e:	a242      	lbu	v0,2(v0)
40c54f60:	3348      	sll	v1,v0,2
40c54f62:	994d      	lw	v0,52(s1)
40c54f64:	e351      	addu	a0,v1,v0
40c54f66:	994c      	lw	v0,48(s1)
40c54f68:	a242      	lbu	v0,2(v0)
40c54f6a:	3348      	sll	v1,v0,2
40c54f6c:	994d      	lw	v0,52(s1)
40c54f6e:	e349      	addu	v0,v1,v0
40c54f70:	a243      	lbu	v0,3(v0)
40c54f72:	424f      	addiu	v0,v0,-1
40c54f74:	c443      	sb	v0,3(a0)
40c54f76:	996c      	lw	v1,48(s1)
            p_ml_control->layer_no--;
40c54f78:	994c      	lw	v0,48(s1)
40c54f7a:	a249      	lbu	v0,9(v0)
40c54f7c:	424f      	addiu	v0,v0,-1
40c54f7e:	c349      	sb	v0,9(v1)
40c54f80:	996c      	lw	v1,48(s1)
        }

        //加载菜单头并初始化 ml_control
        p_ml_control->one_page_count = LIST_NUM_ONE_PAGE_MAX;//为默认6项即可
40c54f82:	6a07      	li	v0,7
40c54f84:	c343      	sb	v0,3(v1)
40c54f86:	994c      	lw	v0,48(s1)
        load_confmenu_title_data(p_ml_control, p_menu_stack, &temp_title_action);
40c54f88:	996d      	lw	v1,52(s1)
40c54f8a:	41c7      	addiu	a2,s1,7
40c54f8c:	46c1      	addiu	a2,a2,1
40c54f8e:	6782      	move	a0,v0
40c54f90:	67a3      	move	a1,v1
40c54f92:	1a21 5362 	jal	40c54d88 <load_confmenu_title_data>
40c54f96:	6500      	nop
40c54f98:	b431      	lw	a0,40c5505c <re_enter_currentdir+0x190>

        //获取active 项，保存到 g_menu_items[0]
        com_get_confmenu_item(&g_menu_title, p_ml_control->list_no, g_menu_items);
40c54f9a:	994c      	lw	v0,48(s1)
40c54f9c:	aa48      	lhu	v0,16(v0)
40c54f9e:	b331      	lw	v1,40c55060 <re_enter_currentdir+0x194>
40c54fa0:	67a2      	move	a1,v0
40c54fa2:	67c3      	move	a2,v1
40c54fa4:	b230      	lw	v0,40c55064 <re_enter_currentdir+0x198>
40c54fa6:	eac0      	jalrc	v0
40c54fa8:	b22e      	lw	v0,40c5505c <re_enter_currentdir+0x190>
        active_menu = &g_menu_items[0];
40c54faa:	d940      	sw	v0,0(s1)
40c54fac:	994e      	lw	v0,56(s1)

        //重新进入
        __init_action_title(title_action);
40c54fae:	6782      	move	a0,v0
40c54fb0:	b22a      	lw	v0,40c55058 <re_enter_currentdir+0x18c>
40c54fb2:	eac0      	jalrc	v0
40c54fb4:	9940      	lw	v0,0(s1)
        if (active_menu->menu_func != NULL)
40c54fb6:	9a42      	lw	v0,8(v0)
40c54fb8:	2221      	beqz	v0,40c54ffc <re_enter_currentdir+0x130>
40c54fba:	9940      	lw	v0,0(s1)
        {
#ifdef PC
            menu_cb_func func;
#endif

            //根据根菜单项确定函数确定，该确定函数的返回值不处理，返回 RESULT_NULL 即可
#ifndef PC
            active_menu->menu_func(title_action);
40c54fbc:	996e      	lw	v1,56(s1)
40c54fbe:	9a42      	lw	v0,8(v0)
40c54fc0:	6783      	move	a0,v1
40c54fc2:	eac0      	jalrc	v0
40c54fc4:	994e      	lw	v0,56(s1)
#else
            func = this_get_menu_func(active_menu->str_id, active_menu->str_id_sub);
            func(title_action);
#endif
            if (title_action->menu_entry != V_U16_INVALID)
40c54fc6:	aa61      	lhu	v1,2(v0)
40c54fc8:	f7ff 6a1f 	li	v0,65535
40c54fcc:	ea6e      	xor	v0,v1
40c54fce:	5a01      	sltiu	v0,1
40c54fd0:	6115      	btnez	40c54ffc <re_enter_currentdir+0x130>
40c54fd2:	996c      	lw	v1,48(s1)
            {
                //进入新入口菜单
                p_ml_control->stack_pointer++;
40c54fd4:	994c      	lw	v0,48(s1)
40c54fd6:	a242      	lbu	v0,2(v0)
40c54fd8:	4241      	addiu	v0,v0,1
40c54fda:	c342      	sb	v0,2(v1)
40c54fdc:	996c      	lw	v1,48(s1)
                p_ml_control->layer_no++;
40c54fde:	994c      	lw	v0,48(s1)
40c54fe0:	a249      	lbu	v0,9(v0)
40c54fe2:	4241      	addiu	v0,v0,1
40c54fe4:	c349      	sb	v0,9(v1)
40c54fe6:	996c      	lw	v1,48(s1)

                //进入新入口菜单，更新 menu stack 控制变量
                update_menu_stack(p_ml_control, p_menu_stack, title_action, active_menu->child_index, 0);
40c54fe8:	99ad      	lw	a1,52(s1)
40c54fea:	99ce      	lw	a2,56(s1)
40c54fec:	9940      	lw	v0,0(s1)
40c54fee:	aae0      	lhu	a3,0(v0)
40c54ff0:	6a00      	li	v0,0
40c54ff2:	d204      	sw	v0,16(sp)
40c54ff4:	6783      	move	a0,v1
40c54ff6:	1a21 5300 	jal	40c54c00 <update_menu_stack>
40c54ffa:	6500      	nop
40c54ffc:	994e      	lw	v0,56(s1)
            }
        }

        if (title_action->menu_entry == V_U16_INVALID)
40c54ffe:	aa61      	lhu	v1,2(v0)
40c55000:	f7ff 6a1f 	li	v0,65535
40c55004:	ea6e      	xor	v0,v1
40c55006:	5a01      	sltiu	v0,1
40c55008:	601a      	bteqz	40c5503e <re_enter_currentdir+0x172>
40c5500a:	994c      	lw	v0,48(s1)
        {
            //进入下一级菜单
            p_menu_stack[p_ml_control->stack_pointer].menu_id = (uint8) active_menu->child_index;
40c5500c:	a242      	lbu	v0,2(v0)
40c5500e:	3348      	sll	v1,v0,2
40c55010:	994d      	lw	v0,52(s1)
40c55012:	e34d      	addu	v1,v0
40c55014:	9940      	lw	v0,0(s1)
40c55016:	aa40      	lhu	v0,0(v0)
40c55018:	c342      	sb	v0,2(v1)
40c5501a:	994c      	lw	v0,48(s1)
            p_menu_stack[p_ml_control->stack_pointer].layer++;
40c5501c:	a242      	lbu	v0,2(v0)
40c5501e:	3348      	sll	v1,v0,2
40c55020:	994d      	lw	v0,52(s1)
40c55022:	e351      	addu	a0,v1,v0
40c55024:	994c      	lw	v0,48(s1)
40c55026:	a242      	lbu	v0,2(v0)
40c55028:	3348      	sll	v1,v0,2
40c5502a:	994d      	lw	v0,52(s1)
40c5502c:	e349      	addu	v0,v1,v0
40c5502e:	a243      	lbu	v0,3(v0)
40c55030:	4241      	addiu	v0,v0,1
40c55032:	c443      	sb	v0,3(a0)
40c55034:	996c      	lw	v1,48(s1)
            p_ml_control->layer_no++;
40c55036:	994c      	lw	v0,48(s1)
40c55038:	a249      	lbu	v0,9(v0)
40c5503a:	4241      	addiu	v0,v0,1
40c5503c:	c349      	sb	v0,9(v1)
40c5503e:	a970      	lhu	v1,32(s1)
        }
    }

    if (str_id_bk != V_U16_INVALID)
40c55040:	f7ff 6a1f 	li	v0,65535
40c55044:	ea6e      	xor	v0,v1
40c55046:	5a01      	sltiu	v0,1
40c55048:	6103      	btnez	40c55050 <re_enter_currentdir+0x184>
40c5504a:	996e      	lw	v1,56(s1)
    {
        title_action->str_id = str_id_bk;
40c5504c:	a950      	lhu	v0,32(s1)
40c5504e:	cb43      	sh	v0,6(v1)
40c55050:	65b9      	move	sp,s1
    }
}
40c55052:	6456      	restore	48,ra,s1
40c55054:	e8a0      	jrc	ra
40c55056:	0000      	addiu	s0,sp,0
40c55058:	4401      	addiu	s0,a0,1
40c5505a:	487d      	addiu	s0,125
40c5505c:	5af0      	sltiu	v0,240
40c5505e:	9fc1      	lw	a2,4(a3)
40c55060:	5afc      	sltiu	v0,252
40c55062:	9fc1      	lw	a2,4(a3)
40c55064:	4511      	daddiu	s0,a1,1
40c55066:	4859      	addiu	s0,89

40c55068 <re_redraw_currentdir>:
40c55068:	64f5      	save	40,ra,s0-s1

//重绘当前菜单，停留0.5秒钟返回
void re_redraw_currentdir(menulist_control_t *p_ml_control, menu_title_action_t *title_action)
{
40c5506a:	0104      	addiu	s1,sp,16
40c5506c:	d986      	sw	a0,24(s1)
40c5506e:	d9a7      	sw	a1,28(s1)
40c55070:	9947      	lw	v0,28(s1)
    style_infor_t style_infor;

    if (title_action->style_id == V_U16_INVALID)
40c55072:	aa60      	lhu	v1,0(v0)
40c55074:	f7ff 6a1f 	li	v0,65535
40c55078:	ea6e      	xor	v0,v1
40c5507a:	5a01      	sltiu	v0,1
40c5507c:	6004      	bteqz	40c55086 <re_redraw_currentdir+0x1e>
40c5507e:	9946      	lw	v0,24(s1)
    {
        style_infor.style_id = p_ml_control->style_id;
40c55080:	aa40      	lhu	v0,0(v0)
40c55082:	c940      	sh	v0,0(s1)
40c55084:	1003      	b	40c5508c <re_redraw_currentdir+0x24>
40c55086:	9947      	lw	v0,28(s1)
    }
    else
    {
        style_infor.style_id = title_action->style_id;
40c55088:	aa40      	lhu	v0,0(v0)
40c5508a:	c940      	sh	v0,0(s1)
40c5508c:	6a01      	li	v0,1
    }
    style_infor.type = UI_COM;
40c5508e:	c142      	sb	v0,2(s1)
40c55090:	9966      	lw	v1,24(s1)
    p_ml_control->draw_mode = LIST_DRAW_ALL;
40c55092:	6a03      	li	v0,3
40c55094:	c359      	sb	v0,25(v1)
40c55096:	9906      	lw	s0,24(s1)

    //更改 select 项
    p_ml_control->select = com_get_confmenu_active(&g_menu_title, title_action->str_id);
40c55098:	b319      	lw	v1,40c550fc <re_redraw_currentdir+0x94>
40c5509a:	9947      	lw	v0,28(s1)
40c5509c:	aa43      	lhu	v0,6(v0)
40c5509e:	6783      	move	a0,v1
40c550a0:	67a2      	move	a1,v0
40c550a2:	b218      	lw	v0,40c55100 <re_redraw_currentdir+0x98>
40c550a4:	eac0      	jalrc	v0
40c550a6:	c849      	sh	v0,18(s0)
40c550a8:	9946      	lw	v0,24(s1)

    //显示菜单列表
    update_menulist_private(p_ml_control, &menu_private, title_action);
40c550aa:	b317      	lw	v1,40c55104 <re_redraw_currentdir+0x9c>
40c550ac:	99c7      	lw	a2,28(s1)
40c550ae:	6782      	move	a0,v0
40c550b0:	67a3      	move	a1,v1
40c550b2:	b216      	lw	v0,40c55108 <re_redraw_currentdir+0xa0>
40c550b4:	eac0      	jalrc	v0
40c550b6:	b314      	lw	v1,40c55104 <re_redraw_currentdir+0x9c>
    ui_show_listbox(&style_infor, &menu_private, (uint32) p_ml_control->draw_mode);
40c550b8:	9946      	lw	v0,24(s1)
40c550ba:	a259      	lbu	v0,25(v0)
40c550bc:	6791      	move	a0,s1
40c550be:	67a3      	move	a1,v1
40c550c0:	67c2      	move	a2,v0
40c550c2:	6f08      	li	a3,8
40c550c4:	b212      	lw	v0,40c5510c <re_redraw_currentdir+0xa4>
40c550c6:	eac0      	jalrc	v0
40c550c8:	a940      	lhu	v0,0(s1)

    if ((style_infor.style_id == MENULIST) || (style_infor.style_id == MENULIST_TITLE))
40c550ca:	f00c 7202 	cmpi	v0,24578
40c550ce:	6758      	move	v0,t8
40c550d0:	5a01      	sltiu	v0,1
40c550d2:	6107      	btnez	40c550e2 <re_redraw_currentdir+0x7a>
40c550d4:	a940      	lhu	v0,0(s1)
40c550d6:	f00c 7204 	cmpi	v0,24580
40c550da:	6758      	move	v0,t8
40c550dc:	5a01      	sltiu	v0,1
40c550de:	6101      	btnez	40c550e2 <re_redraw_currentdir+0x7a>
40c550e0:	1003      	b	40c550e8 <re_redraw_currentdir+0x80>
40c550e2:	6c01      	li	a0,1
    {
        //强制刷新状态栏
        gui_headbar(HEADBAR_UPDATE_ALL);
40c550e4:	b20b      	lw	v0,40c55110 <re_redraw_currentdir+0xa8>
40c550e6:	eac0      	jalrc	v0
40c550e8:	6c32      	li	a0,50
    }

    //等待0.5秒钟后返回
    sys_os_time_dly(50);
40c550ea:	6d00      	li	a1,0
40c550ec:	6e00      	li	a2,0
40c550ee:	6f31      	li	a3,49
40c550f0:	b209      	lw	v0,40c55114 <re_redraw_currentdir+0xac>
40c550f2:	eac0      	jalrc	v0
40c550f4:	65b9      	move	sp,s1
}
40c550f6:	6473      	restore	24,ra,s0-s1
40c550f8:	e8a0      	jrc	ra
40c550fa:	0000      	addiu	s0,sp,0
40c550fc:	5af0      	sltiu	v0,240
40c550fe:	9fc1      	lw	a2,4(a3)
40c55100:	4575      	daddiu	v1,a1,5
40c55102:	4859      	addiu	s0,89
40c55104:	5380      	slti	v1,128
40c55106:	40c5      	addiu	a2,s0,5
40c55108:	463d      	daddiu	s1,a2,-3
40c5510a:	4879      	addiu	s0,121
40c5510c:	6bb1      	li	v1,177
40c5510e:	bfc1      	lwu	a2,4(a3)
40c55110:	46bd      	daddiu	a1,a2,-3
40c55112:	4885      	addiu	s0,-123
40c55114:	640d      	restore	104
40c55116:	bfc1      	lwu	a2,4(a3)

40c55118 <write_history_item_menu>:
40c55118:	64d5      	save	40,ra,s1

//保存路径历史记录
void write_history_item_menu(menulist_control_t *p_ml_control, bool update)
{
40c5511a:	0104      	addiu	s1,sp,16
40c5511c:	d986      	sw	a0,24(s1)
40c5511e:	6745      	move	v0,a1
40c55120:	c15c      	sb	v0,28(s1)
40c55122:	9946      	lw	v0,24(s1)
    history_index_t temp_index;
    history_item_t temp_history_item;

    temp_history_item.top = p_ml_control->top;
40c55124:	aa46      	lhu	v0,12(v0)
40c55126:	c944      	sh	v0,8(s1)
40c55128:	9946      	lw	v0,24(s1)
    temp_history_item.list_no = p_ml_control->list_no;
40c5512a:	aa48      	lhu	v0,16(v0)
40c5512c:	c945      	sh	v0,10(s1)
40c5512e:	6a00      	li	v0,0

    temp_index.type = PATH_HISTORY_MENU;
40c55130:	c140      	sb	v0,0(s1)
40c55132:	b20d      	lw	v0,40c55164 <write_history_item_menu+0x4c>
    temp_index.app_id = g_this_app_info->app_id;
40c55134:	9a40      	lw	v0,0(v0)
40c55136:	a241      	lbu	v0,1(v0)
40c55138:	c141      	sb	v0,1(s1)
40c5513a:	9946      	lw	v0,24(s1)
    temp_index.path_id = p_ml_control->path_id;
40c5513c:	a248      	lbu	v0,8(v0)
40c5513e:	c142      	sb	v0,2(s1)
40c55140:	9946      	lw	v0,24(s1)
    temp_index.layer = p_ml_control->layer_no;
40c55142:	a249      	lbu	v0,9(v0)
40c55144:	c143      	sb	v0,3(s1)
40c55146:	a15c      	lbu	v0,28(s1)
    if (update == FALSE)
40c55148:	2a07      	bnez	v0,40c55158 <write_history_item_menu+0x40>
40c5514a:	4147      	addiu	v0,s1,7
    {
        com_set_history_item(&temp_index, &temp_history_item);
40c5514c:	4241      	addiu	v0,v0,1
40c5514e:	6791      	move	a0,s1
40c55150:	67a2      	move	a1,v0
40c55152:	b206      	lw	v0,40c55168 <write_history_item_menu+0x50>
40c55154:	eac0      	jalrc	v0
40c55156:	1003      	b	40c5515e <write_history_item_menu+0x46>
40c55158:	6791      	move	a0,s1
    }
    else
    {
        com_update_path_history(&temp_index);
40c5515a:	b205      	lw	v0,40c5516c <write_history_item_menu+0x54>
40c5515c:	eac0      	jalrc	v0
40c5515e:	65b9      	move	sp,s1
    }
}
40c55160:	6453      	restore	24,ra,s1
40c55162:	e8a0      	jrc	ra
40c55164:	a1f0      	lbu	a3,16(s1)
40c55166:	9fc1      	lw	a2,4(a3)
40c55168:	455d      	daddiu	v0,a1,-3
40c5516a:	485d      	addiu	s0,93
40c5516c:	45d9      	daddiu	a2,a1,-7
40c5516e:	485d      	addiu	s0,93

40c55170 <read_history_item_menu>:
40c55170:	64d5      	save	40,ra,s1

//读取路径历史记录
void read_history_item_menu(menulist_control_t *p_ml_control)
{
40c55172:	0104      	addiu	s1,sp,16
40c55174:	d986      	sw	a0,24(s1)
40c55176:	6a00      	li	v0,0
    history_index_t temp_index;
    history_item_t temp_history_item;

    temp_index.type = PATH_HISTORY_MENU;
40c55178:	c140      	sb	v0,0(s1)
40c5517a:	b226      	lw	v0,40c55210 <read_history_item_menu+0xa0>
    temp_index.app_id = g_this_app_info->app_id;
40c5517c:	9a40      	lw	v0,0(v0)
40c5517e:	a241      	lbu	v0,1(v0)
40c55180:	c141      	sb	v0,1(s1)
40c55182:	9946      	lw	v0,24(s1)
    temp_index.path_id = p_ml_control->path_id;
40c55184:	a248      	lbu	v0,8(v0)
40c55186:	c142      	sb	v0,2(s1)
40c55188:	9946      	lw	v0,24(s1)
    temp_index.layer = p_ml_control->layer_no;
40c5518a:	a249      	lbu	v0,9(v0)
40c5518c:	c143      	sb	v0,3(s1)
40c5518e:	4147      	addiu	v0,s1,7
    com_get_history_item(&temp_index, &temp_history_item);
40c55190:	4241      	addiu	v0,v0,1
40c55192:	6791      	move	a0,s1
40c55194:	67a2      	move	a1,v0
40c55196:	b220      	lw	v0,40c55214 <read_history_item_menu+0xa4>
40c55198:	eac0      	jalrc	v0
40c5519a:	a964      	lhu	v1,8(s1)

    if (temp_history_item.top == V_U16_INVALID)
40c5519c:	f7ff 6a1f 	li	v0,65535
40c551a0:	ea6e      	xor	v0,v1
40c551a2:	5a01      	sltiu	v0,1
40c551a4:	6007      	bteqz	40c551b4 <read_history_item_menu+0x44>
40c551a6:	9966      	lw	v1,24(s1)
    {
        p_ml_control->top = 0;
40c551a8:	6a00      	li	v0,0
40c551aa:	cb46      	sh	v0,12(v1)
40c551ac:	9966      	lw	v1,24(s1)
        p_ml_control->list_no = 0;
40c551ae:	6a00      	li	v0,0
40c551b0:	cb48      	sh	v0,16(v1)
40c551b2:	102a      	b	40c55208 <read_history_item_menu+0x98>
40c551b4:	9946      	lw	v0,24(s1)
    }
    else if ((temp_history_item.top >= p_ml_control->total) || (temp_history_item.list_no >= p_ml_control->total)
40c551b6:	a964      	lhu	v1,8(s1)
40c551b8:	aa45      	lhu	v0,10(v0)
40c551ba:	eb43      	sltu	v1,v0
40c551bc:	6012      	bteqz	40c551e2 <read_history_item_menu+0x72>
40c551be:	9946      	lw	v0,24(s1)
40c551c0:	a965      	lhu	v1,10(s1)
40c551c2:	aa45      	lhu	v0,10(v0)
40c551c4:	eb43      	sltu	v1,v0
40c551c6:	600d      	bteqz	40c551e2 <read_history_item_menu+0x72>
40c551c8:	a944      	lhu	v0,8(s1)
40c551ca:	a965      	lhu	v1,10(s1)
40c551cc:	eb43      	sltu	v1,v0
40c551ce:	6109      	btnez	40c551e2 <read_history_item_menu+0x72>
40c551d0:	a965      	lhu	v1,10(s1)
40c551d2:	a944      	lhu	v0,8(s1)
40c551d4:	e34f      	subu	v1,v0
40c551d6:	9946      	lw	v0,24(s1)
40c551d8:	a243      	lbu	v0,3(v0)
40c551da:	424f      	addiu	v0,v0,-1
40c551dc:	ea62      	slt	v0,v1
40c551de:	6101      	btnez	40c551e2 <read_history_item_menu+0x72>
40c551e0:	100d      	b	40c551fc <read_history_item_menu+0x8c>
40c551e2:	9966      	lw	v1,24(s1)
            || (temp_history_item.top > temp_history_item.list_no) || ((temp_history_item.list_no
            - temp_history_item.top) > (p_ml_control->one_page_count - 1)))
    {
        //路径记忆参数出错，强制指向开头，并且重写入路径记忆，以强制把后面层级清为无效
        p_ml_control->top = 0;
40c551e4:	6a00      	li	v0,0
40c551e6:	cb46      	sh	v0,12(v1)
40c551e8:	9966      	lw	v1,24(s1)
        p_ml_control->list_no = 0;
40c551ea:	6a00      	li	v0,0
40c551ec:	cb48      	sh	v0,16(v1)
40c551ee:	9946      	lw	v0,24(s1)
        write_history_item_menu(p_ml_control, FALSE);
40c551f0:	6782      	move	a0,v0
40c551f2:	6d00      	li	a1,0
40c551f4:	1a21 5446 	jal	40c55118 <write_history_item_menu>
40c551f8:	6500      	nop
40c551fa:	1006      	b	40c55208 <read_history_item_menu+0x98>
40c551fc:	9966      	lw	v1,24(s1)
    }
    else
    {
        p_ml_control->top = temp_history_item.top;
40c551fe:	a944      	lhu	v0,8(s1)
40c55200:	cb46      	sh	v0,12(v1)
40c55202:	9966      	lw	v1,24(s1)
        p_ml_control->list_no = temp_history_item.list_no;
40c55204:	a945      	lhu	v0,10(s1)
40c55206:	cb48      	sh	v0,16(v1)
40c55208:	65b9      	move	sp,s1
    }
}
40c5520a:	6453      	restore	24,ra,s1
40c5520c:	e8a0      	jrc	ra
40c5520e:	0000      	addiu	s0,sp,0
40c55210:	a1f0      	lbu	a3,16(s1)
40c55212:	9fc1      	lw	a2,4(a3)
40c55214:	4401      	addiu	s0,a0,1
40c55216:	485d      	addiu	s0,93

40c55218 <read_next_layer_history>:
40c55218:	64d4      	save	32,ra,s1

//读取下一层路径历史记录
void read_next_layer_history(menulist_control_t *p_ml_control, history_item_t *history_item)
{
40c5521a:	0104      	addiu	s1,sp,16
40c5521c:	d984      	sw	a0,16(s1)
40c5521e:	d9a5      	sw	a1,20(s1)
40c55220:	6a00      	li	v0,0
    history_index_t temp_index;

    temp_index.type = PATH_HISTORY_MENU;
40c55222:	c140      	sb	v0,0(s1)
40c55224:	b20a      	lw	v0,40c5524c <read_next_layer_history+0x34>
    temp_index.app_id = g_this_app_info->app_id;
40c55226:	9a40      	lw	v0,0(v0)
40c55228:	a241      	lbu	v0,1(v0)
40c5522a:	c141      	sb	v0,1(s1)
40c5522c:	9944      	lw	v0,16(s1)
    temp_index.path_id = p_ml_control->path_id;
40c5522e:	a248      	lbu	v0,8(v0)
40c55230:	c142      	sb	v0,2(s1)
40c55232:	9944      	lw	v0,16(s1)
    temp_index.layer = p_ml_control->layer_no + 1;
40c55234:	a249      	lbu	v0,9(v0)
40c55236:	4241      	addiu	v0,v0,1
40c55238:	c143      	sb	v0,3(s1)
40c5523a:	9945      	lw	v0,20(s1)
    com_get_history_item(&temp_index, history_item);
40c5523c:	6791      	move	a0,s1
40c5523e:	67a2      	move	a1,v0
40c55240:	b204      	lw	v0,40c55250 <read_next_layer_history+0x38>
40c55242:	eac0      	jalrc	v0
40c55244:	65b9      	move	sp,s1
}
40c55246:	6452      	restore	16,ra,s1
40c55248:	e8a0      	jrc	ra
40c5524a:	0000      	addiu	s0,sp,0
40c5524c:	a1f0      	lbu	a3,16(s1)
40c5524e:	9fc1      	lw	a2,4(a3)
40c55250:	4401      	addiu	s0,a0,1
40c55252:	485d      	addiu	s0,93

40c55254 <init_ml_control>:
40c55254:	64d4      	save	32,ra,s1

//初始化menulist_control_t数据结构
void init_ml_control(menulist_control_t *p_ml_control, uint16 str_id)
{
40c55256:	0104      	addiu	s1,sp,16
40c55258:	d984      	sw	a0,16(s1)
40c5525a:	6745      	move	v0,a1
40c5525c:	c94a      	sh	v0,20(s1)
40c5525e:	9964      	lw	v1,16(s1)
    uint16 select_no;

    //用来校验菜单路径记忆是否有效
    p_ml_control->total = g_menu_title.count;
40c55260:	b246      	lw	v0,40c55378 <init_ml_control+0x124>
40c55262:	aa41      	lhu	v0,2(v0)
40c55264:	cb45      	sh	v0,10(v1)
40c55266:	a96a      	lhu	v1,20(s1)

    //初始化 p_ml_control total top list_no select 参数
    if (str_id != V_U16_INVALID)//通过字符串ID匹配菜单激活项
40c55268:	f7ff 6a1f 	li	v0,65535
40c5526c:	ea6e      	xor	v0,v1
40c5526e:	5a01      	sltiu	v0,1
40c55270:	6121      	btnez	40c552b4 <init_ml_control+0x60>
40c55272:	b242      	lw	v0,40c55378 <init_ml_control+0x124>
    {
        //匹配菜单项，决定激活项，优先放在倒数第二个
        select_no = com_get_confmenu_active(&g_menu_title, str_id);
40c55274:	a96a      	lhu	v1,20(s1)
40c55276:	6782      	move	a0,v0
40c55278:	67a3      	move	a1,v1
40c5527a:	b241      	lw	v0,40c5537c <init_ml_control+0x128>
40c5527c:	eac0      	jalrc	v0
40c5527e:	c940      	sh	v0,0(s1)
40c55280:	a960      	lhu	v1,0(s1)
        if (select_no != V_U16_INVALID)
40c55282:	f7ff 6a1f 	li	v0,65535
40c55286:	ea6e      	xor	v0,v1
40c55288:	5a01      	sltiu	v0,1
40c5528a:	610a      	btnez	40c552a0 <init_ml_control+0x4c>
40c5528c:	9964      	lw	v1,16(s1)
        {
            //匹配到激活项，根据匹配结果初始化
            p_ml_control->select = select_no;
40c5528e:	a940      	lhu	v0,0(s1)
40c55290:	cb49      	sh	v0,18(v1)
40c55292:	9964      	lw	v1,16(s1)
            p_ml_control->list_no = select_no;
40c55294:	a940      	lhu	v0,0(s1)
40c55296:	cb48      	sh	v0,16(v1)
40c55298:	9964      	lw	v1,16(s1)
            p_ml_control->top = 0;
40c5529a:	6a00      	li	v0,0
40c5529c:	cb46      	sh	v0,12(v1)
40c5529e:	1013      	b	40c552c6 <init_ml_control+0x72>
40c552a0:	9944      	lw	v0,16(s1)
        }
        else
        {
            //不能匹配到激活项，读取当前层次菜单记录记忆
            read_history_item_menu(p_ml_control);
40c552a2:	6782      	move	a0,v0
40c552a4:	1a21 545c 	jal	40c55170 <read_history_item_menu>
40c552a8:	6500      	nop
40c552aa:	9964      	lw	v1,16(s1)
            p_ml_control->select = V_U16_INVALID;
40c552ac:	6a01      	li	v0,1
40c552ae:	ea4b      	neg	v0
40c552b0:	cb49      	sh	v0,18(v1)
40c552b2:	1009      	b	40c552c6 <init_ml_control+0x72>
40c552b4:	9944      	lw	v0,16(s1)
        }
    }
    else
    {
        //读取当前层次菜单记录记忆
        read_history_item_menu(p_ml_control);
40c552b6:	6782      	move	a0,v0
40c552b8:	1a21 545c 	jal	40c55170 <read_history_item_menu>
40c552bc:	6500      	nop
40c552be:	9964      	lw	v1,16(s1)
        p_ml_control->select = V_U16_INVALID;
40c552c0:	6a01      	li	v0,1
40c552c2:	ea4b      	neg	v0
40c552c4:	cb49      	sh	v0,18(v1)
40c552c6:	9964      	lw	v1,16(s1)
    }

    //尽量让激活项处于倒数第二项
    if (p_ml_control->total > p_ml_control->one_page_count)
40c552c8:	9944      	lw	v0,16(s1)
40c552ca:	a243      	lbu	v0,3(v0)
40c552cc:	ab65      	lhu	v1,10(v1)
40c552ce:	ea31      	zeh	v0
40c552d0:	ea63      	sltu	v0,v1
40c552d2:	602e      	bteqz	40c55330 <init_ml_control+0xdc>
40c552d4:	9944      	lw	v0,16(s1)
    {
        if ((p_ml_control->list_no == (p_ml_control->total - 1)) || (1 == p_ml_control->one_page_count))//最后一项，只能停在当前页最后一项//modifed by hjh 2016-06-23
40c552d6:	aa68      	lhu	v1,16(v0)
40c552d8:	9944      	lw	v0,16(s1)
40c552da:	aa45      	lhu	v0,10(v0)
40c552dc:	424f      	addiu	v0,v0,-1
40c552de:	ea6e      	xor	v0,v1
40c552e0:	5a01      	sltiu	v0,1
40c552e2:	6107      	btnez	40c552f2 <init_ml_control+0x9e>
40c552e4:	9944      	lw	v0,16(s1)
40c552e6:	a243      	lbu	v0,3(v0)
40c552e8:	7201      	cmpi	v0,1
40c552ea:	6758      	move	v0,t8
40c552ec:	5a01      	sltiu	v0,1
40c552ee:	6101      	btnez	40c552f2 <init_ml_control+0x9e>
40c552f0:	1009      	b	40c55304 <init_ml_control+0xb0>
40c552f2:	99a4      	lw	a1,16(s1)
        {
            p_ml_control->top = p_ml_control->list_no - (p_ml_control->one_page_count - 1);
40c552f4:	9984      	lw	a0,16(s1)
40c552f6:	9944      	lw	v0,16(s1)
40c552f8:	a263      	lbu	v1,3(v0)
40c552fa:	ac48      	lhu	v0,16(a0)
40c552fc:	e26b      	subu	v0,v1
40c552fe:	4241      	addiu	v0,v0,1
40c55300:	cd46      	sh	v0,12(a1)
40c55302:	1019      	b	40c55336 <init_ml_control+0xe2>
40c55304:	9964      	lw	v1,16(s1)
        }
        else if (p_ml_control->list_no >= (uint8)(p_ml_control->one_page_count - 2))//不在最后一项，可以停在当前页倒数第二项
40c55306:	9944      	lw	v0,16(s1)
40c55308:	a243      	lbu	v0,3(v0)
40c5530a:	424e      	addiu	v0,v0,-2
40c5530c:	ea11      	zeb	v0
40c5530e:	ab68      	lhu	v1,16(v1)
40c55310:	ea31      	zeh	v0
40c55312:	eb43      	sltu	v1,v0
40c55314:	6109      	btnez	40c55328 <init_ml_control+0xd4>
40c55316:	99a4      	lw	a1,16(s1)
        {
            p_ml_control->top = p_ml_control->list_no - (p_ml_control->one_page_count - 2);
40c55318:	9984      	lw	a0,16(s1)
40c5531a:	9944      	lw	v0,16(s1)
40c5531c:	a263      	lbu	v1,3(v0)
40c5531e:	ac48      	lhu	v0,16(a0)
40c55320:	e26b      	subu	v0,v1
40c55322:	4242      	addiu	v0,v0,2
40c55324:	cd46      	sh	v0,12(a1)
40c55326:	1007      	b	40c55336 <init_ml_control+0xe2>
40c55328:	9964      	lw	v1,16(s1)
        }
        else
        {
            p_ml_control->top = 0;
40c5532a:	6a00      	li	v0,0
40c5532c:	cb46      	sh	v0,12(v1)
40c5532e:	1003      	b	40c55336 <init_ml_control+0xe2>
40c55330:	9964      	lw	v1,16(s1)
        }
    }
    else
    {
        p_ml_control->top = 0;
40c55332:	6a00      	li	v0,0
40c55334:	cb46      	sh	v0,12(v1)
40c55336:	99a4      	lw	a1,16(s1)
    }

    //初始化 p_ml_control 其他参数
    p_ml_control->bottom = p_ml_control->top + p_ml_control->one_page_count - 1;
40c55338:	9984      	lw	a0,16(s1)
40c5533a:	9944      	lw	v0,16(s1)
40c5533c:	a263      	lbu	v1,3(v0)
40c5533e:	ac46      	lhu	v0,12(a0)
40c55340:	e349      	addu	v0,v1,v0
40c55342:	424f      	addiu	v0,v0,-1
40c55344:	cd47      	sh	v0,14(a1)
40c55346:	9944      	lw	v0,16(s1)
    if (p_ml_control->bottom > (p_ml_control->total - 1))
40c55348:	aa67      	lhu	v1,14(v0)
40c5534a:	9944      	lw	v0,16(s1)
40c5534c:	aa45      	lhu	v0,10(v0)
40c5534e:	424f      	addiu	v0,v0,-1
40c55350:	ea62      	slt	v0,v1
40c55352:	6005      	bteqz	40c5535e <init_ml_control+0x10a>
40c55354:	9964      	lw	v1,16(s1)
    {
        p_ml_control->bottom = p_ml_control->total - 1;
40c55356:	9944      	lw	v0,16(s1)
40c55358:	aa45      	lhu	v0,10(v0)
40c5535a:	424f      	addiu	v0,v0,-1
40c5535c:	cb47      	sh	v0,14(v1)
40c5535e:	99a4      	lw	a1,16(s1)
    }
    p_ml_control->old = p_ml_control->active = p_ml_control->list_no - p_ml_control->top;
40c55360:	99c4      	lw	a2,16(s1)
40c55362:	9944      	lw	v0,16(s1)
40c55364:	9964      	lw	v1,16(s1)
40c55366:	aa88      	lhu	a0,16(v0)
40c55368:	ab46      	lhu	v0,12(v1)
40c5536a:	e44b      	subu	v0,a0,v0
40c5536c:	ce4a      	sh	v0,20(a2)
40c5536e:	cd4b      	sh	v0,22(a1)
40c55370:	65b9      	move	sp,s1
}
40c55372:	6452      	restore	16,ra,s1
40c55374:	e8a0      	jrc	ra
40c55376:	0000      	addiu	s0,sp,0
40c55378:	5af0      	sltiu	v0,240
40c5537a:	9fc1      	lw	a2,4(a3)
40c5537c:	4575      	daddiu	v1,a1,5
40c5537e:	4859      	addiu	s0,89

40c55380 <menu_private>:
	...
Disassembly of section BANK_CONTROL_1_50:

40c94c00 <menulist_simple_msg_deal>:
40c94c00:	64d9      	save	72,ra,s1
        menu_title_action_t *title_action);

//menulist gui app msg deal
app_result_e menulist_simple_msg_deal(menulist_control_t *p_ml_control, menu_title_action_t *title_action)
{
40c94c02:	0104      	addiu	s1,sp,16
40c94c04:	d98e      	sw	a0,56(s1)
40c94c06:	d9af      	sw	a1,60(s1)
40c94c08:	6a00      	li	v0,0
    input_gui_msg_t input_msg; //输入型消息，即gui消息
    msg_apps_type_e gui_event; //gui 消息映射事件
    private_msg_t private_msg; //私有消息
    app_result_e result = RESULT_NULL;
40c94c0a:	c950      	sh	v0,32(s1)
40c94c0c:	6791      	move	a0,s1
    menu_item_data_t *active_menu;

#ifdef PC
    menu_cb_func menu_func;
#endif

    //获取gui消息
    if (get_gui_msg(&input_msg) == TRUE)//有gui消息
40c94c0e:	b25b      	lw	v0,40c94d78 <menulist_simple_msg_deal+0x178>
40c94c10:	eac0      	jalrc	v0
40c94c12:	7201      	cmpi	v0,1
40c94c14:	6758      	move	v0,t8
40c94c16:	5a01      	sltiu	v0,1
40c94c18:	f080 600d 	bteqz	40c94d36 <menulist_simple_msg_deal+0x136>
40c94c1c:	4147      	addiu	v0,s1,7
    {
        //进行按键映射
        if (com_key_mapping(&input_msg, &gui_event, menulist_key_map_list) == TRUE)
40c94c1e:	4241      	addiu	v0,v0,1
40c94c20:	b357      	lw	v1,40c94d7c <menulist_simple_msg_deal+0x17c>
40c94c22:	6791      	move	a0,s1
40c94c24:	67a2      	move	a1,v0
40c94c26:	67c3      	move	a2,v1
40c94c28:	b256      	lw	v0,40c94d80 <menulist_simple_msg_deal+0x180>
40c94c2a:	eac0      	jalrc	v0
40c94c2c:	7201      	cmpi	v0,1
40c94c2e:	6758      	move	v0,t8
40c94c30:	5a01      	sltiu	v0,1
40c94c32:	f080 601b 	bteqz	40c94d6c <menulist_simple_msg_deal+0x16c>
40c94c36:	a944      	lhu	v0,8(s1)
        {
            //GUI按键消息处理
            switch (gui_event)
40c94c38:	f1fb 4a1f 	addiu	v0,-9729
40c94c3c:	d94a      	sw	v0,40(s1)
40c94c3e:	994a      	lw	v0,40(s1)
40c94c40:	5a05      	sltiu	v0,5
40c94c42:	6068      	bteqz	40c94d14 <menulist_simple_msg_deal+0x114>
40c94c44:	994a      	lw	v0,40(s1)
40c94c46:	3344      	sll	v1,v0,1
40c94c48:	0a04      	la	v0,40c94c58 <menulist_simple_msg_deal+0x58>
40c94c4a:	e349      	addu	v0,v1,v0
40c94c4c:	aa40      	lhu	v0,0(v0)
40c94c4e:	6762      	move	v1,v0
40c94c50:	ebb1      	seh	v1
40c94c52:	b24f      	lw	v0,40c94d8c <menulist_simple_msg_deal+0x18c>
40c94c54:	e349      	addu	v0,v1,v0
40c94c56:	ea80      	jrc	v0
40c94c58:	000b      	addiu	s0,sp,44
40c94c5a:	0017      	addiu	s0,sp,92
40c94c5c:	0023      	addiu	s0,sp,140
40c94c5e:	00b3      	addiu	s0,sp,716
40c94c60:	00b3      	addiu	s0,sp,716
40c94c62:	994e      	lw	v0,56(s1)
            {
                case EVENT_MENULIST_SELECT_NEXT:
                //切换到下一个菜单项
                menulist_select_next(p_ml_control);
40c94c64:	6782      	move	a0,v0
40c94c66:	1bd0 5100 	jal	48794400 <menulist_select_next>
40c94c6a:	6500      	nop
40c94c6c:	107f      	b	40c94d6c <menulist_simple_msg_deal+0x16c>
                break;
40c94c6e:	994e      	lw	v0,56(s1)

                case EVENT_MENULIST_SELECT_PREV:
                //切换到上一个菜单项
                menulist_select_prev(p_ml_control);
40c94c70:	6782      	move	a0,v0
40c94c72:	1bd0 5147 	jal	4879451c <menulist_select_prev>
40c94c76:	6500      	nop
40c94c78:	1079      	b	40c94d6c <menulist_simple_msg_deal+0x16c>
                break;
40c94c7a:	994e      	lw	v0,56(s1)

                case EVENT_MENULIST_ENTER_SON:
                active_menu = &g_menu_items[p_ml_control->active];
40c94c7c:	aa6a      	lhu	v1,20(v0)
40c94c7e:	6743      	move	v0,v1
40c94c80:	3248      	sll	v0,2
40c94c82:	e269      	addu	v0,v1
40c94c84:	3348      	sll	v1,v0,2
40c94c86:	b240      	lw	v0,40c94d84 <menulist_simple_msg_deal+0x184>
40c94c88:	e349      	addu	v0,v1,v0
40c94c8a:	d949      	sw	v0,36(s1)
40c94c8c:	9949      	lw	v0,36(s1)
                //进入叶子菜单处理
                if ((active_menu->child_index & MENU_TYPE_LEAF) == MENU_TYPE_LEAF)
40c94c8e:	aa60      	lhu	v1,0(v0)
40c94c90:	f7ef 6a1f 	li	v0,32767
40c94c94:	ea6c      	and	v0,v1
40c94c96:	f7ef 721f 	cmpi	v0,32767
40c94c9a:	6758      	move	v0,t8
40c94c9c:	5a01      	sltiu	v0,1
40c94c9e:	6030      	bteqz	40c94d00 <menulist_simple_msg_deal+0x100>
40c94ca0:	994f      	lw	v0,60(s1)
                {
                    __init_action_title(title_action);
40c94ca2:	6782      	move	a0,v0
40c94ca4:	1a41 542a 	jal	40c950a8 <__init_action_title>
40c94ca8:	6500      	nop
40c94caa:	9949      	lw	v0,36(s1)
#ifndef PC
                    result = active_menu->menu_func(title_action);
40c94cac:	996f      	lw	v1,60(s1)
40c94cae:	9a42      	lw	v0,8(v0)
40c94cb0:	6783      	move	a0,v1
40c94cb2:	eac0      	jalrc	v0
40c94cb4:	c950      	sh	v0,32(s1)
40c94cb6:	a970      	lhu	v1,32(s1)
#else
                    menu_func = this_get_menu_func(active_menu->str_id, active_menu->str_id_sub);
                    result = menu_func(title_action);
#endif

                    if ((result == RESULT_MENU_EXIT) || (result == RESULT_MENU_PARENT) || (result == RESULT_MENU_CUR)
40c94cb8:	f210 6a05 	li	v0,33285
40c94cbc:	ea6e      	xor	v0,v1
40c94cbe:	5a01      	sltiu	v0,1
40c94cc0:	611a      	btnez	40c94cf6 <menulist_simple_msg_deal+0xf6>
40c94cc2:	a970      	lhu	v1,32(s1)
40c94cc4:	f210 6a01 	li	v0,33281
40c94cc8:	ea6e      	xor	v0,v1
40c94cca:	5a01      	sltiu	v0,1
40c94ccc:	6114      	btnez	40c94cf6 <menulist_simple_msg_deal+0xf6>
40c94cce:	a970      	lhu	v1,32(s1)
40c94cd0:	f210 6a03 	li	v0,33283
40c94cd4:	ea6e      	xor	v0,v1
40c94cd6:	5a01      	sltiu	v0,1
40c94cd8:	610e      	btnez	40c94cf6 <menulist_simple_msg_deal+0xf6>
40c94cda:	a970      	lhu	v1,32(s1)
40c94cdc:	f210 6a04 	li	v0,33284
40c94ce0:	ea6e      	xor	v0,v1
40c94ce2:	5a01      	sltiu	v0,1
40c94ce4:	6108      	btnez	40c94cf6 <menulist_simple_msg_deal+0xf6>
40c94ce6:	a970      	lhu	v1,32(s1)
40c94ce8:	f010 6a14 	li	v0,32788
40c94cec:	ea6e      	xor	v0,v1
40c94cee:	5a01      	sltiu	v0,1
40c94cf0:	6102      	btnez	40c94cf6 <menulist_simple_msg_deal+0xf6>
40c94cf2:	a950      	lhu	v0,32(s1)
40c94cf4:	2a3b      	bnez	v0,40c94d6c <menulist_simple_msg_deal+0x16c>
40c94cf6:	f7ef 6a0c 	li	v0,32748
                            || (result == RESULT_MENU_REDRAW_PARENT) || (result == RESULT_REDRAW) || (result
                            == RESULT_NULL))
                    {
                        result = RESULT_REDRAW;
40c94cfa:	ea4b      	neg	v0
40c94cfc:	c950      	sh	v0,32(s1)
40c94cfe:	1036      	b	40c94d6c <menulist_simple_msg_deal+0x16c>
40c94d00:	f7ef 6a0c 	li	v0,32748
                    }
                }
                else//只支持叶子菜单项，根菜单项不做处理，立即退出
                {
                    //退出菜单管理器
                    result = RESULT_REDRAW;
40c94d04:	ea4b      	neg	v0
40c94d06:	c950      	sh	v0,32(s1)
40c94d08:	1031      	b	40c94d6c <menulist_simple_msg_deal+0x16c>
                }
                break;
40c94d0a:	f7ef 6a0c 	li	v0,32748

                case EVENT_MENULIST_BACK_PARENT:
                case EVENT_MENULIST_ENTER_OPTION://option事件当作parent事件处理
                //退出菜单管理器
                result = RESULT_REDRAW;
40c94d0e:	ea4b      	neg	v0
40c94d10:	c950      	sh	v0,32(s1)
40c94d12:	102c      	b	40c94d6c <menulist_simple_msg_deal+0x16c>
                break;
40c94d14:	a944      	lhu	v0,8(s1)

                default:
                result = com_message_box(gui_event);
40c94d16:	6782      	move	a0,v0
40c94d18:	b21c      	lw	v0,40c94d88 <menulist_simple_msg_deal+0x188>
40c94d1a:	eac0      	jalrc	v0
40c94d1c:	c950      	sh	v0,32(s1)
40c94d1e:	a970      	lhu	v1,32(s1)
                if (result == RESULT_REDRAW)
40c94d20:	f010 6a14 	li	v0,32788
40c94d24:	ea6e      	xor	v0,v1
40c94d26:	5a01      	sltiu	v0,1
40c94d28:	6021      	bteqz	40c94d6c <menulist_simple_msg_deal+0x16c>
40c94d2a:	994e      	lw	v0,56(s1)
                {
                    p_ml_control->draw_mode = LIST_DRAW_ALL;
40c94d2c:	6b03      	li	v1,3
40c94d2e:	c279      	sb	v1,25(v0)
40c94d30:	6a00      	li	v0,0
                    result = RESULT_NULL;//不退出控件
40c94d32:	c950      	sh	v0,32(s1)
40c94d34:	101b      	b	40c94d6c <menulist_simple_msg_deal+0x16c>
                }
                break;
40c94d36:	4147      	addiu	v0,s1,7
            }
        }
    }
    else
    {
        //到此，gui消息队列已经处理完毕
        //处理ap私有消息和系统消息
        if (get_app_msg(&private_msg) == TRUE)
40c94d38:	4a09      	addiu	v0,9
40c94d3a:	6782      	move	a0,v0
40c94d3c:	b215      	lw	v0,40c94d90 <menulist_simple_msg_deal+0x190>
40c94d3e:	eac0      	jalrc	v0
40c94d40:	7201      	cmpi	v0,1
40c94d42:	6758      	move	v0,t8
40c94d44:	5a01      	sltiu	v0,1
40c94d46:	6012      	bteqz	40c94d6c <menulist_simple_msg_deal+0x16c>
40c94d48:	b213      	lw	v0,40c94d94 <menulist_simple_msg_deal+0x194>
        {
            result = g_this_app_msg_dispatch(&private_msg);
40c94d4a:	4167      	addiu	v1,s1,7
40c94d4c:	4b09      	addiu	v1,9
40c94d4e:	9a40      	lw	v0,0(v0)
40c94d50:	6783      	move	a0,v1
40c94d52:	eac0      	jalrc	v0
40c94d54:	c950      	sh	v0,32(s1)
40c94d56:	a970      	lhu	v1,32(s1)
            if (result == RESULT_REDRAW)
40c94d58:	f010 6a14 	li	v0,32788
40c94d5c:	ea6e      	xor	v0,v1
40c94d5e:	5a01      	sltiu	v0,1
40c94d60:	6005      	bteqz	40c94d6c <menulist_simple_msg_deal+0x16c>
40c94d62:	994e      	lw	v0,56(s1)
            {
                //界面显示提示，返回重绘UI
                p_ml_control->draw_mode = LIST_DRAW_ALL;
40c94d64:	6b03      	li	v1,3
40c94d66:	c279      	sb	v1,25(v0)
40c94d68:	6a00      	li	v0,0
                result = RESULT_NULL;//不退出控件
40c94d6a:	c950      	sh	v0,32(s1)
40c94d6c:	a950      	lhu	v0,32(s1)
            }
        }
    }

    return result;
40c94d6e:	651a      	move	t8,v0
40c94d70:	6758      	move	v0,t8
}
40c94d72:	65b9      	move	sp,s1
40c94d74:	6457      	restore	56,ra,s1
40c94d76:	e8a0      	jrc	ra
40c94d78:	66d5      	0x66d5
40c94d7a:	bfc1      	lwu	a2,4(a3)
40c94d7c:	4684      	addiu	a0,a2,4
40c94d7e:	4855      	addiu	s0,85
40c94d80:	47ad      	addiu	a1,a3,-3
40c94d82:	4855      	addiu	s0,85
40c94d84:	5afc      	sltiu	v0,252
40c94d86:	9fc1      	lw	a2,4(a3)
40c94d88:	4601      	addiu	s0,a2,1
40c94d8a:	48bd      	addiu	s0,-67
40c94d8c:	4c58      	addiu	a0,88
40c94d8e:	40c9      	addiu	a2,s0,-7
40c94d90:	6741      	move	v0,at
40c94d92:	bfc1      	lwu	a2,4(a3)
40c94d94:	a1f8      	lbu	a3,24(s1)
40c94d96:	9fc1      	lw	a2,4(a3)

40c94d98 <gui_menulist_simple>:
40c94d98:	64dc      	save	96,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *    菜单列表控件控制流实现。
 * \param[in]    style_id ui editor工具设计的菜单列表控件模板
 * \param[in]    menu_com 指向菜单列表控件初始化结构体变量，是上层对菜单列表的控制命令或参数
 * \param[out]   none
 * \return       app_result_e
 * \retval           RESULT_MENU_EXIT （仅在内部使用的消息）退出菜单返回，不论在哪一级菜单，都可以直接退出到调用者
 * \retval           RESULT_MENU_PARENT （仅在内部使用的消息）退回上一级，叶子菜单项的确定函数返回
 * \retval           RESULT_MENU_CUR （仅在内部使用的消息）重新进入当前级菜单，在执行确定函数后要进入动态菜单时返回
 * \retval           RESULT_MENU_SON （仅在内部使用的消息）进入下一级，根菜单项的确定函数返回，或返回RESULT_NULL
 * \retval           RESULT_MENU_REDRAW_PARENT （仅在内部使用的消息）重绘菜单后返回上一级，比如选择风格后
 * \retval           RESULT_MENU_REDRAW （仅在内部使用的消息）重新加载菜单，用于嵌套调用 menulist 返回
 * \retval           RESULT_REDRAW （逐级）取消，或直接退出菜单等返回AP，重绘UI
 * \retval           other 收到返回值不为 RESULT_NULL 应用消息返回，见 app_result_e 定义
 * \ingroup      controls
 * \par          exmaple code
 * \code
 menu_com_data_t menu_com;
 app_result_e result;

 menu_com.app_id = APP_ID_MUSIC;
 menu_com.menu_entry = MENU_MUSIC_PLAY;
 menu_com.path_id = PATH_ID_MUSIC_PLAY;
 menu_com.browse_mode = 0;//只支持从入口菜单开始浏览
 menu_com.menu_func = NULL;
 result = gui_menulist_simple(MENULIST_OPTION, &menu_com);
 if(result == RESULT_REDRAW)//菜单列表正常退出，重绘UI
 {

 }
 else//其他返回结果，需要做特殊处理
 {

 }
 * \endcode
 * \note
 *******************************************************************************/
app_result_e gui_menulist_simple(uint16 style_id, menu_com_data_t *menu_com)
{
40c94d9a:	0104      	addiu	s1,sp,16
40c94d9c:	6744      	move	v0,a0
40c94d9e:	d9b5      	sw	a1,84(s1)
40c94da0:	f040 c950 	sh	v0,80(s1)
40c94da4:	6a00      	li	v0,0
    menulist_control_t ml_control; //菜单列表控制结构体
    menu_title_action_t title_action;
    style_infor_t style_infor;

    app_result_e result = RESULT_NULL;
40c94da6:	f040 c940 	sh	v0,64(s1)
40c94daa:	6a01      	li	v0,1

    uint8 cur_menu_id; //当前菜单id
    int8 scroll_timer = -1;
40c94dac:	ea4b      	neg	v0
40c94dae:	f040 c143 	sb	v0,67(s1)
40c94db2:	1a41 53ee 	jal	40c94fb8 <get_app_timer_tag>
    uint8 tag_backup;
    uint8 mode_backup, icon_backup;

    tag_backup = get_app_timer_tag();
40c94db6:	6500      	nop
40c94db8:	f040 c144 	sb	v0,68(s1)
40c94dbc:	6c87      	li	a0,135
    change_app_timer_tag(APP_TIEMR_TAG_MENU_SIMPLE);
40c94dbe:	1a41 53e8 	jal	40c94fa0 <change_app_timer_tag>
40c94dc2:	6500      	nop
40c94dc4:	4147      	addiu	v0,s1,7

    gui_get_headbar_mode(&mode_backup, &icon_backup);
40c94dc6:	4a3e      	addiu	v0,62
40c94dc8:	4167      	addiu	v1,s1,7
40c94dca:	4b3f      	addiu	v1,63
40c94dcc:	6782      	move	a0,v0
40c94dce:	67a3      	move	a1,v1
40c94dd0:	b265      	lw	v0,40c94f64 <gui_menulist_simple+0x1cc>
40c94dd2:	eac0      	jalrc	v0
40c94dd4:	f040 a950 	lhu	v0,80(s1)

    //初始化菜单控制结构体
    ml_control.style_id = style_id;
40c94dd8:	c940      	sh	v0,0(s1)
40c94dda:	6a00      	li	v0,0
    ml_control.stack_pointer = 0;
40c94ddc:	c142      	sb	v0,2(s1)
40c94dde:	6a03      	li	v0,3
    ml_control.draw_mode = LIST_DRAW_ALL;
40c94de0:	c159      	sb	v0,25(s1)
40c94de2:	4147      	addiu	v0,s1,7
    __init_action_title(&title_action);
40c94de4:	4a19      	addiu	v0,25
40c94de6:	6782      	move	a0,v0
40c94de8:	1a41 542a 	jal	40c950a8 <__init_action_title>
40c94dec:	6500      	nop
40c94dee:	f040 a950 	lhu	v0,80(s1)
    title_action.style_id = style_id;
40c94df2:	c950      	sh	v0,32(s1)
40c94df4:	9955      	lw	v0,84(s1)

    //执行该函数，可以实现一些特殊功能，比如修改菜单标题或菜单项字符串等
    if (menu_com->menu_func != NULL)
40c94df6:	9a41      	lw	v0,4(v0)
40c94df8:	2206      	beqz	v0,40c94e06 <gui_menulist_simple+0x6e>
40c94dfa:	9955      	lw	v0,84(s1)
    {
        menu_com->menu_func(&title_action);
40c94dfc:	4167      	addiu	v1,s1,7
40c94dfe:	4b19      	addiu	v1,25
40c94e00:	9a41      	lw	v0,4(v0)
40c94e02:	6783      	move	a0,v1
40c94e04:	eac0      	jalrc	v0
40c94e06:	9955      	lw	v0,84(s1)
    }

    cur_menu_id = menu_com->menu_entry;
40c94e08:	a241      	lbu	v0,1(v0)
40c94e0a:	f040 c142 	sb	v0,66(s1)
40c94e0e:	6a01      	li	v0,1
    ml_control.enter_menu = TRUE;
40c94e10:	c15a      	sb	v0,26(s1)
40c94e12:	a159      	lbu	v0,25(s1)

    //进入菜单循环
    while (1)
    {
        if (ml_control.draw_mode != LIST_DRAW_NULL)//更新列表
40c94e14:	2279      	beqz	v0,40c94f08 <gui_menulist_simple+0x170>
40c94e16:	f040 a950 	lhu	v0,80(s1)
        {
            //至此，要求 menu_stack 和 title_action 为当前层次菜单控制信息，否则就会出错
            style_infor.style_id = style_id;
40c94e1a:	c95c      	sh	v0,56(s1)
40c94e1c:	6a01      	li	v0,1
            style_infor.type = UI_COM;
40c94e1e:	f020 c15a 	sb	v0,58(s1)
40c94e22:	4147      	addiu	v0,s1,7

            //加载 listbox 控件属性参数
            ui_get_listbox_attrb(&style_infor, &ml_control.one_page_count, 0);
40c94e24:	4a31      	addiu	v0,49
40c94e26:	4163      	addiu	v1,s1,3
40c94e28:	6782      	move	a0,v0
40c94e2a:	67a3      	move	a1,v1
40c94e2c:	6e00      	li	a2,0
40c94e2e:	6f0e      	li	a3,14
40c94e30:	b24e      	lw	v0,40c94f68 <gui_menulist_simple+0x1d0>
40c94e32:	eac0      	jalrc	v0
40c94e34:	a15a      	lbu	v0,26(s1)

            if (ml_control.enter_menu == TRUE)
40c94e36:	7201      	cmpi	v0,1
40c94e38:	6758      	move	v0,t8
40c94e3a:	5a01      	sltiu	v0,1
40c94e3c:	6007      	bteqz	40c94e4c <gui_menulist_simple+0xb4>
40c94e3e:	f040 a142 	lbu	v0,66(s1)
            {
                //加载菜单头并初始化 ml_control
                __load_conf_title_simple(&ml_control, cur_menu_id);
40c94e42:	6791      	move	a0,s1
40c94e44:	67a2      	move	a1,v0
40c94e46:	1a41 53f4 	jal	40c94fd0 <__load_conf_title_simple>
40c94e4a:	6500      	nop
40c94e4c:	6791      	move	a0,s1
            }

            //加载一页菜单项
            __load_conf_item_simple(&ml_control);
40c94e4e:	1a41 5411 	jal	40c95044 <__load_conf_item_simple>
40c94e52:	6500      	nop
40c94e54:	1a41 53e2 	jal	40c94f88 <get_screensave_state>

            //显示菜单列表
            if (get_screensave_state() == FALSE)
40c94e58:	6500      	nop
40c94e5a:	651a      	move	t8,v0
40c94e5c:	6151      	btnez	40c94f00 <gui_menulist_simple+0x168>
40c94e5e:	a159      	lbu	v0,25(s1)
            {
                if (ml_control.draw_mode == LIST_DRAW_ALL)
40c94e60:	7203      	cmpi	v0,3
40c94e62:	6758      	move	v0,t8
40c94e64:	5a01      	sltiu	v0,1
40c94e66:	601c      	bteqz	40c94ea0 <gui_menulist_simple+0x108>
40c94e68:	f040 a950 	lhu	v0,80(s1)
                {
                    if ((style_id == MENULIST) || (style_id == MENULIST_TITLE))
40c94e6c:	f00c 7202 	cmpi	v0,24578
40c94e70:	6758      	move	v0,t8
40c94e72:	5a01      	sltiu	v0,1
40c94e74:	6108      	btnez	40c94e86 <gui_menulist_simple+0xee>
40c94e76:	f040 a950 	lhu	v0,80(s1)
40c94e7a:	f00c 7204 	cmpi	v0,24580
40c94e7e:	6758      	move	v0,t8
40c94e80:	5a01      	sltiu	v0,1
40c94e82:	6101      	btnez	40c94e86 <gui_menulist_simple+0xee>
40c94e84:	1007      	b	40c94e94 <gui_menulist_simple+0xfc>
40c94e86:	b23a      	lw	v0,40c94f6c <gui_menulist_simple+0x1d4>
                    {
                        gui_set_headbar_mode(HEADBAR_MODE_NORMAL, this_headbar_icon_id);
40c94e88:	a240      	lbu	v0,0(v0)
40c94e8a:	6c01      	li	a0,1
40c94e8c:	67a2      	move	a1,v0
40c94e8e:	b239      	lw	v0,40c94f70 <gui_menulist_simple+0x1d8>
40c94e90:	eac0      	jalrc	v0
40c94e92:	1006      	b	40c94ea0 <gui_menulist_simple+0x108>
40c94e94:	b236      	lw	v0,40c94f6c <gui_menulist_simple+0x1d4>
                    }
                    else
                    {
                        gui_set_headbar_mode(HEADBAR_MODE_NULL, this_headbar_icon_id);
40c94e96:	a240      	lbu	v0,0(v0)
40c94e98:	6c00      	li	a0,0
40c94e9a:	67a2      	move	a1,v0
40c94e9c:	b235      	lw	v0,40c94f70 <gui_menulist_simple+0x1d8>
40c94e9e:	eac0      	jalrc	v0
40c94ea0:	b235      	lw	v0,40c94f70 <gui_menulist_simple+0x1d8>
                    }
                }

                update_menulist_private(&ml_control, &menu_private, &title_action);
40c94ea2:	4167      	addiu	v1,s1,7
40c94ea4:	4b19      	addiu	v1,25
40c94ea6:	6791      	move	a0,s1
40c94ea8:	67a2      	move	a1,v0
40c94eaa:	67c3      	move	a2,v1
40c94eac:	1bd0 518f 	jal	4879463c <update_menulist_private>
40c94eb0:	6500      	nop
40c94eb2:	4147      	addiu	v0,s1,7
                if (ui_show_listbox(&style_infor, &menu_private, (uint32) ml_control.draw_mode) == UI_NEED_SCROLL)
40c94eb4:	4a31      	addiu	v0,49
40c94eb6:	b330      	lw	v1,40c94f74 <gui_menulist_simple+0x1dc>
40c94eb8:	a1d9      	lbu	a2,25(s1)
40c94eba:	6782      	move	a0,v0
40c94ebc:	67a3      	move	a1,v1
40c94ebe:	6f08      	li	a3,8
40c94ec0:	b22a      	lw	v0,40c94f68 <gui_menulist_simple+0x1d0>
40c94ec2:	eac0      	jalrc	v0
40c94ec4:	ea11      	zeb	v0
40c94ec6:	7202      	cmpi	v0,2
40c94ec8:	6758      	move	v0,t8
40c94eca:	5a01      	sltiu	v0,1
40c94ecc:	6010      	bteqz	40c94eee <gui_menulist_simple+0x156>
40c94ece:	f040 8163 	lb	v1,67(s1)
                {
                    if (scroll_timer == -1)//未创建，创建
40c94ed2:	6a01      	li	v0,1
40c94ed4:	ea4b      	neg	v0
40c94ed6:	ea6e      	xor	v0,v1
40c94ed8:	5a01      	sltiu	v0,1
40c94eda:	6012      	bteqz	40c94f00 <gui_menulist_simple+0x168>
40c94edc:	b227      	lw	v0,40c94f78 <gui_menulist_simple+0x1e0>
                    {
                        scroll_timer = set_app_timer(APP_TIMER_ATTRB_UI, 80, __menulist_scroll_handle);
40c94ede:	6c00      	li	a0,0
40c94ee0:	6d50      	li	a1,80
40c94ee2:	67c2      	move	a2,v0
40c94ee4:	b226      	lw	v0,40c94f7c <gui_menulist_simple+0x1e4>
40c94ee6:	eac0      	jalrc	v0
40c94ee8:	f040 c143 	sb	v0,67(s1)
40c94eec:	1009      	b	40c94f00 <gui_menulist_simple+0x168>
40c94eee:	f040 8143 	lb	v0,67(s1)
                    }
                }
                else
                {
                    //删除定时器，即使没创建也没问题
                    kill_app_timer(scroll_timer);
40c94ef2:	6782      	move	a0,v0
40c94ef4:	b223      	lw	v0,40c94f80 <gui_menulist_simple+0x1e8>
40c94ef6:	eac0      	jalrc	v0
40c94ef8:	6a01      	li	v0,1
                    scroll_timer = -1;
40c94efa:	ea4b      	neg	v0
40c94efc:	f040 c143 	sb	v0,67(s1)
40c94f00:	6a00      	li	v0,0
                }
            }

            ml_control.enter_menu = FALSE;
40c94f02:	c15a      	sb	v0,26(s1)
40c94f04:	6a00      	li	v0,0
            ml_control.draw_mode = LIST_DRAW_NULL;
40c94f06:	c159      	sb	v0,25(s1)
40c94f08:	4147      	addiu	v0,s1,7
        }

        result = menulist_simple_msg_deal(&ml_control, &title_action);
40c94f0a:	4a19      	addiu	v0,25
40c94f0c:	6791      	move	a0,s1
40c94f0e:	67a2      	move	a1,v0
40c94f10:	1a41 5300 	jal	40c94c00 <menulist_simple_msg_deal>
40c94f14:	6500      	nop
40c94f16:	f040 c940 	sh	v0,64(s1)
40c94f1a:	f040 a940 	lhu	v0,64(s1)
        if (result != RESULT_NULL)
40c94f1e:	2201      	beqz	v0,40c94f22 <gui_menulist_simple+0x18a>
40c94f20:	1007      	b	40c94f30 <gui_menulist_simple+0x198>
        {
            break;
40c94f22:	6c01      	li	a0,1
        }

        //挂起10ms，多任务调度
        sys_os_time_dly(1);
40c94f24:	6d00      	li	a1,0
40c94f26:	6e00      	li	a2,0
40c94f28:	6f31      	li	a3,49
40c94f2a:	b217      	lw	v0,40c94f84 <gui_menulist_simple+0x1ec>
40c94f2c:	eac0      	jalrc	v0
40c94f2e:	1771      	b	40c94e12 <gui_menulist_simple+0x7a>
40c94f30:	f040 8143 	lb	v0,67(s1)
    }

    kill_app_timer(scroll_timer);
40c94f34:	6782      	move	a0,v0
40c94f36:	b213      	lw	v0,40c94f80 <gui_menulist_simple+0x1e8>
40c94f38:	eac0      	jalrc	v0
40c94f3a:	f040 a144 	lbu	v0,68(s1)
    change_app_timer_tag(tag_backup);
40c94f3e:	6782      	move	a0,v0
40c94f40:	1a41 53e8 	jal	40c94fa0 <change_app_timer_tag>
40c94f44:	6500      	nop
40c94f46:	f040 a145 	lbu	v0,69(s1)
    gui_set_headbar_mode(mode_backup, icon_backup);
40c94f4a:	f040 a166 	lbu	v1,70(s1)
40c94f4e:	6782      	move	a0,v0
40c94f50:	67a3      	move	a1,v1
40c94f52:	b208      	lw	v0,40c94f70 <gui_menulist_simple+0x1d8>
40c94f54:	eac0      	jalrc	v0
40c94f56:	f040 a940 	lhu	v0,64(s1)
    return result;
40c94f5a:	651a      	move	t8,v0
40c94f5c:	6758      	move	v0,t8
}
40c94f5e:	65b9      	move	sp,s1
40c94f60:	645a      	restore	80,ra,s1
40c94f62:	e8a0      	jrc	ra
40c94f64:	4695      	daddiu	a0,a2,5
40c94f66:	4885      	addiu	s0,-123
40c94f68:	6bb1      	li	v1,177
40c94f6a:	bfc1      	lwu	a2,4(a3)
40c94f6c:	5bac      	sltiu	v1,172
40c94f6e:	9fc1      	lw	a2,4(a3)
40c94f70:	4601      	addiu	s0,a2,1
40c94f72:	4885      	addiu	s0,-123
40c94f74:	50e8      	slti	s0,232
40c94f76:	40c9      	addiu	a2,s0,-7
40c94f78:	50cd      	slti	s0,205
40c94f7a:	40c9      	addiu	a2,s0,-7
40c94f7c:	4601      	addiu	s0,a2,1
40c94f7e:	4845      	addiu	s0,69
40c94f80:	473d      	daddiu	s1,a3,-3
40c94f82:	4845      	addiu	s0,69
40c94f84:	640d      	restore	104
40c94f86:	bfc1      	lwu	a2,4(a3)

40c94f88 <get_screensave_state>:
40c94f88:	6491      	save	8,s1
40c94f8a:	673d      	move	s1,sp
40c94f8c:	b204      	lw	v0,40c94f9c <get_screensave_state+0x14>
40c94f8e:	a24a      	lbu	v0,10(v0)
40c94f90:	651a      	move	t8,v0
40c94f92:	6758      	move	v0,t8
40c94f94:	65b9      	move	sp,s1
40c94f96:	6411      	restore	8,s1
40c94f98:	e8a0      	jrc	ra
40c94f9a:	0000      	addiu	s0,sp,0
40c94f9c:	a1b8      	lbu	a1,24(s1)
40c94f9e:	9fc1      	lw	a2,4(a3)

40c94fa0 <change_app_timer_tag>:
40c94fa0:	6491      	save	8,s1
40c94fa2:	673d      	move	s1,sp
40c94fa4:	6744      	move	v0,a0
40c94fa6:	c148      	sb	v0,8(s1)
40c94fa8:	b303      	lw	v1,40c94fb4 <change_app_timer_tag+0x14>
40c94faa:	a148      	lbu	v0,8(s1)
40c94fac:	c340      	sb	v0,0(v1)
40c94fae:	65b9      	move	sp,s1
40c94fb0:	6411      	restore	8,s1
40c94fb2:	e8a0      	jrc	ra
40c94fb4:	a200      	lbu	s0,0(v0)
40c94fb6:	9fc1      	lw	a2,4(a3)

40c94fb8 <get_app_timer_tag>:
40c94fb8:	6491      	save	8,s1
40c94fba:	673d      	move	s1,sp
40c94fbc:	b204      	lw	v0,40c94fcc <get_app_timer_tag+0x14>
40c94fbe:	a240      	lbu	v0,0(v0)
40c94fc0:	651a      	move	t8,v0
40c94fc2:	6758      	move	v0,t8
40c94fc4:	65b9      	move	sp,s1
40c94fc6:	6411      	restore	8,s1
40c94fc8:	e8a0      	jrc	ra
40c94fca:	0000      	addiu	s0,sp,0
40c94fcc:	a200      	lbu	s0,0(v0)
40c94fce:	9fc1      	lw	a2,4(a3)

40c94fd0 <__load_conf_title_simple>:
40c94fd0:	64d3      	save	24,ra,s1

/*! \endcond */

/*! \cond */

//加载菜单头并初始化 ml_control
static void __load_conf_title_simple(menulist_control_t *p_ml_control, uint8 menu_id)
{
40c94fd2:	0104      	addiu	s1,sp,16
40c94fd4:	d982      	sw	a0,8(s1)
40c94fd6:	6745      	move	v0,a1
40c94fd8:	c14c      	sb	v0,12(s1)
40c94fda:	a14c      	lbu	v0,12(s1)
    //加载菜单头结构体
    com_get_confmenu_title(menu_id, &g_menu_title);
40c94fdc:	b318      	lw	v1,40c9503c <__load_conf_title_simple+0x6c>
40c94fde:	6782      	move	a0,v0
40c94fe0:	67a3      	move	a1,v1
40c94fe2:	b218      	lw	v0,40c95040 <__load_conf_title_simple+0x70>
40c94fe4:	eac0      	jalrc	v0
40c94fe6:	9962      	lw	v1,8(s1)

    //初始化 ml_control
    p_ml_control->select = 0;
40c94fe8:	6a00      	li	v0,0
40c94fea:	cb49      	sh	v0,18(v1)
40c94fec:	9962      	lw	v1,8(s1)
    p_ml_control->list_no = 0;
40c94fee:	6a00      	li	v0,0
40c94ff0:	cb48      	sh	v0,16(v1)
40c94ff2:	9962      	lw	v1,8(s1)
    p_ml_control->top = 0;
40c94ff4:	6a00      	li	v0,0
40c94ff6:	cb46      	sh	v0,12(v1)
40c94ff8:	9962      	lw	v1,8(s1)
    p_ml_control->total = g_menu_title.count;
40c94ffa:	b211      	lw	v0,40c9503c <__load_conf_title_simple+0x6c>
40c94ffc:	aa41      	lhu	v0,2(v0)
40c94ffe:	cb45      	sh	v0,10(v1)
40c95000:	99a2      	lw	a1,8(s1)
    p_ml_control->bottom = p_ml_control->top + p_ml_control->one_page_count - 1;
40c95002:	9982      	lw	a0,8(s1)
40c95004:	9942      	lw	v0,8(s1)
40c95006:	a263      	lbu	v1,3(v0)
40c95008:	ac46      	lhu	v0,12(a0)
40c9500a:	e349      	addu	v0,v1,v0
40c9500c:	424f      	addiu	v0,v0,-1
40c9500e:	cd47      	sh	v0,14(a1)
40c95010:	9942      	lw	v0,8(s1)
    if (p_ml_control->bottom > (p_ml_control->total - 1))
40c95012:	aa67      	lhu	v1,14(v0)
40c95014:	9942      	lw	v0,8(s1)
40c95016:	aa45      	lhu	v0,10(v0)
40c95018:	424f      	addiu	v0,v0,-1
40c9501a:	ea62      	slt	v0,v1
40c9501c:	6005      	bteqz	40c95028 <__load_conf_title_simple+0x58>
40c9501e:	9962      	lw	v1,8(s1)
    {
        p_ml_control->bottom = p_ml_control->total - 1;
40c95020:	9942      	lw	v0,8(s1)
40c95022:	aa45      	lhu	v0,10(v0)
40c95024:	424f      	addiu	v0,v0,-1
40c95026:	cb47      	sh	v0,14(v1)
40c95028:	9982      	lw	a0,8(s1)
    }
    p_ml_control->old = p_ml_control->active = 0;
40c9502a:	9962      	lw	v1,8(s1)
40c9502c:	6a00      	li	v0,0
40c9502e:	cb4a      	sh	v0,20(v1)
40c95030:	6a00      	li	v0,0
40c95032:	cc4b      	sh	v0,22(a0)
40c95034:	65b9      	move	sp,s1
}
40c95036:	6451      	restore	8,ra,s1
40c95038:	e8a0      	jrc	ra
40c9503a:	0000      	addiu	s0,sp,0
40c9503c:	5af0      	sltiu	v0,240
40c9503e:	9fc1      	lw	a2,4(a3)
40c95040:	44a9      	addiu	a1,a0,-7
40c95042:	4859      	addiu	s0,89

40c95044 <__load_conf_item_simple>:
40c95044:	64d4      	save	32,ra,s1

//加载一页菜单项
static void __load_conf_item_simple(menulist_control_t *p_ml_control)
{
40c95046:	0104      	addiu	s1,sp,16
40c95048:	d984      	sw	a0,16(s1)
40c9504a:	6a00      	li	v0,0
    uint8 i;

    for (i = 0; i < p_ml_control->one_page_count; i++)
40c9504c:	c140      	sb	v0,0(s1)
40c9504e:	9944      	lw	v0,16(s1)
40c95050:	a263      	lbu	v1,3(v0)
40c95052:	a140      	lbu	v0,0(s1)
40c95054:	ea63      	sltu	v0,v1
40c95056:	601e      	bteqz	40c95094 <__load_conf_item_simple+0x50>
40c95058:	a160      	lbu	v1,0(s1)
    {
        if ((i + p_ml_control->top) > p_ml_control->bottom)
40c9505a:	9944      	lw	v0,16(s1)
40c9505c:	aa46      	lhu	v0,12(v0)
40c9505e:	e34d      	addu	v1,v0
40c95060:	9944      	lw	v0,16(s1)
40c95062:	aa47      	lhu	v0,14(v0)
40c95064:	ea62      	slt	v0,v1
40c95066:	6001      	bteqz	40c9506a <__load_conf_item_simple+0x26>
40c95068:	1015      	b	40c95094 <__load_conf_item_simple+0x50>
        {
            break;
40c9506a:	b40d      	lw	a0,40c9509c <__load_conf_item_simple+0x58>
        }

        //获取菜单项字符串
        com_get_confmenu_item(&g_menu_title, p_ml_control->top + i, g_menu_items + i);
40c9506c:	9944      	lw	v0,16(s1)
40c9506e:	a160      	lbu	v1,0(s1)
40c95070:	aa46      	lhu	v0,12(v0)
40c95072:	e349      	addu	v0,v1,v0
40c95074:	67a2      	move	a1,v0
40c95076:	ed31      	zeh	a1
40c95078:	a160      	lbu	v1,0(s1)
40c9507a:	6743      	move	v0,v1
40c9507c:	3248      	sll	v0,2
40c9507e:	e269      	addu	v0,v1
40c95080:	3348      	sll	v1,v0,2
40c95082:	b208      	lw	v0,40c950a0 <__load_conf_item_simple+0x5c>
40c95084:	e349      	addu	v0,v1,v0
40c95086:	67c2      	move	a2,v0
40c95088:	b207      	lw	v0,40c950a4 <__load_conf_item_simple+0x60>
40c9508a:	eac0      	jalrc	v0
40c9508c:	a140      	lbu	v0,0(s1)
40c9508e:	4241      	addiu	v0,v0,1
40c95090:	c140      	sb	v0,0(s1)
40c95092:	17dd      	b	40c9504e <__load_conf_item_simple+0xa>
40c95094:	65b9      	move	sp,s1
    }
}
40c95096:	6452      	restore	16,ra,s1
40c95098:	e8a0      	jrc	ra
40c9509a:	0000      	addiu	s0,sp,0
40c9509c:	5af0      	sltiu	v0,240
40c9509e:	9fc1      	lw	a2,4(a3)
40c950a0:	5afc      	sltiu	v0,252
40c950a2:	9fc1      	lw	a2,4(a3)
40c950a4:	4511      	daddiu	s0,a1,1
40c950a6:	4859      	addiu	s0,89

40c950a8 <__init_action_title>:
40c950a8:	64d3      	save	24,ra,s1

static void __init_action_title(menu_title_action_t *title_action)
{
40c950aa:	0104      	addiu	s1,sp,16
40c950ac:	d982      	sw	a0,8(s1)
40c950ae:	9942      	lw	v0,8(s1)
    libc_memset(title_action, 0xff, sizeof(menu_title_action_t));
40c950b0:	6782      	move	a0,v0
40c950b2:	6dff      	li	a1,255
40c950b4:	6e14      	li	a2,20
40c950b6:	6f01      	li	a3,1
40c950b8:	b204      	lw	v0,40c950c8 <__init_action_title+0x20>
40c950ba:	eac0      	jalrc	v0
40c950bc:	9962      	lw	v1,8(s1)
    //title_action->style_id = V_U16_INVALID;
    //title_action->title_id = V_U16_INVALID;
    //title_action->str_id = V_U16_INVALID;
    //title_action->menu_entry = V_U16_INVALID;//强制menu_entry条件不满足
    //title_action->source_id = V_U16_INVALID;
    title_action->ret_str = NULL;
40c950be:	6a00      	li	v0,0
40c950c0:	db42      	sw	v0,8(v1)
40c950c2:	65b9      	move	sp,s1
}
40c950c4:	6451      	restore	8,ra,s1
40c950c6:	e8a0      	jrc	ra
40c950c8:	6409      	restore	72
40c950ca:	bfc1      	lwu	a2,4(a3)

40c950cc <__menulist_scroll_handle>:
40c950cc:	64d3      	save	24,ra,s1

static void __menulist_scroll_handle(void)
{
40c950ce:	0104      	addiu	s1,sp,16
40c950d0:	6c00      	li	a0,0
    ui_show_listbox(NULL, NULL, LIST_DRAW_ACTIVE_SCROLL);
40c950d2:	6d00      	li	a1,0
40c950d4:	6e05      	li	a2,5
40c950d6:	6f08      	li	a3,8
40c950d8:	b203      	lw	v0,40c950e4 <__menulist_scroll_handle+0x18>
40c950da:	eac0      	jalrc	v0
40c950dc:	65b9      	move	sp,s1
}
40c950de:	6451      	restore	8,ra,s1
40c950e0:	e8a0      	jrc	ra
40c950e2:	0000      	addiu	s0,sp,0
40c950e4:	6bb1      	li	v1,177
40c950e6:	bfc1      	lwu	a2,4(a3)

40c950e8 <menu_private>:
	...
Disassembly of section BANK_CONTROL_1_53:

40d54c00 <parambox_value_inc>:
40d54c00:	64d5      	save	40,ra,s1
/*! \cond COMMON_API */

//parambox value inc
void parambox_value_inc(param_com_data_t *param_com)
{
40d54c02:	0104      	addiu	s1,sp,16
40d54c04:	d986      	sw	a0,24(s1)
40d54c06:	9946      	lw	v0,24(s1)
    parambox_private_t *private_data;
    parambox_one_t *cur_one;

    private_data = param_com->private_data;
40d54c08:	9a40      	lw	v0,0(v0)
40d54c0a:	d940      	sw	v0,0(s1)
40d54c0c:	9980      	lw	a0,0(s1)
    cur_one = &(private_data->items[private_data->active]);
40d54c0e:	9940      	lw	v0,0(s1)
40d54c10:	a267      	lbu	v1,7(v0)
40d54c12:	6743      	move	v0,v1
40d54c14:	3244      	sll	v0,1
40d54c16:	e269      	addu	v0,v1
40d54c18:	334c      	sll	v1,v0,3
40d54c1a:	9c43      	lw	v0,12(a0)
40d54c1c:	e269      	addu	v0,v1
40d54c1e:	d941      	sw	v0,4(s1)
40d54c20:	9941      	lw	v0,4(s1)

    if (cur_one->value < cur_one->max)
40d54c22:	9961      	lw	v1,4(s1)
40d54c24:	8a84      	lh	a0,8(v0)
40d54c26:	8b42      	lh	v0,4(v1)
40d54c28:	ec42      	slt	a0,v0
40d54c2a:	6014      	bteqz	40d54c54 <parambox_value_inc+0x54>
40d54c2c:	99a1      	lw	a1,4(s1)
    {
        cur_one->value += cur_one->step;
40d54c2e:	9941      	lw	v0,4(s1)
40d54c30:	9961      	lw	v1,4(s1)
40d54c32:	aa84      	lhu	a0,8(v0)
40d54c34:	ab43      	lhu	v0,6(v1)
40d54c36:	e449      	addu	v0,a0,v0
40d54c38:	cd44      	sh	v0,8(a1)
40d54c3a:	9941      	lw	v0,4(s1)
        //即时回调函数
        if (cur_one->callback != NULL)
40d54c3c:	9a45      	lw	v0,20(v0)
40d54c3e:	2206      	beqz	v0,40d54c4c <parambox_value_inc+0x4c>
40d54c40:	9961      	lw	v1,4(s1)
        {
            cur_one->callback(cur_one->value);
40d54c42:	9941      	lw	v0,4(s1)
40d54c44:	8a44      	lh	v0,8(v0)
40d54c46:	9b65      	lw	v1,20(v1)
40d54c48:	6782      	move	a0,v0
40d54c4a:	ebc0      	jalrc	v1
40d54c4c:	9966      	lw	v1,24(s1)
        }
        param_com->draw_mode = PARAMBOX_DRAW_VALUE;
40d54c4e:	6a01      	li	v0,1
40d54c50:	c344      	sb	v0,4(v1)
40d54c52:	1016      	b	40d54c80 <parambox_value_inc+0x80>
40d54c54:	9941      	lw	v0,4(s1)
    }
    else if (cur_one->cycle == TRUE)//允许循环调节参数
40d54c56:	a24a      	lbu	v0,10(v0)
40d54c58:	7201      	cmpi	v0,1
40d54c5a:	6758      	move	v0,t8
40d54c5c:	5a01      	sltiu	v0,1
40d54c5e:	6010      	bteqz	40d54c80 <parambox_value_inc+0x80>
40d54c60:	9961      	lw	v1,4(s1)
    {
        cur_one->value = cur_one->min;
40d54c62:	9941      	lw	v0,4(s1)
40d54c64:	aa41      	lhu	v0,2(v0)
40d54c66:	cb44      	sh	v0,8(v1)
40d54c68:	9941      	lw	v0,4(s1)
        //即时回调函数
        if (cur_one->callback != NULL)
40d54c6a:	9a45      	lw	v0,20(v0)
40d54c6c:	2206      	beqz	v0,40d54c7a <parambox_value_inc+0x7a>
40d54c6e:	9961      	lw	v1,4(s1)
        {
            cur_one->callback(cur_one->value);
40d54c70:	9941      	lw	v0,4(s1)
40d54c72:	8a44      	lh	v0,8(v0)
40d54c74:	9b65      	lw	v1,20(v1)
40d54c76:	6782      	move	a0,v0
40d54c78:	ebc0      	jalrc	v1
40d54c7a:	9966      	lw	v1,24(s1)
        }
        param_com->draw_mode = PARAMBOX_DRAW_VALUE;
40d54c7c:	6a01      	li	v0,1
40d54c7e:	c344      	sb	v0,4(v1)
40d54c80:	9946      	lw	v0,24(s1)
    }
    else
    {
        //do nothing for QAC
    }

    if (param_com->draw_mode == PARAMBOX_DRAW_VALUE)
40d54c82:	a244      	lbu	v0,4(v0)
40d54c84:	7201      	cmpi	v0,1
40d54c86:	6758      	move	v0,t8
40d54c88:	5a01      	sltiu	v0,1
40d54c8a:	6017      	bteqz	40d54cba <.LBE2>
40d54c8c:	9941      	lw	v0,4(s1)
    {
        //参数值检查和纠正
        if (cur_one->adjust_func != NULL)
40d54c8e:	9a44      	lw	v0,16(v0)
40d54c90:	2214      	beqz	v0,40d54cba <.LBE2>

40d54c92 <.LBB2>:
40d54c92:	6a00      	li	v0,0
        {
            adjust_result_e adjust_result = ADJUST_RESULT_NULL;
40d54c94:	c148      	sb	v0,8(s1)
40d54c96:	9961      	lw	v1,4(s1)

            adjust_result = cur_one->adjust_func(private_data->items, private_data->active, TRUE);
40d54c98:	9940      	lw	v0,0(s1)
40d54c9a:	9a83      	lw	a0,12(v0)
40d54c9c:	9940      	lw	v0,0(s1)
40d54c9e:	a247      	lbu	v0,7(v0)
40d54ca0:	9b64      	lw	v1,16(v1)
40d54ca2:	67a2      	move	a1,v0
40d54ca4:	6e01      	li	a2,1
40d54ca6:	ebc0      	jalrc	v1
40d54ca8:	c148      	sb	v0,8(s1)
40d54caa:	a148      	lbu	v0,8(s1)
            if (adjust_result == ADJUST_RESULT_ALL)
40d54cac:	7202      	cmpi	v0,2
40d54cae:	6758      	move	v0,t8
40d54cb0:	5a01      	sltiu	v0,1
40d54cb2:	6003      	bteqz	40d54cba <.LBE2>
40d54cb4:	9966      	lw	v1,24(s1)
            {
                param_com->draw_mode = PARAMBOX_DRAW_ALL;
40d54cb6:	6a03      	li	v0,3
40d54cb8:	c344      	sb	v0,4(v1)

40d54cba <.LBE2>:
40d54cba:	65b9      	move	sp,s1
            }
        }
    }
}
40d54cbc:	6453      	restore	24,ra,s1
40d54cbe:	e8a0      	jrc	ra

40d54cc0 <parambox_value_dec>:
40d54cc0:	64d5      	save	40,ra,s1

//parambox value dec
void parambox_value_dec(param_com_data_t *param_com)
{
40d54cc2:	0104      	addiu	s1,sp,16
40d54cc4:	d986      	sw	a0,24(s1)
40d54cc6:	9946      	lw	v0,24(s1)
    parambox_private_t *private_data;
    parambox_one_t *cur_one;

    private_data = param_com->private_data;
40d54cc8:	9a40      	lw	v0,0(v0)
40d54cca:	d940      	sw	v0,0(s1)
40d54ccc:	9980      	lw	a0,0(s1)
    cur_one = &(private_data->items[private_data->active]);
40d54cce:	9940      	lw	v0,0(s1)
40d54cd0:	a267      	lbu	v1,7(v0)
40d54cd2:	6743      	move	v0,v1
40d54cd4:	3244      	sll	v0,1
40d54cd6:	e269      	addu	v0,v1
40d54cd8:	334c      	sll	v1,v0,3
40d54cda:	9c43      	lw	v0,12(a0)
40d54cdc:	e269      	addu	v0,v1
40d54cde:	d941      	sw	v0,4(s1)
40d54ce0:	9941      	lw	v0,4(s1)

    if (cur_one->value > cur_one->min)
40d54ce2:	9961      	lw	v1,4(s1)
40d54ce4:	8a84      	lh	a0,8(v0)
40d54ce6:	8b41      	lh	v0,2(v1)
40d54ce8:	ea82      	slt	v0,a0
40d54cea:	6014      	bteqz	40d54d14 <parambox_value_dec+0x54>
40d54cec:	99a1      	lw	a1,4(s1)
    {
        cur_one->value -= cur_one->step;
40d54cee:	9941      	lw	v0,4(s1)
40d54cf0:	9961      	lw	v1,4(s1)
40d54cf2:	aa84      	lhu	a0,8(v0)
40d54cf4:	ab43      	lhu	v0,6(v1)
40d54cf6:	e44b      	subu	v0,a0,v0
40d54cf8:	cd44      	sh	v0,8(a1)
40d54cfa:	9941      	lw	v0,4(s1)
        //即时回调函数
        if (cur_one->callback != NULL)
40d54cfc:	9a45      	lw	v0,20(v0)
40d54cfe:	2206      	beqz	v0,40d54d0c <parambox_value_dec+0x4c>
40d54d00:	9961      	lw	v1,4(s1)
        {
            cur_one->callback(cur_one->value);
40d54d02:	9941      	lw	v0,4(s1)
40d54d04:	8a44      	lh	v0,8(v0)
40d54d06:	9b65      	lw	v1,20(v1)
40d54d08:	6782      	move	a0,v0
40d54d0a:	ebc0      	jalrc	v1
40d54d0c:	9966      	lw	v1,24(s1)
        }
        param_com->draw_mode = PARAMBOX_DRAW_VALUE;
40d54d0e:	6a01      	li	v0,1
40d54d10:	c344      	sb	v0,4(v1)
40d54d12:	1016      	b	40d54d40 <parambox_value_dec+0x80>
40d54d14:	9941      	lw	v0,4(s1)
    }
    else if (cur_one->cycle == TRUE)//允许循环调节参数
40d54d16:	a24a      	lbu	v0,10(v0)
40d54d18:	7201      	cmpi	v0,1
40d54d1a:	6758      	move	v0,t8
40d54d1c:	5a01      	sltiu	v0,1
40d54d1e:	6010      	bteqz	40d54d40 <parambox_value_dec+0x80>
40d54d20:	9961      	lw	v1,4(s1)
    {
        cur_one->value = cur_one->max;
40d54d22:	9941      	lw	v0,4(s1)
40d54d24:	aa42      	lhu	v0,4(v0)
40d54d26:	cb44      	sh	v0,8(v1)
40d54d28:	9941      	lw	v0,4(s1)
        //即时回调函数
        if (cur_one->callback != NULL)
40d54d2a:	9a45      	lw	v0,20(v0)
40d54d2c:	2206      	beqz	v0,40d54d3a <parambox_value_dec+0x7a>
40d54d2e:	9961      	lw	v1,4(s1)
        {
            cur_one->callback(cur_one->value);
40d54d30:	9941      	lw	v0,4(s1)
40d54d32:	8a44      	lh	v0,8(v0)
40d54d34:	9b65      	lw	v1,20(v1)
40d54d36:	6782      	move	a0,v0
40d54d38:	ebc0      	jalrc	v1
40d54d3a:	9966      	lw	v1,24(s1)
        }
        param_com->draw_mode = PARAMBOX_DRAW_VALUE;
40d54d3c:	6a01      	li	v0,1
40d54d3e:	c344      	sb	v0,4(v1)
40d54d40:	9946      	lw	v0,24(s1)
    }
    else
    {
        //do nothing for QAC
    }

    if (param_com->draw_mode == PARAMBOX_DRAW_VALUE)
40d54d42:	a244      	lbu	v0,4(v0)
40d54d44:	7201      	cmpi	v0,1
40d54d46:	6758      	move	v0,t8
40d54d48:	5a01      	sltiu	v0,1
40d54d4a:	6017      	bteqz	40d54d7a <.LBE3>
40d54d4c:	9941      	lw	v0,4(s1)
    {
        //参数值检查和纠正
        if (cur_one->adjust_func != NULL)
40d54d4e:	9a44      	lw	v0,16(v0)
40d54d50:	2214      	beqz	v0,40d54d7a <.LBE3>

40d54d52 <.LBB3>:
40d54d52:	6a00      	li	v0,0
        {
            adjust_result_e adjust_result = ADJUST_RESULT_NULL;
40d54d54:	c148      	sb	v0,8(s1)
40d54d56:	9961      	lw	v1,4(s1)

            adjust_result = cur_one->adjust_func(private_data->items, private_data->active, FALSE);
40d54d58:	9940      	lw	v0,0(s1)
40d54d5a:	9a83      	lw	a0,12(v0)
40d54d5c:	9940      	lw	v0,0(s1)
40d54d5e:	a247      	lbu	v0,7(v0)
40d54d60:	9b64      	lw	v1,16(v1)
40d54d62:	67a2      	move	a1,v0
40d54d64:	6e00      	li	a2,0
40d54d66:	ebc0      	jalrc	v1
40d54d68:	c148      	sb	v0,8(s1)
40d54d6a:	a148      	lbu	v0,8(s1)
            if (adjust_result == ADJUST_RESULT_ALL)
40d54d6c:	7202      	cmpi	v0,2
40d54d6e:	6758      	move	v0,t8
40d54d70:	5a01      	sltiu	v0,1
40d54d72:	6003      	bteqz	40d54d7a <.LBE3>
40d54d74:	9966      	lw	v1,24(s1)
            {
                param_com->draw_mode = PARAMBOX_DRAW_ALL;
40d54d76:	6a03      	li	v0,3
40d54d78:	c344      	sb	v0,4(v1)

40d54d7a <.LBE3>:
40d54d7a:	65b9      	move	sp,s1
            }
        }
    }
}
40d54d7c:	6453      	restore	24,ra,s1
40d54d7e:	e8a0      	jrc	ra

40d54d80 <parambox_msg_deal>:
40d54d80:	64d9      	save	72,ra,s1

//parambox gui app msg deal
app_result_e parambox_msg_deal(param_com_data_t *param_com, progress_draw_mode_e *pprogress_draw_mode)
{
40d54d82:	0104      	addiu	s1,sp,16
40d54d84:	d98e      	sw	a0,56(s1)
40d54d86:	d9af      	sw	a1,60(s1)
40d54d88:	6a00      	li	v0,0
    parambox_private_t *private_data;
    parambox_one_t *cur_one;
    input_gui_msg_t input_msg;
    msg_apps_type_e gui_event;
    private_msg_t private_msg;
    app_result_e result = RESULT_NULL;
40d54d8a:	c954      	sh	v0,40(s1)
40d54d8c:	994e      	lw	v0,56(s1)

    private_data = param_com->private_data;
40d54d8e:	9a40      	lw	v0,0(v0)
40d54d90:	d940      	sw	v0,0(s1)
40d54d92:	9980      	lw	a0,0(s1)
    cur_one = &(private_data->items[private_data->active]);
40d54d94:	9940      	lw	v0,0(s1)
40d54d96:	a267      	lbu	v1,7(v0)
40d54d98:	6743      	move	v0,v1
40d54d9a:	3244      	sll	v0,1
40d54d9c:	e269      	addu	v0,v1
40d54d9e:	334c      	sll	v1,v0,3
40d54da0:	9c43      	lw	v0,12(a0)
40d54da2:	e269      	addu	v0,v1
40d54da4:	d941      	sw	v0,4(s1)
40d54da6:	4147      	addiu	v0,s1,7

    //获取gui消息
    if (get_gui_msg(&input_msg) == TRUE)//有gui消息
40d54da8:	4241      	addiu	v0,v0,1
40d54daa:	6782      	move	a0,v0
40d54dac:	b259      	lw	v0,40d54f10 <parambox_msg_deal+0x190>
40d54dae:	eac0      	jalrc	v0
40d54db0:	7201      	cmpi	v0,1
40d54db2:	6758      	move	v0,t8
40d54db4:	5a01      	sltiu	v0,1
40d54db6:	f080 6006 	bteqz	40d54ec6 <parambox_msg_deal+0x146>
40d54dba:	4147      	addiu	v0,s1,7
    {
        //进行按键映射
        if (com_key_mapping(&input_msg, &gui_event, parameter_key_map_list) == TRUE)
40d54dbc:	4241      	addiu	v0,v0,1
40d54dbe:	4167      	addiu	v1,s1,7
40d54dc0:	4b09      	addiu	v1,9
40d54dc2:	b655      	lw	a2,40d54f14 <parambox_msg_deal+0x194>
40d54dc4:	6782      	move	a0,v0
40d54dc6:	67a3      	move	a1,v1
40d54dc8:	b254      	lw	v0,40d54f18 <parambox_msg_deal+0x198>
40d54dca:	eac0      	jalrc	v0
40d54dcc:	7201      	cmpi	v0,1
40d54dce:	6758      	move	v0,t8
40d54dd0:	5a01      	sltiu	v0,1
40d54dd2:	f080 6016 	bteqz	40d54f02 <parambox_msg_deal+0x182>
40d54dd6:	a948      	lhu	v0,16(s1)
        {
            //GUI按键消息处理
            switch (gui_event)
40d54dd8:	f6fa 4a1f 	addiu	v0,-10497
40d54ddc:	d94b      	sw	v0,44(s1)
40d54dde:	994b      	lw	v0,44(s1)
40d54de0:	5a06      	sltiu	v0,6
40d54de2:	605d      	bteqz	40d54e9e <parambox_msg_deal+0x11e>
40d54de4:	994b      	lw	v0,44(s1)
40d54de6:	3344      	sll	v1,v0,1
40d54de8:	0a04      	la	v0,40d54df8 <parambox_msg_deal+0x78>
40d54dea:	e349      	addu	v0,v1,v0
40d54dec:	aa40      	lhu	v0,0(v0)
40d54dee:	6762      	move	v1,v0
40d54df0:	ebb1      	seh	v1
40d54df2:	b24c      	lw	v0,40d54f20 <parambox_msg_deal+0x1a0>
40d54df4:	e349      	addu	v0,v1,v0
40d54df6:	ea80      	jrc	v0
40d54df8:	0025      	addiu	s0,sp,148
40d54dfa:	005f      	addiu	s0,sp,380
40d54dfc:	000d      	addiu	s0,sp,52
40d54dfe:	0019      	addiu	s0,sp,100
40d54e00:	0093      	addiu	s0,sp,588
40d54e02:	009d      	addiu	s0,sp,628
40d54e04:	994e      	lw	v0,56(s1)
            {
                case EVENT_PARAMETER_VALUE_INC:
                //参数值递增
                parambox_value_inc(param_com);
40d54e06:	6782      	move	a0,v0
40d54e08:	1aa1 5300 	jal	40d54c00 <parambox_value_inc>
40d54e0c:	6500      	nop
40d54e0e:	1079      	b	40d54f02 <parambox_msg_deal+0x182>
                break;
40d54e10:	994e      	lw	v0,56(s1)

                case EVENT_PARAMETER_VALUE_DEC:
                //参数值递减
                parambox_value_dec(param_com);
40d54e12:	6782      	move	a0,v0
40d54e14:	1aa1 5330 	jal	40d54cc0 <parambox_value_dec>
40d54e18:	6500      	nop
40d54e1a:	1073      	b	40d54f02 <parambox_msg_deal+0x182>
                break;
40d54e1c:	9940      	lw	v0,0(s1)

                //切换到下一个参数
                case EVENT_PARAMETER_SELECT_NEXT:
                if (private_data->param_cnt > 1)
40d54e1e:	a246      	lbu	v0,6(v0)
40d54e20:	5a02      	sltiu	v0,2
40d54e22:	616f      	btnez	40d54f02 <parambox_msg_deal+0x182>
40d54e24:	9960      	lw	v1,0(s1)
                {
                    private_data->old = private_data->active;
40d54e26:	9940      	lw	v0,0(s1)
40d54e28:	a247      	lbu	v0,7(v0)
40d54e2a:	c348      	sb	v0,8(v1)
40d54e2c:	9940      	lw	v0,0(s1)
                    if (private_data->active == (private_data->param_cnt - 1))
40d54e2e:	a267      	lbu	v1,7(v0)
40d54e30:	9940      	lw	v0,0(s1)
40d54e32:	a246      	lbu	v0,6(v0)
40d54e34:	424f      	addiu	v0,v0,-1
40d54e36:	ea6e      	xor	v0,v1
40d54e38:	5a01      	sltiu	v0,1
40d54e3a:	6004      	bteqz	40d54e44 <parambox_msg_deal+0xc4>
40d54e3c:	9960      	lw	v1,0(s1)
                    {
                        private_data->active = 0;
40d54e3e:	6a00      	li	v0,0
40d54e40:	c347      	sb	v0,7(v1)
40d54e42:	1005      	b	40d54e4e <parambox_msg_deal+0xce>
40d54e44:	9960      	lw	v1,0(s1)
                    }
                    else
                    {
                        private_data->active++;
40d54e46:	9940      	lw	v0,0(s1)
40d54e48:	a247      	lbu	v0,7(v0)
40d54e4a:	4241      	addiu	v0,v0,1
40d54e4c:	c347      	sb	v0,7(v1)
40d54e4e:	996e      	lw	v1,56(s1)
                    }

                    param_com->draw_mode = PARAMBOX_DRAW_PARAM;
40d54e50:	6a02      	li	v0,2
40d54e52:	c344      	sb	v0,4(v1)
40d54e54:	1056      	b	40d54f02 <parambox_msg_deal+0x182>
                }
                break;
40d54e56:	9940      	lw	v0,0(s1)

                //切换到上一个参数
                case EVENT_PARAMETER_SELECT_PREV:
                if (private_data->param_cnt > 1)
40d54e58:	a246      	lbu	v0,6(v0)
40d54e5a:	5a02      	sltiu	v0,2
40d54e5c:	6152      	btnez	40d54f02 <parambox_msg_deal+0x182>
40d54e5e:	9960      	lw	v1,0(s1)
                {
                    private_data->old = private_data->active;
40d54e60:	9940      	lw	v0,0(s1)
40d54e62:	a247      	lbu	v0,7(v0)
40d54e64:	c348      	sb	v0,8(v1)
40d54e66:	9940      	lw	v0,0(s1)
                    if (private_data->active == 0)
40d54e68:	a247      	lbu	v0,7(v0)
40d54e6a:	2a06      	bnez	v0,40d54e78 <parambox_msg_deal+0xf8>
40d54e6c:	9960      	lw	v1,0(s1)
                    {
                        private_data->active = private_data->param_cnt - 1;
40d54e6e:	9940      	lw	v0,0(s1)
40d54e70:	a246      	lbu	v0,6(v0)
40d54e72:	424f      	addiu	v0,v0,-1
40d54e74:	c347      	sb	v0,7(v1)
40d54e76:	1005      	b	40d54e82 <parambox_msg_deal+0x102>
40d54e78:	9960      	lw	v1,0(s1)
                    }
                    else
                    {
                        private_data->active--;
40d54e7a:	9940      	lw	v0,0(s1)
40d54e7c:	a247      	lbu	v0,7(v0)
40d54e7e:	424f      	addiu	v0,v0,-1
40d54e80:	c347      	sb	v0,7(v1)
40d54e82:	996e      	lw	v1,56(s1)
                    }

                    param_com->draw_mode = PARAMBOX_DRAW_PARAM;
40d54e84:	6a02      	li	v0,2
40d54e86:	c344      	sb	v0,4(v1)
40d54e88:	103c      	b	40d54f02 <parambox_msg_deal+0x182>
                }
                break;
40d54e8a:	f7ef 6a0f 	li	v0,32751

                case EVENT_PARAMETER_CONFIRM:
                //确定选项，返回
                result = RESULT_CONFIRM;
40d54e8e:	ea4b      	neg	v0
40d54e90:	c954      	sh	v0,40(s1)
40d54e92:	1037      	b	40d54f02 <parambox_msg_deal+0x182>
                break;
40d54e94:	f7ef 6a0c 	li	v0,32748

                case EVENT_PARAMETER_CANCEL:
                //取消退出
                result = RESULT_REDRAW;
40d54e98:	ea4b      	neg	v0
40d54e9a:	c954      	sh	v0,40(s1)
40d54e9c:	1032      	b	40d54f02 <parambox_msg_deal+0x182>
                break;
40d54e9e:	a948      	lhu	v0,16(s1)

                default:
                result = com_message_box(gui_event);
40d54ea0:	6782      	move	a0,v0
40d54ea2:	b21f      	lw	v0,40d54f1c <parambox_msg_deal+0x19c>
40d54ea4:	eac0      	jalrc	v0
40d54ea6:	c954      	sh	v0,40(s1)
40d54ea8:	a974      	lhu	v1,40(s1)
                if (result == RESULT_REDRAW)
40d54eaa:	f010 6a14 	li	v0,32788
40d54eae:	ea6e      	xor	v0,v1
40d54eb0:	5a01      	sltiu	v0,1
40d54eb2:	6027      	bteqz	40d54f02 <parambox_msg_deal+0x182>
40d54eb4:	996e      	lw	v1,56(s1)
                {
                    param_com->draw_mode = PARAMBOX_DRAW_ALL;
40d54eb6:	6a03      	li	v0,3
40d54eb8:	c344      	sb	v0,4(v1)
40d54eba:	996f      	lw	v1,60(s1)
                    *pprogress_draw_mode = PROGRESS_DRAW_ALL;
40d54ebc:	6a06      	li	v0,6
40d54ebe:	c340      	sb	v0,0(v1)
40d54ec0:	6a00      	li	v0,0
                    result = RESULT_NULL;//不退出控件
40d54ec2:	c954      	sh	v0,40(s1)
40d54ec4:	101e      	b	40d54f02 <parambox_msg_deal+0x182>
                }
                break;
40d54ec6:	4147      	addiu	v0,s1,7
            }
        }
    }
    else
    {
        //到此，gui消息队列已经处理完毕
        //处理ap私有消息和系统消息
        if (get_app_msg(&private_msg) == TRUE)
40d54ec8:	4a11      	addiu	v0,17
40d54eca:	6782      	move	a0,v0
40d54ecc:	b216      	lw	v0,40d54f24 <parambox_msg_deal+0x1a4>
40d54ece:	eac0      	jalrc	v0
40d54ed0:	7201      	cmpi	v0,1
40d54ed2:	6758      	move	v0,t8
40d54ed4:	5a01      	sltiu	v0,1
40d54ed6:	6015      	bteqz	40d54f02 <parambox_msg_deal+0x182>
40d54ed8:	b214      	lw	v0,40d54f28 <parambox_msg_deal+0x1a8>
        {
            result = g_this_app_msg_dispatch(&private_msg);
40d54eda:	4167      	addiu	v1,s1,7
40d54edc:	4b11      	addiu	v1,17
40d54ede:	9a40      	lw	v0,0(v0)
40d54ee0:	6783      	move	a0,v1
40d54ee2:	eac0      	jalrc	v0
40d54ee4:	c954      	sh	v0,40(s1)
40d54ee6:	a974      	lhu	v1,40(s1)
            if (result == RESULT_REDRAW)
40d54ee8:	f010 6a14 	li	v0,32788
40d54eec:	ea6e      	xor	v0,v1
40d54eee:	5a01      	sltiu	v0,1
40d54ef0:	6008      	bteqz	40d54f02 <parambox_msg_deal+0x182>
40d54ef2:	996e      	lw	v1,56(s1)
            {
                param_com->draw_mode = PARAMBOX_DRAW_ALL;
40d54ef4:	6a03      	li	v0,3
40d54ef6:	c344      	sb	v0,4(v1)
40d54ef8:	996f      	lw	v1,60(s1)
                *pprogress_draw_mode = PROGRESS_DRAW_ALL;
40d54efa:	6a06      	li	v0,6
40d54efc:	c340      	sb	v0,0(v1)
40d54efe:	6a00      	li	v0,0
                result = RESULT_NULL;//不退出控件
40d54f00:	c954      	sh	v0,40(s1)
40d54f02:	a954      	lhu	v0,40(s1)
            }
        }
    }

    return result;
40d54f04:	651a      	move	t8,v0
40d54f06:	6758      	move	v0,t8
}
40d54f08:	65b9      	move	sp,s1
40d54f0a:	6457      	restore	56,ra,s1
40d54f0c:	e8a0      	jrc	ra
40d54f0e:	0000      	addiu	s0,sp,0
40d54f10:	66d5      	0x66d5
40d54f12:	bfc1      	lwu	a2,4(a3)
40d54f14:	46a8      	addiu	a1,a2,-8
40d54f16:	4855      	addiu	s0,85
40d54f18:	47ad      	addiu	a1,a3,-3
40d54f1a:	4855      	addiu	s0,85
40d54f1c:	4601      	addiu	s0,a2,1
40d54f1e:	48bd      	addiu	s0,-67
40d54f20:	4df8      	addiu	a1,-8
40d54f22:	40d5      	daddiu	a2,s0,5
40d54f24:	6741      	move	v0,at
40d54f26:	bfc1      	lwu	a2,4(a3)
40d54f28:	a1f8      	lbu	a3,24(s1)
40d54f2a:	9fc1      	lw	a2,4(a3)

40d54f2c <gui_set_parameter>:
40d54f2c:	64dc      	save	96,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *    参数设置控件控制流实现。
 * \param[in]    style_id ui editor工具设计的参数设置控件模板
 * \param[in]    param_com 指向参数设置控件初始化结构体变量，是上层对参数设置控件的控制命令或参数
 * \param[out]   none
 * \return       app_result_e
 * \retval           RESULT_CONFIRM 确定参数设置返回
 * \retval           RESULT_REDRAW 参数设置无效返回AP，重绘UI
 * \retval           other 收到返回值不为 RESULT_NULL 应用消息返回，见 app_result_e 定义
 * \ingroup      controls
 * \par          exmaple code
 * \code
 param_com_data_t param_com;
 parambox_private_t private_data;
 parambox_one_t param_item;
 app_result_e result;

 param_item.unit_id = V_U16_INVALID;
 param_item.min = 0;
 param_item.max = 40;
 param_item.step = 1;
 param_item.value = 24;
 param_item.cycle = FALSE;
 param_item.max_number = 2;
 param_item.value_str = NULL;
 param_item.adjust_func = NULL;
 param_item.callback = volumn_cb;

 private_data.back_id = V_U16_INVALID;
 private_data.icon_id = P_SPEAKER;
 private_data.title_id = V_U16_INVALID;
 private_data.param_cnt = 1;
 private_data.items = &param_item;
 private_data.active = 0;
 private_data.sign_flag = 0;
 private_data.scale = 0;//非slider模板，无须理会

 param_com.private_data = &private_data;
 result = gui_set_parameter(PARAMETER_SIMPLE, &param_com);//普通单参数设置
 if(result == RESULT_CONFIRM)//确定设置参数返回
 {

 }
 else if(result == RESULT_REDRAW)//取消设置参数返回，重绘UI
 {

 }
 else//其他返回结果，需要做特殊处理
 {

 }
 * \endcode
 * \note
 * \li  通常情况下 adjust_func 不需要用到，但如果参数设置时需要加上特殊条件约束
 *      参数值，或者需要显示为字符串时，必须用该回调函数进行处理。
 *******************************************************************************/
app_result_e gui_set_parameter(uint16 style_id, param_com_data_t *param_com)
{
40d54f2e:	0104      	addiu	s1,sp,16
40d54f30:	6744      	move	v0,a0
40d54f32:	d9b5      	sw	a1,84(s1)
40d54f34:	f040 c950 	sh	v0,80(s1)
40d54f38:	6a00      	li	v0,0
    parambox_private_t *private_data;
    style_infor_t style_infor;
    style_infor_t temp_style_infor;
    app_result_e result = RESULT_NULL;
40d54f3a:	c94c      	sh	v0,24(s1)
40d54f3c:	6a00      	li	v0,0
    uint8 tag_backup;
    uint8 mode_backup, icon_backup;

    progressbar_private_t vol_progress;
    progress_draw_mode_e progress_draw_mode;
    textbox_private_t textbox;
    uint8 cur_value_str_arr[3] =
40d54f3e:	f040 c940 	sh	v0,64(s1)
40d54f42:	6a00      	li	v0,0
40d54f44:	f040 c142 	sb	v0,66(s1)
40d54f48:	f0c3 6a03 	li	v0,6339
    { 0 };

    //draw bg
    ui_set_backgd_color(Color_BACKCOLOR_def);//清为全黑屏
40d54f4c:	6782      	move	a0,v0
40d54f4e:	6d00      	li	a1,0
40d54f50:	6e00      	li	a2,0
40d54f52:	6f14      	li	a3,20
40d54f54:	b27f      	lw	v0,40d55150 <gui_set_parameter+0x224>
40d54f56:	eac0      	jalrc	v0
40d54f58:	6c00      	li	a0,0
    ui_clear_screen(NULL);
40d54f5a:	6d00      	li	a1,0
40d54f5c:	6e00      	li	a2,0
40d54f5e:	6f12      	li	a3,18
40d54f60:	b27c      	lw	v0,40d55150 <gui_set_parameter+0x224>
40d54f62:	eac0      	jalrc	v0
40d54f64:	1aa1 5460 	jal	40d55180 <get_app_timer_tag>

    tag_backup = get_app_timer_tag();
40d54f68:	6500      	nop
40d54f6a:	c15a      	sb	v0,26(s1)
40d54f6c:	6c88      	li	a0,136
    change_app_timer_tag(APP_TIEMR_TAG_PARAM);
40d54f6e:	1aa1 545a 	jal	40d55168 <change_app_timer_tag>
40d54f72:	6500      	nop
40d54f74:	4147      	addiu	v0,s1,7

    gui_get_headbar_mode(&mode_backup, &icon_backup);
40d54f76:	4a14      	addiu	v0,20
40d54f78:	4167      	addiu	v1,s1,7
40d54f7a:	4b15      	addiu	v1,21
40d54f7c:	6782      	move	a0,v0
40d54f7e:	67a3      	move	a1,v1
40d54f80:	b275      	lw	v0,40d55154 <gui_set_parameter+0x228>
40d54f82:	eac0      	jalrc	v0
40d54f84:	b275      	lw	v0,40d55154 <gui_set_parameter+0x228>

    gui_set_headbar_mode(HEADBAR_MODE_NORMAL, this_headbar_icon_id);
40d54f86:	a240      	lbu	v0,0(v0)
40d54f88:	6c01      	li	a0,1
40d54f8a:	67a2      	move	a1,v0
40d54f8c:	b274      	lw	v0,40d5515c <gui_set_parameter+0x230>
40d54f8e:	eac0      	jalrc	v0
40d54f90:	6a06      	li	v0,6

    progress_draw_mode = PROGRESS_DRAW_ALL;
40d54f92:	f020 c148 	sb	v0,40(s1)
40d54f96:	9975      	lw	v1,84(s1)
    param_com->draw_mode = PARAMBOX_DRAW_ALL;
40d54f98:	6a03      	li	v0,3
40d54f9a:	c344      	sb	v0,4(v1)
40d54f9c:	9955      	lw	v0,84(s1)
    private_data = param_com->private_data;
40d54f9e:	9a40      	lw	v0,0(v0)
40d54fa0:	d940      	sw	v0,0(s1)
40d54fa2:	9940      	lw	v0,0(s1)
    //进入后，获取默认参数
    if (private_data->active >= private_data->param_cnt)
40d54fa4:	9960      	lw	v1,0(s1)
40d54fa6:	a287      	lbu	a0,7(v0)
40d54fa8:	a346      	lbu	v0,6(v1)
40d54faa:	ec43      	sltu	a0,v0
40d54fac:	6103      	btnez	40d54fb4 <gui_set_parameter+0x88>
40d54fae:	9960      	lw	v1,0(s1)
    {
        private_data->active = 0;
40d54fb0:	6a00      	li	v0,0
40d54fb2:	c347      	sb	v0,7(v1)
40d54fb4:	9960      	lw	v1,0(s1)
    }
    private_data->old = private_data->active;
40d54fb6:	9940      	lw	v0,0(s1)
40d54fb8:	a247      	lbu	v0,7(v0)
40d54fba:	c348      	sb	v0,8(v1)
40d54fbc:	6a01      	li	v0,1

    style_infor.type = UI_COM;
40d54fbe:	c14a      	sb	v0,10(s1)
40d54fc0:	6a01      	li	v0,1
    temp_style_infor.type = UI_COM;
40d54fc2:	c152      	sb	v0,18(s1)
40d54fc4:	f040 a950 	lhu	v0,80(s1)

    style_infor.style_id = style_id;
40d54fc8:	c944      	sh	v0,8(s1)
40d54fca:	9955      	lw	v0,84(s1)

    //进入设置参数消息循环
    while (1)
    {
        if (param_com->draw_mode != PARAMBOX_DRAW_NULL)
40d54fcc:	a244      	lbu	v0,4(v0)
40d54fce:	f080 221b 	beqz	v0,40d55108 <gui_set_parameter+0x1dc>
40d54fd2:	f040 a970 	lhu	v1,80(s1)
        {
            //前4bit表示控件类型，0x07表示 parambox，else表示 progressbar
            if ((style_id & 0xf000) == 0x7000)
40d54fd6:	f01e 6a00 	li	v0,61440
40d54fda:	ea6c      	and	v0,v1
40d54fdc:	f00e 7200 	cmpi	v0,28672
40d54fe0:	6758      	move	v0,t8
40d54fe2:	5a01      	sltiu	v0,1
40d54fe4:	600b      	bteqz	40d54ffc <gui_set_parameter+0xd0>
40d54fe6:	4167      	addiu	v1,s1,7
            {
                ui_show_parambox(&style_infor, private_data, (uint32) param_com->draw_mode);
40d54fe8:	4361      	addiu	v1,v1,1
40d54fea:	99a0      	lw	a1,0(s1)
40d54fec:	9955      	lw	v0,84(s1)
40d54fee:	a244      	lbu	v0,4(v0)
40d54ff0:	6783      	move	a0,v1
40d54ff2:	67c2      	move	a2,v0
40d54ff4:	6f0a      	li	a3,10
40d54ff6:	b257      	lw	v0,40d55150 <gui_set_parameter+0x224>
40d54ff8:	eac0      	jalrc	v0
40d54ffa:	1080      	b	40d550fc <gui_set_parameter+0x1d0>
40d54ffc:	f020 a148 	lbu	v0,40(s1)
            }
            else 
            {
                if (PROGRESS_DRAW_ALL == progress_draw_mode)
40d55000:	7206      	cmpi	v0,6
40d55002:	6758      	move	v0,t8
40d55004:	5a01      	sltiu	v0,1
40d55006:	6040      	bteqz	40d55088 <gui_set_parameter+0x15c>
40d55008:	f002 6a18 	li	v0,4120
                {
                    //初始化进入, 显示左右箭头
                    temp_style_infor.style_id = PROGRESSBAR_LEFT;
40d5500c:	c948      	sh	v0,16(s1)
40d5500e:	4147      	addiu	v0,s1,7
                    ui_show_picbox(&temp_style_infor, NULL);
40d55010:	4a09      	addiu	v0,9
40d55012:	6782      	move	a0,v0
40d55014:	6d00      	li	a1,0
40d55016:	6e00      	li	a2,0
40d55018:	6f02      	li	a3,2
40d5501a:	b24e      	lw	v0,40d55150 <gui_set_parameter+0x224>
40d5501c:	eac0      	jalrc	v0
40d5501e:	f002 6a19 	li	v0,4121
                    temp_style_infor.style_id = PROGRESSBAR_RIGHT;
40d55022:	c948      	sh	v0,16(s1)
40d55024:	4147      	addiu	v0,s1,7
                    ui_show_picbox(&temp_style_infor, NULL);
40d55026:	4a09      	addiu	v0,9
40d55028:	6782      	move	a0,v0
40d5502a:	6d00      	li	a1,0
40d5502c:	6e00      	li	a2,0
40d5502e:	6f02      	li	a3,2
40d55030:	b248      	lw	v0,40d55150 <gui_set_parameter+0x224>
40d55032:	eac0      	jalrc	v0
40d55034:	9940      	lw	v0,0(s1)

                    //显示单位
                    if (private_data->items->unit_id == 0xffff) //用于显示亮度图标
40d55036:	9a43      	lw	v0,12(v0)
40d55038:	aa60      	lhu	v1,0(v0)
40d5503a:	f7ff 6a1f 	li	v0,65535
40d5503e:	ea6e      	xor	v0,v1
40d55040:	5a01      	sltiu	v0,1
40d55042:	600c      	bteqz	40d5505c <gui_set_parameter+0x130>
40d55044:	f002 6a1a 	li	v0,4122
                    {
                        temp_style_infor.style_id = PIC_LIGHT_ICON; //这里初步判断是亮度调节，显示亮度ICON
40d55048:	c948      	sh	v0,16(s1)
40d5504a:	4147      	addiu	v0,s1,7
                        ui_show_picbox(&temp_style_infor, NULL);
40d5504c:	4a09      	addiu	v0,9
40d5504e:	6782      	move	a0,v0
40d55050:	6d00      	li	a1,0
40d55052:	6e00      	li	a2,0
40d55054:	6f02      	li	a3,2
40d55056:	b23f      	lw	v0,40d55150 <gui_set_parameter+0x224>
40d55058:	eac0      	jalrc	v0
40d5505a:	1016      	b	40d55088 <gui_set_parameter+0x15c>
40d5505c:	f004 6a05 	li	v0,8197
                    }
                    else //暂时默认显示时间单位:分
                    {
                        temp_style_infor.style_id = TEXT_MIN;
40d55060:	c948      	sh	v0,16(s1)
40d55062:	6a02      	li	v0,2
                        textbox.lang_id = ENGLISH;
40d55064:	f020 c152 	sb	v0,50(s1)
40d55068:	6a00      	li	v0,0
                        textbox.str_value = NULL;
40d5506a:	d94d      	sw	v0,52(s1)
40d5506c:	9940      	lw	v0,0(s1)
                        textbox.str_id = private_data->items->unit_id;
40d5506e:	9a43      	lw	v0,12(v0)
40d55070:	aa40      	lhu	v0,0(v0)
40d55072:	c958      	sh	v0,48(s1)
40d55074:	4147      	addiu	v0,s1,7
                        ui_show_textbox((void*) &temp_style_infor, (void*) &textbox, TEXTBOX_DRAW_NORMAL);
40d55076:	4a09      	addiu	v0,9
40d55078:	4167      	addiu	v1,s1,7
40d5507a:	4b29      	addiu	v1,41
40d5507c:	6782      	move	a0,v0
40d5507e:	67a3      	move	a1,v1
40d55080:	6e01      	li	a2,1
40d55082:	6f03      	li	a3,3
40d55084:	b233      	lw	v0,40d55150 <gui_set_parameter+0x224>
40d55086:	eac0      	jalrc	v0
40d55088:	9940      	lw	v0,0(s1)
                    }
                }

                //ui_show_sliderbar(&style_infor, private_data, (uint32)param_com->draw_mode);
                //ui_show_sliderbar(style_infor, private_data, (uint32)draw_mode);
                vol_progress.value = private_data->items->value;
40d5508a:	9a43      	lw	v0,12(v0)
40d5508c:	8a44      	lh	v0,8(v0)
40d5508e:	d948      	sw	v0,32(s1)
40d55090:	9940      	lw	v0,0(s1)
                vol_progress.total = private_data->items->max;
40d55092:	9a43      	lw	v0,12(v0)
40d55094:	8a42      	lh	v0,4(v0)
40d55096:	d949      	sw	v0,36(s1)
40d55098:	4147      	addiu	v0,s1,7
                ui_show_progressbar(&style_infor, &vol_progress, progress_draw_mode);
40d5509a:	4241      	addiu	v0,v0,1
40d5509c:	4167      	addiu	v1,s1,7
40d5509e:	4b19      	addiu	v1,25
40d550a0:	f020 a1c8 	lbu	a2,40(s1)
40d550a4:	6782      	move	a0,v0
40d550a6:	67a3      	move	a1,v1
40d550a8:	6f06      	li	a3,6
40d550aa:	b22a      	lw	v0,40d55150 <gui_set_parameter+0x224>
40d550ac:	eac0      	jalrc	v0
40d550ae:	9940      	lw	v0,0(s1)

                //显示当前值
                if (private_data->items->unit_id != 0xffff)
40d550b0:	9a43      	lw	v0,12(v0)
40d550b2:	aa60      	lhu	v1,0(v0)
40d550b4:	f7ff 6a1f 	li	v0,65535
40d550b8:	ea6e      	xor	v0,v1
40d550ba:	5a01      	sltiu	v0,1
40d550bc:	611f      	btnez	40d550fc <gui_set_parameter+0x1d0>
40d550be:	9948      	lw	v0,32(s1)
                {
                    libc_itoa(vol_progress.value, cur_value_str_arr, 2);
40d550c0:	4167      	addiu	v1,s1,7
40d550c2:	4b39      	addiu	v1,57
40d550c4:	6782      	move	a0,v0
40d550c6:	67a3      	move	a1,v1
40d550c8:	6e02      	li	a2,2
40d550ca:	6f0a      	li	a3,10
40d550cc:	b225      	lw	v0,40d55160 <gui_set_parameter+0x234>
40d550ce:	eac0      	jalrc	v0
40d550d0:	f004 6a04 	li	v0,8196
                    temp_style_infor.style_id = CURRENT_VALUE;
40d550d4:	c948      	sh	v0,16(s1)
40d550d6:	6a7b      	li	v0,123
                    textbox.lang_id = ANSIDATAAUTO;
40d550d8:	f020 c152 	sb	v0,50(s1)
40d550dc:	4147      	addiu	v0,s1,7
                    textbox.str_value = cur_value_str_arr;
40d550de:	4a39      	addiu	v0,57
40d550e0:	d94d      	sw	v0,52(s1)
40d550e2:	6a01      	li	v0,1
                    textbox.str_id = -1;
40d550e4:	ea4b      	neg	v0
40d550e6:	c958      	sh	v0,48(s1)
40d550e8:	4147      	addiu	v0,s1,7
                    ui_show_textbox((void*) &temp_style_infor, (void*) &textbox, TEXTBOX_DRAW_NORMAL);
40d550ea:	4a09      	addiu	v0,9
40d550ec:	4167      	addiu	v1,s1,7
40d550ee:	4b29      	addiu	v1,41
40d550f0:	6782      	move	a0,v0
40d550f2:	67a3      	move	a1,v1
40d550f4:	6e01      	li	a2,1
40d550f6:	6f03      	li	a3,3
40d550f8:	b216      	lw	v0,40d55150 <gui_set_parameter+0x224>
40d550fa:	eac0      	jalrc	v0
40d550fc:	9955      	lw	v0,84(s1)
                }
            }
            
            param_com->draw_mode = PARAMBOX_DRAW_NULL;
40d550fe:	6b00      	li	v1,0
40d55100:	c264      	sb	v1,4(v0)
40d55102:	6a01      	li	v0,1
            progress_draw_mode = PROGRESS_DRAW_PROGRESS;
40d55104:	f020 c148 	sb	v0,40(s1)
40d55108:	9955      	lw	v0,84(s1)
        }

        result = parambox_msg_deal(param_com, &progress_draw_mode);
40d5510a:	4167      	addiu	v1,s1,7
40d5510c:	4b21      	addiu	v1,33
40d5510e:	6782      	move	a0,v0
40d55110:	67a3      	move	a1,v1
40d55112:	1aa1 5360 	jal	40d54d80 <parambox_msg_deal>
40d55116:	6500      	nop
40d55118:	c94c      	sh	v0,24(s1)
40d5511a:	a94c      	lhu	v0,24(s1)
        if (result != RESULT_NULL)
40d5511c:	2201      	beqz	v0,40d55120 <gui_set_parameter+0x1f4>
40d5511e:	1007      	b	40d5512e <gui_set_parameter+0x202>
        {
            break;
40d55120:	6c01      	li	a0,1
        }

        //挂起10ms，多任务调度
        sys_os_time_dly(1);
40d55122:	6d00      	li	a1,0
40d55124:	6e00      	li	a2,0
40d55126:	6f31      	li	a3,49
40d55128:	b20f      	lw	v0,40d55164 <gui_set_parameter+0x238>
40d5512a:	eac0      	jalrc	v0
40d5512c:	174e      	b	40d54fca <gui_set_parameter+0x9e>
40d5512e:	a15a      	lbu	v0,26(s1)
    }

    change_app_timer_tag(tag_backup);
40d55130:	6782      	move	a0,v0
40d55132:	1aa1 545a 	jal	40d55168 <change_app_timer_tag>
40d55136:	6500      	nop
40d55138:	a15b      	lbu	v0,27(s1)
    gui_set_headbar_mode(mode_backup, icon_backup);
40d5513a:	a17c      	lbu	v1,28(s1)
40d5513c:	6782      	move	a0,v0
40d5513e:	67a3      	move	a1,v1
40d55140:	b207      	lw	v0,40d5515c <gui_set_parameter+0x230>
40d55142:	eac0      	jalrc	v0
40d55144:	a94c      	lhu	v0,24(s1)
    return result;
40d55146:	651a      	move	t8,v0
40d55148:	6758      	move	v0,t8
}
40d5514a:	65b9      	move	sp,s1
40d5514c:	645a      	restore	80,ra,s1
40d5514e:	e8a0      	jrc	ra
40d55150:	6bb1      	li	v1,177
40d55152:	bfc1      	lwu	a2,4(a3)
40d55154:	4695      	daddiu	a0,a2,5
40d55156:	4885      	addiu	s0,-123
40d55158:	5bac      	sltiu	v1,172
40d5515a:	9fc1      	lw	a2,4(a3)
40d5515c:	4601      	addiu	s0,a2,1
40d5515e:	4885      	addiu	s0,-123
40d55160:	6409      	restore	72
40d55162:	bfc1      	lwu	a2,4(a3)
40d55164:	640d      	restore	104
40d55166:	bfc1      	lwu	a2,4(a3)

40d55168 <change_app_timer_tag>:
40d55168:	6491      	save	8,s1
40d5516a:	673d      	move	s1,sp
40d5516c:	6744      	move	v0,a0
40d5516e:	c148      	sb	v0,8(s1)
40d55170:	b303      	lw	v1,40d5517c <change_app_timer_tag+0x14>
40d55172:	a148      	lbu	v0,8(s1)
40d55174:	c340      	sb	v0,0(v1)
40d55176:	65b9      	move	sp,s1
40d55178:	6411      	restore	8,s1
40d5517a:	e8a0      	jrc	ra
40d5517c:	a200      	lbu	s0,0(v0)
40d5517e:	9fc1      	lw	a2,4(a3)

40d55180 <get_app_timer_tag>:
40d55180:	6491      	save	8,s1
40d55182:	673d      	move	s1,sp
40d55184:	b204      	lw	v0,40d55194 <get_app_timer_tag+0x14>
40d55186:	a240      	lbu	v0,0(v0)
40d55188:	651a      	move	t8,v0
40d5518a:	6758      	move	v0,t8
40d5518c:	65b9      	move	sp,s1
40d5518e:	6411      	restore	8,s1
40d55190:	e8a0      	jrc	ra
40d55192:	0000      	addiu	s0,sp,0
40d55194:	a200      	lbu	s0,0(v0)
40d55196:	9fc1      	lw	a2,4(a3)
	...
Disassembly of section BANK_CONTROL_1_54:

40d94c00 <textread_msg_deal>:
40d94c00:	64d8      	save	64,ra,s1
text_file_t text_file _BANK_DATA_ATTR_;

//textread gui app msg deal
app_result_e textread_msg_deal(void)
{
40d94c02:	0104      	addiu	s1,sp,16
40d94c04:	6a00      	li	v0,0
    input_gui_msg_t input_msg;
    msg_apps_type_e gui_event;
    private_msg_t private_msg;
    app_result_e result = RESULT_NULL;
40d94c06:	c950      	sh	v0,32(s1)
40d94c08:	6791      	move	a0,s1

    //获取gui消息
    if (get_gui_msg(&input_msg) == TRUE)//有gui消息
40d94c0a:	b253      	lw	v0,40d94d54 <textread_msg_deal+0x154>
40d94c0c:	eac0      	jalrc	v0
40d94c0e:	7201      	cmpi	v0,1
40d94c10:	6758      	move	v0,t8
40d94c12:	5a01      	sltiu	v0,1
40d94c14:	6073      	bteqz	40d94cfc <textread_msg_deal+0xfc>
40d94c16:	4147      	addiu	v0,s1,7
    {
        //进行按键映射
        if (com_key_mapping(&input_msg, &gui_event, textread_key_map_list) == TRUE)
40d94c18:	4241      	addiu	v0,v0,1
40d94c1a:	b350      	lw	v1,40d94d58 <textread_msg_deal+0x158>
40d94c1c:	6791      	move	a0,s1
40d94c1e:	67a2      	move	a1,v0
40d94c20:	67c3      	move	a2,v1
40d94c22:	b24f      	lw	v0,40d94d5c <textread_msg_deal+0x15c>
40d94c24:	eac0      	jalrc	v0
40d94c26:	7201      	cmpi	v0,1
40d94c28:	6758      	move	v0,t8
40d94c2a:	5a01      	sltiu	v0,1
40d94c2c:	f080 600c 	bteqz	40d94d48 <textread_msg_deal+0x148>
40d94c30:	a944      	lhu	v0,8(s1)
        {
            //GUI按键消息处理
            switch (gui_event)
40d94c32:	d949      	sw	v0,36(s1)
40d94c34:	9949      	lw	v0,36(s1)
40d94c36:	f205 7202 	cmpi	v0,10754
40d94c3a:	6758      	move	v0,t8
40d94c3c:	5a01      	sltiu	v0,1
40d94c3e:	6122      	btnez	40d94c84 <textread_msg_deal+0x84>
40d94c40:	9949      	lw	v0,36(s1)
40d94c42:	f205 5203 	slti	v0,10755
40d94c46:	6007      	bteqz	40d94c56 <textread_msg_deal+0x56>
40d94c48:	9949      	lw	v0,36(s1)
40d94c4a:	f205 7201 	cmpi	v0,10753
40d94c4e:	6758      	move	v0,t8
40d94c50:	5a01      	sltiu	v0,1
40d94c52:	6108      	btnez	40d94c64 <textread_msg_deal+0x64>
40d94c54:	1036      	b	40d94cc2 <textread_msg_deal+0xc2>
40d94c56:	9949      	lw	v0,36(s1)
40d94c58:	f205 7207 	cmpi	v0,10759
40d94c5c:	6758      	move	v0,t8
40d94c5e:	5a01      	sltiu	v0,1
40d94c60:	612b      	btnez	40d94cb8 <textread_msg_deal+0xb8>
40d94c62:	102f      	b	40d94cc2 <textread_msg_deal+0xc2>
40d94c64:	b23f      	lw	v0,40d94d60 <textread_msg_deal+0x160>
            {
                case EVENT_TEXTREAD_NEXT_PAGE:
                //向下翻页
                if (g_text_end_flag == TRUE)
40d94c66:	a240      	lbu	v0,0(v0)
40d94c68:	7201      	cmpi	v0,1
40d94c6a:	6758      	move	v0,t8
40d94c6c:	5a01      	sltiu	v0,1
40d94c6e:	6001      	bteqz	40d94c72 <textread_msg_deal+0x72>
40d94c70:	106b      	b	40d94d48 <textread_msg_deal+0x148>
                {
                    //已到末尾
                    break;
40d94c72:	b33d      	lw	v1,40d94d64 <textread_msg_deal+0x164>
                }
                else
                {
                    g_page_index++;
40d94c74:	b23c      	lw	v0,40d94d64 <textread_msg_deal+0x164>
40d94c76:	a240      	lbu	v0,0(v0)
40d94c78:	4241      	addiu	v0,v0,1
40d94c7a:	c340      	sb	v0,0(v1)
40d94c7c:	b33b      	lw	v1,40d94d68 <textread_msg_deal+0x168>
                    g_need_draw = TRUE;
40d94c7e:	6a01      	li	v0,1
40d94c80:	c340      	sb	v0,0(v1)
40d94c82:	1062      	b	40d94d48 <textread_msg_deal+0x148>
                }
                break;
40d94c84:	b238      	lw	v0,40d94d64 <textread_msg_deal+0x164>

                case EVENT_TEXTREAD_PREV_PAGE:
                //向上翻页
                if (g_page_index == 0)
40d94c86:	a240      	lbu	v0,0(v0)
40d94c88:	2a01      	bnez	v0,40d94c8c <textread_msg_deal+0x8c>
40d94c8a:	105e      	b	40d94d48 <textread_msg_deal+0x148>
                {
                    //已到首页
                    break;
40d94c8c:	b336      	lw	v1,40d94d64 <textread_msg_deal+0x164>
                }
                else
                {
                    g_page_index--;
40d94c8e:	b236      	lw	v0,40d94d64 <textread_msg_deal+0x164>
40d94c90:	a240      	lbu	v0,0(v0)
40d94c92:	424f      	addiu	v0,v0,-1
40d94c94:	c340      	sb	v0,0(v1)
40d94c96:	b336      	lw	v1,40d94d6c <textread_msg_deal+0x16c>
                    g_file_offset = g_offset_history[g_page_index];
40d94c98:	b436      	lw	a0,40d94d70 <textread_msg_deal+0x170>
40d94c9a:	b233      	lw	v0,40d94d64 <textread_msg_deal+0x164>
40d94c9c:	a240      	lbu	v0,0(v0)
40d94c9e:	ea11      	zeb	v0
40d94ca0:	3244      	sll	v0,1
40d94ca2:	e289      	addu	v0,a0
40d94ca4:	aa40      	lhu	v0,0(v0)
40d94ca6:	cb40      	sh	v0,0(v1)
40d94ca8:	b330      	lw	v1,40d94d68 <textread_msg_deal+0x168>
                    g_need_draw = TRUE;
40d94caa:	6a01      	li	v0,1
40d94cac:	c340      	sb	v0,0(v1)
40d94cae:	b332      	lw	v1,40d94d74 <textread_msg_deal+0x174>

                    text_decode.valid = FALSE;
40d94cb0:	6a00      	li	v0,0
40d94cb2:	f220 c357 	sb	v0,567(v1)
40d94cb6:	1048      	b	40d94d48 <textread_msg_deal+0x148>
                }
                break;
40d94cb8:	f7ef 6a0c 	li	v0,32748

                case EVENT_TEXTREAD_CANCEL:
                //结束文本阅读，退出
                result = RESULT_REDRAW;
40d94cbc:	ea4b      	neg	v0
40d94cbe:	c950      	sh	v0,32(s1)
40d94cc0:	1043      	b	40d94d48 <textread_msg_deal+0x148>
                break;
40d94cc2:	a944      	lhu	v0,8(s1)

                default:
                result = com_message_box(gui_event);
40d94cc4:	6782      	move	a0,v0
40d94cc6:	b22d      	lw	v0,40d94d78 <textread_msg_deal+0x178>
40d94cc8:	eac0      	jalrc	v0
40d94cca:	c950      	sh	v0,32(s1)
40d94ccc:	a970      	lhu	v1,32(s1)
                if (result == RESULT_REDRAW)
40d94cce:	f010 6a14 	li	v0,32788
40d94cd2:	ea6e      	xor	v0,v1
40d94cd4:	5a01      	sltiu	v0,1
40d94cd6:	6038      	bteqz	40d94d48 <textread_msg_deal+0x148>
40d94cd8:	b324      	lw	v1,40d94d68 <textread_msg_deal+0x168>
                {
                    g_need_draw = TRUE;
40d94cda:	6a01      	li	v0,1
40d94cdc:	c340      	sb	v0,0(v1)
40d94cde:	b324      	lw	v1,40d94d6c <textread_msg_deal+0x16c>
                    g_file_offset = g_file_offset_bk;//重绘
40d94ce0:	b227      	lw	v0,40d94d7c <textread_msg_deal+0x17c>
40d94ce2:	aa40      	lhu	v0,0(v0)
40d94ce4:	cb40      	sh	v0,0(v1)
40d94ce6:	b324      	lw	v1,40d94d74 <textread_msg_deal+0x174>
                    text_decode.valid = FALSE;
40d94ce8:	6a00      	li	v0,0
40d94cea:	f220 c357 	sb	v0,567(v1)
40d94cee:	b322      	lw	v1,40d94d74 <textread_msg_deal+0x174>
                    text_decode.remain = 0;
40d94cf0:	6a00      	li	v0,0
40d94cf2:	f220 c356 	sb	v0,566(v1)
40d94cf6:	6a00      	li	v0,0
                    result = RESULT_NULL;//不退出控件
40d94cf8:	c950      	sh	v0,32(s1)
40d94cfa:	1026      	b	40d94d48 <textread_msg_deal+0x148>
                }
                break;
40d94cfc:	4147      	addiu	v0,s1,7
            }
        }
    }
    else
    {
        //到此，gui消息队列已经处理完毕
        //获取ap私有消息和系统消息（会先转换为私有消息再返回），并处理
        if (get_app_msg(&private_msg) == TRUE)
40d94cfe:	4a09      	addiu	v0,9
40d94d00:	6782      	move	a0,v0
40d94d02:	b220      	lw	v0,40d94d80 <textread_msg_deal+0x180>
40d94d04:	eac0      	jalrc	v0
40d94d06:	7201      	cmpi	v0,1
40d94d08:	6758      	move	v0,t8
40d94d0a:	5a01      	sltiu	v0,1
40d94d0c:	601d      	bteqz	40d94d48 <textread_msg_deal+0x148>
40d94d0e:	9944      	lw	v0,16(s1)
        {
            //setting 应用只会响应默认处理的消息，可以用 com_message_box 代替
            result = com_message_box(private_msg.msg.type);
40d94d10:	ea31      	zeh	v0
40d94d12:	6782      	move	a0,v0
40d94d14:	b219      	lw	v0,40d94d78 <textread_msg_deal+0x178>
40d94d16:	eac0      	jalrc	v0
40d94d18:	c950      	sh	v0,32(s1)
40d94d1a:	a970      	lhu	v1,32(s1)
            if (result == RESULT_REDRAW)
40d94d1c:	f010 6a14 	li	v0,32788
40d94d20:	ea6e      	xor	v0,v1
40d94d22:	5a01      	sltiu	v0,1
40d94d24:	6011      	bteqz	40d94d48 <textread_msg_deal+0x148>
40d94d26:	b311      	lw	v1,40d94d68 <textread_msg_deal+0x168>
            {
                g_need_draw = TRUE;
40d94d28:	6a01      	li	v0,1
40d94d2a:	c340      	sb	v0,0(v1)
40d94d2c:	b310      	lw	v1,40d94d6c <textread_msg_deal+0x16c>
                g_file_offset = g_file_offset_bk;//重绘
40d94d2e:	b214      	lw	v0,40d94d7c <textread_msg_deal+0x17c>
40d94d30:	aa40      	lhu	v0,0(v0)
40d94d32:	cb40      	sh	v0,0(v1)
40d94d34:	b310      	lw	v1,40d94d74 <textread_msg_deal+0x174>
                text_decode.valid = FALSE;
40d94d36:	6a00      	li	v0,0
40d94d38:	f220 c357 	sb	v0,567(v1)
40d94d3c:	b30e      	lw	v1,40d94d74 <textread_msg_deal+0x174>
                text_decode.remain = 0;
40d94d3e:	6a00      	li	v0,0
40d94d40:	f220 c356 	sb	v0,566(v1)
40d94d44:	6a00      	li	v0,0
                result = RESULT_NULL;//不退出控件
40d94d46:	c950      	sh	v0,32(s1)
40d94d48:	a950      	lhu	v0,32(s1)
            }
        }
    }

    return result;
40d94d4a:	651a      	move	t8,v0
40d94d4c:	6758      	move	v0,t8
}
40d94d4e:	65b9      	move	sp,s1
40d94d50:	6456      	restore	48,ra,s1
40d94d52:	e8a0      	jrc	ra
40d94d54:	66d5      	0x66d5
40d94d56:	bfc1      	lwu	a2,4(a3)
40d94d58:	46d8      	daddiu	a2,a2,-8
40d94d5a:	4855      	addiu	s0,85
40d94d5c:	47ad      	addiu	a1,a3,-3
40d94d5e:	4855      	addiu	s0,85
40d94d60:	50f5      	slti	s0,245
40d94d62:	40d9      	daddiu	a2,s0,-7
40d94d64:	50f4      	slti	s0,244
40d94d66:	40d9      	daddiu	a2,s0,-7
40d94d68:	50f6      	slti	s0,246
40d94d6a:	40d9      	daddiu	a2,s0,-7
40d94d6c:	50f0      	slti	s0,240
40d94d6e:	40d9      	daddiu	a2,s0,-7
40d94d70:	50b0      	slti	s0,176
40d94d72:	40d9      	daddiu	a2,s0,-7
40d94d74:	50f8      	slti	s0,248
40d94d76:	40d9      	daddiu	a2,s0,-7
40d94d78:	4601      	addiu	s0,a2,1
40d94d7a:	48bd      	addiu	s0,-67
40d94d7c:	50f2      	slti	s0,242
40d94d7e:	40d9      	daddiu	a2,s0,-7
40d94d80:	6741      	move	v0,at
40d94d82:	bfc1      	lwu	a2,4(a3)

40d94d84 <gui_text_read>:
40d94d84:	64d6      	save	48,ra,s1

/*! \cond COMMON_API */

/******************************************************************************/
/*!
 * \par  Description:
 *    简短文本浏览控件控制流实现，该接口只支持 SD 文件系统中的文本文件。
 * \param[in]    style_id ui editor 工具设计的文本浏览控件模板
 * \param[in]    file_name 阅读文件名字
 * \param[out]   none
 * \return       app_result_e
 * \retval           RESULT_REDRAW 正常返回AP，重绘UI
 * \retval           RESULT_ERROR 无法打开文件等，返回错误（除非系统bug，否则不可能返回）
 * \retval           other 收到返回值不为 RESULT_NULL 应用消息返回，见 app_result_e 定义
 * \ingroup      controls
 * \par          exmaple code
 * \code
 例子1：显示样机法律说明书
 const char law_file_name[12] = "legal.txt";
 app_result_e result;

 result = gui_text_read(law_file_name);
 * \endcode
 * \note
 * \li  该接口只支持 SD 文件系统中的文本文件，并且文件页数不能超过 32 页。
 * \li  支持 Unicode-16，UTF-8，内码编码（参见 lang_id.h 中定义语言列表）格式。
 *******************************************************************************/
app_result_e gui_text_read(const char *file_name)
{
40d94d86:	0104      	addiu	s1,sp,16
40d94d88:	d988      	sw	a0,32(s1)
40d94d8a:	6a00      	li	v0,0
    app_result_e result = RESULT_NULL;
40d94d8c:	c940      	sh	v0,0(s1)
40d94d8e:	1ac1 5426 	jal	40d95098 <get_app_timer_tag>
    sd_handle sd_file_handle;
    uint32 sd_file_length;
    uint16 page_bytes;
    text_end_mode_e end_mode;
    uint8 tag_backup;
    uint8 mode_backup, icon_backup;

    tag_backup = get_app_timer_tag();
40d94d92:	6500      	nop
40d94d94:	c14f      	sb	v0,15(s1)
40d94d96:	6c8b      	li	a0,139
    change_app_timer_tag(APP_TIEMR_TAG_TEXTRD);
40d94d98:	1ac1 5420 	jal	40d95080 <change_app_timer_tag>
40d94d9c:	6500      	nop
40d94d9e:	4147      	addiu	v0,s1,7

    gui_get_headbar_mode(&mode_backup, &icon_backup);
40d94da0:	4a09      	addiu	v0,9
40d94da2:	4167      	addiu	v1,s1,7
40d94da4:	4b0a      	addiu	v1,10
40d94da6:	6782      	move	a0,v0
40d94da8:	67a3      	move	a1,v1
40d94daa:	b2a2      	lw	v0,40d95030 <gui_text_read+0x2ac>
40d94dac:	eac0      	jalrc	v0
40d94dae:	b2a2      	lw	v0,40d95034 <gui_text_read+0x2b0>
    gui_set_headbar_mode(HEADBAR_MODE_NULL, this_headbar_icon_id);
40d94db0:	a240      	lbu	v0,0(v0)
40d94db2:	6c00      	li	a0,0
40d94db4:	67a2      	move	a1,v0
40d94db6:	b2a1      	lw	v0,40d95038 <gui_text_read+0x2b4>
40d94db8:	eac0      	jalrc	v0
40d94dba:	9948      	lw	v0,32(s1)

    //style_infor.style_id = style_id;
    //style_infor.type = UI_COM;

    //初始化文本文件，完善text_file_t数据结构
    sd_file_handle = sys_sd_fopen(file_name);
40d94dbc:	6782      	move	a0,v0
40d94dbe:	6d00      	li	a1,0
40d94dc0:	6e00      	li	a2,0
40d94dc2:	6f0d      	li	a3,13
40d94dc4:	b29e      	lw	v0,40d9503c <gui_text_read+0x2b8>
40d94dc6:	eac0      	jalrc	v0
40d94dc8:	d941      	sw	v0,4(s1)
40d94dca:	9941      	lw	v0,4(s1)
    if (sd_file_handle == NULL)
40d94dcc:	2a04      	bnez	v0,40d94dd6 <gui_text_read+0x52>
40d94dce:	f010 6a1d 	li	v0,32797
    {
        return RESULT_ERROR;
40d94dd2:	d945      	sw	v0,20(s1)
40d94dd4:	1128      	b	40d95026 <gui_text_read+0x2a2>
40d94dd6:	9941      	lw	v0,4(s1)
    }

    sys_sd_fread(sd_file_handle, text_decode.text_buf, 512);
40d94dd8:	b39a      	lw	v1,40d95040 <gui_text_read+0x2bc>
40d94dda:	f200 6e00 	li	a2,512
40d94dde:	6782      	move	a0,v0
40d94de0:	67a3      	move	a1,v1
40d94de2:	6f11      	li	a3,17
40d94de4:	b296      	lw	v0,40d9503c <gui_text_read+0x2b8>
40d94de6:	eac0      	jalrc	v0
40d94de8:	b297      	lw	v0,40d95040 <gui_text_read+0x2bc>
    if ((text_decode.text_buf[0] == 0xff) && (text_decode.text_buf[1] == 0xfe))
40d94dea:	f020 a250 	lbu	v0,48(v0)
40d94dee:	72ff      	cmpi	v0,255
40d94df0:	6758      	move	v0,t8
40d94df2:	5a01      	sltiu	v0,1
40d94df4:	600c      	bteqz	40d94e0e <gui_text_read+0x8a>
40d94df6:	b294      	lw	v0,40d95044 <gui_text_read+0x2c0>
40d94df8:	f020 a251 	lbu	v0,49(v0)
40d94dfc:	72fe      	cmpi	v0,254
40d94dfe:	6758      	move	v0,t8
40d94e00:	5a01      	sltiu	v0,1
40d94e02:	6005      	bteqz	40d94e0e <gui_text_read+0x8a>
40d94e04:	b390      	lw	v1,40d95044 <gui_text_read+0x2c0>
    {
        text_decode.param.language = UNICODEDATA;
40d94e06:	6a7d      	li	v0,125
40d94e08:	f220 c35b 	sb	v0,571(v1)
40d94e0c:	1020      	b	40d94e4e <gui_text_read+0xca>
40d94e0e:	b28e      	lw	v0,40d95044 <gui_text_read+0x2c0>
    }
    else if ((text_decode.text_buf[0] == 0xef) && (text_decode.text_buf[1] == 0xbb)
40d94e10:	f020 a250 	lbu	v0,48(v0)
40d94e14:	72ef      	cmpi	v0,239
40d94e16:	6758      	move	v0,t8
40d94e18:	5a01      	sltiu	v0,1
40d94e1a:	6013      	bteqz	40d94e42 <gui_text_read+0xbe>
40d94e1c:	b28a      	lw	v0,40d95044 <gui_text_read+0x2c0>
40d94e1e:	f020 a251 	lbu	v0,49(v0)
40d94e22:	72bb      	cmpi	v0,187
40d94e24:	6758      	move	v0,t8
40d94e26:	5a01      	sltiu	v0,1
40d94e28:	600c      	bteqz	40d94e42 <gui_text_read+0xbe>
40d94e2a:	b287      	lw	v0,40d95044 <gui_text_read+0x2c0>
40d94e2c:	f020 a252 	lbu	v0,50(v0)
40d94e30:	72bf      	cmpi	v0,191
40d94e32:	6758      	move	v0,t8
40d94e34:	5a01      	sltiu	v0,1
40d94e36:	6005      	bteqz	40d94e42 <gui_text_read+0xbe>
40d94e38:	b383      	lw	v1,40d95044 <gui_text_read+0x2c0>
            && (text_decode.text_buf[2] == 0xbf))
    {
        text_decode.param.language = UTF_8DATA;
40d94e3a:	6a7c      	li	v0,124
40d94e3c:	f220 c35b 	sb	v0,571(v1)
40d94e40:	1006      	b	40d94e4e <gui_text_read+0xca>
40d94e42:	b381      	lw	v1,40d95044 <gui_text_read+0x2c0>
    }
    else
    {
        text_decode.param.language = (int8) sys_comval->language_id;
40d94e44:	b281      	lw	v0,40d95048 <gui_text_read+0x2c4>
40d94e46:	9a40      	lw	v0,0(v0)
40d94e48:	a24c      	lbu	v0,12(v0)
40d94e4a:	f220 c35b 	sb	v0,571(v1)
40d94e4e:	9941      	lw	v0,4(s1)
    }

    sys_sd_fseek(sd_file_handle, SEEK_END, 0);
40d94e50:	6782      	move	a0,v0
40d94e52:	6d02      	li	a1,2
40d94e54:	6e00      	li	a2,0
40d94e56:	6f0f      	li	a3,15
40d94e58:	b279      	lw	v0,40d9503c <gui_text_read+0x2b8>
40d94e5a:	eac0      	jalrc	v0
40d94e5c:	9941      	lw	v0,4(s1)
    sd_file_length = sys_sd_ftell(sd_file_handle);
40d94e5e:	6782      	move	a0,v0
40d94e60:	6d00      	li	a1,0
40d94e62:	6e00      	li	a2,0
40d94e64:	6f10      	li	a3,16
40d94e66:	b276      	lw	v0,40d9503c <gui_text_read+0x2b8>
40d94e68:	eac0      	jalrc	v0
40d94e6a:	d942      	sw	v0,8(s1)
40d94e6c:	9941      	lw	v0,4(s1)
    sys_sd_fseek(sd_file_handle, SEEK_SET, 0);
40d94e6e:	6782      	move	a0,v0
40d94e70:	6d00      	li	a1,0
40d94e72:	6e00      	li	a2,0
40d94e74:	6f0f      	li	a3,15
40d94e76:	b272      	lw	v0,40d9503c <gui_text_read+0x2b8>
40d94e78:	eac0      	jalrc	v0
40d94e7a:	9941      	lw	v0,4(s1)
    sd_file_length = (sd_file_length - sys_sd_ftell(sd_file_handle) + 1);//首位指针相减加1为文件长度
40d94e7c:	6782      	move	a0,v0
40d94e7e:	6d00      	li	a1,0
40d94e80:	6e00      	li	a2,0
40d94e82:	6f10      	li	a3,16
40d94e84:	b26e      	lw	v0,40d9503c <gui_text_read+0x2b8>
40d94e86:	eac0      	jalrc	v0
40d94e88:	6762      	move	v1,v0
40d94e8a:	9942      	lw	v0,8(s1)
40d94e8c:	e26b      	subu	v0,v1
40d94e8e:	4241      	addiu	v0,v0,1
40d94e90:	d942      	sw	v0,8(s1)
40d94e92:	b36f      	lw	v1,40d9504c <gui_text_read+0x2c8>

    text_file.file_handle = sd_file_handle;
40d94e94:	9941      	lw	v0,4(s1)
40d94e96:	db40      	sw	v0,0(v1)
40d94e98:	b36d      	lw	v1,40d9504c <gui_text_read+0x2c8>
    text_file.file_length = sd_file_length;
40d94e9a:	9942      	lw	v0,8(s1)
40d94e9c:	db42      	sw	v0,8(v1)
40d94e9e:	b36c      	lw	v1,40d9504c <gui_text_read+0x2c8>
    text_file.file_sectors = sd_file_length / 512;
40d94ea0:	9942      	lw	v0,8(s1)
40d94ea2:	3242      	srl	v0,8
40d94ea4:	3246      	srl	v0,1
40d94ea6:	db41      	sw	v0,4(v1)
40d94ea8:	9962      	lw	v1,8(s1)
    if ((sd_file_length % 512) != 0)
40d94eaa:	f1e0 6a1f 	li	v0,511
40d94eae:	ea6c      	and	v0,v1
40d94eb0:	2205      	beqz	v0,40d94ebc <gui_text_read+0x138>
40d94eb2:	b367      	lw	v1,40d9504c <gui_text_read+0x2c8>
    {
        text_file.file_sectors++;
40d94eb4:	b266      	lw	v0,40d9504c <gui_text_read+0x2c8>
40d94eb6:	9a41      	lw	v0,4(v0)
40d94eb8:	4241      	addiu	v0,v0,1
40d94eba:	db41      	sw	v0,4(v1)
40d94ebc:	b364      	lw	v1,40d9504c <gui_text_read+0x2c8>
    }
    text_file.fseek = sd_fseek_sector;
40d94ebe:	b265      	lw	v0,40d95050 <gui_text_read+0x2cc>
40d94ec0:	db44      	sw	v0,16(v1)
40d94ec2:	b363      	lw	v1,40d9504c <gui_text_read+0x2c8>
    text_file.fread = sd_fread_sector;
40d94ec4:	b264      	lw	v0,40d95054 <gui_text_read+0x2d0>
40d94ec6:	db45      	sw	v0,20(v1)
40d94ec8:	b264      	lw	v0,40d95058 <gui_text_read+0x2d4>

    //初始化历史记录
    libc_memset(g_offset_history, 0xff, sizeof(g_offset_history));
40d94eca:	6782      	move	a0,v0
40d94ecc:	6dff      	li	a1,255
40d94ece:	6e40      	li	a2,64
40d94ed0:	6f01      	li	a3,1
40d94ed2:	b263      	lw	v0,40d9505c <gui_text_read+0x2d8>
40d94ed4:	eac0      	jalrc	v0
40d94ed6:	b363      	lw	v1,40d95060 <gui_text_read+0x2dc>
    g_file_offset = 0;
40d94ed8:	6a00      	li	v0,0
40d94eda:	cb40      	sh	v0,0(v1)
40d94edc:	b362      	lw	v1,40d95064 <gui_text_read+0x2e0>
    g_file_offset_bk = 0;
40d94ede:	6a00      	li	v0,0
40d94ee0:	cb40      	sh	v0,0(v1)
40d94ee2:	b362      	lw	v1,40d95068 <gui_text_read+0x2e4>
    g_page_index = 0;
40d94ee4:	6a00      	li	v0,0
40d94ee6:	c340      	sb	v0,0(v1)
40d94ee8:	b361      	lw	v1,40d9506c <gui_text_read+0x2e8>
    g_text_end_flag = FALSE;
40d94eea:	6a00      	li	v0,0
40d94eec:	c340      	sb	v0,0(v1)
40d94eee:	b361      	lw	v1,40d95070 <gui_text_read+0x2ec>
    g_need_draw = TRUE;
40d94ef0:	6a01      	li	v0,1
40d94ef2:	c340      	sb	v0,0(v1)
40d94ef4:	b356      	lw	v1,40d9504c <gui_text_read+0x2c8>

    text_file.file_offset = 0;
40d94ef6:	6a00      	li	v0,0
40d94ef8:	db43      	sw	v0,12(v1)
40d94efa:	b353      	lw	v1,40d95044 <gui_text_read+0x2c0>
    text_decode.valid = FALSE;
40d94efc:	6a00      	li	v0,0
40d94efe:	f220 c357 	sb	v0,567(v1)
40d94f02:	b351      	lw	v1,40d95044 <gui_text_read+0x2c0>
    text_decode.remain = 0;
40d94f04:	6a00      	li	v0,0
40d94f06:	f220 c356 	sb	v0,566(v1)
40d94f0a:	b34f      	lw	v1,40d95044 <gui_text_read+0x2c0>

    text_decode.param.line_count_one_page = 10;
40d94f0c:	6a0a      	li	v0,10
40d94f0e:	f220 c358 	sb	v0,568(v1)
40d94f12:	b34d      	lw	v1,40d95044 <gui_text_read+0x2c0>
    text_decode.param.max_width_one_line = ROW_MAX_WIDTH;
40d94f14:	6a06      	li	v0,6
40d94f16:	ea4b      	neg	v0
40d94f18:	f220 c359 	sb	v0,569(v1)
40d94f1c:	b34a      	lw	v1,40d95044 <gui_text_read+0x2c0>
    text_decode.param.mode = FILTER_BLANK_DISABLE | DIVIDE_WORD_ENABLE;
40d94f1e:	6a02      	li	v0,2
40d94f20:	f220 c35a 	sb	v0,570(v1)
40d94f24:	b348      	lw	v1,40d95044 <gui_text_read+0x2c0>

    text_decode.text_show_line = show_text_line;
40d94f26:	b254      	lw	v0,40d95074 <gui_text_read+0x2f0>
40d94f28:	f220 db5c 	sw	v0,572(v1)
40d94f2c:	b251      	lw	v0,40d95070 <gui_text_read+0x2ec>

    //gui_set_headbar_mode(HEADBAR_MODE_NULL, this_headbar_icon_id);

    //进入文本浏览循环
    while (1)
    {
        //显示一页文本
        if (g_need_draw == TRUE)
40d94f2e:	a240      	lbu	v0,0(v0)
40d94f30:	7201      	cmpi	v0,1
40d94f32:	6758      	move	v0,t8
40d94f34:	5a01      	sltiu	v0,1
40d94f36:	6055      	bteqz	40d94fe2 <gui_text_read+0x25e>
40d94f38:	b348      	lw	v1,40d95058 <gui_text_read+0x2d4>
        {
            g_offset_history[g_page_index] = g_file_offset;
40d94f3a:	b24c      	lw	v0,40d95068 <gui_text_read+0x2e4>
40d94f3c:	a240      	lbu	v0,0(v0)
40d94f3e:	ea11      	zeb	v0
40d94f40:	3244      	sll	v0,1
40d94f42:	e26d      	addu	v1,v0,v1
40d94f44:	b247      	lw	v0,40d95060 <gui_text_read+0x2dc>
40d94f46:	aa40      	lhu	v0,0(v0)
40d94f48:	cb40      	sh	v0,0(v1)
40d94f4a:	f0c3 6a03 	li	v0,6339
            //ui_show_picbox(&style_infor, NULL);
            //draw bg
            ui_set_backgd_color(Color_BACKCOLOR_def);
40d94f4e:	6782      	move	a0,v0
40d94f50:	6d00      	li	a1,0
40d94f52:	6e00      	li	a2,0
40d94f54:	6f14      	li	a3,20
40d94f56:	b249      	lw	v0,40d95078 <gui_text_read+0x2f4>
40d94f58:	eac0      	jalrc	v0
40d94f5a:	6c00      	li	a0,0
            ui_clear_screen(NULL); //2015-10-30
40d94f5c:	6d00      	li	a1,0
40d94f5e:	6e00      	li	a2,0
40d94f60:	6f12      	li	a3,18
40d94f62:	b246      	lw	v0,40d95078 <gui_text_read+0x2f4>
40d94f64:	eac0      	jalrc	v0
40d94f66:	b33a      	lw	v1,40d9504c <gui_text_read+0x2c8>

            text_file.file_offset = g_file_offset;
40d94f68:	b23e      	lw	v0,40d95060 <gui_text_read+0x2dc>
40d94f6a:	aa40      	lhu	v0,0(v0)
40d94f6c:	db43      	sw	v0,12(v1)
40d94f6e:	b33e      	lw	v1,40d95064 <gui_text_read+0x2e0>
            g_file_offset_bk = g_file_offset;
40d94f70:	b23c      	lw	v0,40d95060 <gui_text_read+0x2dc>
40d94f72:	aa40      	lhu	v0,0(v0)
40d94f74:	cb40      	sh	v0,0(v1)
40d94f76:	b234      	lw	v0,40d95044 <gui_text_read+0x2c0>
            end_mode = text_decode_one_page(&text_decode, &text_file, &page_bytes);
40d94f78:	b335      	lw	v1,40d9504c <gui_text_read+0x2c8>
40d94f7a:	41c7      	addiu	a2,s1,7
40d94f7c:	46c5      	addiu	a2,a2,5
40d94f7e:	6782      	move	a0,v0
40d94f80:	67a3      	move	a1,v1
40d94f82:	b23f      	lw	v0,40d9507c <gui_text_read+0x2f8>
40d94f84:	eac0      	jalrc	v0
40d94f86:	c14e      	sb	v0,14(s1)
40d94f88:	a14e      	lbu	v0,14(s1)
            if (end_mode == TEXT_END_NUL)//遇到结束符，终止继续往下解码
40d94f8a:	7202      	cmpi	v0,2
40d94f8c:	6758      	move	v0,t8
40d94f8e:	5a01      	sltiu	v0,1
40d94f90:	6004      	bteqz	40d94f9a <gui_text_read+0x216>
40d94f92:	b337      	lw	v1,40d9506c <gui_text_read+0x2e8>
            {
                g_text_end_flag = TRUE;
40d94f94:	6a01      	li	v0,1
40d94f96:	c340      	sb	v0,0(v1)
40d94f98:	101d      	b	40d94fd4 <gui_text_read+0x250>
40d94f9a:	a14e      	lbu	v0,14(s1)
            }
            else if (end_mode == TEXT_END_READ_ERR)//读取数据失败，退出
40d94f9c:	7205      	cmpi	v0,5
40d94f9e:	6758      	move	v0,t8
40d94fa0:	5a01      	sltiu	v0,1
40d94fa2:	6005      	bteqz	40d94fae <gui_text_read+0x22a>
40d94fa4:	f7ef 6a03 	li	v0,32739
            {
                result = RESULT_ERROR;
40d94fa8:	ea4b      	neg	v0
40d94faa:	c940      	sh	v0,0(s1)
40d94fac:	1028      	b	40d94ffe <gui_text_read+0x27a>
                break;//退出控件
40d94fae:	b42d      	lw	a0,40d95060 <gui_text_read+0x2dc>
            }
            else
            {
                g_file_offset += page_bytes;
40d94fb0:	b22c      	lw	v0,40d95060 <gui_text_read+0x2dc>
40d94fb2:	aa60      	lhu	v1,0(v0)
40d94fb4:	a946      	lhu	v0,12(s1)
40d94fb6:	e349      	addu	v0,v1,v0
40d94fb8:	cc40      	sh	v0,0(a0)
40d94fba:	b22a      	lw	v0,40d95060 <gui_text_read+0x2dc>
                if (g_file_offset >= text_file.file_length)
40d94fbc:	aa60      	lhu	v1,0(v0)
40d94fbe:	b224      	lw	v0,40d9504c <gui_text_read+0x2c8>
40d94fc0:	9a42      	lw	v0,8(v0)
40d94fc2:	eb43      	sltu	v1,v0
40d94fc4:	6104      	btnez	40d94fce <gui_text_read+0x24a>
40d94fc6:	b32a      	lw	v1,40d9506c <gui_text_read+0x2e8>
                {
                    g_text_end_flag = TRUE;
40d94fc8:	6a01      	li	v0,1
40d94fca:	c340      	sb	v0,0(v1)
40d94fcc:	1003      	b	40d94fd4 <gui_text_read+0x250>
40d94fce:	b328      	lw	v1,40d9506c <gui_text_read+0x2e8>
                }
                else
                {
                    g_text_end_flag = FALSE;
40d94fd0:	6a00      	li	v0,0
40d94fd2:	c340      	sb	v0,0(v1)
40d94fd4:	b31c      	lw	v1,40d95044 <gui_text_read+0x2c0>
                }
            }

            text_decode.valid = TRUE;
40d94fd6:	6a01      	li	v0,1
40d94fd8:	f220 c357 	sb	v0,567(v1)
40d94fdc:	b325      	lw	v1,40d95070 <gui_text_read+0x2ec>
            g_need_draw = FALSE;
40d94fde:	6a00      	li	v0,0
40d94fe0:	c340      	sb	v0,0(v1)
40d94fe2:	1ac1 5300 	jal	40d94c00 <textread_msg_deal>
        }

        result = textread_msg_deal();
40d94fe6:	6500      	nop
40d94fe8:	c940      	sh	v0,0(s1)
40d94fea:	a940      	lhu	v0,0(s1)
        if (result != RESULT_NULL)
40d94fec:	2201      	beqz	v0,40d94ff0 <gui_text_read+0x26c>
40d94fee:	1007      	b	40d94ffe <gui_text_read+0x27a>
        {
            break;
40d94ff0:	6c01      	li	a0,1
        }

        //挂起10ms，多任务调度
        sys_os_time_dly(1);
40d94ff2:	6d00      	li	a1,0
40d94ff4:	6e00      	li	a2,0
40d94ff6:	6f31      	li	a3,49
40d94ff8:	b211      	lw	v0,40d9503c <gui_text_read+0x2b8>
40d94ffa:	eac0      	jalrc	v0
40d94ffc:	1797      	b	40d94f2c <gui_text_read+0x1a8>
40d94ffe:	9941      	lw	v0,4(s1)
    }

    //关闭文本文件
    sys_sd_fclose(sd_file_handle);
40d95000:	6782      	move	a0,v0
40d95002:	6d00      	li	a1,0
40d95004:	6e00      	li	a2,0
40d95006:	6f0e      	li	a3,14
40d95008:	b20d      	lw	v0,40d9503c <gui_text_read+0x2b8>
40d9500a:	eac0      	jalrc	v0
40d9500c:	a14f      	lbu	v0,15(s1)
    change_app_timer_tag(tag_backup);
40d9500e:	6782      	move	a0,v0
40d95010:	1ac1 5420 	jal	40d95080 <change_app_timer_tag>
40d95014:	6500      	nop
40d95016:	a150      	lbu	v0,16(s1)
    gui_set_headbar_mode(mode_backup, icon_backup);
40d95018:	a171      	lbu	v1,17(s1)
40d9501a:	6782      	move	a0,v0
40d9501c:	67a3      	move	a1,v1
40d9501e:	b207      	lw	v0,40d95038 <gui_text_read+0x2b4>
40d95020:	eac0      	jalrc	v0
40d95022:	a940      	lhu	v0,0(s1)
    return result;
40d95024:	d945      	sw	v0,20(s1)
40d95026:	9945      	lw	v0,20(s1)
}
40d95028:	65b9      	move	sp,s1
40d9502a:	6454      	restore	32,ra,s1
40d9502c:	e8a0      	jrc	ra
40d9502e:	0000      	addiu	s0,sp,0
40d95030:	4695      	daddiu	a0,a2,5
40d95032:	4885      	addiu	s0,-123
40d95034:	5bac      	sltiu	v1,172
40d95036:	9fc1      	lw	a2,4(a3)
40d95038:	4601      	addiu	s0,a2,1
40d9503a:	4885      	addiu	s0,-123
40d9503c:	640d      	restore	104
40d9503e:	bfc1      	lwu	a2,4(a3)
40d95040:	5128      	slti	s1,40
40d95042:	40d9      	daddiu	a2,s0,-7
40d95044:	50f8      	slti	s0,248
40d95046:	40d9      	daddiu	a2,s0,-7
40d95048:	5a48      	sltiu	v0,72
40d9504a:	9fc1      	lw	a2,4(a3)
40d9504c:	5338      	slti	v1,56
40d9504e:	40d9      	daddiu	a2,s0,-7
40d95050:	48b5      	addiu	s0,-75
40d95052:	4881      	addiu	s0,-127
40d95054:	48f9      	addiu	s0,-7
40d95056:	4881      	addiu	s0,-127
40d95058:	50b0      	slti	s0,176
40d9505a:	40d9      	daddiu	a2,s0,-7
40d9505c:	6409      	restore	72
40d9505e:	bfc1      	lwu	a2,4(a3)
40d95060:	50f0      	slti	s0,240
40d95062:	40d9      	daddiu	a2,s0,-7
40d95064:	50f2      	slti	s0,242
40d95066:	40d9      	daddiu	a2,s0,-7
40d95068:	50f4      	slti	s0,244
40d9506a:	40d9      	daddiu	a2,s0,-7
40d9506c:	50f5      	slti	s0,245
40d9506e:	40d9      	daddiu	a2,s0,-7
40d95070:	50f6      	slti	s0,246
40d95072:	40d9      	daddiu	a2,s0,-7
40d95074:	493d      	addiu	s1,61
40d95076:	4881      	addiu	s0,-127
40d95078:	6bb1      	li	v1,177
40d9507a:	bfc1      	lwu	a2,4(a3)
40d9507c:	46a1      	addiu	a1,a2,1
40d9507e:	4881      	addiu	s0,-127

40d95080 <change_app_timer_tag>:
40d95080:	6491      	save	8,s1
40d95082:	673d      	move	s1,sp
40d95084:	6744      	move	v0,a0
40d95086:	c148      	sb	v0,8(s1)
40d95088:	b303      	lw	v1,40d95094 <change_app_timer_tag+0x14>
40d9508a:	a148      	lbu	v0,8(s1)
40d9508c:	c340      	sb	v0,0(v1)
40d9508e:	65b9      	move	sp,s1
40d95090:	6411      	restore	8,s1
40d95092:	e8a0      	jrc	ra
40d95094:	a200      	lbu	s0,0(v0)
40d95096:	9fc1      	lw	a2,4(a3)

40d95098 <get_app_timer_tag>:
40d95098:	6491      	save	8,s1
40d9509a:	673d      	move	s1,sp
40d9509c:	b204      	lw	v0,40d950ac <get_app_timer_tag+0x14>
40d9509e:	a240      	lbu	v0,0(v0)
40d950a0:	651a      	move	t8,v0
40d950a2:	6758      	move	v0,t8
40d950a4:	65b9      	move	sp,s1
40d950a6:	6411      	restore	8,s1
40d950a8:	e8a0      	jrc	ra
40d950aa:	0000      	addiu	s0,sp,0
40d950ac:	a200      	lbu	s0,0(v0)
40d950ae:	9fc1      	lw	a2,4(a3)

40d950b0 <g_offset_history>:
	...

40d950f0 <g_file_offset>:
	...

40d950f2 <g_file_offset_bk>:
	...

40d950f4 <g_page_index>:
	...

40d950f5 <g_text_end_flag>:
	...

40d950f6 <g_need_draw>:
	...

40d950f8 <text_decode>:
	...

40d95338 <text_file>:
	...
Disassembly of section BANK_CONTROL_1_55:

40dd4c00 <com_get_default_setting>:
40dd4c00:	64f4      	save	32,ra,s0-s1
 * \ingroup      misc_func
 * \note 
*******************************************************************************/
void com_get_default_setting(setting_comval_t *setting_comval)
{
40dd4c02:	0104      	addiu	s1,sp,16
40dd4c04:	d984      	sw	a0,16(s1)
40dd4c06:	9904      	lw	s0,16(s1)
    //背光亮度等级
    setting_comval->g_comval.lightness = (uint8)com_get_config_default(SETTING_AP_ID_LIGHTNESS);
40dd4c08:	6cc8      	li	a0,200
40dd4c0a:	b245      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4c0c:	eac0      	jalrc	v0
40dd4c0e:	c042      	sb	v0,2(s0)
40dd4c10:	9904      	lw	s0,16(s1)
    //主题 0：蓝色 1：绿色 2：灰色 3：粉红色 4：红色
    setting_comval->g_comval.theme = (uint8) com_get_config_default(SETTING_AP_ID_THEME);
40dd4c12:	6cc9      	li	a0,201
40dd4c14:	b242      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4c16:	eac0      	jalrc	v0
40dd4c18:	c043      	sb	v0,3(s0)
40dd4c1a:	9904      	lw	s0,16(s1)
    //屏幕保护 0: 无 1: 数字时钟 2：相册图画 3：关闭屏幕 4：演示模式
    setting_comval->g_comval.screen_saver_mode = (uint8) com_get_config_default(SETTING_AP_ID_SCREEN_SAVER_MODE);
40dd4c1c:	6cca      	li	a0,202
40dd4c1e:	b240      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4c20:	eac0      	jalrc	v0
40dd4c22:	c044      	sb	v0,4(s0)
40dd4c24:	9904      	lw	s0,16(s1)
    //背光时间 以0.5秒为单位，0表示常亮
    setting_comval->g_comval.light_timer = (uint8) com_get_config_default(SETTING_AP_ID_LIGHT_TIMER);
40dd4c26:	6ccb      	li	a0,203
40dd4c28:	b23d      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4c2a:	eac0      	jalrc	v0
40dd4c2c:	c045      	sb	v0,5(s0)
40dd4c2e:	9904      	lw	s0,16(s1)
    //屏幕保护时间 以0.5秒为单位，0表示无屏幕保护
    setting_comval->g_comval.screen_saver_timer = (uint8) com_get_config_default(SETTING_AP_ID_SCREEN_SAVER_TIMER);
40dd4c30:	6ccc      	li	a0,204
40dd4c32:	b23b      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4c34:	eac0      	jalrc	v0
40dd4c36:	c046      	sb	v0,6(s0)
40dd4c38:	9904      	lw	s0,16(s1)
    //睡眠时间,已分钟为单位；0表示不定时关机
    setting_comval->g_comval.sleep_timer = (uint8) com_get_config_default(SETTING_AP_ID_SLEEP_TIMER);
40dd4c3a:	6ccd      	li	a0,205
40dd4c3c:	b238      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4c3e:	eac0      	jalrc	v0
40dd4c40:	c049      	sb	v0,9(s0)
40dd4c42:	9904      	lw	s0,16(s1)
    //省电关机时间 以0.5秒为单位，0表示无省电关机
    setting_comval->g_comval.poweroff_timer = (uint8) com_get_config_default(SETTING_AP_ID_POWEROFF_TIMER);
40dd4c44:	6cda      	li	a0,218
40dd4c46:	b236      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4c48:	eac0      	jalrc	v0
40dd4c4a:	c047      	sb	v0,7(s0)
40dd4c4c:	9904      	lw	s0,16(s1)
    //定时返回正在播放界面 以0.5秒为单位，0表示无须返回
    setting_comval->g_comval.playing_timer = (uint8) com_get_config_default(SETTING_AP_ID_PLAYING_TIMER);
40dd4c4e:	6cdb      	li	a0,219
40dd4c50:	b233      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4c52:	eac0      	jalrc	v0
40dd4c54:	c048      	sb	v0,8(s0)
40dd4c56:	9904      	lw	s0,16(s1)
    //时间格式 0：12小时制 1：24小时制
    setting_comval->g_comval.time_format = (uint8) com_get_config_default(SETTING_AP_ID_TIME_FORMAT);
40dd4c58:	6cce      	li	a0,206
40dd4c5a:	b231      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4c5c:	eac0      	jalrc	v0
40dd4c5e:	c04a      	sb	v0,10(s0)
40dd4c60:	9904      	lw	s0,16(s1)
    //日期格式 0：DD_MM_YYYY 1：MM_DD_YYYY 2：YYYY_MM_DD
    setting_comval->g_comval.date_format = (uint8) com_get_config_default(SETTING_AP_ID_DATE_FORMAT);
40dd4c62:	6ccf      	li	a0,207
40dd4c64:	b22e      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4c66:	eac0      	jalrc	v0
40dd4c68:	c04b      	sb	v0,11(s0)
40dd4c6a:	9904      	lw	s0,16(s1)
    //语言类型
    setting_comval->g_comval.language_id = (uint8) com_get_config_default(SETTING_AP_ID_LANGUAGE_ID);
40dd4c6c:	6cd0      	li	a0,208
40dd4c6e:	b22c      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4c70:	eac0      	jalrc	v0
40dd4c72:	c04c      	sb	v0,12(s0)
40dd4c74:	9904      	lw	s0,16(s1)
    //联机模式，0：MSC 1：MTP
    setting_comval->g_comval.online_device = (uint8) com_get_config_default(SETTING_AP_ID_ONLINE_DEVICE);
40dd4c76:	6cd1      	li	a0,209
40dd4c78:	b229      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4c7a:	eac0      	jalrc	v0
40dd4c7c:	c04d      	sb	v0,13(s0)
40dd4c7e:	9904      	lw	s0,16(s1)
    //autorun支持选择 0 ：autorun，1： 支持autorun
    setting_comval->g_comval.autorun_set = (uint8) com_get_config_default(SETTING_AP_ID_AUTORUN_SET);
40dd4c80:	6cd2      	li	a0,210
40dd4c82:	b227      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4c84:	eac0      	jalrc	v0
40dd4c86:	c04e      	sb	v0,14(s0)
40dd4c88:	9904      	lw	s0,16(s1)
    //支持卡选择  0:不支持  1:支持
//    setting_comval->g_comval.support_card = (uint8) com_get_config_default(SETTING_AP_ID_SUPPORT_CARD);
    setting_comval->g_comval.volume_limit = (uint8) com_get_config_default(SETTING_AP_ID_VOLUME_LIMIT);
40dd4c8a:	6cd8      	li	a0,216
40dd4c8c:	b224      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4c8e:	eac0      	jalrc	v0
40dd4c90:	c04f      	sb	v0,15(s0)
40dd4c92:	9904      	lw	s0,16(s1)
    setting_comval->g_comval.volume_current = (uint8) com_get_config_default(SETTING_AP_ID_VOLUME_CURRENT);
40dd4c94:	6cd9      	li	a0,217
40dd4c96:	b222      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4c98:	eac0      	jalrc	v0
40dd4c9a:	c050      	sb	v0,16(s0)
40dd4c9c:	9904      	lw	s0,16(s1)
    setting_comval->g_comval.volume_gain = (uint8) com_get_config_default(SETTING_SOUND_MAIN_VOLUME_GAIN);    
40dd4c9e:	6c07      	li	a0,7
40dd4ca0:	b21f      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4ca2:	eac0      	jalrc	v0
40dd4ca4:	c051      	sb	v0,17(s0)
40dd4ca6:	9904      	lw	s0,16(s1)
//    setting_comval->g_comval.slide_time = (uint8) com_get_config_default(SETTING_AP_ID_SLIDE_TIME);
//    setting_comval->g_comval.slide_repeat_mode = (uint8) com_get_config_default(SETTING_AP_ID_SLIDE_REPEAT_MODE);
//    setting_comval->g_comval.slide_shuffle = (uint8) com_get_config_default(SETTING_AP_ID_SLIDE_SHUFFLE);
    setting_comval->g_comval.dark_lightoff_timer = (uint8) com_get_config_default(SETTING_AP_ID_DARK_LIGHTOFF_TIMER);
40dd4ca8:	6cdc      	li	a0,220
40dd4caa:	b21d      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4cac:	eac0      	jalrc	v0
40dd4cae:	c052      	sb	v0,18(s0)
40dd4cb0:	9904      	lw	s0,16(s1)
    setting_comval->g_comval.screen_lightoff_timer=(uint8)com_get_config_default(SETTING_AP_ID_SCREEN_LIGHTOFF_TIMER);
40dd4cb2:	6cdd      	li	a0,221
40dd4cb4:	b21a      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4cb6:	eac0      	jalrc	v0
40dd4cb8:	c053      	sb	v0,19(s0)
40dd4cba:	9904      	lw	s0,16(s1)
    
    //获取按键音配置项
    setting_comval->g_comval.key_tone = (uint8) com_get_config_default(SETTING_AP_ID_KEYTONE_ENABLE);
40dd4cbc:	6cde      	li	a0,222
40dd4cbe:	b218      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4cc0:	eac0      	jalrc	v0
40dd4cc2:	c054      	sb	v0,20(s0)
40dd4cc4:	9904      	lw	s0,16(s1)

    //get music setting default
    setting_comval->music_comval.music_from = (uint8) com_get_config_default(SETTING_AP_ID_MUSIC_FROM);
40dd4cc6:	6cd4      	li	a0,212
40dd4cc8:	b215      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4cca:	eac0      	jalrc	v0
40dd4ccc:	c05a      	sb	v0,26(s0)
40dd4cce:	9904      	lw	s0,16(s1)
    setting_comval->music_comval.music_repeat_mode = (uint8) com_get_config_default(SETTING_AP_ID_MUSIC_REPEAT_MODE);
40dd4cd0:	6cd5      	li	a0,213
40dd4cd2:	b213      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4cd4:	eac0      	jalrc	v0
40dd4cd6:	c05b      	sb	v0,27(s0)
40dd4cd8:	9904      	lw	s0,16(s1)
    setting_comval->music_comval.music_shuffle = (uint8) com_get_config_default(SETTING_AP_ID_MUSIC_SHUFFLE);
40dd4cda:	6cd6      	li	a0,214
40dd4cdc:	b210      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4cde:	eac0      	jalrc	v0
40dd4ce0:	c05c      	sb	v0,28(s0)
40dd4ce2:	9904      	lw	s0,16(s1)
    setting_comval->music_comval.audible_seek_image = (uint8) com_get_config_default(SETTING_AP_ID_AUDIBLE_SEEK_IMAGE);
40dd4ce4:	6ce1      	li	a0,225
40dd4ce6:	b20e      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4ce8:	eac0      	jalrc	v0
40dd4cea:	c05d      	sb	v0,29(s0)
40dd4cec:	9904      	lw	s0,16(s1)
//    setting_comval->music_comval.fullsound = (uint8) com_get_config_default(SETTING_AP_ID_FULLSOUND);
//    setting_comval->music_comval.variable_playback = (int8) com_get_config_default(SETTING_AP_ID_VARIABLE_PLAYBACK); 
//    setting_comval->music_comval.eq_setting = (uint8) com_get_config_default(SETTING_AP_ID_EQ_SETTING);
//    libc_memset(setting_comval->music_comval.eq_parameter, 0, 12);

    //CASE 层自定义 Graphics EQ 类型
    setting_comval->g_comval.eq_enable = (uint8) com_get_config_default(DAE_GRAPHICS_EQ_ENABLE);
40dd4cee:	6c96      	li	a0,150
40dd4cf0:	b20b      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4cf2:	eac0      	jalrc	v0
40dd4cf4:	c055      	sb	v0,21(s0)
40dd4cf6:	9904      	lw	s0,16(s1)
    setting_comval->g_comval.eq_type   = (uint8) com_get_config_default(DAE_GRAPHICS_EQ_TYPE);
40dd4cf8:	6c97      	li	a0,151
40dd4cfa:	b209      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4cfc:	eac0      	jalrc	v0
40dd4cfe:	c056      	sb	v0,22(s0)
40dd4d00:	9904      	lw	s0,16(s1)

    setting_comval->g_comval.fade_in_time = (int8) com_get_config_default(SETTING_AP_ID_FADE_IN_TIME); 
40dd4d02:	6cdf      	li	a0,223
40dd4d04:	b206      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4d06:	eac0      	jalrc	v0
40dd4d08:	c057      	sb	v0,23(s0)
40dd4d0a:	9904      	lw	s0,16(s1)
    setting_comval->g_comval.fade_out_time = (int8) com_get_config_default(SETTING_AP_ID_FADE_OUT_TIME);    
40dd4d0c:	6ce0      	li	a0,224
40dd4d0e:	b204      	lw	v0,40dd4d1c <com_get_default_setting+0x11c>
40dd4d10:	eac0      	jalrc	v0
40dd4d12:	c058      	sb	v0,24(s0)
40dd4d14:	65b9      	move	sp,s1

    //DAE配置项
    //com_load_dae_config(&setting_comval->g_comval);    
}
40dd4d16:	6472      	restore	16,ra,s0-s1
40dd4d18:	e8a0      	jrc	ra
40dd4d1a:	0000      	addiu	s0,sp,0
40dd4d1c:	46bd      	daddiu	a1,a2,-3
40dd4d1e:	4851      	addiu	s0,81

40dd4d20 <com_get_default_dae>:
40dd4d20:	64f9      	save	72,ra,s0-s1

void com_get_default_dae( dae_config_t * p_dae_cfg)
{
40dd4d22:	0104      	addiu	s1,sp,16
40dd4d24:	d98e      	sw	a0,56(s1)
40dd4d26:	990e      	lw	s0,56(s1)
//    dae_config_t *p_dae_cfg;
    uint8 i;
    mdrc_config_t tmp_limiter_config;
       
//    p_dae_cfg = &(setting_comval->dae_cfg);

    p_dae_cfg->bypass = (uint8) com_get_config_default(DAE_BYPASS_ENABLE);
40dd4d28:	6c82      	li	a0,130
40dd4d2a:	b226      	lw	v0,40dd4dc0 <.LBE2+0x48>
40dd4d2c:	eac0      	jalrc	v0
40dd4d2e:	c043      	sb	v0,3(s0)
40dd4d30:	990e      	lw	s0,56(s1)
    p_dae_cfg->peq_enable = (uint8) com_get_config_default(DAE_PEQ_ENABLE);
40dd4d32:	6c85      	li	a0,133
40dd4d34:	b223      	lw	v0,40dd4dc0 <.LBE2+0x48>
40dd4d36:	eac0      	jalrc	v0
40dd4d38:	c047      	sb	v0,7(s0)
40dd4d3a:	6a00      	li	v0,0
    
    for (i = 0; i < MAX_PEQ_SEG; i++)
40dd4d3c:	c140      	sb	v0,0(s1)
40dd4d3e:	a140      	lbu	v0,0(s1)
40dd4d40:	5a10      	sltiu	v0,16
40dd4d42:	601e      	bteqz	40dd4d80 <.LBE2+0x8>

40dd4d44 <.LBB2>:
40dd4d44:	a140      	lbu	v0,0(s1)
    {
        peq_config_t tmp_peq_config;
        com_get_config_struct((uint16) (DAE_PEQ_BANK0_SETTING + i), (uint8 *) &tmp_peq_config, sizeof(peq_config_t));
40dd4d46:	4a7f      	addiu	v0,127
40dd4d48:	4247      	addiu	v0,v0,7
40dd4d4a:	ea31      	zeh	v0
40dd4d4c:	4167      	addiu	v1,s1,7
40dd4d4e:	4b11      	addiu	v1,17
40dd4d50:	6782      	move	a0,v0
40dd4d52:	67a3      	move	a1,v1
40dd4d54:	6e0c      	li	a2,12
40dd4d56:	b21c      	lw	v0,40dd4dc4 <.LBE2+0x4c>
40dd4d58:	eac0      	jalrc	v0
40dd4d5a:	a140      	lbu	v0,0(s1)
        libc_memcpy(&(p_dae_cfg->peq_bands[i]), &(tmp_peq_config.eq_data), sizeof(peq_band_t));
40dd4d5c:	334c      	sll	v1,v0,3
40dd4d5e:	994e      	lw	v0,56(s1)
40dd4d60:	e349      	addu	v0,v1,v0
40dd4d62:	6762      	move	v1,v0
40dd4d64:	4b10      	addiu	v1,16
40dd4d66:	4147      	addiu	v0,s1,7
40dd4d68:	4a11      	addiu	v0,17
40dd4d6a:	4244      	addiu	v0,v0,4
40dd4d6c:	6783      	move	a0,v1
40dd4d6e:	67a2      	move	a1,v0
40dd4d70:	6e08      	li	a2,8
40dd4d72:	6f00      	li	a3,0
40dd4d74:	b215      	lw	v0,40dd4dc8 <.LBE2+0x50>
40dd4d76:	eac0      	jalrc	v0

40dd4d78 <.LBE2>:
40dd4d78:	a140      	lbu	v0,0(s1)
40dd4d7a:	4241      	addiu	v0,v0,1
40dd4d7c:	c140      	sb	v0,0(s1)
40dd4d7e:	17df      	b	40dd4d3e <com_get_default_dae+0x1e>
40dd4d80:	990e      	lw	s0,56(s1)
    }

    p_dae_cfg->mdrc_enable = (uint8) com_get_config_default(DAE_MDRC_ENABLE);
40dd4d82:	6c98      	li	a0,152
40dd4d84:	b20f      	lw	v0,40dd4dc0 <.LBE2+0x48>
40dd4d86:	eac0      	jalrc	v0
40dd4d88:	c04c      	sb	v0,12(s0)
40dd4d8a:	990e      	lw	s0,56(s1)
    p_dae_cfg->limiter_enable = (uint8) com_get_config_default(DAE_LIMITER_ENABLE);
40dd4d8c:	6ca5      	li	a0,165
40dd4d8e:	b20d      	lw	v0,40dd4dc0 <.LBE2+0x48>
40dd4d90:	eac0      	jalrc	v0
40dd4d92:	c04d      	sb	v0,13(s0)
40dd4d94:	4147      	addiu	v0,s1,7

    com_get_config_struct(DAE_LIMITER_SETTING, (uint8 *) &tmp_limiter_config, sizeof(tmp_limiter_config));
40dd4d96:	4241      	addiu	v0,v0,1
40dd4d98:	6ca6      	li	a0,166
40dd4d9a:	67a2      	move	a1,v0
40dd4d9c:	6e0c      	li	a2,12
40dd4d9e:	b20a      	lw	v0,40dd4dc4 <.LBE2+0x4c>
40dd4da0:	eac0      	jalrc	v0
40dd4da2:	996e      	lw	v1,56(s1)
    
    p_dae_cfg->limiter_threshold = tmp_limiter_config.mdrc_data.threshold;
40dd4da4:	a946      	lhu	v0,12(s1)
40dd4da6:	f0a0 cb5a 	sh	v0,186(v1)
40dd4daa:	996e      	lw	v1,56(s1)
    p_dae_cfg->limiter_attack_time  = tmp_limiter_config.mdrc_data.attack_time;
40dd4dac:	a947      	lhu	v0,14(s1)
40dd4dae:	f0a0 cb5c 	sh	v0,188(v1)
40dd4db2:	996e      	lw	v1,56(s1)
    p_dae_cfg->limiter_release_time = tmp_limiter_config.mdrc_data.release_time;
40dd4db4:	a948      	lhu	v0,16(s1)
40dd4db6:	f0a0 cb5e 	sh	v0,190(v1)
40dd4dba:	65b9      	move	sp,s1
}
40dd4dbc:	6477      	restore	56,ra,s0-s1
40dd4dbe:	e8a0      	jrc	ra
40dd4dc0:	46bd      	daddiu	a1,a2,-3
40dd4dc2:	4851      	addiu	s0,81
40dd4dc4:	464d      	addiu	v0,a2,-3
40dd4dc6:	4851      	addiu	s0,81
40dd4dc8:	6409      	restore	72
40dd4dca:	bfc1      	lwu	a2,4(a3)
	...
Disassembly of section BANK_UI_1_16:

48414600 <applib_init>:
48414600:	64f6      	save	48,ra,s0-s1
 * \note
 * \li  在应用 main 函数入口处调用，在此之前，不许调用其他 applib 接口。
*******************************************************************************/
bool applib_init(uint8 app_id, app_type_e type)
{
48414602:	ec11      	zeb	a0
48414604:	ed11      	zeb	a1
48414606:	5c12      	sltiu	a0,18
    app_info_t *cur_app_info;

    if(app_id >= APP_ID_MAX)
48414608:	d404      	sw	a0,16(sp)
4841460a:	d505      	sw	a1,20(sp)
4841460c:	6a00      	li	v0,0
    {
        return FALSE;
4841460e:	6062      	bteqz	484146d4 <applib_init+0xd4>
48414610:	4281      	addiu	a0,v0,1
    }

    //调节频率
    if (type == APP_TYPE_GUI)
48414612:	6765      	move	v1,a1
48414614:	eb8e      	xor	v1,a0
48414616:	eb83      	sltu	v1,a0
48414618:	6758      	move	v0,t8
4841461a:	d206      	sw	v0,24(sp)
4841461c:	2203      	beqz	v0,48414624 <applib_init+0x24>
4841461e:	6c0a      	li	a0,10
    {
        adjust_freq_set_level(AP_FRONT_LOW_PRIO, FREQ_LEVEL7, FREQ_NULL);
48414620:	6d07      	li	a1,7
48414622:	1005      	b	4841462e <applib_init+0x2e>
48414624:	9505      	lw	a1,20(sp)
    }
    else if (type == APP_TYPE_CONSOLE)
48414626:	7502      	cmpi	a1,2
48414628:	6106      	btnez	48414636 <applib_init+0x36>
4841462a:	6c06      	li	a0,6
    {
        adjust_freq_set_level(AP_BACK_LOW_PRIO, FREQ_LEVEL2, FREQ_NULL);
4841462c:	6d02      	li	a1,2
4841462e:	b02b      	lw	s0,484146d8 <applib_init+0xd8>
48414630:	6e00      	li	a2,0
48414632:	e840      	jalr	s0
48414634:	6f05      	li	a3,5
48414636:	9605      	lw	a2,20(sp)
    }
    else
    {
        //nothing
    }

    //获取 app_info 结构体指针
    cur_app_info = &g_app_info_vector[type];
48414638:	690c      	li	s1,12
4841463a:	ee38      	mult	a2,s1
4841463c:	b528      	lw	a1,484146dc <applib_init+0xdc>
4841463e:	eb12      	mflo	v1
48414640:	6c00      	li	a0,0

    //上锁，禁止任务调度
    sys_os_sched_lock();
48414642:	b228      	lw	v0,484146e0 <applib_init+0xe0>
48414644:	e3a5      	addu	s1,v1,a1
48414646:	67c4      	move	a2,a0
48414648:	67a4      	move	a1,a0
4841464a:	ea40      	jalr	v0
4841464c:	6f33      	li	a3,51
4841464e:	b026      	lw	s0,484146e4 <applib_init+0xe4>

    //初始化应用信息
    libc_memset(cur_app_info, 0x0, sizeof(app_info_t));
48414650:	6791      	move	a0,s1
48414652:	6e0c      	li	a2,12
48414654:	6f01      	li	a3,1
48414656:	e840      	jalr	s0
48414658:	6d00      	li	a1,0
4841465a:	6b01      	li	v1,1
    cur_app_info->used = 1;//标志已被分配使用
4841465c:	c160      	sb	v1,0(s1)
4841465e:	679d      	move	a0,sp
    cur_app_info->app_id = app_id;
48414660:	a450      	lbu	v0,16(a0)
48414662:	67fd      	move	a3,sp
    cur_app_info->app_type = (uint8) type;
48414664:	c141      	sb	v0,1(s1)
48414666:	a7d4      	lbu	a2,20(a3)
48414668:	c1c2      	sb	a2,2(s1)
4841466a:	9205      	lw	v0,20(sp)
    //cur_app_info->soft_watchdog_timeout_expires = 0;
    if (type == APP_TYPE_PMNG)
4841466c:	2a02      	bnez	v0,48414672 <applib_init+0x72>
4841466e:	c143      	sb	v0,3(s1)
    {
        cur_app_info->mq_id = (uint8)MQ_ID_MNG;
48414670:	1015      	b	4841469c <applib_init+0x9c>
48414672:	9706      	lw	a3,24(sp)
    }
    else if(type == APP_TYPE_GUI)
48414674:	2705      	beqz	a3,48414680 <applib_init+0x80>
48414676:	b41d      	lw	a0,484146e8 <applib_init+0xe8>
    {
        cur_app_info->mq_id = (uint8)MQ_ID_DESK;
        g_app_info_state.app_state = APP_STATE_NO_PLAY;//前台AP注册，初始化为 NO_PLAY 状态
48414678:	6800      	li	s0,0
4841467a:	c163      	sb	v1,3(s1)
4841467c:	c402      	sb	s0,2(a0)
4841467e:	100e      	b	4841469c <applib_init+0x9c>
48414680:	6c02      	li	a0,2
    }
    else
    {
        cur_app_info->mq_id = (uint8)MQ_ID_EGN;
48414682:	c183      	sb	a0,3(s1)
48414684:	9204      	lw	v0,16(sp)

        if(app_id == APP_ID_MENGINE)
48414686:	720d      	cmpi	v0,13
48414688:	b218      	lw	v0,484146e8 <applib_init+0xe8>
4841468a:	6007      	bteqz	4841469a <applib_init+0x9a>
4841468c:	9504      	lw	a1,16(sp)
        {
            g_app_info_state.type = ENGINE_MUSIC;
        }
        else if(app_id == APP_ID_FMENGINE)
4841468e:	750e      	cmpi	a1,14
48414690:	6102      	btnez	48414696 <applib_init+0x96>
48414692:	c280      	sb	a0,0(v0)
        {
            g_app_info_state.type = ENGINE_RADIO;
48414694:	1003      	b	4841469c <applib_init+0x9c>
48414696:	677d      	move	v1,sp
        }
        else//不可能到达这里
        {
            g_app_info_state.type = ENGINE_NULL;
48414698:	a378      	lbu	v1,24(v1)
4841469a:	c260      	sb	v1,0(v0)
4841469c:	b314      	lw	v1,484146ec <applib_init+0xec>
        }
    }

    g_app_info_state.aout_mode = (aout_type_e) com_get_config_default(SETTING_AUDIO_OUTPUT_CHANNAL);
4841469e:	b013      	lw	s0,484146e8 <applib_init+0xe8>
484146a0:	eb40      	jalr	v1
484146a2:	6c01      	li	a0,1
484146a4:	b312      	lw	v1,484146ec <applib_init+0xec>
    g_app_info_state.pa_mode =  (uint8)com_get_config_default(SETTING_AUDIO_INNER_PA_SET_MODE);
484146a6:	6c02      	li	a0,2
484146a8:	eb40      	jalr	v1
484146aa:	c048      	sb	v0,8(s0)
484146ac:	b310      	lw	v1,484146ec <applib_init+0xec>
    g_app_info_state.keytone_mode = (uint8)com_get_config_default(SETTING_AUDIO_KEYTONE_MODE);
484146ae:	6c06      	li	a0,6
484146b0:	eb40      	jalr	v1
484146b2:	c047      	sb	v0,7(s0)
484146b4:	c053      	sb	v0,19(s0)
484146b6:	6c00      	li	a0,0
    
    //解锁，允许任务调度
    sys_os_sched_unlock();
484146b8:	b20a      	lw	v0,484146e0 <applib_init+0xe0>
484146ba:	67a4      	move	a1,a0
484146bc:	67c4      	move	a2,a0
484146be:	ea40      	jalr	v0
484146c0:	6f34      	li	a3,52
484146c2:	b60c      	lw	a2,484146f0 <applib_init+0xf0>

    g_this_app_info = cur_app_info;
484146c4:	b40c      	lw	a0,484146f4 <applib_init+0xf4>


    //初始化线程互斥信号量
    libc_sem_init(&thread_mutex, 1);
484146c6:	b208      	lw	v0,484146e4 <applib_init+0xe4>
484146c8:	de20      	sw	s1,0(a2)
484146ca:	6d01      	li	a1,1
484146cc:	6e00      	li	a2,0
484146ce:	ea40      	jalr	v0
484146d0:	6f12      	li	a3,18
484146d2:	6a01      	li	v0,1



    PRINT_INFO_INT("app init:", app_id);

    return TRUE;
484146d4:	6476      	restore	48,ra,s0-s1
}
484146d6:	e8a0      	jrc	ra
484146d8:	6405      	restore	40
484146da:	bfc1      	lwu	a2,4(a3)
484146dc:	a194      	lbu	a0,20(s1)
484146de:	9fc1      	lw	a2,4(a3)
484146e0:	640d      	restore	104
484146e2:	bfc1      	lwu	a2,4(a3)
484146e4:	6409      	restore	72
484146e6:	bfc1      	lwu	a2,4(a3)
484146e8:	a1b8      	lbu	a1,24(s1)
484146ea:	9fc1      	lw	a2,4(a3)
484146ec:	46bd      	daddiu	a1,a2,-3
484146ee:	4851      	addiu	s0,81
484146f0:	a1f0      	lbu	a3,16(s1)
484146f2:	9fc1      	lw	a2,4(a3)
484146f4:	a1f4      	lbu	a3,20(s1)
484146f6:	9fc1      	lw	a2,4(a3)

484146f8 <applib_quit>:
484146f8:	64f6      	save	48,ra,s0-s1

/******************************************************************************/
/*!
 * \par  Description:
 *    应用在 applib 模块上的注销处理。
 * \param[in]    none
 * \param[out]   none
 * \return       bool
 * \retval           TRUE 表示注销成功。
 * \retval           FALSE 表示注销失败。
 * \ingroup      app_manager
 * \par          exmaple code
 * \code
    例子1：应用进行 applib 模块注销
    applib_quit();
 * \endcode
 * \note
 * \li  在应用 main 函数退出处调用，在此之后，不许调用其他 applib 接口。
*******************************************************************************/
bool applib_quit(void)
{
484146fa:	6d00      	li	a1,0
    app_info_t cur_app_info;

    PRINT_INFO_INT("app quit:", g_this_app_info->app_id);

    //销毁线程互斥信号量
    libc_sem_destroy(&thread_mutex);
484146fc:	b42a      	lw	a0,484147a4 <.LBE4+0x22>
484146fe:	b02b      	lw	s0,484147a8 <.LBE4+0x26>
48414700:	67c5      	move	a2,a1
48414702:	e840      	jalr	s0
48414704:	6f13      	li	a3,19
48414706:	b12a      	lw	s1,484147ac <.LBE4+0x2a>

    //记录上一次退出的前台AP，以便返回
    if(g_this_app_info->app_type == APP_TYPE_GUI)
48414708:	99a0      	lw	a1,0(s1)
4841470a:	a542      	lbu	v0,2(a1)
4841470c:	7201      	cmpi	v0,1
4841470e:	6103      	btnez	48414716 <applib_quit+0x1e>
48414710:	a561      	lbu	v1,1(a1)
    {
        g_app_last_state.last_app = g_this_app_info->app_id;
48414712:	b428      	lw	a0,484147b0 <.LBE4+0x2e>
48414714:	c460      	sb	v1,0(a0)
48414716:	a5c2      	lbu	a2,2(a1)
    }

    //修改后台引擎类型为 NONE
    if(g_this_app_info->app_type == APP_TYPE_CONSOLE)
48414718:	7602      	cmpi	a2,2
4841471a:	6104      	btnez	48414724 <applib_quit+0x2c>
4841471c:	b726      	lw	a3,484147b4 <.LBE4+0x32>
    {
        g_app_info_state.type = ENGINE_NULL;
4841471e:	6a00      	li	v0,0
48414720:	c740      	sb	v0,0(a3)
48414722:	c741      	sb	v0,1(a3)
        g_app_info_state.state = ENGINE_STATE_NULL;
48414724:	0404      	addiu	a0,sp,16
    }

    //修改 app_info 结构体为未被使用
    libc_memcpy(&cur_app_info, g_this_app_info, sizeof(app_info_t));
48414726:	6e0c      	li	a2,12
48414728:	e840      	jalr	s0
4841472a:	6f00      	li	a3,0
4841472c:	679d      	move	a0,sp
    cur_app_info.used = 0;
4841472e:	6b12      	li	v1,18

48414730 <.LBB2>:
    cur_app_info.app_id = APP_ID_MAX;
48414730:	99a0      	lw	a1,0(s1)

48414732 <.LBE2>:
    //cur_app_info.soft_watchdog_timeout_expires = 0;
    __app_running_set_app_info(g_this_app_info->app_id, &cur_app_info);

    //调节频率
    if (g_this_app_info->app_type == APP_TYPE_GUI)
    {
        adjust_freq_set_level(AP_FRONT_LOW_PRIO, FREQ_NULL, FREQ_NULL);
    }
    else if (g_this_app_info->app_type == APP_TYPE_CONSOLE)
    {
        adjust_freq_set_level(AP_BACK_LOW_PRIO, FREQ_NULL, FREQ_NULL);
    }
    else
    {
        //nothing
    }

    return TRUE;
}

/*! \endcond */

/*! \cond */

//根据应用ID设置应用信息
static bool __app_running_set_app_info(uint8 app_id, const app_info_t *app_info)
{
48414732:	6e00      	li	a2,0
48414734:	c471      	sb	v1,17(a0)
48414736:	c4d0      	sb	a2,16(a0)
48414738:	a581      	lbu	a0,1(a1)

4841473a <.LBB4>:
4841473a:	5c12      	sltiu	a0,18
    app_info_t *app;
    uint8 i;

    if(app_id >= APP_ID_MAX)
4841473c:	6022      	bteqz	48414782 <.LBE4>
4841473e:	b51f      	lw	a1,484147b8 <.LBE4+0x36>
48414740:	6b00      	li	v1,0
    {
        return FALSE;
    }

    //搜索 app_id 对应 app_info_t
    app = NULL;
    for(i = 0; i < MAX_APP_COUNT; i++)
48414742:	690c      	li	s1,12
    {
        app = &g_app_info_vector[i];
48414744:	eb38      	mult	v1,s1
48414746:	ef12      	mflo	a3
48414748:	e7a5      	addu	s1,a3,a1
4841474a:	a100      	lbu	s0,0(s1)
        if((app->used == 1) && (app->app_id == app_id))
4841474c:	7001      	cmpi	s0,1
4841474e:	6103      	btnez	48414756 <.LBB4+0x1c>
48414750:	a141      	lbu	v0,1(s1)
48414752:	ea8e      	xor	v0,a0
48414754:	2205      	beqz	v0,48414760 <.LBB4+0x26>
48414756:	43c1      	addiu	a2,v1,1
48414758:	6766      	move	v1,a2
4841475a:	eb11      	zeb	v1
4841475c:	5b03      	sltiu	v1,3
4841475e:	61f1      	btnez	48414742 <.LBB4+0x8>
48414760:	6c00      	li	a0,0
        {
            break;
        }
    }

    if(NULL == app)
    {
        return FALSE;
    }

    sys_os_sched_lock();
48414762:	b017      	lw	s0,484147bc <.LBE4+0x3a>
48414764:	67a4      	move	a1,a0
48414766:	67c4      	move	a2,a0
48414768:	e840      	jalr	s0
4841476a:	6f33      	li	a3,51
4841476c:	b20f      	lw	v0,484147a8 <.LBE4+0x26>
    libc_memcpy(app, app_info, sizeof(app_info_t));
4841476e:	6791      	move	a0,s1
48414770:	0504      	addiu	a1,sp,16
48414772:	6e0c      	li	a2,12
48414774:	ea40      	jalr	v0
48414776:	6f00      	li	a3,0
48414778:	6c00      	li	a0,0
    sys_os_sched_unlock();
4841477a:	67a4      	move	a1,a0
4841477c:	67c4      	move	a2,a0
4841477e:	e840      	jalr	s0
48414780:	6f34      	li	a3,52

48414782 <.LBE4>:
48414782:	b40b      	lw	a0,484147ac <.LBE4+0x2a>
48414784:	9ca0      	lw	a1,0(a0)
48414786:	6c0a      	li	a0,10
48414788:	a542      	lbu	v0,2(a1)
4841478a:	7201      	cmpi	v0,1
4841478c:	6003      	bteqz	48414794 <.LBE4+0x12>
4841478e:	7202      	cmpi	v0,2
48414790:	6106      	btnez	4841479e <.LBE4+0x1c>
48414792:	6c06      	li	a0,6
48414794:	6d00      	li	a1,0
48414796:	b20b      	lw	v0,484147c0 <.LBE4+0x3e>
48414798:	67c5      	move	a2,a1
4841479a:	ea40      	jalr	v0
4841479c:	6f05      	li	a3,5
4841479e:	6a01      	li	v0,1
484147a0:	6476      	restore	48,ra,s0-s1
484147a2:	e8a0      	jrc	ra
484147a4:	a1f4      	lbu	a3,20(s1)
484147a6:	9fc1      	lw	a2,4(a3)
484147a8:	6409      	restore	72
484147aa:	bfc1      	lwu	a2,4(a3)
484147ac:	a1f0      	lbu	a3,16(s1)
484147ae:	9fc1      	lw	a2,4(a3)
484147b0:	a1d0      	lbu	a2,16(s1)
484147b2:	9fc1      	lw	a2,4(a3)
484147b4:	a1b8      	lbu	a1,24(s1)
484147b6:	9fc1      	lw	a2,4(a3)
484147b8:	a194      	lbu	a0,20(s1)
484147ba:	9fc1      	lw	a2,4(a3)
484147bc:	640d      	restore	104
484147be:	bfc1      	lwu	a2,4(a3)
484147c0:	6405      	restore	40
484147c2:	bfc1      	lwu	a2,4(a3)
	...
Disassembly of section BANK_UI_1_17:

48454600 <set_app_timer>:
48454600:	f00c 64f5 	save	a0-a2,40,ra,s0-s1

48454604 <.LBB2>:
 * \li  调用 set_app_timer 创建定时器后，必须在不再使用时调用 kill_app_timer 删除之，以免造成内存泄漏。
 * \li  timeout不能为0，func_proc不能为空，否则返回失败。
*******************************************************************************/
int8 set_app_timer(timer_attrb_e attrb, uint16 timeout, timer_proc func_proc)
{
48454604:	6a01      	li	v0,1

48454606 <.LBE2>:
    return __set_timer(attrb, TIMER_TYPE_NORMAL, timeout, func_proc);
}

/******************************************************************************/
/*!                    
 * \par  Description:
 *    创建单发应用级定时器。
 * \param[in]    attrb 定时器属性，属于另一种分类，分 control 和 ui 类
 * \param[in]    timeout 定时器周期，以 1ms 为单位
 * \param[in]    func_proc 定时器服务例程
 * \param[out]   none
 * \return       int8
 * \retval           id 申请成功，返回定时器ID，范围为 0 ~ g_app_timer_count - 1。
 * \retval           -1 申请失败，或定时器资源用完，或 timeout 为0，或 proc 为NULL。
 * \ingroup      app_timer
 * \par          exmaple code
 * \code
    例子1：创建 5s 超时定时器，用于启动某个事件
    //5s 超时定时器 ISR，置标志 g_timeout_flagd
    static void __timeout_handle(void)
    {
        g_timeout_flagd = TRUE;
    }
    
    bool g_timeout_flagd = FALSE;//全局变量
    int8 timeout_timer = -1;
    //创建 control类 应用级定时器
    timeout_timer = set_single_shot_app_timer(APP_TIMER_ATTRB_UI, 5000, __timeout_handle);
    if(timeout_timer == -1)
    {
        创建失败，原因为定时器已被申请完
    }
    
    //删除有效应用级定时器，如果能够确保单发定时器会执行到，那么就不需要执行删除动作了
    if(timeout_timer != -1)
    {
        kill_app_timer(timeout_timer);//如果在此之前单发定时器已自行删除，会返回错误，但是不会崩溃
        timeout_timer = -1;
    }
 * \endcode
 * \note
 * \li  单发应用级定时器在唯一一次 ISR 执行时就被自动销毁，用户可以不用自己销毁。
 * \li  但是这种定时器也有问题，就是用户不能完全把握定时器的生命周期，不能确定定时器
 *      是否被销毁了，这样就有可能重复创建相同的定时器。
 * \li  timeout不能为0，func_proc不能为空，否则返回失败。
*******************************************************************************/
/*int8 set_single_shot_app_timer(timer_attrb_e attrb, uint16 timeout, timer_proc func_proc)
{
    return __set_timer(attrb, TIMER_TYPE_SINGLE_SHOT, timeout, func_proc);
}*/

/******************************************************************************/
/*!                    
 * \par  Description:
 *    修改应用级定时器的定时周期。
 * \param[in]    timer_id 定时器ID
 * \param[in]    timeout 更新的定时器周期，以 1ms 为单位
 * \param[out]   none
 * \return       bool
 * \retval           TRUE 修改定时周期成功。
 * \retval           FALSE 修改定时周期失败，或找不到指定ID的定时器，或 timeout 非法。
 * \ingroup      app_timer
 * \par          exmaple code
 * \code
    例子1：修改定时器超时时间为 5s，之后重新计时
    if(modify_app_timer(timer_id, 5000) == FALSE)
    {
        修改失败
    }
 * \endcode
 * \note
 * \li  修改软定时器的定时周期后，会重新开始计时。
 * \li  timerout不能为0，否则返回失败。
 * \li  timer_id 不在0 ~ g_app_timer_count - 1区域中返回FALSE。
*******************************************************************************/
bool modify_app_timer(int8 timer_id, uint16 timeout)
{
    app_timer_t *tm;
    
    if((timer_id == -1) || ((uint8)timer_id >= g_app_timer_count))//访问越界
    {
        return FALSE;
    }
    
    tm = &g_app_timer_vector[timer_id];

    if(0 == timeout)
    {
        return FALSE;
    }

    tm->timeout = timeout;
    tm->timeout_expires = sys_get_ab_timer() + timeout;
    return TRUE;
}

/******************************************************************************/
/*!                    
 * \par  Description:
 *    停止应用级定时器计时，将定时器状态改为 TIMER_STATE_STOPED。
 * \param[in]    timer_id 定时器ID
 * \param[out]   none
 * \return       bool
 * \retval           TRUE 停止计时成功。
 * \retval           FALSE 停止计时失败，原因为找不到指定ID的定时器。
 * \ingroup      app_timer
 * \par          exmaple code
 * \code
    例子1：停止定时器计时，之后可通过 restart_app_timer 恢复
    if(stop_app_timer(timer_id) == FALSE)
    {
        停止失败
    }
 * \endcode
 * \note 
 * \li  停止计时后不能再恢复到停止时间点继续计时，只能调用 restart_app_timer 重新计时。
 * \li  timer_id 不在0 ~ g_app_timer_count - 1区域中返回FALSE。
*******************************************************************************/
bool stop_app_timer(int8 timer_id)
{
    app_timer_t *tm;
    
    if((timer_id == -1) || ((uint8)timer_id >= g_app_timer_count))//访问越界
    {
        return FALSE;
    }
    
    tm = &g_app_timer_vector[timer_id];

    tm->state = TIMER_STATE_STOPED;
    return TRUE;
}

/******************************************************************************/
/*!                    
 * \par  Description:
 *    重启应用级定时器计时，并将状态改为 TIMER_STATE_RUNNING。
 * \param[in]    timer_id 定时器ID
 * \param[out]   none
 * \return       bool
 * \retval           TRUE 重启计时成功。
 * \retval           FALSE 重启计时失败，原因为找不到指定ID的定时器。
 * \ingroup      app_timer
 * \par          exmaple code
 * \code
    例子1：恢复定时器计时，定时器将从头开始计时
    if(restart_app_timer(timer_id) == FALSE)
    {
        恢复计时失败
    }
 * \endcode
 * \note 
 * \li  重启计时就是重新开始一个计时周期。
 * \li  timer_id 不在0 ~ g_app_timer_count - 1区域中返回FALSE。
*******************************************************************************/
bool restart_app_timer(int8 timer_id)
{
    app_timer_t *tm;
    
    if((timer_id == -1) || ((uint8)timer_id >= g_app_timer_count))//访问越界
    {
        return FALSE;
    }
    
    tm = &g_app_timer_vector[timer_id];

    tm->state = TIMER_STATE_RUNNING;
    tm->timeout_expires = sys_get_ab_timer() + tm->timeout; 
    return TRUE;
}

/******************************************************************************/
/*!                    
 * \par  Description:
 *    删除应用级定时器，将定时器状态改为 TIMER_STATE_NOUSED。
 * \param[in]    timer_id 定时器ID
 * \param[out]   none
 * \return       bool
 * \retval           TRUE 删除定时器成功。
 * \retval           FALSE 删除定时器失败，原因为找不到指定ID的定时器。
 * \ingroup      app_timer
 * \par          exmaple code
 * \code
    例子1：删除定时器
    if(kill_app_timer(timer_id) == FALSE)
    {
        删除定时器失败
    }
 * \endcode
 * \note 
 * \li  timer_id 不在0 ~ g_app_timer_count - 1区域中返回FALSE。
*******************************************************************************/
bool kill_app_timer(int8 timer_id)
{
    app_timer_t *tm;
    
    if((timer_id == -1) || ((uint8)timer_id >= g_app_timer_count))//访问越界
    {
        return FALSE;
    }
    
    tm = &g_app_timer_vector[timer_id];

    tm->state = TIMER_STATE_NOUSED;
    return TRUE;
}

/******************************************************************************/
/*!                    
 * \par  Description:
 *    初始化应用级定时器管理模块，将所有定时器状态改为 TIMER_STATE_NOUSED。
 * \param[in]    timers 应用层定义的软定时器数组
 * \param[in]    count 应用层定义的软定时器数组的软定时器数目
 * \param[out]   none
 * \return       bool
 * \retval           TRUE 初始化成功。
 * \retval           FALSE 初始化失败，原因为参数非法。
 * \ingroup      app_timer
 * \par          exmaple code
 * \code
    例子1：初始化定时器管理模块
    #define APP_TIMER_COUNT     2
    app_timer_t app_timer_vector[COMMON_TIMER_COUNT + APP_TIMER_COUNT];
    
    if(init_app_timers(app_timer_vector, COMMON_TIMER_COUNT + APP_TIMER_COUNT) == FALSE)
    {
        初始化定时器管理模块失败，参数错误
    }
 * \endcode
 * \note 
 * \li  在应用 main 函数入口处调用，在此之前，不许调用其他 app_timer 接口。
 * \li  该接口在进入AP后，调用完 applib_init 接口后调用。
*******************************************************************************/
bool init_app_timers(app_timer_t *timers, uint8 count)
{
    app_timer_t *tm;
    uint8 i;
    
    if(count == 0)//定时器数目不能为0
    {
        return FALSE;
    }
    
    g_app_timer_vector = timers;
    g_app_timer_count = count;

    for(i = 0; i < g_app_timer_count; i++) 
    {
        tm = &g_app_timer_vector[i];
        tm->state = TIMER_STATE_NOUSED;
    }
    
    //初始化为 AP 场景
    g_this_app_timer_tag = APP_TIMER_TAG_MAIN;
    
    return TRUE;
}

/*! \endcond */

/*! \cond */

//创建应用级定时器
static inline int8 __set_timer(timer_attrb_e attrb, timer_type_e type, uint16 timeout, timer_proc func_proc)
{
    app_timer_t *tm;
    int8 timer_id = V_U8_INVALID;
48454606:	6725      	move	s1,a1
48454608:	ea4b      	neg	v0
4845460a:	ec11      	zeb	a0
4845460c:	e931      	zeh	s1
4845460e:	d204      	sw	v0,16(sp)
48454610:	2628      	beqz	a2,48454662 <.LBE2+0x5c>
    int8 i;
    
    //服务例程不能为NULL
    if(!func_proc)
48454612:	2127      	beqz	s1,48454662 <.LBE2+0x5c>
    {
        return V_U8_INVALID;
    }
    
    //定时周期不能为0
    if(0 == timeout)
48454614:	1015      	b	48454640 <.LBE2+0x3a>
48454616:	d504      	sw	a1,16(sp)
    {
        return V_U8_INVALID;
    }
    
    //检索符合条件的可用软定时器
    for(i = 0; i < g_app_timer_count; i++)
    {
        if(g_app_timer_vector[i].state == TIMER_STATE_NOUSED)
        {
            timer_id = i;
48454618:	b216      	lw	v0,48454670 <.LBE2+0x6a>
            tm = &g_app_timer_vector[timer_id];
            
            //初始化软定时器
            tm->attrb = attrb;
            tm->timeout = timeout;
            tm->timeout_expires = sys_get_ab_timer() + timeout;
4845461a:	c081      	sb	a0,1(s0)
4845461c:	6c00      	li	a0,0
4845461e:	67a4      	move	a1,a0
48454620:	67c4      	move	a2,a0
48454622:	6f1c      	li	a3,28
48454624:	ea40      	jalr	v0
48454626:	c821      	sh	s1,2(s0)
48454628:	970c      	lw	a3,48(sp)
            tm->func_proc = func_proc;
4845462a:	e229      	addu	v0,s1
4845462c:	6e00      	li	a2,0
            tm->type = type;
4845462e:	b512      	lw	a1,48454674 <.LBE2+0x6e>
            tm->tag = g_this_app_timer_tag;
48454630:	d842      	sw	v0,8(s0)
48454632:	d8e3      	sw	a3,12(s0)
48454634:	c0c4      	sb	a2,4(s0)
48454636:	a580      	lbu	a0,0(a1)
48454638:	6b00      	li	v1,0
            tm->state = TIMER_STATE_RUNNING;
4845463a:	c085      	sb	a0,5(s0)
4845463c:	c060      	sb	v1,0(s0)
4845463e:	1010      	b	48454660 <.LBE2+0x5a>
            break;
48454640:	b60a      	lw	a2,48454668 <.LBE2+0x62>
48454642:	6d00      	li	a1,0
48454644:	a660      	lbu	v1,0(a2)
48454646:	ed62      	slt	a1,v1
48454648:	600b      	bteqz	48454660 <.LBE2+0x5a>
4845464a:	b709      	lw	a3,4845466c <.LBE2+0x66>
4845464c:	9f00      	lw	s0,0(a3)
4845464e:	a040      	lbu	v0,0(s0)
48454650:	7202      	cmpi	v0,2
48454652:	60e1      	bteqz	48454616 <.LBE2+0x10>
48454654:	45c1      	addiu	a2,a1,1
48454656:	67a6      	move	a1,a2
48454658:	ed91      	seb	a1
4845465a:	ed62      	slt	a1,v1
4845465c:	4810      	addiu	s0,16
4845465e:	61f7      	btnez	4845464e <.LBE2+0x48>
48454660:	9204      	lw	v0,16(sp)
        }
    }
48454662:	ea91      	seb	v0
48454664:	6475      	restore	40,ra,s0-s1
48454666:	e8a0      	jrc	ra
48454668:	a1ec      	lbu	a3,12(s1)
4845466a:	9fc1      	lw	a2,4(a3)
4845466c:	a1fc      	lbu	a3,28(s1)
4845466e:	9fc1      	lw	a2,4(a3)
48454670:	640d      	restore	104
48454672:	bfc1      	lwu	a2,4(a3)
48454674:	a200      	lbu	s0,0(v0)
48454676:	9fc1      	lw	a2,4(a3)

48454678 <modify_app_timer>:
48454678:	64f4      	save	32,ra,s0-s1
4845467a:	ec91      	seb	a0
4845467c:	6705      	move	s0,a1
4845467e:	ea8f      	not	v0,a0
48454680:	e831      	zeh	s0
48454682:	2206      	beqz	v0,48454690 <modify_app_timer+0x18>
48454684:	b60d      	lw	a2,484546b8 <modify_app_timer+0x40>
48454686:	67a4      	move	a1,a0
48454688:	a660      	lbu	v1,0(a2)
4845468a:	ed11      	zeb	a1
4845468c:	ed63      	sltu	a1,v1
4845468e:	6102      	btnez	48454694 <modify_app_timer+0x1c>
48454690:	6a00      	li	v0,0
48454692:	1010      	b	484546b4 <modify_app_timer+0x3c>
48454694:	b10a      	lw	s1,484546bc <modify_app_timer+0x44>
48454696:	3790      	sll	a3,a0,4
48454698:	9980      	lw	a0,0(s1)
4845469a:	6750      	move	v0,s0
4845469c:	e4e5      	addu	s1,a0,a3
4845469e:	200a      	beqz	s0,484546b4 <modify_app_timer+0x3c>
484546a0:	6c00      	li	a0,0
484546a2:	b208      	lw	v0,484546c0 <modify_app_timer+0x48>
484546a4:	c901      	sh	s0,2(s1)
484546a6:	67a4      	move	a1,a0
484546a8:	67c4      	move	a2,a0
484546aa:	ea40      	jalr	v0
484546ac:	6f1c      	li	a3,28
484546ae:	e209      	addu	v0,s0
484546b0:	d942      	sw	v0,8(s1)
484546b2:	6a01      	li	v0,1
484546b4:	6474      	restore	32,ra,s0-s1
484546b6:	e8a0      	jrc	ra
484546b8:	a1ec      	lbu	a3,12(s1)
484546ba:	9fc1      	lw	a2,4(a3)
484546bc:	a1fc      	lbu	a3,28(s1)
484546be:	9fc1      	lw	a2,4(a3)
484546c0:	640d      	restore	104
484546c2:	bfc1      	lwu	a2,4(a3)

484546c4 <stop_app_timer>:
484546c4:	ec91      	seb	a0
484546c6:	ea8f      	not	v0,a0
484546c8:	2206      	beqz	v0,484546d6 <stop_app_timer+0x12>
484546ca:	b609      	lw	a2,484546ec <stop_app_timer+0x28>
484546cc:	67a4      	move	a1,a0
484546ce:	a660      	lbu	v1,0(a2)
484546d0:	ed11      	zeb	a1
484546d2:	ed63      	sltu	a1,v1
484546d4:	6102      	btnez	484546da <stop_app_timer+0x16>
484546d6:	e820      	jr	ra
484546d8:	6a00      	li	v0,0
484546da:	b506      	lw	a1,484546f0 <stop_app_timer+0x2c>
484546dc:	3390      	sll	v1,a0,4
484546de:	9d40      	lw	v0,0(a1)
484546e0:	6f01      	li	a3,1
484546e2:	e271      	addu	a0,v0,v1
484546e4:	6a01      	li	v0,1
484546e6:	e820      	jr	ra
484546e8:	c4e0      	sb	a3,0(a0)
484546ea:	0000      	addiu	s0,sp,0
484546ec:	a1ec      	lbu	a3,12(s1)
484546ee:	9fc1      	lw	a2,4(a3)
484546f0:	a1fc      	lbu	a3,28(s1)
484546f2:	9fc1      	lw	a2,4(a3)

484546f4 <restart_app_timer>:
484546f4:	64e3      	save	24,ra,s0
484546f6:	ec91      	seb	a0
484546f8:	ea8f      	not	v0,a0
484546fa:	2206      	beqz	v0,48454708 <restart_app_timer+0x14>
484546fc:	b60d      	lw	a2,48454730 <restart_app_timer+0x3c>
484546fe:	67a4      	move	a1,a0
48454700:	a660      	lbu	v1,0(a2)
48454702:	ed11      	zeb	a1
48454704:	ed63      	sltu	a1,v1
48454706:	6102      	btnez	4845470c <restart_app_timer+0x18>
48454708:	6a00      	li	v0,0
4845470a:	1010      	b	4845472c <restart_app_timer+0x38>
4845470c:	b60a      	lw	a2,48454734 <restart_app_timer+0x40>
4845470e:	3590      	sll	a1,a0,4
48454710:	9e00      	lw	s0,0(a2)
48454712:	6c00      	li	a0,0
48454714:	e0a1      	addu	s0,a1
48454716:	6b00      	li	v1,0
48454718:	b208      	lw	v0,48454738 <restart_app_timer+0x44>
4845471a:	67a4      	move	a1,a0
4845471c:	67c4      	move	a2,a0
4845471e:	6f1c      	li	a3,28
48454720:	ea40      	jalr	v0
48454722:	c060      	sb	v1,0(s0)
48454724:	a8e1      	lhu	a3,2(s0)
48454726:	e2f1      	addu	a0,v0,a3
48454728:	d882      	sw	a0,8(s0)
4845472a:	6a01      	li	v0,1
4845472c:	6463      	restore	24,ra,s0
4845472e:	e8a0      	jrc	ra
48454730:	a1ec      	lbu	a3,12(s1)
48454732:	9fc1      	lw	a2,4(a3)
48454734:	a1fc      	lbu	a3,28(s1)
48454736:	9fc1      	lw	a2,4(a3)
48454738:	640d      	restore	104
4845473a:	bfc1      	lwu	a2,4(a3)

4845473c <kill_app_timer>:
4845473c:	ec91      	seb	a0
4845473e:	ea8f      	not	v0,a0
48454740:	2206      	beqz	v0,4845474e <kill_app_timer+0x12>
48454742:	b609      	lw	a2,48454764 <kill_app_timer+0x28>
48454744:	67a4      	move	a1,a0
48454746:	a660      	lbu	v1,0(a2)
48454748:	ed11      	zeb	a1
4845474a:	ed63      	sltu	a1,v1
4845474c:	6102      	btnez	48454752 <kill_app_timer+0x16>
4845474e:	e820      	jr	ra
48454750:	6a00      	li	v0,0
48454752:	b506      	lw	a1,48454768 <kill_app_timer+0x2c>
48454754:	3390      	sll	v1,a0,4
48454756:	9d40      	lw	v0,0(a1)
48454758:	6f02      	li	a3,2
4845475a:	e271      	addu	a0,v0,v1
4845475c:	6a01      	li	v0,1
4845475e:	e820      	jr	ra
48454760:	c4e0      	sb	a3,0(a0)
48454762:	0000      	addiu	s0,sp,0
48454764:	a1ec      	lbu	a3,12(s1)
48454766:	9fc1      	lw	a2,4(a3)
48454768:	a1fc      	lbu	a3,28(s1)
4845476a:	9fc1      	lw	a2,4(a3)

4845476c <init_app_timers>:
4845476c:	ed11      	zeb	a1
4845476e:	6745      	move	v0,a1
48454770:	2515      	beqz	a1,4845479c <init_app_timers+0x30>
48454772:	b70c      	lw	a3,484547a0 <init_app_timers+0x34>
48454774:	b60c      	lw	a2,484547a4 <init_app_timers+0x38>
48454776:	df80      	sw	a0,0(a3)
48454778:	c6a0      	sb	a1,0(a2)
4845477a:	6c00      	li	a0,0
4845477c:	250b      	beqz	a1,48454794 <init_app_timers+0x28>
4845477e:	6d02      	li	a1,2
48454780:	9f40      	lw	v0,0(a3)
48454782:	3390      	sll	v1,a0,4
48454784:	e269      	addu	v0,v1
48454786:	c2a0      	sb	a1,0(v0)
48454788:	4461      	addiu	v1,a0,1
4845478a:	6783      	move	a0,v1
4845478c:	a640      	lbu	v0,0(a2)
4845478e:	ec11      	zeb	a0
48454790:	ec43      	sltu	a0,v0
48454792:	61f6      	btnez	48454780 <init_app_timers+0x14>
48454794:	b405      	lw	a0,484547a8 <init_app_timers+0x3c>
48454796:	6d00      	li	a1,0
48454798:	c4a0      	sb	a1,0(a0)
4845479a:	6a01      	li	v0,1
4845479c:	e8a0      	jrc	ra
4845479e:	0000      	addiu	s0,sp,0
484547a0:	a1fc      	lbu	a3,28(s1)
484547a2:	9fc1      	lw	a2,4(a3)
484547a4:	a1ec      	lbu	a3,12(s1)
484547a6:	9fc1      	lw	a2,4(a3)
484547a8:	a200      	lbu	s0,0(v0)
484547aa:	9fc1      	lw	a2,4(a3)
	...
Disassembly of section BANK_UI_1_18:

48494600 <applib_message_init>:
48494600:	64f4      	save	32,ra,s0-s1
 * \endcode
 * \note 
*******************************************************************************/
bool applib_message_init(app_msg_dispatch msg_dispatch)
{
48494602:	b00d      	lw	s0,48494634 <applib_message_init+0x34>
    if(g_this_app_info->app_type == APP_TYPE_GUI)
48494604:	6724      	move	s1,a0
48494606:	9860      	lw	v1,0(s0)
48494608:	a342      	lbu	v0,2(v1)
4849460a:	7201      	cmpi	v0,1
4849460c:	6108      	btnez	4849461e <applib_message_init+0x1e>
4849460e:	6d00      	li	a1,0
    {
        //清空 gui 消息队列
        sys_mq_flush(MQ_ID_GUI);
48494610:	b20a      	lw	v0,48494638 <applib_message_init+0x38>
48494612:	6c06      	li	a0,6
48494614:	67c5      	move	a2,a1
48494616:	ea40      	jalr	v0
48494618:	6f1a      	li	a3,26
4849461a:	b409      	lw	a0,4849463c <applib_message_init+0x3c>
        
        //注册前台应用消息分发函数，以供 common 模块调用
        g_this_app_msg_dispatch = msg_dispatch;
4849461c:	dc20      	sw	s1,0(a0)
4849461e:	98a0      	lw	a1,0(s0)
    }
    
    //清空 应用消息队列
    sys_mq_flush(g_this_app_info->mq_id);
48494620:	b206      	lw	v0,48494638 <applib_message_init+0x38>
48494622:	a583      	lbu	a0,3(a1)
48494624:	6d00      	li	a1,0
48494626:	67c5      	move	a2,a1
48494628:	ea40      	jalr	v0
4849462a:	6f1a      	li	a3,26
4849462c:	6a01      	li	v0,1
    
    return TRUE;
}
4849462e:	6474      	restore	32,ra,s0-s1
48494630:	e8a0      	jrc	ra
48494632:	0000      	addiu	s0,sp,0
48494634:	a1f0      	lbu	a3,16(s1)
48494636:	9fc1      	lw	a2,4(a3)
48494638:	640d      	restore	104
4849463a:	bfc1      	lwu	a2,4(a3)
4849463c:	a1f8      	lbu	a3,24(s1)
4849463e:	9fc1      	lw	a2,4(a3)

48494640 <__app_running_get_app_info>:
48494640:	5c12      	sltiu	a0,18
{
    app_info_t *app;
    uint8 i;
    
    if(app_id >= APP_ID_MAX)
48494642:	6a00      	li	v0,0
    {
        return NULL;
48494644:	6015      	bteqz	48494670 <__app_running_get_app_info+0x30>
48494646:	1002      	b	4849464c <__app_running_get_app_info+0xc>
48494648:	e820      	jr	ra
    }

    for(i = 0; i < MAX_APP_COUNT; i++)
    {
        app = &g_app_info_vector[i];
        if((app->used == 1) && (app->app_id == app_id))
        {
            return app;
4849464a:	6743      	move	v0,v1
4849464c:	6d00      	li	a1,0
4849464e:	6b0c      	li	v1,12
48494650:	ed78      	mult	a1,v1
48494652:	b709      	lw	a3,48494674 <__app_running_get_app_info+0x34>
48494654:	ee12      	mflo	a2
48494656:	e6ed      	addu	v1,a2,a3
48494658:	a340      	lbu	v0,0(v1)
4849465a:	7201      	cmpi	v0,1
4849465c:	6103      	btnez	48494664 <__app_running_get_app_info+0x24>
4849465e:	a341      	lbu	v0,1(v1)
48494660:	ea8e      	xor	v0,a0
48494662:	22f2      	beqz	v0,48494648 <__app_running_get_app_info+0x8>
48494664:	45e1      	addiu	a3,a1,1
48494666:	67a7      	move	a1,a3
48494668:	ed11      	zeb	a1
4849466a:	5d03      	sltiu	a1,3
4849466c:	61f0      	btnez	4849464e <__app_running_get_app_info+0xe>
4849466e:	6a00      	li	v0,0
        }
    }

    return NULL;
48494670:	e8a0      	jrc	ra
}
48494672:	0000      	addiu	s0,sp,0
48494674:	a194      	lbu	a0,20(s1)
48494676:	9fc1      	lw	a2,4(a3)

48494678 <send_sync_msg>:
48494678:	f00e 64f8 	save	a0-a3,64,ra,s0-s1
4849467c:	b133      	lw	s1,48494748 <send_sync_msg+0xd0>
4849467e:	6704      	move	s0,a0
48494680:	6d00      	li	a1,0
48494682:	6a01      	li	v0,1
48494684:	9980      	lw	a0,0(s1)
48494686:	b332      	lw	v1,4849474c <send_sync_msg+0xd4>
48494688:	e811      	zeb	s0
4849468a:	67c5      	move	a2,a1
4849468c:	6f14      	li	a3,20
4849468e:	eb40      	jalr	v1
48494690:	d20b      	sw	v0,44(sp)
48494692:	1a50 5190 	jal	48494640 <__app_running_get_app_info>
48494696:	6790      	move	a0,s0
48494698:	6702      	move	s0,v0
4849469a:	2a08      	bnez	v0,484946ac <send_sync_msg+0x34>
4849469c:	9980      	lw	a0,0(s1)
4849469e:	b32c      	lw	v1,4849474c <send_sync_msg+0xd4>
484946a0:	67a2      	move	a1,v0
484946a2:	67c2      	move	a2,v0
484946a4:	eb40      	jalr	v1
484946a6:	6f16      	li	a3,22
484946a8:	6750      	move	v0,s0
484946aa:	104b      	b	48494742 <send_sync_msg+0xca>
484946ac:	b529      	lw	a1,48494750 <send_sync_msg+0xd8>
484946ae:	9d80      	lw	a0,0(a1)
484946b0:	ec4e      	xor	a0,v0
484946b2:	2c07      	bnez	a0,484946c2 <send_sync_msg+0x4a>
484946b4:	6d00      	li	a1,0
484946b6:	9980      	lw	a0,0(s1)
484946b8:	b325      	lw	v1,4849474c <send_sync_msg+0xd4>
484946ba:	67c5      	move	a2,a1
484946bc:	eb40      	jalr	v1
484946be:	6f16      	li	a3,22
484946c0:	1029      	b	48494714 <send_sync_msg+0x9c>
484946c2:	9511      	lw	a1,68(sp)
484946c4:	b322      	lw	v1,4849474c <send_sync_msg+0xd4>
484946c6:	0404      	addiu	a0,sp,16
484946c8:	6e08      	li	a2,8
484946ca:	eb40      	jalr	v1
484946cc:	6f00      	li	a3,0
484946ce:	6d00      	li	a1,0
484946d0:	b31f      	lw	v1,4849474c <send_sync_msg+0xd4>
484946d2:	67c5      	move	a2,a1
484946d4:	6f12      	li	a3,18
484946d6:	eb40      	jalr	v1
484946d8:	040a      	addiu	a0,sp,40
484946da:	970a      	lw	a3,40(sp)
484946dc:	9612      	lw	a2,72(sp)
484946de:	d706      	sw	a3,24(sp)
484946e0:	2e03      	bnez	a2,484946e8 <send_sync_msg+0x70>
484946e2:	0208      	addiu	v0,sp,32
484946e4:	d207      	sw	v0,28(sp)
484946e6:	1002      	b	484946ec <send_sync_msg+0x74>
484946e8:	9412      	lw	a0,72(sp)
484946ea:	d407      	sw	a0,28(sp)
484946ec:	a083      	lbu	a0,3(s0)
484946ee:	b01a      	lw	s0,48494754 <send_sync_msg+0xdc>
484946f0:	0504      	addiu	a1,sp,16
484946f2:	6e00      	li	a2,0
484946f4:	e840      	jalr	s0
484946f6:	6f18      	li	a3,24
484946f8:	ed4f      	not	a1,v0
484946fa:	b015      	lw	s0,4849474c <send_sync_msg+0xd4>
484946fc:	2d0d      	bnez	a1,48494718 <send_sync_msg+0xa0>
484946fe:	6d00      	li	a1,0
48494700:	67c5      	move	a2,a1
48494702:	040a      	addiu	a0,sp,40
48494704:	e840      	jalr	s0
48494706:	6f13      	li	a3,19
48494708:	b610      	lw	a2,48494748 <send_sync_msg+0xd0>
4849470a:	6d00      	li	a1,0
4849470c:	9e80      	lw	a0,0(a2)
4849470e:	6f16      	li	a3,22
48494710:	e840      	jalr	s0
48494712:	67c5      	move	a2,a1
48494714:	6a00      	li	v0,0
48494716:	1015      	b	48494742 <send_sync_msg+0xca>
48494718:	940a      	lw	a0,40(sp)
4849471a:	9513      	lw	a1,76(sp)
4849471c:	6e00      	li	a2,0
4849471e:	e840      	jalr	s0
48494720:	6f14      	li	a3,20
48494722:	5200      	slti	v0,0
48494724:	6002      	bteqz	4849472a <send_sync_msg+0xb2>
48494726:	6f00      	li	a3,0
48494728:	d70b      	sw	a3,44(sp)
4849472a:	6d00      	li	a1,0
4849472c:	67c5      	move	a2,a1
4849472e:	040a      	addiu	a0,sp,40
48494730:	e840      	jalr	s0
48494732:	6f13      	li	a3,19
48494734:	b305      	lw	v1,48494748 <send_sync_msg+0xd0>
48494736:	6d00      	li	a1,0
48494738:	9b80      	lw	a0,0(v1)
4849473a:	67c5      	move	a2,a1
4849473c:	e840      	jalr	s0
4849473e:	6f16      	li	a3,22
48494740:	920b      	lw	v0,44(sp)
48494742:	6478      	restore	64,ra,s0-s1
48494744:	e8a0      	jrc	ra
48494746:	0000      	addiu	s0,sp,0
48494748:	a1f4      	lbu	a3,20(s1)
4849474a:	9fc1      	lw	a2,4(a3)
4849474c:	6409      	restore	72
4849474e:	bfc1      	lwu	a2,4(a3)
48494750:	a1f0      	lbu	a3,16(s1)
48494752:	9fc1      	lw	a2,4(a3)
48494754:	640d      	restore	104
48494756:	bfc1      	lwu	a2,4(a3)

48494758 <send_async_msg>:
48494758:	64f6      	save	48,ra,s0-s1
4849475a:	ec11      	zeb	a0
4849475c:	1a50 5190 	jal	48494640 <__app_running_get_app_info>
48494760:	6725      	move	s1,a1
48494762:	6702      	move	s0,v0
48494764:	651a      	move	t8,v0
48494766:	2210      	beqz	v0,48494788 <send_async_msg+0x30>
48494768:	b20a      	lw	v0,48494790 <send_async_msg+0x38>
4849476a:	0404      	addiu	a0,sp,16
4849476c:	67b1      	move	a1,s1
4849476e:	6e08      	li	a2,8
48494770:	ea40      	jalr	v0
48494772:	6f00      	li	a3,0
48494774:	a083      	lbu	a0,3(s0)
48494776:	b208      	lw	v0,48494794 <send_async_msg+0x3c>
48494778:	0504      	addiu	a1,sp,16
4849477a:	6e00      	li	a2,0
4849477c:	ea40      	jalr	v0
4849477e:	6f18      	li	a3,24
48494780:	eb4f      	not	v1,v0
48494782:	5b01      	sltiu	v1,1
48494784:	6758      	move	v0,t8
48494786:	5a01      	sltiu	v0,1
48494788:	6758      	move	v0,t8
4849478a:	6476      	restore	48,ra,s0-s1
4849478c:	e8a0      	jrc	ra
4849478e:	0000      	addiu	s0,sp,0
48494790:	6409      	restore	72
48494792:	bfc1      	lwu	a2,4(a3)
48494794:	640d      	restore	104
48494796:	bfc1      	lwu	a2,4(a3)

48494798 <reply_sync_msg>:
48494798:	64c3      	save	24,ra
4849479a:	9c82      	lw	a0,8(a0)
4849479c:	6d00      	li	a1,0
4849479e:	b204      	lw	v0,484947ac <reply_sync_msg+0x14>
484947a0:	67c5      	move	a2,a1
484947a2:	ea40      	jalr	v0
484947a4:	6f16      	li	a3,22
484947a6:	6a01      	li	v0,1
484947a8:	6443      	restore	24,ra
484947aa:	e8a0      	jrc	ra
484947ac:	6409      	restore	72
484947ae:	bfc1      	lwu	a2,4(a3)

484947b0 <broadcast_msg>:
484947b0:	64f4      	save	32,ra,s0-s1
 * \note 
 * \li  广播应用消息最多只能附带4个字节的消息内容（建议采用双方约定code作为消息内容）。
*******************************************************************************/
bool broadcast_msg(msg_apps_t *msg)
{
484947b2:	6724      	move	s1,a0
484947b4:	6800      	li	s0,0
    app_info_t *app;
    uint8 i;

    //广播该消息给所有应用
    for(i = 0; i < MAX_APP_COUNT; i++)
484947b6:	6b0c      	li	v1,12
    {
        app = &g_app_info_vector[i];
484947b8:	e878      	mult	s0,v1
484947ba:	b50a      	lw	a1,484947e0 <broadcast_msg+0x30>
484947bc:	ec12      	mflo	a0
484947be:	e4ad      	addu	v1,a0,a1
484947c0:	a340      	lbu	v0,0(v1)
        if(app->used == 1)
484947c2:	7201      	cmpi	v0,1
484947c4:	6104      	btnez	484947ce <broadcast_msg+0x1e>
484947c6:	a381      	lbu	a0,1(v1)
        {
            send_async_msg(app->app_id, msg);
484947c8:	b207      	lw	v0,484947e4 <broadcast_msg+0x34>
484947ca:	ea40      	jalr	v0
484947cc:	67b1      	move	a1,s1
484947ce:	40c1      	addiu	a2,s0,1
484947d0:	6706      	move	s0,a2
484947d2:	e811      	zeb	s0
484947d4:	5803      	sltiu	s0,3
484947d6:	61ef      	btnez	484947b6 <broadcast_msg+0x6>
484947d8:	6a01      	li	v0,1
        }
    }

    return TRUE;
}
484947da:	6474      	restore	32,ra,s0-s1
484947dc:	e8a0      	jrc	ra
484947de:	0000      	addiu	s0,sp,0
484947e0:	a194      	lbu	a0,20(s1)
484947e2:	9fc1      	lw	a2,4(a3)
484947e4:	4759      	daddiu	v0,a3,-7
484947e6:	4849      	addiu	s0,73

484947e8 <broadcast_msg_sys>:
484947e8:	64f4      	save	32,ra,s0-s1

/******************************************************************************/
/*!                    
 * \par  Description:
 *    以广播方式（也属于异步发送）发送应用私有消息。
 * \param[in]    msg 指向要发送的应用消息结构体
 * \param[out]   none
 * \return       bool
 * \retval           TRUE 广播消息成功。
 * \retval           FALSE 广播消息失败。
 * \ingroup      applib_msg
 * \par          exmaple code
 * \code
    例子1：广播系统消息，见 get_sys_msg 实现
 * \endcode
 * \note 
 * \li  广播应用消息最多只能附带4个字节的消息内容（建议采用双方约定code作为消息内容）。
 * \li  该接口不会把系统消息广播到 manager ap 私有消息队列中。
*******************************************************************************/
bool broadcast_msg_sys(msg_apps_t *msg)
{
484947ea:	6724      	move	s1,a0
484947ec:	6800      	li	s0,0
    app_info_t *app;
    uint8 i;
    
/*    if(msg->type == MSG_RECLAIM)//nandflash reclaim，只发送给 manager AP
    {
        if(g_this_app_info->app_id != APP_ID_UDISK)//U 盘连接下不处理
        {
            send_async_msg(APP_ID_MANAGER, msg);
        }
        return TRUE;
    }*/

    //广播该消息给所有应用
    for(i = 0; i < MAX_APP_COUNT; i++)
484947ee:	6c0c      	li	a0,12
    {
        app = &g_app_info_vector[i];
484947f0:	e898      	mult	s0,a0
484947f2:	b50b      	lw	a1,4849481c <broadcast_msg_sys+0x34>
484947f4:	eb12      	mflo	v1
484947f6:	e3b1      	addu	a0,v1,a1
484947f8:	a440      	lbu	v0,0(a0)
        if((app->used == 1) && (app->app_id != APP_ID_MANAGER))
484947fa:	7201      	cmpi	v0,1
484947fc:	6106      	btnez	4849480a <broadcast_msg_sys+0x22>
484947fe:	a481      	lbu	a0,1(a0)
48494800:	7408      	cmpi	a0,8
48494802:	6003      	bteqz	4849480a <broadcast_msg_sys+0x22>
48494804:	b207      	lw	v0,48494820 <broadcast_msg_sys+0x38>
        {
            send_async_msg(app->app_id, msg);
48494806:	ea40      	jalr	v0
48494808:	67b1      	move	a1,s1
4849480a:	40c1      	addiu	a2,s0,1
4849480c:	6706      	move	s0,a2
4849480e:	e811      	zeb	s0
48494810:	5803      	sltiu	s0,3
48494812:	61ed      	btnez	484947ee <broadcast_msg_sys+0x6>
48494814:	6a01      	li	v0,1
        }
    }

    return TRUE;
}
48494816:	6474      	restore	32,ra,s0-s1
48494818:	e8a0      	jrc	ra
4849481a:	0000      	addiu	s0,sp,0
4849481c:	a194      	lbu	a0,20(s1)
4849481e:	9fc1      	lw	a2,4(a3)
48494820:	4759      	daddiu	v0,a3,-7
48494822:	4849      	addiu	s0,73
	...
Disassembly of section BANK_UI_1_20:

48514600 <com_open_config_file>:
48514600:	64e5      	save	40,ra,s0
 * \li  该接口只在 manager ap的 globe_data_init 中调用一次，也就是说在系统启动时
 *      进行一次打开初始化，之后任何地方读取应用配置项时都无须打开。
 *******************************************************************************/
bool com_open_config_file(const char* config_file)
{
48514602:	6d00      	li	a1,0
    uint8 head[16];

    config_fp = sys_sd_fopen(config_file);
48514604:	b011      	lw	s0,48514648 <com_open_config_file+0x48>
48514606:	67c5      	move	a2,a1
48514608:	e840      	jalr	s0
4851460a:	6f0d      	li	a3,13
4851460c:	6782      	move	a0,v0
4851460e:	b20e      	lw	v0,48514644 <com_open_config_file+0x44>
48514610:	6764      	move	v1,a0
    if (config_fp == NULL)
    {
        return FALSE;
48514612:	da80      	sw	a0,0(v0)
48514614:	2413      	beqz	a0,4851463c <com_open_config_file+0x3c>
48514616:	0504      	addiu	a1,sp,16
    }

    if (sys_sd_fread(config_fp, head, 16) == -1)
48514618:	6e10      	li	a2,16
4851461a:	e840      	jalr	s0
4851461c:	6f11      	li	a3,17
4851461e:	ec4f      	not	a0,v0
48514620:	6b00      	li	v1,0
    {
        return FALSE;
48514622:	240c      	beqz	a0,4851463c <com_open_config_file+0x3c>
48514624:	677d      	move	v1,sp
    }

    if ((head[0] != 'c') || (head[1] != 'f') || (head[2] != 'g'))
48514626:	a3b0      	lbu	a1,16(v1)
48514628:	7563      	cmpi	a1,99
4851462a:	6107      	btnez	4851463a <com_open_config_file+0x3a>
4851462c:	a3d1      	lbu	a2,17(v1)
4851462e:	7666      	cmpi	a2,102
48514630:	6104      	btnez	4851463a <com_open_config_file+0x3a>
48514632:	a3f2      	lbu	a3,18(v1)
48514634:	6b01      	li	v1,1
    {
        return FALSE;
    }

    return TRUE;
48514636:	7767      	cmpi	a3,103
48514638:	6001      	bteqz	4851463c <com_open_config_file+0x3c>
4851463a:	6b00      	li	v1,0
4851463c:	6743      	move	v0,v1
}
4851463e:	6465      	restore	40,ra,s0
48514640:	e8a0      	jrc	ra
48514642:	0000      	addiu	s0,sp,0
48514644:	a190      	lbu	a0,16(s1)
48514646:	9fc1      	lw	a2,4(a3)
48514648:	640d      	restore	104
4851464a:	bfc1      	lwu	a2,4(a3)

4851464c <com_get_config_struct>:
4851464c:	f008 64f6 	save	a0-a1,48,ra,s0-s1

/******************************************************************************/
/*!
 * \par  Description:
 *    关闭应用配置脚本文件。
 * \param[in]    none
 * \param[out]   none
 * \return       bool
 * \retval           TRUE 关闭应用配置脚本成功。
 * \retval           FALSE 关闭应用配置脚本失败。
 * \ingroup      common_func
 * \note
 *******************************************************************************/
#if 0
bool com_close_config_file(void)
{
    if (sys_sd_fclose(config_fp) == -1)
    {
        return FALSE;
    }

    return TRUE;
}
#endif

/******************************************************************************/
/*!
 * \par  Description:
 *    读取应用配置项。
 * \param[in]    config_id 配置参数ID
 * \param[in]    buf_len 参数输出缓冲区大小
 * \param[out]   buf 参数输出缓冲区
 * \return       bool
 * \retval           TRUE 读取配置项成功。
 * \retval           FALSE 读取配置项失败。
 * \ingroup      common_func
 * \ingroup      common_func
 * \par          exmaple code
 * \code
 例子1：获取背光亮度时间参数结构体
 if(com_get_config_struct(CONFIG_ID_LIGHT_TIME, config_buf, CONFIG_BUF_LEN) == TRUE)
 {
 config_nonlinear_t *config_param;

 config_param = (config_nonlinear_t *)config_buf;
 然后就可以对 config_param 按 config_nonlinear_t 结构进行访问
 }
 else
 {
 没有找到该应用配置项
 }
 * \endcode
 * \note
 * \li  取可变长的 config_string_t 和 config_nonlinear_t，必须先根据使用场合申请最大
 *      的config参数的 uint8 缓冲区并读取数据，读取成功后把该缓冲区强制转换为
 *      config_string_t 或 config_nonlinear_t 类型指针，然后就可以按照 config_string_t
 *      和 config_nonlinear_t类型进行访问。
 *******************************************************************************/
bool com_get_config_struct(uint16 config_id, uint8 *buf, uint16 buf_len)
{
48514650:	67a4      	move	a1,a0
48514652:	ed31      	zeh	a1
48514654:	b118      	lw	s1,485146b4 <com_get_config_struct+0x68>
    config_index_t temp_index;

    //读取配置项索引结构体
    if (sys_sd_fseek(config_fp, SEEK_SET, 16 + config_id * sizeof(config_index_t)) == -1)
48514656:	33ac      	sll	v1,a1,3
48514658:	ee31      	zeh	a2
4851465a:	d606      	sw	a2,24(sp)
4851465c:	9980      	lw	a0,0(s1)
4851465e:	67c3      	move	a2,v1
48514660:	b016      	lw	s0,485146b8 <com_get_config_struct+0x6c>
48514662:	6d00      	li	a1,0
48514664:	4e10      	addiu	a2,16
48514666:	e840      	jalr	s0
48514668:	6f0f      	li	a3,15
4851466a:	ea4f      	not	v0
4851466c:	6b00      	li	v1,0
    {
        return FALSE;
4851466e:	221f      	beqz	v0,485146ae <com_get_config_struct+0x62>
48514670:	9980      	lw	a0,0(s1)
    }
    if (sys_sd_fread(config_fp, &temp_index, sizeof(config_index_t)) == -1)
48514672:	0504      	addiu	a1,sp,16
48514674:	6e08      	li	a2,8
48514676:	e840      	jalr	s0
48514678:	6f11      	li	a3,17
4851467a:	ec4f      	not	a0,v0
4851467c:	6b00      	li	v1,0
    {
        return FALSE;
4851467e:	2417      	beqz	a0,485146ae <com_get_config_struct+0x62>
48514680:	9604      	lw	a2,16(sp)
    }

    //读取配置项内容
    if (sys_sd_fseek(config_fp, SEEK_SET, temp_index.offset) == -1)
48514682:	9980      	lw	a0,0(s1)
48514684:	67a3      	move	a1,v1
48514686:	e840      	jalr	s0
48514688:	6f0f      	li	a3,15
4851468a:	ee4f      	not	a2,v0
4851468c:	6b00      	li	v1,0
    {
        return FALSE;
4851468e:	260f      	beqz	a2,485146ae <com_get_config_struct+0x62>
48514690:	9605      	lw	a2,20(sp)
    }
    if (temp_index.length > buf_len)
48514692:	9206      	lw	v0,24(sp)
48514694:	9980      	lw	a0,0(s1)
48514696:	eac3      	sltu	v0,a2
48514698:	6003      	bteqz	485146a0 <com_get_config_struct+0x54>
4851469a:	950d      	lw	a1,52(sp)
    {
        if (sys_sd_fread(config_fp, buf, buf_len) == -1)
4851469c:	67c2      	move	a2,v0
4851469e:	1001      	b	485146a2 <com_get_config_struct+0x56>
485146a0:	950d      	lw	a1,52(sp)
        {
            return FALSE;
        }
    }
    else
    {
        if (sys_sd_fread(config_fp, buf, temp_index.length) == -1)
485146a2:	e840      	jalr	s0
485146a4:	6f11      	li	a3,17
485146a6:	ef4f      	not	a3,v0
485146a8:	6b00      	li	v1,0
        {
            return FALSE;
485146aa:	2701      	beqz	a3,485146ae <com_get_config_struct+0x62>
485146ac:	6b01      	li	v1,1
        }
    }

    return TRUE;
485146ae:	6743      	move	v0,v1
}
485146b0:	6476      	restore	48,ra,s0-s1
485146b2:	e8a0      	jrc	ra
485146b4:	a190      	lbu	a0,16(s1)
485146b6:	9fc1      	lw	a2,4(a3)
485146b8:	640d      	restore	104
485146ba:	bfc1      	lwu	a2,4(a3)

485146bc <com_get_config_default>:
485146bc:	64f6      	save	48,ra,s0-s1

/******************************************************************************/
/*!
 * \par  Description:
 *    读取应用配置项默认值。
 * \param[in]    config_id 配置参数ID
 * \param[out]   none
 * \return       uint16
 * \retval           返回读取到的应用配置项默认值。
 * \ingroup      common_func
 * \ingroup      common_func
 * \par          exmaple code
 * \code
 例子1：获取背光亮度时间默认值
 light_time = com_get_config_default(CONFIG_ID_LIGHT_TIME);
 * \endcode
 * \note
 * \li  仅用于数值型参数，并由用户保证 config_id 正确，若找不到配置项则返回0。
 *******************************************************************************/
uint16 com_get_config_default(uint16 config_id)
{
485146be:	67c4      	move	a2,a0
485146c0:	b115      	lw	s1,48514714 <com_get_config_default+0x58>
    config_index_t temp_index;
    uint16 default_value;

    //读取配置项索引结构体
    if (sys_sd_fseek(config_fp, SEEK_SET, 16 + config_id * sizeof(config_index_t)) == -1)
485146c2:	ee31      	zeh	a2
485146c4:	36cc      	sll	a2,3
485146c6:	9980      	lw	a0,0(s1)
485146c8:	b014      	lw	s0,48514718 <com_get_config_default+0x5c>
485146ca:	6d00      	li	a1,0
485146cc:	4e10      	addiu	a2,16
485146ce:	e840      	jalr	s0
485146d0:	6f0f      	li	a3,15
485146d2:	ea4f      	not	v0
485146d4:	6b00      	li	v1,0
    {
        return 0;
485146d6:	221a      	beqz	v0,4851470c <com_get_config_default+0x50>
485146d8:	9980      	lw	a0,0(s1)
    }
    if (sys_sd_fread(config_fp, &temp_index, sizeof(config_index_t)) == -1)
485146da:	0504      	addiu	a1,sp,16
485146dc:	6e08      	li	a2,8
485146de:	e840      	jalr	s0
485146e0:	6f11      	li	a3,17
485146e2:	ec4f      	not	a0,v0
485146e4:	6b00      	li	v1,0
    {
        return 0;
485146e6:	2412      	beqz	a0,4851470c <com_get_config_default+0x50>
485146e8:	9980      	lw	a0,0(s1)
    }

    //读取配置项内容
    if (sys_sd_fseek(config_fp, SEEK_SET, temp_index.offset) == -1)
485146ea:	9604      	lw	a2,16(sp)
485146ec:	67a3      	move	a1,v1
485146ee:	e840      	jalr	s0
485146f0:	6f0f      	li	a3,15
485146f2:	ed4f      	not	a1,v0
485146f4:	6b00      	li	v1,0
    {
        return 0;
485146f6:	250a      	beqz	a1,4851470c <com_get_config_default+0x50>
485146f8:	9980      	lw	a0,0(s1)
    }
    if (sys_sd_fread(config_fp, &default_value, sizeof(uint16)) == -1)
485146fa:	6f11      	li	a3,17
485146fc:	0506      	addiu	a1,sp,24
485146fe:	e840      	jalr	s0
48514700:	6e02      	li	a2,2
48514702:	ef4f      	not	a3,v0
48514704:	6b00      	li	v1,0
    {
        return 0;
48514706:	2702      	beqz	a3,4851470c <com_get_config_default+0x50>
48514708:	675d      	move	v0,sp
    }

    return default_value;
4851470a:	aa6c      	lhu	v1,24(v0)
4851470c:	6743      	move	v0,v1
}
4851470e:	6476      	restore	48,ra,s0-s1
48514710:	e8a0      	jrc	ra
48514712:	0000      	addiu	s0,sp,0
48514714:	a190      	lbu	a0,16(s1)
48514716:	9fc1      	lw	a2,4(a3)
48514718:	640d      	restore	104
4851471a:	bfc1      	lwu	a2,4(a3)
	...
Disassembly of section BANK_UI_1_21:

48554600 <delete_key_map_list>:
48554600:	0004 0400 2801 007f 3f00 0000 0004 1000     .....(...?......
	...

48554618 <dialog_key_map_list>:
48554618:	0002 3800 2001 0003 3800 2002 0001 0400     ...8. ...8. ....
48554628:	2003 0004 0400 2004 0007 0400 2004 0000     . ..... ..... ..
48554638:	0000 0000                                   ....

4855463c <directory_key_map_list>:
4855463c:	0002 3800 2702 0002 0400 2703 0003 3800     ...8.'.....'...8
4855464c:	2701 0003 0400 2703 0001 0400 2704 0004     .'.....'.....'..
4855465c:	0400 2705 0007 0400 2706 0000 0000 0000     ...'.....'......

4855466c <keylock_list>:
4855466c:	000c 2000 0022 000d 2000 0022 0004 1800     ... ".... ".....
	...

48554684 <menulist_key_map_list>:
48554684:	0002 3800 2602 0003 3800 2601 0001 0400     ...8.&...8.&....
48554694:	2603 0004 0400 2604 0007 0400 2605 0000     .&.....&.....&..
485546a4:	0000 0000                                   ....

485546a8 <parameter_key_map_list>:
485546a8:	0007 0400 2901 0003 3800 2903 0002 3800     .....)...8.)...8
485546b8:	2904 0001 0400 2905 0004 0400 2906 0000     .).....).....)..
485546c8:	0000 0000                                   ....

485546cc <shutoff_key_map_list>:
485546cc:	0001 0400 2b01 0000 0000 0000               .....+......

485546d8 <textread_key_map_list>:
485546d8:	0002 3800 2a02 0003 3800 2a01 0004 0400     ...8.*...8.*....
485546e8:	2a07 0001 0400 2a07 0000 0000 0000 0000     .*.....*........

485546f8 <usbconnect_key_map_list>:
485546f8:	0002 3800 2001 0003 3800 2002 0001 0400     ...8. ...8. ....
48554708:	2003 0004 0400 2004 0007 0400 2004 0001     . ..... ..... ..
48554718:	1000 0000 007f 3f00 0000 0004 1800 0000     .......?........
	...

48554730 <volume_key_map_list>:
48554730:	0003 3800 2501 0002 3800 2502 0001 0400     ...8.%...8.%....
48554740:	2504 0004 0400 2504 0007 0400 2504 0004     .%.....%.....%..
48554750:	1800 0000 0000 0000 0000 0000               ............

4855475c <limit_key_map_list>:
4855475c:	0003 3800 2501 0002 3800 2502 0001 0400     ...8.%...8.%....
4855476c:	2503 0004 0400 2504 0007 0400 2504 0004     .%.....%.....%..
4855477c:	1800 0000 0000 0000 0000 0000               ............

48554788 <key_shortcut_list>:
48554788:	0001 1000 0025 000c 2000 0022 000d 2000     ....%.... ".... 
48554798:	0023 007f 3f00 0024 0004 1800 0021 0000     #....?$.....!...
485547a8:	0000 0000                                   ....

485547ac <com_key_mapping>:
485547ac:	6492      	save	16,s1
 * \li  如果用户不想响应某个快捷键，或者想把某个快捷键另作别用，那么可以在自定义
 *      的按键映射表中添加该按键的映射项。
*******************************************************************************/
bool com_key_mapping(input_gui_msg_t *input_msg, msg_apps_type_e *gui_event, const key_map_t *key_map_list)
{
485547ae:	673d      	move	s1,sp
485547b0:	d984      	sw	a0,16(s1)
485547b2:	d9a5      	sw	a1,20(s1)
485547b4:	d9c6      	sw	a2,24(s1)
485547b6:	9944      	lw	v0,16(s1)
    const key_map_t *this_key_map;
    
    //按键（机械和触摸）
    if(INPUT_MSG_KEY == input_msg->type)
485547b8:	a240      	lbu	v0,0(v0)
485547ba:	2a4a      	bnez	v0,48554850 <com_key_mapping+0xa4>
485547bc:	9946      	lw	v0,24(s1)
    {
        if(key_map_list != NULL)
485547be:	2227      	beqz	v0,4855480e <com_key_mapping+0x62>
485547c0:	9946      	lw	v0,24(s1)
        {
            this_key_map = key_map_list;
485547c2:	d940      	sw	v0,0(s1)
485547c4:	9940      	lw	v0,0(s1)
            for(;;this_key_map++)
            {
                /* 达到用户最后一个映射，结束按键映射 */
                if ( KEY_NULL == this_key_map->key_event.val )
485547c6:	a240      	lbu	v0,0(v0)
485547c8:	2a01      	bnez	v0,485547cc <com_key_mapping+0x20>
485547ca:	1021      	b	4855480e <com_key_mapping+0x62>
                {
                    break;
485547cc:	9944      	lw	v0,16(s1)
                }
    
                /* 找到需要映射的按键, 进行映射 */
                if( (input_msg->data.kmsg.val == this_key_map->key_event.val)
485547ce:	9960      	lw	v1,0(s1)
485547d0:	a282      	lbu	a0,2(v0)
485547d2:	a340      	lbu	v0,0(v1)
485547d4:	ea8e      	xor	v0,a0
485547d6:	5a01      	sltiu	v0,1
485547d8:	6016      	bteqz	48554806 <com_key_mapping+0x5a>
485547da:	9944      	lw	v0,16(s1)
485547dc:	9960      	lw	v1,0(s1)
485547de:	aa42      	lhu	v0,4(v0)
485547e0:	ab61      	lhu	v1,2(v1)
485547e2:	6782      	move	a0,v0
485547e4:	6743      	move	v0,v1
485547e6:	ea8c      	and	v0,a0
485547e8:	ea31      	zeh	v0
485547ea:	220d      	beqz	v0,48554806 <com_key_mapping+0x5a>
485547ec:	9965      	lw	v1,20(s1)
                  &&(input_msg->data.kmsg.type & this_key_map->key_event.type) )
                {
                    *gui_event = this_key_map->event;
485547ee:	9940      	lw	v0,0(s1)
485547f0:	aa42      	lhu	v0,4(v0)
485547f2:	cb40      	sh	v0,0(v1)
485547f4:	9945      	lw	v0,20(s1)
                    if(*gui_event == MSG_NULL)
485547f6:	aa40      	lhu	v0,0(v0)
485547f8:	2a03      	bnez	v0,48554800 <com_key_mapping+0x54>
485547fa:	6a00      	li	v0,0
                    {
                        return FALSE;
485547fc:	d941      	sw	v0,4(s1)
485547fe:	102a      	b	48554854 <com_key_mapping+0xa8>
48554800:	6a01      	li	v0,1
                    }
                    else
                    {
                        return TRUE;
48554802:	d941      	sw	v0,4(s1)
48554804:	1027      	b	48554854 <com_key_mapping+0xa8>
48554806:	9940      	lw	v0,0(s1)
48554808:	4246      	addiu	v0,v0,6
4855480a:	d940      	sw	v0,0(s1)
4855480c:	17db      	b	485547c4 <com_key_mapping+0x18>
4855480e:	b214      	lw	v0,4855485c <com_key_mapping+0xb0>
                    }
                }
            }
        }
        
        //快捷键映射
        this_key_map = key_shortcut_list;
48554810:	d940      	sw	v0,0(s1)
48554812:	9940      	lw	v0,0(s1)
        for (;;this_key_map++)
        {
            /* 达到用户最后一个快捷键, 或者达到最大快捷键个数, 退出*/
            if ( 0 == this_key_map->key_event.val )
48554814:	a240      	lbu	v0,0(v0)
48554816:	2a01      	bnez	v0,4855481a <com_key_mapping+0x6e>
48554818:	101b      	b	48554850 <com_key_mapping+0xa4>
            {
                break;
4855481a:	9944      	lw	v0,16(s1)
            }

            /* 找到快捷键, 发送快捷键对应消息 */
            if ( (input_msg->data.kmsg.val == this_key_map->key_event.val) 
4855481c:	9960      	lw	v1,0(s1)
4855481e:	a282      	lbu	a0,2(v0)
48554820:	a340      	lbu	v0,0(v1)
48554822:	ea8e      	xor	v0,a0
48554824:	5a01      	sltiu	v0,1
48554826:	6010      	bteqz	48554848 <com_key_mapping+0x9c>
48554828:	9944      	lw	v0,16(s1)
4855482a:	9960      	lw	v1,0(s1)
4855482c:	aa42      	lhu	v0,4(v0)
4855482e:	ab61      	lhu	v1,2(v1)
48554830:	6782      	move	a0,v0
48554832:	6743      	move	v0,v1
48554834:	ea8c      	and	v0,a0
48554836:	ea31      	zeh	v0
48554838:	2207      	beqz	v0,48554848 <com_key_mapping+0x9c>
4855483a:	9945      	lw	v0,20(s1)
              && (input_msg->data.kmsg.type & this_key_map->key_event.type) )
            {
                *gui_event = this_key_map->event;
4855483c:	9960      	lw	v1,0(s1)
4855483e:	ab62      	lhu	v1,4(v1)
48554840:	ca60      	sh	v1,0(v0)
48554842:	6a01      	li	v0,1
                return TRUE;
48554844:	d941      	sw	v0,4(s1)
48554846:	1006      	b	48554854 <com_key_mapping+0xa8>
48554848:	9940      	lw	v0,0(s1)
4855484a:	4246      	addiu	v0,v0,6
4855484c:	d940      	sw	v0,0(s1)
4855484e:	17e1      	b	48554812 <com_key_mapping+0x66>
48554850:	6a00      	li	v0,0
            }
        }
    }
    ////触摸屏
    //else if(INPUT_MSG_TOUCH == input_msg->type)
    //{}
    ////g-sensor
    //else
    //{}

    return FALSE;
48554852:	d941      	sw	v0,4(s1)
48554854:	9941      	lw	v0,4(s1)
}
48554856:	65b9      	move	sp,s1
48554858:	6412      	restore	16,s1
4855485a:	e8a0      	jrc	ra
4855485c:	4788      	addiu	a0,a3,-8
4855485e:	4855      	addiu	s0,85
	...
Disassembly of section BANK_UI_1_22:

48594400 <com_open_confmenu_file>:
48594400:	64f7      	save	56,ra,s0-s1
 * \li  该接口在进入前台AP时调用，然后在退出前台AP时再调用 com_close_confmenu_file
 *      关闭，在AP的整个生命周期，该脚本都是可以直接访问的。
*******************************************************************************/
bool com_open_confmenu_file(const char* file_name)
{
48594402:	0104      	addiu	s1,sp,16
48594404:	d98a      	sw	a0,40(s1)
48594406:	b017      	lw	s0,48594460 <com_open_confmenu_file+0x60>
    uint8 header[16];
    
    confmenu_fp = sys_sd_fopen(file_name);
48594408:	994a      	lw	v0,40(s1)
4859440a:	6782      	move	a0,v0
4859440c:	6d00      	li	a1,0
4859440e:	6e00      	li	a2,0
48594410:	6f0d      	li	a3,13
48594412:	b215      	lw	v0,48594464 <com_open_confmenu_file+0x64>
48594414:	eac0      	jalrc	v0
48594416:	d840      	sw	v0,0(s0)
48594418:	b212      	lw	v0,48594460 <com_open_confmenu_file+0x60>
    if(confmenu_fp == NULL)
4859441a:	9a40      	lw	v0,0(v0)
4859441c:	2a03      	bnez	v0,48594424 <com_open_confmenu_file+0x24>
4859441e:	6a00      	li	v0,0
    {
        return FALSE;
48594420:	d944      	sw	v0,16(s1)
48594422:	1019      	b	48594456 <com_open_confmenu_file+0x56>
48594424:	b20f      	lw	v0,48594460 <com_open_confmenu_file+0x60>
    }
    
    if(sys_sd_fread(confmenu_fp, header, sizeof(header)) == -1)
48594426:	9a40      	lw	v0,0(v0)
48594428:	6782      	move	a0,v0
4859442a:	67b1      	move	a1,s1
4859442c:	6e10      	li	a2,16
4859442e:	6f11      	li	a3,17
48594430:	b20d      	lw	v0,48594464 <com_open_confmenu_file+0x64>
48594432:	eac0      	jalrc	v0
48594434:	6762      	move	v1,v0
48594436:	6a01      	li	v0,1
48594438:	ea4b      	neg	v0
4859443a:	ea6e      	xor	v0,v1
4859443c:	5a01      	sltiu	v0,1
4859443e:	6003      	bteqz	48594446 <com_open_confmenu_file+0x46>
48594440:	6a00      	li	v0,0
    {
        return FALSE;
48594442:	d944      	sw	v0,16(s1)
48594444:	1008      	b	48594456 <com_open_confmenu_file+0x56>
48594446:	b409      	lw	a0,48594468 <com_open_confmenu_file+0x68>
    }
    confmenu_offset = ((uint16)header[13] << 8) + header[12];   //低字节在前
48594448:	a14d      	lbu	v0,13(s1)
4859444a:	3340      	sll	v1,v0,8
4859444c:	a14c      	lbu	v0,12(s1)
4859444e:	e349      	addu	v0,v1,v0
48594450:	dc40      	sw	v0,0(a0)
48594452:	6a01      	li	v0,1
    
    return TRUE;
48594454:	d944      	sw	v0,16(s1)
48594456:	9944      	lw	v0,16(s1)
}
48594458:	65b9      	move	sp,s1
4859445a:	6475      	restore	40,ra,s0-s1
4859445c:	e8a0      	jrc	ra
4859445e:	0000      	addiu	s0,sp,0
48594460:	5bd4      	sltiu	v1,212
48594462:	9fc1      	lw	a2,4(a3)
48594464:	640d      	restore	104
48594466:	bfc1      	lwu	a2,4(a3)
48594468:	5bd8      	sltiu	v1,216
4859446a:	9fc1      	lw	a2,4(a3)

4859446c <com_close_confmenu_file>:
4859446c:	64d4      	save	32,ra,s1

/******************************************************************************/
/*!                    
 * \par  Description:
 *    关闭可配置菜单脚本文件。
 * \param[in]    none
 * \param[out]   none    
 * \return       bool
 * \retval           TRUE 关闭文件成功。
 * \retval           FALSE 关闭文件失败。
 * \ingroup      common_func
 * \note 
 * \li  该接口应该在退出前台AP时调用。
*******************************************************************************/
bool com_close_confmenu_file(void)
{
4859446e:	0104      	addiu	s1,sp,16
48594470:	b20c      	lw	v0,485944a0 <com_close_confmenu_file+0x34>
    if(sys_sd_fclose(confmenu_fp) == -1)
48594472:	9a40      	lw	v0,0(v0)
48594474:	6782      	move	a0,v0
48594476:	6d00      	li	a1,0
48594478:	6e00      	li	a2,0
4859447a:	6f0e      	li	a3,14
4859447c:	b20a      	lw	v0,485944a4 <com_close_confmenu_file+0x38>
4859447e:	eac0      	jalrc	v0
48594480:	6762      	move	v1,v0
48594482:	6a01      	li	v0,1
48594484:	ea4b      	neg	v0
48594486:	ea6e      	xor	v0,v1
48594488:	5a01      	sltiu	v0,1
4859448a:	6003      	bteqz	48594492 <com_close_confmenu_file+0x26>
4859448c:	6a00      	li	v0,0
    {
        return FALSE;
4859448e:	d940      	sw	v0,0(s1)
48594490:	1002      	b	48594496 <com_close_confmenu_file+0x2a>
48594492:	6a01      	li	v0,1
    }
    
    return TRUE;
48594494:	d940      	sw	v0,0(s1)
48594496:	9940      	lw	v0,0(s1)
}
48594498:	65b9      	move	sp,s1
4859449a:	6452      	restore	16,ra,s1
4859449c:	e8a0      	jrc	ra
4859449e:	0000      	addiu	s0,sp,0
485944a0:	5bd4      	sltiu	v1,212
485944a2:	9fc1      	lw	a2,4(a3)
485944a4:	640d      	restore	104
485944a6:	bfc1      	lwu	a2,4(a3)

485944a8 <com_get_confmenu_title>:
485944a8:	64d4      	save	32,ra,s1

/******************************************************************************/
/*!                    
 * \par  Description:
 *    读取菜单头数据。
 * \param[in]    menu_id 菜单头ID
 * \param[out]   confmenu_title 菜单头结构体数据缓冲区指针
 * \return       bool
 * \retval           TRUE 读取菜单头成功。
 * \retval           FALSE 读取菜单头失败。
 * \ingroup      common_func
 * \note 
*******************************************************************************/
bool com_get_confmenu_title(uint8 menu_id, menu_title_data_t* confmenu_title)
{
485944aa:	0104      	addiu	s1,sp,16
485944ac:	6744      	move	v0,a0
485944ae:	d9a5      	sw	a1,20(s1)
485944b0:	c150      	sb	v0,16(s1)
485944b2:	b215      	lw	v0,48594504 <com_get_confmenu_title+0x5c>
    sys_sd_fseek(confmenu_fp, SEEK_SET, confmenu_offset + menu_id * sizeof(menu_title_data_t));
485944b4:	9a80      	lw	a0,0(v0)
485944b6:	a170      	lbu	v1,16(s1)
485944b8:	6743      	move	v0,v1
485944ba:	3244      	sll	v0,1
485944bc:	e269      	addu	v0,v1
485944be:	3348      	sll	v1,v0,2
485944c0:	b212      	lw	v0,48594508 <com_get_confmenu_title+0x60>
485944c2:	9a40      	lw	v0,0(v0)
485944c4:	e349      	addu	v0,v1,v0
485944c6:	6d00      	li	a1,0
485944c8:	67c2      	move	a2,v0
485944ca:	6f0f      	li	a3,15
485944cc:	b210      	lw	v0,4859450c <com_get_confmenu_title+0x64>
485944ce:	eac0      	jalrc	v0
485944d0:	6a00      	li	v0,0
    return (bool)(sys_sd_fread(confmenu_fp, confmenu_title, sizeof(menu_title_data_t)) != -1);
485944d2:	d940      	sw	v0,0(s1)
485944d4:	b20c      	lw	v0,48594504 <com_get_confmenu_title+0x5c>
485944d6:	9a40      	lw	v0,0(v0)
485944d8:	9965      	lw	v1,20(s1)
485944da:	6782      	move	a0,v0
485944dc:	67a3      	move	a1,v1
485944de:	6e0c      	li	a2,12
485944e0:	6f11      	li	a3,17
485944e2:	b20b      	lw	v0,4859450c <com_get_confmenu_title+0x64>
485944e4:	eac0      	jalrc	v0
485944e6:	6762      	move	v1,v0
485944e8:	6a01      	li	v0,1
485944ea:	ea4b      	neg	v0
485944ec:	ea6e      	xor	v0,v1
485944ee:	5a01      	sltiu	v0,1
485944f0:	6102      	btnez	485944f6 <com_get_confmenu_title+0x4e>
485944f2:	6a01      	li	v0,1
485944f4:	d940      	sw	v0,0(s1)
485944f6:	9940      	lw	v0,0(s1)
485944f8:	651a      	move	t8,v0
485944fa:	6758      	move	v0,t8
}
485944fc:	65b9      	move	sp,s1
485944fe:	6452      	restore	16,ra,s1
48594500:	e8a0      	jrc	ra
48594502:	0000      	addiu	s0,sp,0
48594504:	5bd4      	sltiu	v1,212
48594506:	9fc1      	lw	a2,4(a3)
48594508:	5bd8      	sltiu	v1,216
4859450a:	9fc1      	lw	a2,4(a3)
4859450c:	640d      	restore	104
4859450e:	bfc1      	lwu	a2,4(a3)

48594510 <com_get_confmenu_item>:
48594510:	64d4      	save	32,ra,s1

/******************************************************************************/
/*!                    
 * \par  Description:
 *    读取菜单项数据。
 * \param[in]    confmenu_title 菜单头数据结构指针
 * \param[in]    item_index 要读取的当前菜单项序号
 * \param[out]   confmenu_item 菜单项结构体缓冲区指针
 * \return       bool
 * \retval           TRUE 读取菜单项成功。
 * \retval           FALSe 读取菜单项失败。
 * \ingroup      common_func
 * \note 
*******************************************************************************/
bool com_get_confmenu_item(menu_title_data_t* confmenu_title, uint16 item_index, menu_item_data_t *confmenu_item)
{
48594512:	0104      	addiu	s1,sp,16
48594514:	d984      	sw	a0,16(s1)
48594516:	6745      	move	v0,a1
48594518:	d9c6      	sw	a2,24(s1)
4859451a:	c94a      	sh	v0,20(s1)
4859451c:	b214      	lw	v0,4859456c <com_get_confmenu_item+0x5c>
    sys_sd_fseek(confmenu_fp, SEEK_SET, confmenu_title->offset + sizeof(menu_item_data_t) * item_index);
4859451e:	9a80      	lw	a0,0(v0)
48594520:	9944      	lw	v0,16(s1)
48594522:	aaa2      	lhu	a1,4(v0)
48594524:	a96a      	lhu	v1,20(s1)
48594526:	6743      	move	v0,v1
48594528:	3248      	sll	v0,2
4859452a:	e269      	addu	v0,v1
4859452c:	3248      	sll	v0,2
4859452e:	e549      	addu	v0,a1,v0
48594530:	6d00      	li	a1,0
48594532:	67c2      	move	a2,v0
48594534:	6f0f      	li	a3,15
48594536:	b20f      	lw	v0,48594570 <com_get_confmenu_item+0x60>
48594538:	eac0      	jalrc	v0
4859453a:	6a00      	li	v0,0
    return (bool)(sys_sd_fread(confmenu_fp, confmenu_item, sizeof(menu_item_data_t)) != -1);
4859453c:	d940      	sw	v0,0(s1)
4859453e:	b20c      	lw	v0,4859456c <com_get_confmenu_item+0x5c>
48594540:	9a40      	lw	v0,0(v0)
48594542:	9966      	lw	v1,24(s1)
48594544:	6782      	move	a0,v0
48594546:	67a3      	move	a1,v1
48594548:	6e14      	li	a2,20
4859454a:	6f11      	li	a3,17
4859454c:	b209      	lw	v0,48594570 <com_get_confmenu_item+0x60>
4859454e:	eac0      	jalrc	v0
48594550:	6762      	move	v1,v0
48594552:	6a01      	li	v0,1
48594554:	ea4b      	neg	v0
48594556:	ea6e      	xor	v0,v1
48594558:	5a01      	sltiu	v0,1
4859455a:	6102      	btnez	48594560 <com_get_confmenu_item+0x50>
4859455c:	6a01      	li	v0,1
4859455e:	d940      	sw	v0,0(s1)
48594560:	9940      	lw	v0,0(s1)
48594562:	651a      	move	t8,v0
48594564:	6758      	move	v0,t8
}
48594566:	65b9      	move	sp,s1
48594568:	6452      	restore	16,ra,s1
4859456a:	e8a0      	jrc	ra
4859456c:	5bd4      	sltiu	v1,212
4859456e:	9fc1      	lw	a2,4(a3)
48594570:	640d      	restore	104
48594572:	bfc1      	lwu	a2,4(a3)

48594574 <com_get_confmenu_active>:
48594574:	64d7      	save	56,ra,s1

/******************************************************************************/
/*!                    
 * \par  Description:
 *    获取菜单项在当前级菜单中对应的索引号。
 * \param[in]    confmenu_title 菜单头数据结构指针
 * \param[in]    item_str 要检索的菜单项的字符串ID
 * \param[out]   none
 * \return       uint8
 * \retval           返回菜单项在菜单中的索引号，-1表示索引失败。
 * \ingroup      common_func
 * \note 
 * \li  该接口用于确定 RADIO 菜单的 select 项。因为RADIO 菜单要求进入菜单的 active
 *      项为 select 项，而可配置菜单模式下，菜单项的序号是可变的，根本不可能在程序
 *      中指定，所以只能间接的指定菜单项的字符串ID，通过字符串ID去匹配序号。
*******************************************************************************/
uint16 com_get_confmenu_active(menu_title_data_t* confmenu_title, uint16 key_str)
{
48594576:	0104      	addiu	s1,sp,16
48594578:	d98a      	sw	a0,40(s1)
4859457a:	6745      	move	v0,a1
4859457c:	c956      	sh	v0,44(s1)
4859457e:	a976      	lhu	v1,44(s1)
    menu_item_data_t temp_data;
    uint16 active;
    
    if(key_str == V_U16_INVALID)
48594580:	f7ff 6a1f 	li	v0,65535
48594584:	ea6e      	xor	v0,v1
48594586:	5a01      	sltiu	v0,1
48594588:	6004      	bteqz	48594592 <com_get_confmenu_active+0x1e>
4859458a:	f7ff 6a1f 	li	v0,65535
    {
        return V_U16_INVALID;
4859458e:	d947      	sw	v0,28(s1)
48594590:	1037      	b	48594600 <com_get_confmenu_active+0x8c>
48594592:	6a00      	li	v0,0
    }
    
    for(active = 0; active < confmenu_title->count; active++)
48594594:	c94c      	sh	v0,24(s1)
48594596:	994a      	lw	v0,40(s1)
48594598:	aa61      	lhu	v1,2(v0)
4859459a:	a94c      	lhu	v0,24(s1)
4859459c:	ea63      	sltu	v0,v1
4859459e:	602d      	bteqz	485945fa <com_get_confmenu_active+0x86>
485945a0:	b21a      	lw	v0,48594608 <com_get_confmenu_active+0x94>
    {
        sys_sd_fseek(confmenu_fp, SEEK_SET, confmenu_title->offset + sizeof(menu_item_data_t) * active);
485945a2:	9a80      	lw	a0,0(v0)
485945a4:	994a      	lw	v0,40(s1)
485945a6:	aaa2      	lhu	a1,4(v0)
485945a8:	a96c      	lhu	v1,24(s1)
485945aa:	6743      	move	v0,v1
485945ac:	3248      	sll	v0,2
485945ae:	e269      	addu	v0,v1
485945b0:	3248      	sll	v0,2
485945b2:	e549      	addu	v0,a1,v0
485945b4:	6d00      	li	a1,0
485945b6:	67c2      	move	a2,v0
485945b8:	6f0f      	li	a3,15
485945ba:	b215      	lw	v0,4859460c <com_get_confmenu_active+0x98>
485945bc:	eac0      	jalrc	v0
485945be:	b213      	lw	v0,48594608 <com_get_confmenu_active+0x94>
        if(sys_sd_fread(confmenu_fp, &temp_data, sizeof(menu_item_data_t)) == -1)
485945c0:	9a40      	lw	v0,0(v0)
485945c2:	6782      	move	a0,v0
485945c4:	67b1      	move	a1,s1
485945c6:	6e14      	li	a2,20
485945c8:	6f11      	li	a3,17
485945ca:	b211      	lw	v0,4859460c <com_get_confmenu_active+0x98>
485945cc:	eac0      	jalrc	v0
485945ce:	6762      	move	v1,v0
485945d0:	6a01      	li	v0,1
485945d2:	ea4b      	neg	v0
485945d4:	ea6e      	xor	v0,v1
485945d6:	5a01      	sltiu	v0,1
485945d8:	6004      	bteqz	485945e2 <com_get_confmenu_active+0x6e>
485945da:	f7ff 6a1f 	li	v0,65535
        {
            return V_U16_INVALID;
485945de:	d947      	sw	v0,28(s1)
485945e0:	100f      	b	48594600 <com_get_confmenu_active+0x8c>
485945e2:	a961      	lhu	v1,2(s1)
        }
        
        if(temp_data.str_id == key_str)
485945e4:	a956      	lhu	v0,44(s1)
485945e6:	ea6e      	xor	v0,v1
485945e8:	5a01      	sltiu	v0,1
485945ea:	6003      	bteqz	485945f2 <com_get_confmenu_active+0x7e>
485945ec:	a94c      	lhu	v0,24(s1)
        {
            return active;
485945ee:	d947      	sw	v0,28(s1)
485945f0:	1007      	b	48594600 <com_get_confmenu_active+0x8c>
485945f2:	a94c      	lhu	v0,24(s1)
485945f4:	4241      	addiu	v0,v0,1
485945f6:	c94c      	sh	v0,24(s1)
485945f8:	17ce      	b	48594596 <com_get_confmenu_active+0x22>
485945fa:	f7ff 6a1f 	li	v0,65535
        }
    }
    
    return V_U16_INVALID;
485945fe:	d947      	sw	v0,28(s1)
48594600:	9947      	lw	v0,28(s1)
}
48594602:	65b9      	move	sp,s1
48594604:	6455      	restore	40,ra,s1
48594606:	e8a0      	jrc	ra
48594608:	5bd4      	sltiu	v1,212
4859460a:	9fc1      	lw	a2,4(a3)
4859460c:	640d      	restore	104
4859460e:	bfc1      	lwu	a2,4(a3)

48594610 <com_get_menu_active>:
48594610:	64d9      	save	72,ra,s1

/******************************************************************************/
/*!                    
 * \par  Description:
 *    获取菜单项在当前级菜单中对应的索引号。
 * \param[in]    confmenu_title 菜单头数据结构指针
 * \param[in]    item_str 要检索的菜单项的字符串ID
 * \param[out]   none
 * \return       uint8
 * \retval           返回菜单项在菜单中的索引号，-1表示索引失败。
 * \ingroup      common_func
 * \note 
 * \li  该接口用于确定 RADIO 菜单的 select 项。因为RADIO 菜单要求进入菜单的 active
 *      项为 select 项，而可配置菜单模式下，菜单项的序号是可变的，根本不可能在程序
 *      中指定，所以只能间接的指定菜单项的字符串ID，通过字符串ID去匹配序号。
*******************************************************************************/
uint16 com_get_menu_active(uint8 menu_id, uint16 key_str)
{
48594612:	0104      	addiu	s1,sp,16
48594614:	6744      	move	v0,a0
48594616:	6765      	move	v1,a1
48594618:	f020 c158 	sb	v0,56(s1)
4859461c:	c97e      	sh	v1,60(s1)
4859461e:	f020 a158 	lbu	v0,56(s1)
    menu_title_data_t temp_title;
    menu_item_data_t temp_data;
    uint16 active;
    
    com_get_confmenu_title(menu_id, &temp_title);
48594622:	6782      	move	a0,v0
48594624:	67b1      	move	a1,s1
48594626:	b224      	lw	v0,485946b4 <com_get_menu_active+0xa4>
48594628:	eac0      	jalrc	v0
4859462a:	a97e      	lhu	v1,60(s1)
    
    if(key_str == V_U16_INVALID)
4859462c:	f7ff 6a1f 	li	v0,65535
48594630:	ea6e      	xor	v0,v1
48594632:	5a01      	sltiu	v0,1
48594634:	6004      	bteqz	4859463e <com_get_menu_active+0x2e>
48594636:	f7ff 6a1f 	li	v0,65535
    {
        return V_U16_INVALID;
4859463a:	d94b      	sw	v0,44(s1)
4859463c:	1037      	b	485946ac <com_get_menu_active+0x9c>
4859463e:	6a00      	li	v0,0
    }
    
    for(active = 0; active < temp_title.count; active++)
48594640:	c954      	sh	v0,40(s1)
48594642:	a941      	lhu	v0,2(s1)
48594644:	a974      	lhu	v1,40(s1)
48594646:	eb43      	sltu	v1,v0
48594648:	602e      	bteqz	485946a6 <com_get_menu_active+0x96>
4859464a:	b21c      	lw	v0,485946b8 <com_get_menu_active+0xa8>
    {
        sys_sd_fseek(confmenu_fp, SEEK_SET, temp_title.offset + sizeof(menu_item_data_t) * active);
4859464c:	9a80      	lw	a0,0(v0)
4859464e:	a9a2      	lhu	a1,4(s1)
48594650:	a974      	lhu	v1,40(s1)
48594652:	6743      	move	v0,v1
48594654:	3248      	sll	v0,2
48594656:	e269      	addu	v0,v1
48594658:	3248      	sll	v0,2
4859465a:	e549      	addu	v0,a1,v0
4859465c:	6d00      	li	a1,0
4859465e:	67c2      	move	a2,v0
48594660:	6f0f      	li	a3,15
48594662:	b217      	lw	v0,485946bc <com_get_menu_active+0xac>
48594664:	eac0      	jalrc	v0
48594666:	b215      	lw	v0,485946b8 <com_get_menu_active+0xa8>
        if(sys_sd_fread(confmenu_fp, &temp_data, sizeof(menu_item_data_t)) == -1)
48594668:	9a40      	lw	v0,0(v0)
4859466a:	4167      	addiu	v1,s1,7
4859466c:	4b09      	addiu	v1,9
4859466e:	6782      	move	a0,v0
48594670:	67a3      	move	a1,v1
48594672:	6e14      	li	a2,20
48594674:	6f11      	li	a3,17
48594676:	b212      	lw	v0,485946bc <com_get_menu_active+0xac>
48594678:	eac0      	jalrc	v0
4859467a:	6762      	move	v1,v0
4859467c:	6a01      	li	v0,1
4859467e:	ea4b      	neg	v0
48594680:	ea6e      	xor	v0,v1
48594682:	5a01      	sltiu	v0,1
48594684:	6004      	bteqz	4859468e <com_get_menu_active+0x7e>
48594686:	f7ff 6a1f 	li	v0,65535
        {
            return V_U16_INVALID;
4859468a:	d94b      	sw	v0,44(s1)
4859468c:	100f      	b	485946ac <com_get_menu_active+0x9c>
4859468e:	a969      	lhu	v1,18(s1)
        }
        
        if(temp_data.str_id == key_str)
48594690:	a95e      	lhu	v0,60(s1)
48594692:	ea6e      	xor	v0,v1
48594694:	5a01      	sltiu	v0,1
48594696:	6003      	bteqz	4859469e <com_get_menu_active+0x8e>
48594698:	a954      	lhu	v0,40(s1)
        {
            return active;
4859469a:	d94b      	sw	v0,44(s1)
4859469c:	1007      	b	485946ac <com_get_menu_active+0x9c>
4859469e:	a954      	lhu	v0,40(s1)
485946a0:	4241      	addiu	v0,v0,1
485946a2:	c954      	sh	v0,40(s1)
485946a4:	17ce      	b	48594642 <com_get_menu_active+0x32>
485946a6:	f7ff 6a1f 	li	v0,65535
        }
    }
    
    return V_U16_INVALID;
485946aa:	d94b      	sw	v0,44(s1)
485946ac:	994b      	lw	v0,44(s1)
}
485946ae:	65b9      	move	sp,s1
485946b0:	6457      	restore	56,ra,s1
485946b2:	e8a0      	jrc	ra
485946b4:	44a9      	addiu	a1,a0,-7
485946b6:	4859      	addiu	s0,89
485946b8:	5bd4      	sltiu	v1,212
485946ba:	9fc1      	lw	a2,4(a3)
485946bc:	640d      	restore	104
485946be:	bfc1      	lwu	a2,4(a3)
	...
Disassembly of section BANK_UI_1_23:

485d4400 <com_get_history_item>:
485d4400:	64f6      	save	48,ra,s0-s1
 * \ingroup      common_func
 * \note 
*******************************************************************************/
bool com_get_history_item(history_index_t *index, history_item_t *history)
{
485d4402:	0104      	addiu	s1,sp,16
485d4404:	d988      	sw	a0,32(s1)
485d4406:	d9a9      	sw	a1,36(s1)
485d4408:	9948      	lw	v0,32(s1)
    uint32 base_addr;
    uint32 path_size;
    uint8 *history_addr;
    
    //计算路径记忆结构体地址
    if(index->type == PATH_HISTORY_MENU)
485d440a:	a240      	lbu	v0,0(v0)
485d440c:	2a42      	bnez	v0,485d4492 <com_get_history_item+0x92>
485d440e:	6a20      	li	v0,32
    {
        //菜单列表
        path_size = MENU_HISTORY_ONE;
485d4410:	d941      	sw	v0,4(s1)
485d4412:	9948      	lw	v0,32(s1)
        base_addr = VM_EXT_MENU_HISTORY + index->app_id * (path_size*MENU_PATH_ID_MAX) + index->path_id*path_size;
485d4414:	a261      	lbu	v1,1(v0)
485d4416:	9941      	lw	v0,4(s1)
485d4418:	eb58      	mult	v1,v0
485d441a:	ec12      	mflo	a0
485d441c:	651c      	move	t8,a0
485d441e:	6758      	move	v0,t8
485d4420:	344c      	sll	a0,v0,3
485d4422:	9948      	lw	v0,32(s1)
485d4424:	a262      	lbu	v1,2(v0)
485d4426:	9941      	lw	v0,4(s1)
485d4428:	eb58      	mult	v1,v0
485d442a:	ea12      	mflo	v0
485d442c:	e44d      	addu	v1,a0,v0
485d442e:	f010 6a00 	li	v0,32768
485d4432:	e349      	addu	v0,v1,v0
485d4434:	d940      	sw	v0,0(s1)
485d4436:	b244      	lw	v0,485d4544 <com_get_history_item+0x144>
        
        if(menu_history_valid == FALSE)
485d4438:	a240      	lbu	v0,0(v0)
485d443a:	2a27      	bnez	v0,485d448a <com_get_history_item+0x8a>
485d443c:	b343      	lw	v1,485d4548 <com_get_history_item+0x148>
        {
            menu_history_addr = NULL;
485d443e:	6a00      	li	v0,0
485d4440:	db40      	sw	v0,0(v1)
485d4442:	b042      	lw	s0,485d4548 <com_get_history_item+0x148>
            #ifndef PC
            menu_history_addr = sys_malloc(path_size);
485d4444:	9941      	lw	v0,4(s1)
485d4446:	6782      	move	a0,v0
485d4448:	6d00      	li	a1,0
485d444a:	6e00      	li	a2,0
485d444c:	6f16      	li	a3,22
485d444e:	b240      	lw	v0,485d454c <com_get_history_item+0x14c>
485d4450:	eac0      	jalrc	v0
485d4452:	d840      	sw	v0,0(s0)
485d4454:	b23d      	lw	v0,485d4548 <com_get_history_item+0x148>
            #else
            menu_history_addr = tmp_menu_history_buf;
            #endif
            if(menu_history_addr == NULL)
485d4456:	9a40      	lw	v0,0(v0)
485d4458:	2a03      	bnez	v0,485d4460 <com_get_history_item+0x60>
485d445a:	6b00      	li	v1,0
            {
                return FALSE;
485d445c:	d963      	sw	v1,12(s1)
485d445e:	106d      	b	485d453a <com_get_history_item+0x13a>
485d4460:	b23a      	lw	v0,485d4548 <com_get_history_item+0x148>
            }
            
            //读回整个路径记忆项
#ifdef  _CARD_BASE_            
            if(sys_vm_read(menu_history_addr, base_addr, path_size) == -1)
485d4462:	9a40      	lw	v0,0(v0)
485d4464:	9960      	lw	v1,0(s1)
485d4466:	99c1      	lw	a2,4(s1)
485d4468:	6782      	move	a0,v0
485d446a:	67a3      	move	a1,v1
485d446c:	6f12      	li	a3,18
485d446e:	b238      	lw	v0,485d454c <com_get_history_item+0x14c>
485d4470:	eac0      	jalrc	v0
485d4472:	6762      	move	v1,v0
485d4474:	6a01      	li	v0,1
485d4476:	ea4b      	neg	v0
485d4478:	ea6e      	xor	v0,v1
485d447a:	5a01      	sltiu	v0,1
485d447c:	6003      	bteqz	485d4484 <com_get_history_item+0x84>
485d447e:	6c00      	li	a0,0
#else				
            if(ext_vm_read(menu_history_addr, base_addr, path_size) == -1)
#endif				
            {
                return FALSE;
485d4480:	d983      	sw	a0,12(s1)
485d4482:	105b      	b	485d453a <com_get_history_item+0x13a>
485d4484:	b330      	lw	v1,485d4544 <com_get_history_item+0x144>
            }
            menu_history_valid = TRUE;
485d4486:	6a01      	li	v0,1
485d4488:	c340      	sb	v0,0(v1)
485d448a:	b230      	lw	v0,485d4548 <com_get_history_item+0x148>
        }
        history_addr = menu_history_addr;
485d448c:	9a40      	lw	v0,0(v0)
485d448e:	d942      	sw	v0,8(s1)
485d4490:	1047      	b	485d4520 <com_get_history_item+0x120>
485d4492:	6a40      	li	v0,64
    }
    else
    {
        //文件浏览器
        path_size = DIR_HISTORY_ONE;
485d4494:	d941      	sw	v0,4(s1)
485d4496:	9948      	lw	v0,32(s1)
        base_addr = VM_EXT_DIR_HISTORY + index->app_id * (path_size*DIR_PATH_ID_MAX);
485d4498:	a261      	lbu	v1,1(v0)
485d449a:	9941      	lw	v0,4(s1)
485d449c:	eb58      	mult	v1,v0
485d449e:	ec12      	mflo	a0
485d44a0:	651c      	move	t8,a0
485d44a2:	6758      	move	v0,t8
485d44a4:	3248      	sll	v0,2
485d44a6:	f00c 4a00 	addiu	v0,24576
485d44aa:	d940      	sw	v0,0(s1)
485d44ac:	9948      	lw	v0,32(s1)
        base_addr += get_dir_path_id(index->path_id)*path_size;
485d44ae:	a242      	lbu	v0,2(v0)
485d44b0:	6782      	move	a0,v0
485d44b2:	1af0 5228 	jal	485d48a0 <get_dir_path_id>
485d44b6:	6500      	nop
485d44b8:	6762      	move	v1,v0
485d44ba:	9941      	lw	v0,4(s1)
485d44bc:	eb58      	mult	v1,v0
485d44be:	9940      	lw	v0,0(s1)
485d44c0:	eb12      	mflo	v1
485d44c2:	e269      	addu	v0,v1
485d44c4:	d940      	sw	v0,0(s1)
485d44c6:	b223      	lw	v0,485d4550 <com_get_history_item+0x150>
        
        if(dir_history_valid == FALSE)
485d44c8:	a240      	lbu	v0,0(v0)
485d44ca:	2a27      	bnez	v0,485d451a <com_get_history_item+0x11a>
485d44cc:	b322      	lw	v1,485d4554 <com_get_history_item+0x154>
        {
            dir_history_addr = NULL;
485d44ce:	6a00      	li	v0,0
485d44d0:	db40      	sw	v0,0(v1)
485d44d2:	b021      	lw	s0,485d4554 <com_get_history_item+0x154>
            #ifndef PC
            dir_history_addr = sys_malloc(path_size);
485d44d4:	9941      	lw	v0,4(s1)
485d44d6:	6782      	move	a0,v0
485d44d8:	6d00      	li	a1,0
485d44da:	6e00      	li	a2,0
485d44dc:	6f16      	li	a3,22
485d44de:	b21c      	lw	v0,485d454c <com_get_history_item+0x14c>
485d44e0:	eac0      	jalrc	v0
485d44e2:	d840      	sw	v0,0(s0)
485d44e4:	b21c      	lw	v0,485d4554 <com_get_history_item+0x154>
            #else
            dir_history_addr = tmp_dir_history_buf;
            #endif
            if(dir_history_addr == NULL)
485d44e6:	9a40      	lw	v0,0(v0)
485d44e8:	2a03      	bnez	v0,485d44f0 <com_get_history_item+0xf0>
485d44ea:	6c00      	li	a0,0
            {
                return FALSE;
485d44ec:	d983      	sw	a0,12(s1)
485d44ee:	1025      	b	485d453a <com_get_history_item+0x13a>
485d44f0:	b219      	lw	v0,485d4554 <com_get_history_item+0x154>
            }
            
            //读回整个路径记忆项
#ifdef  _CARD_BASE_            
            if(sys_vm_read(dir_history_addr, base_addr, path_size) == -1)
485d44f2:	9a40      	lw	v0,0(v0)
485d44f4:	9960      	lw	v1,0(s1)
485d44f6:	99c1      	lw	a2,4(s1)
485d44f8:	6782      	move	a0,v0
485d44fa:	67a3      	move	a1,v1
485d44fc:	6f12      	li	a3,18
485d44fe:	b214      	lw	v0,485d454c <com_get_history_item+0x14c>
485d4500:	eac0      	jalrc	v0
485d4502:	6762      	move	v1,v0
485d4504:	6a01      	li	v0,1
485d4506:	ea4b      	neg	v0
485d4508:	ea6e      	xor	v0,v1
485d450a:	5a01      	sltiu	v0,1
485d450c:	6003      	bteqz	485d4514 <com_get_history_item+0x114>
485d450e:	6a00      	li	v0,0
#else				
            if(ext_vm_read(dir_history_addr, base_addr, path_size) == -1)
#endif				
            {
                return FALSE;
485d4510:	d943      	sw	v0,12(s1)
485d4512:	1013      	b	485d453a <com_get_history_item+0x13a>
485d4514:	b30f      	lw	v1,485d4550 <com_get_history_item+0x150>
            }
            dir_history_valid = TRUE;
485d4516:	6a01      	li	v0,1
485d4518:	c340      	sb	v0,0(v1)
485d451a:	b20f      	lw	v0,485d4554 <com_get_history_item+0x154>
        }
        history_addr = dir_history_addr;
485d451c:	9a40      	lw	v0,0(v0)
485d451e:	d942      	sw	v0,8(s1)
485d4520:	9989      	lw	a0,36(s1)
    }
    
    //拷贝当前层路径记忆
    libc_memcpy((uint8 *)history, history_addr + index->layer * HISTORY_LAYER_ONE, HISTORY_LAYER_ONE);
485d4522:	9948      	lw	v0,32(s1)
485d4524:	a243      	lbu	v0,3(v0)
485d4526:	3348      	sll	v1,v0,2
485d4528:	9942      	lw	v0,8(s1)
485d452a:	e349      	addu	v0,v1,v0
485d452c:	67a2      	move	a1,v0
485d452e:	6e04      	li	a2,4
485d4530:	6f00      	li	a3,0
485d4532:	b20a      	lw	v0,485d4558 <com_get_history_item+0x158>
485d4534:	eac0      	jalrc	v0
485d4536:	6b01      	li	v1,1
    
    return TRUE;
485d4538:	d963      	sw	v1,12(s1)
485d453a:	9943      	lw	v0,12(s1)
}
485d453c:	65b9      	move	sp,s1
485d453e:	6474      	restore	32,ra,s0-s1
485d4540:	e8a0      	jrc	ra
485d4542:	0000      	addiu	s0,sp,0
485d4544:	5bdd      	sltiu	v1,221
485d4546:	9fc1      	lw	a2,4(a3)
485d4548:	5be4      	sltiu	v1,228
485d454a:	9fc1      	lw	a2,4(a3)
485d454c:	640d      	restore	104
485d454e:	bfc1      	lwu	a2,4(a3)
485d4550:	5bdc      	sltiu	v1,220
485d4552:	9fc1      	lw	a2,4(a3)
485d4554:	5be0      	sltiu	v1,224
485d4556:	9fc1      	lw	a2,4(a3)
485d4558:	6409      	restore	72
485d455a:	bfc1      	lwu	a2,4(a3)

485d455c <com_set_history_item>:
485d455c:	64d5      	save	40,ra,s1

/******************************************************************************/
/*!                    
 * \par  Description:
 *    设置路径记忆项。
 * \param[in]    index 路径记忆索引，详细见history_index_t定义
 * \param[in]    history 指向路径记忆项
 * \param[out]   none
 * \return       bool
 * \retval           TRUE 设置路径记忆项成功。
 * \retval           FALSE 设置路径记忆项失败。
 * \ingroup      common_func
 * \note 
*******************************************************************************/
bool com_set_history_item(history_index_t *index, history_item_t *history)
{
485d455e:	0104      	addiu	s1,sp,16
485d4560:	d986      	sw	a0,24(s1)
485d4562:	d9a7      	sw	a1,28(s1)
485d4564:	9946      	lw	v0,24(s1)
    uint32 offset;
    uint32 path_size;
    uint8 *history_addr;
    
    //计算路径记忆结构体地址
    if(index->type == PATH_HISTORY_MENU)
485d4566:	a240      	lbu	v0,0(v0)
485d4568:	2a06      	bnez	v0,485d4576 <com_set_history_item+0x1a>
485d456a:	6a20      	li	v0,32
    {
        //菜单列表
        path_size = MENU_HISTORY_ONE;
485d456c:	d941      	sw	v0,4(s1)
485d456e:	b218      	lw	v0,485d45cc <com_set_history_item+0x70>
        history_addr = menu_history_addr;
485d4570:	9a40      	lw	v0,0(v0)
485d4572:	d942      	sw	v0,8(s1)
485d4574:	1005      	b	485d4580 <com_set_history_item+0x24>
485d4576:	6a40      	li	v0,64
    }
    else
    {
        //文件浏览器
        path_size = DIR_HISTORY_ONE;
485d4578:	d941      	sw	v0,4(s1)
485d457a:	b216      	lw	v0,485d45d0 <com_set_history_item+0x74>
        history_addr = dir_history_addr;
485d457c:	9a40      	lw	v0,0(v0)
485d457e:	d942      	sw	v0,8(s1)
485d4580:	9946      	lw	v0,24(s1)
    }
    
    offset = index->layer * HISTORY_LAYER_ONE;
485d4582:	a243      	lbu	v0,3(v0)
485d4584:	3248      	sll	v0,2
485d4586:	d940      	sw	v0,0(s1)
485d4588:	9962      	lw	v1,8(s1)
    
    //比较当前要设置的记录项是否发生改变（只比较list_no），如果改变，则把往下层次清为 0xffff
    if( (*((uint16 *)(history_addr + offset) + 1)) != (*((uint16 *)history + 1)) )
485d458a:	9940      	lw	v0,0(s1)
485d458c:	e349      	addu	v0,v1,v0
485d458e:	9967      	lw	v1,28(s1)
485d4590:	aa81      	lhu	a0,2(v0)
485d4592:	ab41      	lhu	v0,2(v1)
485d4594:	ea8e      	xor	v0,a0
485d4596:	5a01      	sltiu	v0,1
485d4598:	610b      	btnez	485d45b0 <com_set_history_item+0x54>
485d459a:	9962      	lw	v1,8(s1)
    {
        libc_memset(history_addr + offset, 0xff, path_size - offset);
485d459c:	9940      	lw	v0,0(s1)
485d459e:	e351      	addu	a0,v1,v0
485d45a0:	9961      	lw	v1,4(s1)
485d45a2:	9940      	lw	v0,0(s1)
485d45a4:	e34b      	subu	v0,v1,v0
485d45a6:	6dff      	li	a1,255
485d45a8:	67c2      	move	a2,v0
485d45aa:	6f01      	li	a3,1
485d45ac:	b20a      	lw	v0,485d45d4 <com_set_history_item+0x78>
485d45ae:	eac0      	jalrc	v0
485d45b0:	9962      	lw	v1,8(s1)
    }
    
    //设置路径记忆项
    libc_memcpy(history_addr + offset, (uint8 *)history, HISTORY_LAYER_ONE);
485d45b2:	9940      	lw	v0,0(s1)
485d45b4:	e349      	addu	v0,v1,v0
485d45b6:	9967      	lw	v1,28(s1)
485d45b8:	6782      	move	a0,v0
485d45ba:	67a3      	move	a1,v1
485d45bc:	6e04      	li	a2,4
485d45be:	6f00      	li	a3,0
485d45c0:	b205      	lw	v0,485d45d4 <com_set_history_item+0x78>
485d45c2:	eac0      	jalrc	v0
485d45c4:	6a01      	li	v0,1
    
    return TRUE;
485d45c6:	65b9      	move	sp,s1
}
485d45c8:	6453      	restore	24,ra,s1
485d45ca:	e8a0      	jrc	ra
485d45cc:	5be4      	sltiu	v1,228
485d45ce:	9fc1      	lw	a2,4(a3)
485d45d0:	5be0      	sltiu	v1,224
485d45d2:	9fc1      	lw	a2,4(a3)
485d45d4:	6409      	restore	72
485d45d6:	bfc1      	lwu	a2,4(a3)

485d45d8 <com_update_path_history>:
485d45d8:	64d6      	save	48,ra,s1

/******************************************************************************/
/*!                    
 * \par  Description:
 *    设置路径记忆项。
 * \param[in]    index 路径记忆索引，详细见history_index_t定义
 * \param[in]    history 指向路径记忆项
 * \param[out]   none
 * \return       bool
 * \retval           TRUE 设置路径记忆项成功。
 * \retval           FALSE 设置路径记忆项失败。
 * \ingroup      common_func
 * \note 
*******************************************************************************/
bool com_update_path_history(history_index_t *index)
{
485d45da:	0104      	addiu	s1,sp,16
485d45dc:	d988      	sw	a0,32(s1)
485d45de:	9948      	lw	v0,32(s1)
    uint32 base_addr;
    uint32 sec_addr;
    uint32 offset;
    uint32 path_size;
    uint8 *history_addr;
    
    //计算路径记忆结构体地址
    if(index->type == PATH_HISTORY_MENU)
485d45e0:	a240      	lbu	v0,0(v0)
485d45e2:	2a1e      	bnez	v0,485d4620 <com_update_path_history+0x48>
485d45e4:	6a20      	li	v0,32
    {
        path_size = MENU_HISTORY_ONE;
485d45e6:	d943      	sw	v0,12(s1)
485d45e8:	b24c      	lw	v0,485d4718 <com_update_path_history+0x140>
        //如果没有读回有效path记忆，不需要写也不能写，直接返回即可
        if(menu_history_valid == FALSE)
485d45ea:	a240      	lbu	v0,0(v0)
485d45ec:	2a03      	bnez	v0,485d45f4 <com_update_path_history+0x1c>
485d45ee:	6a01      	li	v0,1
        {
            return TRUE;
485d45f0:	d945      	sw	v0,20(s1)
485d45f2:	108e      	b	485d4710 <com_update_path_history+0x138>
485d45f4:	9948      	lw	v0,32(s1)
        }
        //菜单列表
        base_addr = VM_EXT_MENU_HISTORY + index->app_id * (path_size*MENU_PATH_ID_MAX) + index->path_id*path_size;
485d45f6:	a261      	lbu	v1,1(v0)
485d45f8:	9943      	lw	v0,12(s1)
485d45fa:	eb58      	mult	v1,v0
485d45fc:	ec12      	mflo	a0
485d45fe:	651c      	move	t8,a0
485d4600:	6758      	move	v0,t8
485d4602:	344c      	sll	a0,v0,3
485d4604:	9948      	lw	v0,32(s1)
485d4606:	a262      	lbu	v1,2(v0)
485d4608:	9943      	lw	v0,12(s1)
485d460a:	eb58      	mult	v1,v0
485d460c:	ea12      	mflo	v0
485d460e:	e44d      	addu	v1,a0,v0
485d4610:	f010 6a00 	li	v0,32768
485d4614:	e349      	addu	v0,v1,v0
485d4616:	d940      	sw	v0,0(s1)
485d4618:	b241      	lw	v0,485d471c <com_update_path_history+0x144>
        
        history_addr = menu_history_addr;
485d461a:	9a40      	lw	v0,0(v0)
485d461c:	d944      	sw	v0,16(s1)
485d461e:	1023      	b	485d4666 <com_update_path_history+0x8e>
485d4620:	6a40      	li	v0,64
    }
    else
    {
        path_size = DIR_HISTORY_ONE;
485d4622:	d943      	sw	v0,12(s1)
485d4624:	b23f      	lw	v0,485d4720 <com_update_path_history+0x148>
        //如果没有读回有效path记忆，不需要写也不能写，直接返回即可
        if(dir_history_valid == FALSE)
485d4626:	a240      	lbu	v0,0(v0)
485d4628:	2a03      	bnez	v0,485d4630 <com_update_path_history+0x58>
485d462a:	6b01      	li	v1,1
        {
            return TRUE;
485d462c:	d965      	sw	v1,20(s1)
485d462e:	1070      	b	485d4710 <com_update_path_history+0x138>
485d4630:	9948      	lw	v0,32(s1)
        }
        //文件浏览器
        base_addr = VM_EXT_DIR_HISTORY + index->app_id * (path_size * DIR_PATH_ID_MAX);
485d4632:	a261      	lbu	v1,1(v0)
485d4634:	9943      	lw	v0,12(s1)
485d4636:	eb58      	mult	v1,v0
485d4638:	ec12      	mflo	a0
485d463a:	651c      	move	t8,a0
485d463c:	6758      	move	v0,t8
485d463e:	3248      	sll	v0,2
485d4640:	f00c 4a00 	addiu	v0,24576
485d4644:	d940      	sw	v0,0(s1)
485d4646:	9948      	lw	v0,32(s1)
        base_addr += get_dir_path_id(index->path_id) * path_size;
485d4648:	a242      	lbu	v0,2(v0)
485d464a:	6782      	move	a0,v0
485d464c:	1af0 5228 	jal	485d48a0 <get_dir_path_id>
485d4650:	6500      	nop
485d4652:	6762      	move	v1,v0
485d4654:	9943      	lw	v0,12(s1)
485d4656:	eb58      	mult	v1,v0
485d4658:	9940      	lw	v0,0(s1)
485d465a:	eb12      	mflo	v1
485d465c:	e269      	addu	v0,v1
485d465e:	d940      	sw	v0,0(s1)
485d4660:	b231      	lw	v0,485d4724 <com_update_path_history+0x14c>
        
        history_addr = dir_history_addr;
485d4662:	9a40      	lw	v0,0(v0)
485d4664:	d944      	sw	v0,16(s1)
485d4666:	9940      	lw	v0,0(s1)
    }
    
    //读出要更新路径记忆所在的扇区
    sec_addr = base_addr;
485d4668:	d941      	sw	v0,4(s1)
485d466a:	9961      	lw	v1,4(s1)
    offset = sec_addr & 0x1ff;
485d466c:	f1e0 6a1f 	li	v0,511
485d4670:	ea6c      	and	v0,v1
485d4672:	d942      	sw	v0,8(s1)
485d4674:	9961      	lw	v1,4(s1)
    sec_addr = sec_addr - offset;
485d4676:	9942      	lw	v0,8(s1)
485d4678:	e34b      	subu	v0,v1,v0
485d467a:	d941      	sw	v0,4(s1)
485d467c:	b22b      	lw	v0,485d4728 <com_update_path_history+0x150>

#ifdef  _CARD_BASE_
    if(sys_vm_read(history_buf, sec_addr, 512) == -1)
485d467e:	9961      	lw	v1,4(s1)
485d4680:	f200 6e00 	li	a2,512
485d4684:	6782      	move	a0,v0
485d4686:	67a3      	move	a1,v1
485d4688:	6f12      	li	a3,18
485d468a:	b229      	lw	v0,485d472c <com_update_path_history+0x154>
485d468c:	eac0      	jalrc	v0
485d468e:	6762      	move	v1,v0
485d4690:	6a01      	li	v0,1
485d4692:	ea4b      	neg	v0
485d4694:	ea6e      	xor	v0,v1
485d4696:	5a01      	sltiu	v0,1
485d4698:	6003      	bteqz	485d46a0 <com_update_path_history+0xc8>
485d469a:	6c00      	li	a0,0
#else		
    if(ext_vm_read(history_buf, sec_addr, 512) == -1)
#endif		
    {
        return FALSE;
485d469c:	d985      	sw	a0,20(s1)
485d469e:	1038      	b	485d4710 <com_update_path_history+0x138>
485d46a0:	9962      	lw	v1,8(s1)
    }
    
    //更新路径记忆
    libc_memcpy(history_buf + offset, history_addr, path_size);
485d46a2:	b222      	lw	v0,485d4728 <com_update_path_history+0x150>
485d46a4:	e349      	addu	v0,v1,v0
485d46a6:	9964      	lw	v1,16(s1)
485d46a8:	99c3      	lw	a2,12(s1)
485d46aa:	6782      	move	a0,v0
485d46ac:	67a3      	move	a1,v1
485d46ae:	6f00      	li	a3,0
485d46b0:	b220      	lw	v0,485d4730 <com_update_path_history+0x158>
485d46b2:	eac0      	jalrc	v0
485d46b4:	b21d      	lw	v0,485d4724 <com_update_path_history+0x14c>

#ifdef  _CARD_BASE_	
    if(sys_vm_write(history_buf, sec_addr, 512) == -1)
485d46b6:	9961      	lw	v1,4(s1)
485d46b8:	f200 6e00 	li	a2,512
485d46bc:	6782      	move	a0,v0
485d46be:	67a3      	move	a1,v1
485d46c0:	6f13      	li	a3,19
485d46c2:	b21b      	lw	v0,485d472c <com_update_path_history+0x154>
485d46c4:	eac0      	jalrc	v0
485d46c6:	6762      	move	v1,v0
485d46c8:	6a01      	li	v0,1
485d46ca:	ea4b      	neg	v0
485d46cc:	ea6e      	xor	v0,v1
485d46ce:	5a01      	sltiu	v0,1
485d46d0:	6003      	bteqz	485d46d8 <com_update_path_history+0x100>
485d46d2:	6a00      	li	v0,0
#else		
    if(ext_vm_write(history_buf, sec_addr) == -1)
#endif		
    {
        return FALSE;
485d46d4:	d945      	sw	v0,20(s1)
485d46d6:	101c      	b	485d4710 <com_update_path_history+0x138>
485d46d8:	9948      	lw	v0,32(s1)
    }
    
    //销毁动态内存空间，并清除标志
    if(index->type == PATH_HISTORY_MENU)
485d46da:	a240      	lbu	v0,0(v0)
485d46dc:	2a0c      	bnez	v0,485d46f6 <com_update_path_history+0x11e>
485d46de:	b210      	lw	v0,485d471c <com_update_path_history+0x144>
    {
        #ifndef PC
        sys_free(menu_history_addr);
485d46e0:	9a40      	lw	v0,0(v0)
485d46e2:	6782      	move	a0,v0
485d46e4:	6d00      	li	a1,0
485d46e6:	6e00      	li	a2,0
485d46e8:	6f17      	li	a3,23
485d46ea:	b211      	lw	v0,485d472c <com_update_path_history+0x154>
485d46ec:	eac0      	jalrc	v0
485d46ee:	b30b      	lw	v1,485d4718 <com_update_path_history+0x140>
        #endif
        menu_history_valid = FALSE;
485d46f0:	6a00      	li	v0,0
485d46f2:	c340      	sb	v0,0(v1)
485d46f4:	100b      	b	485d470c <com_update_path_history+0x134>
485d46f6:	b20c      	lw	v0,485d4724 <com_update_path_history+0x14c>
    }
    else
    {
        #ifndef PC
        sys_free(dir_history_addr);
485d46f8:	9a40      	lw	v0,0(v0)
485d46fa:	6782      	move	a0,v0
485d46fc:	6d00      	li	a1,0
485d46fe:	6e00      	li	a2,0
485d4700:	6f17      	li	a3,23
485d4702:	b20b      	lw	v0,485d472c <com_update_path_history+0x154>
485d4704:	eac0      	jalrc	v0
485d4706:	b307      	lw	v1,485d4720 <com_update_path_history+0x148>
        #endif
        dir_history_valid = FALSE;
485d4708:	6a00      	li	v0,0
485d470a:	c340      	sb	v0,0(v1)
485d470c:	6b01      	li	v1,1
    }
    
    return TRUE;
485d470e:	d965      	sw	v1,20(s1)
485d4710:	9945      	lw	v0,20(s1)
}
485d4712:	65b9      	move	sp,s1
485d4714:	6454      	restore	32,ra,s1
485d4716:	e8a0      	jrc	ra
485d4718:	5bdd      	sltiu	v1,221
485d471a:	9fc1      	lw	a2,4(a3)
485d471c:	5be4      	sltiu	v1,228
485d471e:	9fc1      	lw	a2,4(a3)
485d4720:	5bdc      	sltiu	v1,220
485d4722:	9fc1      	lw	a2,4(a3)
485d4724:	5be0      	sltiu	v1,224
485d4726:	9fc1      	lw	a2,4(a3)
485d4728:	48d4      	addiu	s0,-44
485d472a:	485d      	addiu	s0,93
485d472c:	640d      	restore	104
485d472e:	bfc1      	lwu	a2,4(a3)
485d4730:	6409      	restore	72
485d4732:	bfc1      	lwu	a2,4(a3)

485d4734 <com_clear_all_history>:
485d4734:	64d5      	save	40,ra,s1

/******************************************************************************/
/*!                    
 * \par  Description:
 *    将所有路径记忆VRAM 数据区清为无效（0xff）。
 * \param[in]    type 路径类型， PATH_HISTORY_MENU 表示菜单， PATH_HISTORY_DIR 表示文件浏览
 * \param[out]   none
 * \return       bool
 * \retval           TRUE 清空路径记忆成功。
 * \retval           FALSE 清空路径记忆成功。
 * \ingroup      common_func
 * \par          exmaple code
 * \code
    例子1：清除所有应用菜单列表路径记录，在系统启动时调用
    com_clear_all_history(PATH_HISTORY_MENU);
    
    例子2：清除所有应用文件浏览路径记录，在创建播放列表时调用
    com_clear_all_history(PATH_HISTORY_DIR);
 * \endcode
 * \note 
*******************************************************************************/
bool com_clear_all_history(uint8 type)
{
485d4736:	0104      	addiu	s1,sp,16
485d4738:	6744      	move	v0,a0
485d473a:	c158      	sb	v0,24(s1)
485d473c:	a158      	lbu	v0,24(s1)
    uint32 sec_addr;
    uint16 sec_count, i;
    
    if(type == PATH_HISTORY_MENU)
485d473e:	2a06      	bnez	v0,485d474c <com_clear_all_history+0x18>
485d4740:	f010 6a00 	li	v0,32768
    {
        //菜单列表
        sec_addr = VM_EXT_MENU_HISTORY;
485d4744:	d940      	sw	v0,0(s1)
485d4746:	6a10      	li	v0,16
        sec_count = MENU_PATH_SEC_MAX;
485d4748:	c942      	sh	v0,4(s1)
485d474a:	1005      	b	485d4756 <com_clear_all_history+0x22>
485d474c:	f00c 6a00 	li	v0,24576
    }
    else
    {
        //文件浏览器
        sec_addr = VM_EXT_DIR_HISTORY;
485d4750:	d940      	sw	v0,0(s1)
485d4752:	6a10      	li	v0,16
        sec_count = DIR_PATH_SEC_MAX;
485d4754:	c942      	sh	v0,4(s1)
485d4756:	b218      	lw	v0,485d47b4 <com_clear_all_history+0x80>
    }
    
    libc_memset(history_buf, 0xff, 512);
485d4758:	f200 6b00 	li	v1,512
485d475c:	6782      	move	a0,v0
485d475e:	6dff      	li	a1,255
485d4760:	67c3      	move	a2,v1
485d4762:	6f01      	li	a3,1
485d4764:	b215      	lw	v0,485d47b8 <com_clear_all_history+0x84>
485d4766:	eac0      	jalrc	v0
485d4768:	6a00      	li	v0,0
    for(i = 0; i < sec_count; i++)
485d476a:	c943      	sh	v0,6(s1)
485d476c:	a943      	lhu	v0,6(s1)
485d476e:	a962      	lhu	v1,4(s1)
485d4770:	ea63      	sltu	v0,v1
485d4772:	601a      	bteqz	485d47a8 <com_clear_all_history+0x74>
485d4774:	b210      	lw	v0,485d47b4 <com_clear_all_history+0x80>
    {
#ifdef  _CARD_BASE_	    
        if(sys_vm_write(history_buf, sec_addr, 512) == -1)
485d4776:	9960      	lw	v1,0(s1)
485d4778:	f200 6e00 	li	a2,512
485d477c:	6782      	move	a0,v0
485d477e:	67a3      	move	a1,v1
485d4780:	6f13      	li	a3,19
485d4782:	b20f      	lw	v0,485d47bc <com_clear_all_history+0x88>
485d4784:	eac0      	jalrc	v0
485d4786:	6762      	move	v1,v0
485d4788:	6a01      	li	v0,1
485d478a:	ea4b      	neg	v0
485d478c:	ea6e      	xor	v0,v1
485d478e:	5a01      	sltiu	v0,1
485d4790:	6003      	bteqz	485d4798 <com_clear_all_history+0x64>
485d4792:	6a00      	li	v0,0
#else			
        if(ext_vm_write(history_buf, sec_addr) == -1)
#endif			
        {
            return FALSE;
485d4794:	d942      	sw	v0,8(s1)
485d4796:	100a      	b	485d47ac <com_clear_all_history+0x78>
485d4798:	9940      	lw	v0,0(s1)
        }
        sec_addr += 512;
485d479a:	f200 4a00 	addiu	v0,512
485d479e:	d940      	sw	v0,0(s1)
485d47a0:	a943      	lhu	v0,6(s1)
485d47a2:	4241      	addiu	v0,v0,1
485d47a4:	c943      	sh	v0,6(s1)
485d47a6:	17e2      	b	485d476c <com_clear_all_history+0x38>
485d47a8:	6a01      	li	v0,1
    }
    
    return TRUE;
485d47aa:	d942      	sw	v0,8(s1)
485d47ac:	9942      	lw	v0,8(s1)
}
485d47ae:	65b9      	move	sp,s1
485d47b0:	6453      	restore	24,ra,s1
485d47b2:	e8a0      	jrc	ra
485d47b4:	48d4      	addiu	s0,-44
485d47b6:	485d      	addiu	s0,93
485d47b8:	6409      	restore	72
485d47ba:	bfc1      	lwu	a2,4(a3)
485d47bc:	640d      	restore	104
485d47be:	bfc1      	lwu	a2,4(a3)

485d47c0 <com_clear_app_history>:
485d47c0:	64f7      	save	56,ra,s0-s1

/******************************************************************************/
/*!                    
 * \par  Description:
 *    将指定AP路径记忆VRAM 数据区清为无效（0xff）。
 * \param[in]    type 路径类型，PATH_HISTORY_MENU表示菜单，PATH_HISTORY_DIR表示文件浏览
 * \param[in]    app_id 指定要清除路径记录AP
 * \param[in]    disk 指定要清除的盘符，可为 DISK_C，或 DISK_H，或 DISK_U
 * \param[out]   none
 * \return       bool
 * \retval           TRUE 清空路径记忆成功。
 * \retval           FALSE 清空路径记忆成功。
 * \ingroup      common_func
 * \par          exmaple code
 * \code
    例子1：清除某应用文件浏览路径记录，比如文件选择器出现错误时调用
    com_clear_app_history(PATH_HISTORY_DIR, APP_ID_PICTURE, DISK_C);
 * \endcode
 * \note 
 * \li  该接口暂时只能清除指定AP文件浏览器路径记忆，不支持菜单。
*******************************************************************************/
bool com_clear_app_history(uint8 type, uint8 app_id, uint8 disk)
{
485d47c2:	0104      	addiu	s1,sp,16
485d47c4:	6744      	move	v0,a0
485d47c6:	6765      	move	v1,a1
485d47c8:	6786      	move	a0,a2
485d47ca:	f020 c148 	sb	v0,40(s1)
485d47ce:	f020 c16c 	sb	v1,44(s1)
485d47d2:	f020 c190 	sb	a0,48(s1)
485d47d6:	f020 a148 	lbu	v0,40(s1)
    uint32 base_addr;
    uint32 sec_addr;
    uint32 offset;
    uint32 path_size;
    
    //只对文件浏览器有效
    if(type != PATH_HISTORY_DIR)
485d47da:	7201      	cmpi	v0,1
485d47dc:	6758      	move	v0,t8
485d47de:	5a01      	sltiu	v0,1
485d47e0:	6103      	btnez	485d47e8 <com_clear_app_history+0x28>
485d47e2:	6b00      	li	v1,0
    {
        return FALSE;
485d47e4:	d964      	sw	v1,16(s1)
485d47e6:	1051      	b	485d488a <com_clear_app_history+0xca>
485d47e8:	6a40      	li	v0,64
    }
    
    //读出要清除配置项所在的扇区
    path_size = DIR_HISTORY_ONE;
485d47ea:	d943      	sw	v0,12(s1)
485d47ec:	f020 a16c 	lbu	v1,44(s1)
    base_addr = VM_EXT_DIR_HISTORY + app_id * (path_size * DIR_PATH_ID_MAX) + get_dir_path_id(disk) * path_size;
485d47f0:	9943      	lw	v0,12(s1)
485d47f2:	eb58      	mult	v1,v0
485d47f4:	ec12      	mflo	a0
485d47f6:	651c      	move	t8,a0
485d47f8:	6758      	move	v0,t8
485d47fa:	3048      	sll	s0,v0,2
485d47fc:	f020 a150 	lbu	v0,48(s1)
485d4800:	6782      	move	a0,v0
485d4802:	1af0 5228 	jal	485d48a0 <get_dir_path_id>
485d4806:	6500      	nop
485d4808:	6762      	move	v1,v0
485d480a:	9943      	lw	v0,12(s1)
485d480c:	eb58      	mult	v1,v0
485d480e:	eb12      	mflo	v1
485d4810:	e069      	addu	v0,s0,v1
485d4812:	f00c 4a00 	addiu	v0,24576
485d4816:	d940      	sw	v0,0(s1)
485d4818:	9960      	lw	v1,0(s1)
    offset = base_addr & 0x1ff;
485d481a:	f1e0 6a1f 	li	v0,511
485d481e:	ea6c      	and	v0,v1
485d4820:	d942      	sw	v0,8(s1)
485d4822:	9960      	lw	v1,0(s1)
    sec_addr = base_addr - offset;
485d4824:	9942      	lw	v0,8(s1)
485d4826:	e34b      	subu	v0,v1,v0
485d4828:	d941      	sw	v0,4(s1)
485d482a:	b21b      	lw	v0,485d4894 <com_clear_app_history+0xd4>

#ifdef  _CARD_BASE_	
    if(sys_vm_read(history_buf, sec_addr, 512) == -1)
485d482c:	9961      	lw	v1,4(s1)
485d482e:	f200 6e00 	li	a2,512
485d4832:	6782      	move	a0,v0
485d4834:	67a3      	move	a1,v1
485d4836:	6f12      	li	a3,18
485d4838:	b218      	lw	v0,485d4898 <com_clear_app_history+0xd8>
485d483a:	eac0      	jalrc	v0
485d483c:	6762      	move	v1,v0
485d483e:	6a01      	li	v0,1
485d4840:	ea4b      	neg	v0
485d4842:	ea6e      	xor	v0,v1
485d4844:	5a01      	sltiu	v0,1
485d4846:	6003      	bteqz	485d484e <com_clear_app_history+0x8e>
485d4848:	6c00      	li	a0,0
#else		
    if(ext_vm_read(history_buf, sec_addr, 512) == -1)
#endif		
    {
        return FALSE;
485d484a:	d984      	sw	a0,16(s1)
485d484c:	101e      	b	485d488a <com_clear_app_history+0xca>
485d484e:	9962      	lw	v1,8(s1)
    }
    
    //清除路径记忆
    libc_memset(history_buf + offset, 0xff, path_size);
485d4850:	b211      	lw	v0,485d4894 <com_clear_app_history+0xd4>
485d4852:	e349      	addu	v0,v1,v0
485d4854:	9963      	lw	v1,12(s1)
485d4856:	6782      	move	a0,v0
485d4858:	6dff      	li	a1,255
485d485a:	67c3      	move	a2,v1
485d485c:	6f01      	li	a3,1
485d485e:	b210      	lw	v0,485d489c <com_clear_app_history+0xdc>
485d4860:	eac0      	jalrc	v0
485d4862:	b20d      	lw	v0,485d4894 <com_clear_app_history+0xd4>
    //设置路径记忆项
#ifdef  _CARD_BASE_	    
    if(sys_vm_write(history_buf, sec_addr, 512) == -1)
485d4864:	9961      	lw	v1,4(s1)
485d4866:	f200 6e00 	li	a2,512
485d486a:	6782      	move	a0,v0
485d486c:	67a3      	move	a1,v1
485d486e:	6f13      	li	a3,19
485d4870:	b20a      	lw	v0,485d4898 <com_clear_app_history+0xd8>
485d4872:	eac0      	jalrc	v0
485d4874:	6762      	move	v1,v0
485d4876:	6a01      	li	v0,1
485d4878:	ea4b      	neg	v0
485d487a:	ea6e      	xor	v0,v1
485d487c:	5a01      	sltiu	v0,1
485d487e:	6003      	bteqz	485d4886 <com_clear_app_history+0xc6>
485d4880:	6a00      	li	v0,0
#else		
    if(ext_vm_write(history_buf, sec_addr) == -1)
#endif		
    {
        return FALSE;
485d4882:	d944      	sw	v0,16(s1)
485d4884:	1002      	b	485d488a <com_clear_app_history+0xca>
485d4886:	6b01      	li	v1,1
    }
    
    return TRUE;
485d4888:	d964      	sw	v1,16(s1)
485d488a:	9944      	lw	v0,16(s1)
}
485d488c:	65b9      	move	sp,s1
485d488e:	6475      	restore	40,ra,s0-s1
485d4890:	e8a0      	jrc	ra
485d4892:	0000      	addiu	s0,sp,0
485d4894:	48d4      	addiu	s0,-44
485d4896:	485d      	addiu	s0,93
485d4898:	640d      	restore	104
485d489a:	bfc1      	lwu	a2,4(a3)
485d489c:	6409      	restore	72
485d489e:	bfc1      	lwu	a2,4(a3)

485d48a0 <get_dir_path_id>:
485d48a0:	6492      	save	16,s1

/*! \endcond */

/*! \cond COMMON_API */

///获取文件浏览器路径记录 path_id，DISK_C为0，DISK_H为1，DISK_U为2
static uint8 get_dir_path_id(uint8 disk)
{
485d48a2:	673d      	move	s1,sp
485d48a4:	6744      	move	v0,a0
485d48a6:	c150      	sb	v0,16(s1)
485d48a8:	a150      	lbu	v0,16(s1)
    if(disk == DISK_C)
485d48aa:	7207      	cmpi	v0,7
485d48ac:	6758      	move	v0,t8
485d48ae:	5a01      	sltiu	v0,1
485d48b0:	6003      	bteqz	485d48b8 <get_dir_path_id+0x18>
485d48b2:	6a00      	li	v0,0
    {
        return 0;
485d48b4:	d940      	sw	v0,0(s1)
485d48b6:	100a      	b	485d48cc <get_dir_path_id+0x2c>
485d48b8:	a150      	lbu	v0,16(s1)
    }
    else if(disk == DISK_H)
485d48ba:	7210      	cmpi	v0,16
485d48bc:	6758      	move	v0,t8
485d48be:	5a01      	sltiu	v0,1
485d48c0:	6003      	bteqz	485d48c8 <get_dir_path_id+0x28>
485d48c2:	6a01      	li	v0,1
    {
        return 1;
485d48c4:	d940      	sw	v0,0(s1)
485d48c6:	1002      	b	485d48cc <get_dir_path_id+0x2c>
485d48c8:	6a02      	li	v0,2
    }
    else//disk == DISK_U
    {
        return 2;
485d48ca:	d940      	sw	v0,0(s1)
485d48cc:	9940      	lw	v0,0(s1)
    }
}
485d48ce:	65b9      	move	sp,s1
485d48d0:	6412      	restore	16,s1
485d48d2:	e8a0      	jrc	ra

485d48d4 <history_buf>:
	...
Disassembly of section BANK_UI_1_24:

48614600 <com_string_format>:
48614600:	64d9      	save	72,ra,s1
 * \li  如果 strings 传进来的字符串有 UNICODEDATA ，那么必须把 pattern->language
 *      指定为UNICODEDATA，以保证多国语言能够正常显示。
*******************************************************************************/
bool com_string_format(string_desc_t *pattern, string_desc_t *strings)
{
48614602:	0104      	addiu	s1,sp,16
48614604:	d98e      	sw	a0,56(s1)
48614606:	d9af      	sw	a1,60(s1)
48614608:	6a00      	li	v0,0
    string_desc_t parrern_str;
    uint8 *copy_str;
    uint16 copy_len;
    uint16 max_len;
    uint16 len;
    uint16 total, index, result_index;
    uint16 str_index = 0;
4861460a:	c950      	sh	v0,32(s1)
4861460c:	6a00      	li	v0,0
    uint16 result;
    uint8  pt_len;
    bool   ret = FALSE;
4861460e:	f020 c145 	sb	v0,37(s1)
48614612:	994e      	lw	v0,56(s1)
    uint8 *result_str = pattern->data.str;
48614614:	9a40      	lw	v0,0(v0)
48614616:	d94a      	sw	v0,40(s1)
48614618:	994e      	lw	v0,56(s1)
    int8   result_lang = pattern->language;
4861461a:	a244      	lbu	v0,4(v0)
4861461c:	f020 c14c 	sb	v0,44(s1)
48614620:	b2cf      	lw	v0,4861495c <com_string_format+0x35c>
    bool   is_ansi;
    
    parrern_str.data.str = pattern_buf;
48614622:	d940      	sw	v0,0(s1)
48614624:	6ac0      	li	v0,192
    parrern_str.length = PATTERN_BUF_LEN;
48614626:	c943      	sh	v0,6(s1)
48614628:	994e      	lw	v0,56(s1)
    ui_get_multi_string_unicode(pattern->argv, &parrern_str);
4861462a:	aa44      	lhu	v0,8(v0)
4861462c:	6782      	move	a0,v0
4861462e:	67b1      	move	a1,s1
48614630:	6e00      	li	a2,0
48614632:	6f1c      	li	a3,28
48614634:	b2cb      	lw	v0,48614960 <com_string_format+0x360>
48614636:	eac0      	jalrc	v0
48614638:	f020 814c 	lb	v0,44(s1)
    if(result_lang == UNICODEDATA)
4861463c:	727d      	cmpi	v0,125
4861463e:	6758      	move	v0,t8
48614640:	5a01      	sltiu	v0,1
48614642:	6012      	bteqz	48614668 <com_string_format+0x68>
48614644:	b2c6      	lw	v0,4861495c <com_string_format+0x35c>
    {
        total = len = (uint16)(int)libc_strlenuni(pattern_buf);
48614646:	6782      	move	a0,v0
48614648:	6d00      	li	a1,0
4861464a:	6e00      	li	a2,0
4861464c:	6f07      	li	a3,7
4861464e:	b2c6      	lw	v0,48614964 <com_string_format+0x364>
48614650:	eac0      	jalrc	v0
48614652:	c94c      	sh	v0,24(s1)
48614654:	a94c      	lhu	v0,24(s1)
48614656:	c94d      	sh	v0,26(s1)
48614658:	994e      	lw	v0,56(s1)
        max_len = pattern->length - 2;
4861465a:	aa43      	lhu	v0,6(v0)
4861465c:	424e      	addiu	v0,v0,-2
4861465e:	c94b      	sh	v0,22(s1)
48614660:	6a08      	li	v0,8
        pt_len = 8;
48614662:	f020 c144 	sb	v0,36(s1)
48614666:	101a      	b	4861469c <com_string_format+0x9c>
48614668:	b2bd      	lw	v0,4861495c <com_string_format+0x35c>
    }
    else
    {
        ui_unicode_to_char(pattern_buf, parrern_str.length, result_lang);
4861466a:	a963      	lhu	v1,6(s1)
4861466c:	f020 81cc 	lb	a2,44(s1)
48614670:	6782      	move	a0,v0
48614672:	67a3      	move	a1,v1
48614674:	6f1a      	li	a3,26
48614676:	b2bb      	lw	v0,48614960 <com_string_format+0x360>
48614678:	eac0      	jalrc	v0
4861467a:	b2b9      	lw	v0,4861495c <com_string_format+0x35c>
        total = len = (uint16)libc_strlen(pattern_buf);
4861467c:	6782      	move	a0,v0
4861467e:	6d00      	li	a1,0
48614680:	6e00      	li	a2,0
48614682:	6f03      	li	a3,3
48614684:	b2b8      	lw	v0,48614964 <com_string_format+0x364>
48614686:	eac0      	jalrc	v0
48614688:	c94c      	sh	v0,24(s1)
4861468a:	a94c      	lhu	v0,24(s1)
4861468c:	c94d      	sh	v0,26(s1)
4861468e:	994e      	lw	v0,56(s1)
        max_len = pattern->length - 1;
48614690:	aa43      	lhu	v0,6(v0)
48614692:	424f      	addiu	v0,v0,-1
48614694:	c94b      	sh	v0,22(s1)
48614696:	6a04      	li	v0,4
        pt_len = 4;
48614698:	f020 c144 	sb	v0,36(s1)
4861469c:	6a00      	li	v0,0
    }
    
    index = 0;
4861469e:	c94e      	sh	v0,28(s1)
486146a0:	6a00      	li	v0,0
    result_index = 0;
486146a2:	c94f      	sh	v0,30(s1)
486146a4:	a96e      	lhu	v1,28(s1)
    while(1)
    {
        if(__symbol_search(pattern_buf + index, len, result_lang, &result) == FALSE)
486146a6:	b2ae      	lw	v0,4861495c <com_string_format+0x35c>
486146a8:	e349      	addu	v0,v1,v0
486146aa:	a96c      	lhu	v1,24(s1)
486146ac:	f020 81cc 	lb	a2,44(s1)
486146b0:	41e7      	addiu	a3,s1,7
486146b2:	4f1b      	addiu	a3,27
486146b4:	6782      	move	a0,v0
486146b6:	67a3      	move	a1,v1
486146b8:	1b10 525b 	jal	4861496c <__symbol_search>
486146bc:	6500      	nop
486146be:	651a      	move	t8,v0
486146c0:	6127      	btnez	48614710 <com_string_format+0x110>
486146c2:	a96f      	lhu	v1,30(s1)
        {
            if((result_index + result) >= max_len)
486146c4:	a951      	lhu	v0,34(s1)
486146c6:	e34d      	addu	v1,v0
486146c8:	a94b      	lhu	v0,22(s1)
486146ca:	eb42      	slt	v1,v0
486146cc:	6110      	btnez	486146ee <com_string_format+0xee>
486146ce:	a96f      	lhu	v1,30(s1)
            {
                libc_memcpy(result_str + result_index, pattern_buf + index, max_len - result_index);
486146d0:	994a      	lw	v0,40(s1)
486146d2:	e351      	addu	a0,v1,v0
486146d4:	a96e      	lhu	v1,28(s1)
486146d6:	b2a2      	lw	v0,4861495c <com_string_format+0x35c>
486146d8:	e355      	addu	a1,v1,v0
486146da:	a96b      	lhu	v1,22(s1)
486146dc:	a94f      	lhu	v0,30(s1)
486146de:	e34b      	subu	v0,v1,v0
486146e0:	67c2      	move	a2,v0
486146e2:	6f00      	li	a3,0
486146e4:	b2a0      	lw	v0,48614964 <com_string_format+0x364>
486146e6:	eac0      	jalrc	v0
486146e8:	a94b      	lhu	v0,22(s1)
                result_index = max_len;
486146ea:	c94f      	sh	v0,30(s1)
486146ec:	111d      	b	48614928 <com_string_format+0x328>
486146ee:	a96f      	lhu	v1,30(s1)
            }
            else
            {
                libc_memcpy(result_str + result_index, pattern_buf + index, result);
486146f0:	994a      	lw	v0,40(s1)
486146f2:	e351      	addu	a0,v1,v0
486146f4:	a96e      	lhu	v1,28(s1)
486146f6:	b29a      	lw	v0,4861495c <com_string_format+0x35c>
486146f8:	e349      	addu	v0,v1,v0
486146fa:	a971      	lhu	v1,34(s1)
486146fc:	67a2      	move	a1,v0
486146fe:	67c3      	move	a2,v1
48614700:	6f00      	li	a3,0
48614702:	b299      	lw	v0,48614964 <com_string_format+0x364>
48614704:	eac0      	jalrc	v0
48614706:	a96f      	lhu	v1,30(s1)
                result_index += result;
48614708:	a951      	lhu	v0,34(s1)
4861470a:	e349      	addu	v0,v1,v0
4861470c:	c94f      	sh	v0,30(s1)
4861470e:	110c      	b	48614928 <com_string_format+0x328>
            }
            
            break;//扫描完毕，退出
48614710:	a96f      	lhu	v1,30(s1)
        }
        
        //拷贝 pattern 部分字符串
        if((result_index + result) >= max_len)
48614712:	a951      	lhu	v0,34(s1)
48614714:	e34d      	addu	v1,v0
48614716:	a94b      	lhu	v0,22(s1)
48614718:	eb42      	slt	v1,v0
4861471a:	6110      	btnez	4861473c <com_string_format+0x13c>
4861471c:	a96f      	lhu	v1,30(s1)
        {
            libc_memcpy(result_str + result_index, pattern_buf + index, max_len - result_index);
4861471e:	994a      	lw	v0,40(s1)
48614720:	e351      	addu	a0,v1,v0
48614722:	a96e      	lhu	v1,28(s1)
48614724:	b28e      	lw	v0,4861495c <com_string_format+0x35c>
48614726:	e355      	addu	a1,v1,v0
48614728:	a96b      	lhu	v1,22(s1)
4861472a:	a94f      	lhu	v0,30(s1)
4861472c:	e34b      	subu	v0,v1,v0
4861472e:	67c2      	move	a2,v0
48614730:	6f00      	li	a3,0
48614732:	b28d      	lw	v0,48614964 <com_string_format+0x364>
48614734:	eac0      	jalrc	v0
48614736:	a94b      	lhu	v0,22(s1)
            result_index = max_len;
48614738:	c94f      	sh	v0,30(s1)
4861473a:	10f6      	b	48614928 <com_string_format+0x328>
            break;//buffer已满，终止处理
4861473c:	a96f      	lhu	v1,30(s1)
        }
        libc_memcpy(result_str + result_index, pattern_buf + index, result);
4861473e:	994a      	lw	v0,40(s1)
48614740:	e351      	addu	a0,v1,v0
48614742:	a96e      	lhu	v1,28(s1)
48614744:	b286      	lw	v0,4861495c <com_string_format+0x35c>
48614746:	e349      	addu	v0,v1,v0
48614748:	a971      	lhu	v1,34(s1)
4861474a:	67a2      	move	a1,v0
4861474c:	67c3      	move	a2,v1
4861474e:	6f00      	li	a3,0
48614750:	b285      	lw	v0,48614964 <com_string_format+0x364>
48614752:	eac0      	jalrc	v0
48614754:	a96f      	lhu	v1,30(s1)
        result_index += result;
48614756:	a951      	lhu	v0,34(s1)
48614758:	e349      	addu	v0,v1,v0
4861475a:	c94f      	sh	v0,30(s1)
4861475c:	6a00      	li	v0,0
        
        //输入字符串转换
        is_ansi = FALSE;
4861475e:	f020 c14d 	sb	v0,45(s1)
48614762:	a970      	lhu	v1,32(s1)
        if(strings[str_index].language == UNICODEID)
48614764:	6743      	move	v0,v1
48614766:	3244      	sll	v0,1
48614768:	e269      	addu	v0,v1
4861476a:	3348      	sll	v1,v0,2
4861476c:	994f      	lw	v0,60(s1)
4861476e:	e349      	addu	v0,v1,v0
48614770:	8244      	lb	v0,4(v0)
48614772:	727e      	cmpi	v0,126
48614774:	6758      	move	v0,t8
48614776:	5a01      	sltiu	v0,1
48614778:	6013      	bteqz	486147a0 <com_string_format+0x1a0>
4861477a:	b27c      	lw	v0,48614968 <com_string_format+0x368>
        {
            //多国语言字符串转为Unicode 编码
            parrern_str.data.str = sub_buf;
4861477c:	d940      	sw	v0,0(s1)
4861477e:	6a80      	li	v0,128
            parrern_str.length = SUB_BUF_LEN;
48614780:	c943      	sh	v0,6(s1)
48614782:	a970      	lhu	v1,32(s1)
            ui_get_multi_string_unicode(strings[str_index].data.id, &parrern_str);
48614784:	6743      	move	v0,v1
48614786:	3244      	sll	v0,1
48614788:	e269      	addu	v0,v1
4861478a:	3348      	sll	v1,v0,2
4861478c:	994f      	lw	v0,60(s1)
4861478e:	e349      	addu	v0,v1,v0
48614790:	aa40      	lhu	v0,0(v0)
48614792:	6782      	move	a0,v0
48614794:	67b1      	move	a1,s1
48614796:	6e00      	li	a2,0
48614798:	6f1c      	li	a3,28
4861479a:	b272      	lw	v0,48614960 <com_string_format+0x360>
4861479c:	eac0      	jalrc	v0
4861479e:	103b      	b	48614816 <com_string_format+0x216>
486147a0:	a970      	lhu	v1,32(s1)
        }
        else if(strings[str_index].language == UNICODEDATA)
486147a2:	6743      	move	v0,v1
486147a4:	3244      	sll	v0,1
486147a6:	e269      	addu	v0,v1
486147a8:	3348      	sll	v1,v0,2
486147aa:	994f      	lw	v0,60(s1)
486147ac:	e349      	addu	v0,v1,v0
486147ae:	8244      	lb	v0,4(v0)
486147b0:	727d      	cmpi	v0,125
486147b2:	6758      	move	v0,t8
486147b4:	5a01      	sltiu	v0,1
486147b6:	600f      	bteqz	486147d6 <com_string_format+0x1d6>
486147b8:	b46c      	lw	a0,48614968 <com_string_format+0x368>
        {
            //拷贝SUB_BUF_LEN字节，如果 strings[str_index].data.str 有效长度大于SUB_BUF_LEN-2，那么就会被截掉部分
            libc_memcpy(sub_buf, strings[str_index].data.str, SUB_BUF_LEN);
486147ba:	a970      	lhu	v1,32(s1)
486147bc:	6743      	move	v0,v1
486147be:	3244      	sll	v0,1
486147c0:	e269      	addu	v0,v1
486147c2:	3348      	sll	v1,v0,2
486147c4:	994f      	lw	v0,60(s1)
486147c6:	e349      	addu	v0,v1,v0
486147c8:	9a40      	lw	v0,0(v0)
486147ca:	67a2      	move	a1,v0
486147cc:	6e80      	li	a2,128
486147ce:	6f00      	li	a3,0
486147d0:	b265      	lw	v0,48614964 <com_string_format+0x364>
486147d2:	eac0      	jalrc	v0
486147d4:	1020      	b	48614816 <com_string_format+0x216>
486147d6:	a970      	lhu	v1,32(s1)
        }
        else if(strings[str_index].language == UTF_8DATA)
486147d8:	6743      	move	v0,v1
486147da:	3244      	sll	v0,1
486147dc:	e269      	addu	v0,v1
486147de:	3348      	sll	v1,v0,2
486147e0:	994f      	lw	v0,60(s1)
486147e2:	e349      	addu	v0,v1,v0
486147e4:	8244      	lb	v0,4(v0)
486147e6:	727c      	cmpi	v0,124
486147e8:	6758      	move	v0,t8
486147ea:	5a01      	sltiu	v0,1
486147ec:	6011      	bteqz	48614810 <com_string_format+0x210>
486147ee:	a970      	lhu	v1,32(s1)
        {
            //UTF-8编码转换为UNICODE编码，末尾已添加结束符
            ui_utf8_to_unicode(strings[str_index].data.str, sub_buf, &copy_len);
486147f0:	6743      	move	v0,v1
486147f2:	3244      	sll	v0,1
486147f4:	e269      	addu	v0,v1
486147f6:	3348      	sll	v1,v0,2
486147f8:	994f      	lw	v0,60(s1)
486147fa:	e349      	addu	v0,v1,v0
486147fc:	9a40      	lw	v0,0(v0)
486147fe:	b35b      	lw	v1,48614968 <com_string_format+0x368>
48614800:	41c7      	addiu	a2,s1,7
48614802:	4e0d      	addiu	a2,13
48614804:	6782      	move	a0,v0
48614806:	67a3      	move	a1,v1
48614808:	6f1d      	li	a3,29
4861480a:	b256      	lw	v0,48614960 <com_string_format+0x360>
4861480c:	eac0      	jalrc	v0
4861480e:	1003      	b	48614816 <com_string_format+0x216>
48614810:	6a01      	li	v0,1
        }
        else
        {
            is_ansi = TRUE;
48614812:	f020 c14d 	sb	v0,45(s1)
48614816:	f020 814c 	lb	v0,44(s1)
        }
        
        //拷贝输入字符串
        if(result_lang == UNICODEDATA)
4861481a:	727d      	cmpi	v0,125
4861481c:	6758      	move	v0,t8
4861481e:	5a01      	sltiu	v0,1
48614820:	602f      	bteqz	48614880 <com_string_format+0x280>
48614822:	f020 a14d 	lbu	v0,45(s1)
        {
            //合并字符串源为内码编码字节流，此种类型可能会导致码流不匹配显示乱码
            if(is_ansi == TRUE)
48614826:	7201      	cmpi	v0,1
48614828:	6758      	move	v0,t8
4861482a:	5a01      	sltiu	v0,1
4861482c:	601e      	bteqz	4861486a <com_string_format+0x26a>
4861482e:	a970      	lhu	v1,32(s1)
            {
                copy_len = (uint16)libc_strlen(strings[str_index].data.str);
48614830:	6743      	move	v0,v1
48614832:	3244      	sll	v0,1
48614834:	e269      	addu	v0,v1
48614836:	3348      	sll	v1,v0,2
48614838:	994f      	lw	v0,60(s1)
4861483a:	e349      	addu	v0,v1,v0
4861483c:	9a40      	lw	v0,0(v0)
4861483e:	6782      	move	a0,v0
48614840:	6d00      	li	a1,0
48614842:	6e00      	li	a2,0
48614844:	6f03      	li	a3,3
48614846:	b248      	lw	v0,48614964 <com_string_format+0x364>
48614848:	eac0      	jalrc	v0
4861484a:	c94a      	sh	v0,20(s1)
4861484c:	b447      	lw	a0,48614968 <com_string_format+0x368>
                ui_char_to_unicode(sub_buf, strings[str_index].data.str, copy_len);
4861484e:	a970      	lhu	v1,32(s1)
48614850:	6743      	move	v0,v1
48614852:	3244      	sll	v0,1
48614854:	e269      	addu	v0,v1
48614856:	3348      	sll	v1,v0,2
48614858:	994f      	lw	v0,60(s1)
4861485a:	e349      	addu	v0,v1,v0
4861485c:	9a40      	lw	v0,0(v0)
4861485e:	a96a      	lhu	v1,20(s1)
48614860:	67a2      	move	a1,v0
48614862:	67c3      	move	a2,v1
48614864:	6f1b      	li	a3,27
48614866:	b23f      	lw	v0,48614960 <com_string_format+0x360>
48614868:	eac0      	jalrc	v0
4861486a:	b240      	lw	v0,48614968 <com_string_format+0x368>
            }
            copy_str = sub_buf;
4861486c:	d944      	sw	v0,16(s1)
4861486e:	9944      	lw	v0,16(s1)
            copy_len = (uint16)(int)libc_strlenuni(copy_str);
48614870:	6782      	move	a0,v0
48614872:	6d00      	li	a1,0
48614874:	6e00      	li	a2,0
48614876:	6f07      	li	a3,7
48614878:	b23b      	lw	v0,48614964 <com_string_format+0x364>
4861487a:	eac0      	jalrc	v0
4861487c:	c94a      	sh	v0,20(s1)
4861487e:	1023      	b	486148c6 <com_string_format+0x2c6>
48614880:	f020 a14d 	lbu	v0,45(s1)
        }
        else
        {
            //合并字符串源为内码编码字节流，此种类型可能会导致码流不匹配显示乱码
            if(is_ansi == TRUE)
48614884:	7201      	cmpi	v0,1
48614886:	6758      	move	v0,t8
48614888:	5a01      	sltiu	v0,1
4861488a:	600a      	bteqz	486148a0 <com_string_format+0x2a0>
4861488c:	a970      	lhu	v1,32(s1)
            {
                copy_str = strings[str_index].data.str;
4861488e:	6743      	move	v0,v1
48614890:	3244      	sll	v0,1
48614892:	e269      	addu	v0,v1
48614894:	3348      	sll	v1,v0,2
48614896:	994f      	lw	v0,60(s1)
48614898:	e349      	addu	v0,v1,v0
4861489a:	9a40      	lw	v0,0(v0)
4861489c:	d944      	sw	v0,16(s1)
4861489e:	100b      	b	486148b6 <com_string_format+0x2b6>
486148a0:	b232      	lw	v0,48614968 <com_string_format+0x368>
            }
            else
            {
                ui_unicode_to_char(sub_buf, SUB_BUF_LEN, result_lang);
486148a2:	f020 816c 	lb	v1,44(s1)
486148a6:	6782      	move	a0,v0
486148a8:	6d80      	li	a1,128
486148aa:	67c3      	move	a2,v1
486148ac:	6f1a      	li	a3,26
486148ae:	b22d      	lw	v0,48614960 <com_string_format+0x360>
486148b0:	eac0      	jalrc	v0
486148b2:	b22e      	lw	v0,48614968 <com_string_format+0x368>
                copy_str = sub_buf;
486148b4:	d944      	sw	v0,16(s1)
486148b6:	9944      	lw	v0,16(s1)
            }
            copy_len = (uint16)libc_strlen(copy_str);
486148b8:	6782      	move	a0,v0
486148ba:	6d00      	li	a1,0
486148bc:	6e00      	li	a2,0
486148be:	6f03      	li	a3,3
486148c0:	b229      	lw	v0,48614964 <com_string_format+0x364>
486148c2:	eac0      	jalrc	v0
486148c4:	c94a      	sh	v0,20(s1)
486148c6:	a96f      	lhu	v1,30(s1)
        }
        
        if((result_index + copy_len) >= max_len)
486148c8:	a94a      	lhu	v0,20(s1)
486148ca:	e34d      	addu	v1,v0
486148cc:	a94b      	lhu	v0,22(s1)
486148ce:	eb42      	slt	v1,v0
486148d0:	610e      	btnez	486148ee <com_string_format+0x2ee>
486148d2:	a96f      	lhu	v1,30(s1)
        {
            libc_memcpy(result_str + result_index, copy_str, max_len - result_index);
486148d4:	994a      	lw	v0,40(s1)
486148d6:	e351      	addu	a0,v1,v0
486148d8:	99a4      	lw	a1,16(s1)
486148da:	a96b      	lhu	v1,22(s1)
486148dc:	a94f      	lhu	v0,30(s1)
486148de:	e34b      	subu	v0,v1,v0
486148e0:	67c2      	move	a2,v0
486148e2:	6f00      	li	a3,0
486148e4:	b220      	lw	v0,48614964 <com_string_format+0x364>
486148e6:	eac0      	jalrc	v0
486148e8:	a94b      	lhu	v0,22(s1)
            result_index = max_len;
486148ea:	c94f      	sh	v0,30(s1)
486148ec:	101d      	b	48614928 <com_string_format+0x328>
            break;//buffer已满，终止处理
486148ee:	a96f      	lhu	v1,30(s1)
        }
        libc_memcpy(result_str + result_index, copy_str, copy_len);
486148f0:	994a      	lw	v0,40(s1)
486148f2:	e349      	addu	v0,v1,v0
486148f4:	9964      	lw	v1,16(s1)
486148f6:	a9ca      	lhu	a2,20(s1)
486148f8:	6782      	move	a0,v0
486148fa:	67a3      	move	a1,v1
486148fc:	6f00      	li	a3,0
486148fe:	b21a      	lw	v0,48614964 <com_string_format+0x364>
48614900:	eac0      	jalrc	v0
48614902:	a96f      	lhu	v1,30(s1)
        result_index += copy_len;
48614904:	a94a      	lhu	v0,20(s1)
48614906:	e349      	addu	v0,v1,v0
48614908:	c94f      	sh	v0,30(s1)
4861490a:	a96c      	lhu	v1,24(s1)
        
        len = len - result - pt_len;
4861490c:	a951      	lhu	v0,34(s1)
4861490e:	e34b      	subu	v0,v1,v0
48614910:	f020 a164 	lbu	v1,36(s1)
48614914:	e26b      	subu	v0,v1
48614916:	c94c      	sh	v0,24(s1)
48614918:	a96d      	lhu	v1,26(s1)
        index = total - len;
4861491a:	a94c      	lhu	v0,24(s1)
4861491c:	e34b      	subu	v0,v1,v0
4861491e:	c94e      	sh	v0,28(s1)
48614920:	a950      	lhu	v0,32(s1)
        str_index++;
48614922:	4241      	addiu	v0,v0,1
48614924:	c950      	sh	v0,32(s1)
48614926:	16be      	b	486146a4 <com_string_format+0xa4>
48614928:	a96f      	lhu	v1,30(s1)
    }
    
    result_str[result_index] = 0;
4861492a:	994a      	lw	v0,40(s1)
4861492c:	e34d      	addu	v1,v0
4861492e:	6a00      	li	v0,0
48614930:	c340      	sb	v0,0(v1)
48614932:	f020 814c 	lb	v0,44(s1)
    if(result_lang == UNICODEDATA)
48614936:	727d      	cmpi	v0,125
48614938:	6758      	move	v0,t8
4861493a:	5a01      	sltiu	v0,1
4861493c:	6005      	bteqz	48614948 <com_string_format+0x348>
4861493e:	a96f      	lhu	v1,30(s1)
    {
        result_str[result_index + 1] = 0;
48614940:	994a      	lw	v0,40(s1)
48614942:	e34d      	addu	v1,v0
48614944:	6a00      	li	v0,0
48614946:	c341      	sb	v0,1(v1)
48614948:	996e      	lw	v1,56(s1)
    }
    pattern->length = result_index;
4861494a:	a94f      	lhu	v0,30(s1)
4861494c:	cb43      	sh	v0,6(v1)
4861494e:	f020 a145 	lbu	v0,37(s1)

    return ret;
48614952:	651a      	move	t8,v0
48614954:	6758      	move	v0,t8
}
48614956:	65b9      	move	sp,s1
48614958:	6457      	restore	56,ra,s1
4861495a:	e8a0      	jrc	ra
4861495c:	4a98      	addiu	v0,-104
4861495e:	4861      	addiu	s0,97
48614960:	6bb1      	li	v1,177
48614962:	bfc1      	lwu	a2,4(a3)
48614964:	6409      	restore	72
48614966:	bfc1      	lwu	a2,4(a3)
48614968:	4b58      	addiu	v1,88
4861496a:	4861      	addiu	s0,97

4861496c <__symbol_search>:
4861496c:	6493      	save	24,s1

/*! \endcond */

/*! \cond */

//搜索指代符号[%s]
static bool __symbol_search(uint8 *str, uint16 len, int8 language, uint16 *scan_len)
{
4861496e:	673d      	move	s1,sp
48614970:	d986      	sw	a0,24(s1)
48614972:	6745      	move	v0,a1
48614974:	6766      	move	v1,a2
48614976:	d9e9      	sw	a3,36(s1)
48614978:	c94e      	sh	v0,28(s1)
4861497a:	f020 c160 	sb	v1,32(s1)
4861497e:	f020 8140 	lb	v0,32(s1)
    uint16 i;
    uint16 *str_16;
    
    if(language == UNICODEDATA)
48614982:	727d      	cmpi	v0,125
48614984:	6758      	move	v0,t8
48614986:	5a01      	sltiu	v0,1
48614988:	6043      	bteqz	48614a10 <__symbol_search+0xa4>
4861498a:	a94e      	lhu	v0,28(s1)
    {
        if(len < 8)
4861498c:	5a08      	sltiu	v0,8
4861498e:	6006      	bteqz	4861499c <__symbol_search+0x30>
48614990:	9969      	lw	v1,36(s1)
        {
            *scan_len = len;
48614992:	a94e      	lhu	v0,28(s1)
48614994:	cb40      	sh	v0,0(v1)
48614996:	6a00      	li	v0,0
            return FALSE;
48614998:	d942      	sw	v0,8(s1)
4861499a:	1079      	b	48614a8e <__symbol_search+0x122>
4861499c:	9946      	lw	v0,24(s1)
        }
        str_16 = (uint16 *)str;
4861499e:	d941      	sw	v0,4(s1)
486149a0:	6a00      	li	v0,0
        for(i = 0; i <= ((len/2) - 4); i++)
486149a2:	c940      	sh	v0,0(s1)
486149a4:	a960      	lhu	v1,0(s1)
486149a6:	a94e      	lhu	v0,28(s1)
486149a8:	3246      	srl	v0,1
486149aa:	ea31      	zeh	v0
486149ac:	424c      	addiu	v0,v0,-4
486149ae:	ea62      	slt	v0,v1
486149b0:	6169      	btnez	48614a84 <__symbol_search+0x118>
486149b2:	a940      	lhu	v0,0(s1)
        {   
            if(  (str_16[i] == '[')
486149b4:	3344      	sll	v1,v0,1
486149b6:	9941      	lw	v0,4(s1)
486149b8:	e349      	addu	v0,v1,v0
486149ba:	aa40      	lhu	v0,0(v0)
486149bc:	725b      	cmpi	v0,91
486149be:	6758      	move	v0,t8
486149c0:	5a01      	sltiu	v0,1
486149c2:	6022      	bteqz	48614a08 <__symbol_search+0x9c>
486149c4:	a940      	lhu	v0,0(s1)
486149c6:	3344      	sll	v1,v0,1
486149c8:	9941      	lw	v0,4(s1)
486149ca:	e349      	addu	v0,v1,v0
486149cc:	aa41      	lhu	v0,2(v0)
486149ce:	7225      	cmpi	v0,37
486149d0:	6758      	move	v0,t8
486149d2:	5a01      	sltiu	v0,1
486149d4:	6019      	bteqz	48614a08 <__symbol_search+0x9c>
486149d6:	a940      	lhu	v0,0(s1)
486149d8:	3344      	sll	v1,v0,1
486149da:	9941      	lw	v0,4(s1)
486149dc:	e349      	addu	v0,v1,v0
486149de:	aa42      	lhu	v0,4(v0)
486149e0:	7273      	cmpi	v0,115
486149e2:	6758      	move	v0,t8
486149e4:	5a01      	sltiu	v0,1
486149e6:	6010      	bteqz	48614a08 <__symbol_search+0x9c>
486149e8:	a940      	lhu	v0,0(s1)
486149ea:	3344      	sll	v1,v0,1
486149ec:	9941      	lw	v0,4(s1)
486149ee:	e349      	addu	v0,v1,v0
486149f0:	aa43      	lhu	v0,6(v0)
486149f2:	725d      	cmpi	v0,93
486149f4:	6758      	move	v0,t8
486149f6:	5a01      	sltiu	v0,1
486149f8:	6007      	bteqz	48614a08 <__symbol_search+0x9c>
486149fa:	9969      	lw	v1,36(s1)
               &&(str_16[i + 1] == '%')
               &&(str_16[i + 2] == 's')
               &&(str_16[i + 3] == ']') )
            {
                *scan_len = i*2;
486149fc:	a940      	lhu	v0,0(s1)
486149fe:	3244      	sll	v0,1
48614a00:	cb40      	sh	v0,0(v1)
48614a02:	6a01      	li	v0,1
                return TRUE;
48614a04:	d942      	sw	v0,8(s1)
48614a06:	1043      	b	48614a8e <__symbol_search+0x122>
48614a08:	a940      	lhu	v0,0(s1)
48614a0a:	4241      	addiu	v0,v0,1
48614a0c:	c940      	sh	v0,0(s1)
48614a0e:	17ca      	b	486149a4 <__symbol_search+0x38>
48614a10:	a94e      	lhu	v0,28(s1)
            }
        }
    }
    else
    {
        if(len < 4)
48614a12:	5a04      	sltiu	v0,4
48614a14:	6006      	bteqz	48614a22 <__symbol_search+0xb6>
48614a16:	9969      	lw	v1,36(s1)
        {
            *scan_len = len;
48614a18:	a94e      	lhu	v0,28(s1)
48614a1a:	cb40      	sh	v0,0(v1)
48614a1c:	6a00      	li	v0,0
            return FALSE;
48614a1e:	d942      	sw	v0,8(s1)
48614a20:	1036      	b	48614a8e <__symbol_search+0x122>
48614a22:	6a00      	li	v0,0
        }
        for(i = 0; i <= (len - 4); i++)
48614a24:	c940      	sh	v0,0(s1)
48614a26:	a960      	lhu	v1,0(s1)
48614a28:	a94e      	lhu	v0,28(s1)
48614a2a:	424c      	addiu	v0,v0,-4
48614a2c:	ea62      	slt	v0,v1
48614a2e:	612a      	btnez	48614a84 <__symbol_search+0x118>
48614a30:	a960      	lhu	v1,0(s1)
        {   
            if(  (str[i] == '[')
48614a32:	9946      	lw	v0,24(s1)
48614a34:	e349      	addu	v0,v1,v0
48614a36:	a240      	lbu	v0,0(v0)
48614a38:	725b      	cmpi	v0,91
48614a3a:	6758      	move	v0,t8
48614a3c:	5a01      	sltiu	v0,1
48614a3e:	601e      	bteqz	48614a7c <__symbol_search+0x110>
48614a40:	a960      	lhu	v1,0(s1)
48614a42:	9946      	lw	v0,24(s1)
48614a44:	e349      	addu	v0,v1,v0
48614a46:	a241      	lbu	v0,1(v0)
48614a48:	7225      	cmpi	v0,37
48614a4a:	6758      	move	v0,t8
48614a4c:	5a01      	sltiu	v0,1
48614a4e:	6016      	bteqz	48614a7c <__symbol_search+0x110>
48614a50:	a960      	lhu	v1,0(s1)
48614a52:	9946      	lw	v0,24(s1)
48614a54:	e349      	addu	v0,v1,v0
48614a56:	a242      	lbu	v0,2(v0)
48614a58:	7273      	cmpi	v0,115
48614a5a:	6758      	move	v0,t8
48614a5c:	5a01      	sltiu	v0,1
48614a5e:	600e      	bteqz	48614a7c <__symbol_search+0x110>
48614a60:	a960      	lhu	v1,0(s1)
48614a62:	9946      	lw	v0,24(s1)
48614a64:	e349      	addu	v0,v1,v0
48614a66:	a243      	lbu	v0,3(v0)
48614a68:	725d      	cmpi	v0,93
48614a6a:	6758      	move	v0,t8
48614a6c:	5a01      	sltiu	v0,1
48614a6e:	6006      	bteqz	48614a7c <__symbol_search+0x110>
48614a70:	9969      	lw	v1,36(s1)
               &&(str[i + 1] == '%')
               &&(str[i + 2] == 's')
               &&(str[i + 3] == ']') )
            {
                *scan_len = i;
48614a72:	a940      	lhu	v0,0(s1)
48614a74:	cb40      	sh	v0,0(v1)
48614a76:	6a01      	li	v0,1
                return TRUE;
48614a78:	d942      	sw	v0,8(s1)
48614a7a:	1009      	b	48614a8e <__symbol_search+0x122>
48614a7c:	a940      	lhu	v0,0(s1)
48614a7e:	4241      	addiu	v0,v0,1
48614a80:	c940      	sh	v0,0(s1)
48614a82:	17d1      	b	48614a26 <__symbol_search+0xba>
48614a84:	9969      	lw	v1,36(s1)
            }
        }
    }
    
    *scan_len = len;
48614a86:	a94e      	lhu	v0,28(s1)
48614a88:	cb40      	sh	v0,0(v1)
48614a8a:	6a00      	li	v0,0
    return FALSE;
48614a8c:	d942      	sw	v0,8(s1)
48614a8e:	9942      	lw	v0,8(s1)
}
48614a90:	65b9      	move	sp,s1
48614a92:	6413      	restore	24,s1
48614a94:	e8a0      	jrc	ra
48614a96:	6500      	nop

48614a98 <pattern_buf>:
	...

48614b58 <sub_buf>:
	...
Disassembly of section BANK_UI_1_25:

48654600 <com_dot_to_shortname>:
48654600:	64d4      	save	32,ra,s1
 * \note
 * \li  用户应该保证 short_name 空间不少于 13 字节，否则有可能产生内存溢出错误。
*******************************************************************************/
void com_dot_to_shortname(uint8 *short_name)
{
48654602:	0104      	addiu	s1,sp,16
48654604:	d984      	sw	a0,16(s1)
48654606:	6a07      	li	v0,7
    uint8 i = 7, result;
48654608:	c140      	sb	v0,0(s1)
4865460a:	a160      	lbu	v1,0(s1)
    
    //过滤掉空格
    while(short_name[i] == ' ')
4865460c:	9944      	lw	v0,16(s1)
4865460e:	e349      	addu	v0,v1,v0
48654610:	a240      	lbu	v0,0(v0)
48654612:	7220      	cmpi	v0,32
48654614:	6758      	move	v0,t8
48654616:	5a01      	sltiu	v0,1
48654618:	6004      	bteqz	48654622 <com_dot_to_shortname+0x22>
4865461a:	a140      	lbu	v0,0(s1)
    {
        i--;
4865461c:	424f      	addiu	v0,v0,-1
4865461e:	c140      	sb	v0,0(s1)
48654620:	17f4      	b	4865460a <com_dot_to_shortname+0xa>
48654622:	a140      	lbu	v0,0(s1)
    }
    
    //拷贝并添加点号
    result = i + 1;
48654624:	4241      	addiu	v0,v0,1
48654626:	c141      	sb	v0,1(s1)
48654628:	b219      	lw	v0,4865468c <com_dot_to_shortname+0x8c>
    libc_memcpy(tmp_buffer, short_name, result);
4865462a:	9964      	lw	v1,16(s1)
4865462c:	a1c1      	lbu	a2,1(s1)
4865462e:	6782      	move	a0,v0
48654630:	67a3      	move	a1,v1
48654632:	6f00      	li	a3,0
48654634:	b217      	lw	v0,48654690 <com_dot_to_shortname+0x90>
48654636:	eac0      	jalrc	v0
48654638:	b315      	lw	v1,48654688 <com_dot_to_shortname+0x88>
    tmp_buffer[result] = '.';
4865463a:	a141      	lbu	v0,1(s1)
4865463c:	e34d      	addu	v1,v0
4865463e:	6a2e      	li	v0,46
48654640:	c340      	sb	v0,0(v1)
48654642:	a141      	lbu	v0,1(s1)
    result++;
48654644:	4241      	addiu	v0,v0,1
48654646:	c141      	sb	v0,1(s1)
48654648:	a161      	lbu	v1,1(s1)
    libc_memcpy(tmp_buffer + result, short_name + 8, 3);
4865464a:	b211      	lw	v0,4865468c <com_dot_to_shortname+0x8c>
4865464c:	e34d      	addu	v1,v0
4865464e:	9944      	lw	v0,16(s1)
48654650:	4a08      	addiu	v0,8
48654652:	6783      	move	a0,v1
48654654:	67a2      	move	a1,v0
48654656:	6e03      	li	a2,3
48654658:	6f00      	li	a3,0
4865465a:	b20e      	lw	v0,48654690 <com_dot_to_shortname+0x90>
4865465c:	eac0      	jalrc	v0
4865465e:	a141      	lbu	v0,1(s1)
    result += 3;
48654660:	4243      	addiu	v0,v0,3
48654662:	c141      	sb	v0,1(s1)
48654664:	b30a      	lw	v1,4865468c <com_dot_to_shortname+0x8c>
    tmp_buffer[result] = '\0';
48654666:	a141      	lbu	v0,1(s1)
48654668:	e34d      	addu	v1,v0
4865466a:	6a00      	li	v0,0
4865466c:	c340      	sb	v0,0(v1)
4865466e:	a141      	lbu	v0,1(s1)
    result++;
48654670:	4241      	addiu	v0,v0,1
48654672:	c141      	sb	v0,1(s1)
48654674:	9944      	lw	v0,16(s1)
    
    //拷贝结果
    libc_memcpy(short_name, tmp_buffer, result);
48654676:	b306      	lw	v1,4865468c <com_dot_to_shortname+0x8c>
48654678:	a1c1      	lbu	a2,1(s1)
4865467a:	6782      	move	a0,v0
4865467c:	67a3      	move	a1,v1
4865467e:	6f00      	li	a3,0
48654680:	b204      	lw	v0,48654690 <com_dot_to_shortname+0x90>
48654682:	eac0      	jalrc	v0
48654684:	65b9      	move	sp,s1
}
48654686:	6452      	restore	16,ra,s1
48654688:	e8a0      	jrc	ra
4865468a:	0000      	addiu	s0,sp,0
4865468c:	4a68      	addiu	v0,104
4865468e:	4865      	addiu	s0,101
48654690:	6409      	restore	72
48654692:	bfc1      	lwu	a2,4(a3)

48654694 <com_ansi_to_unicode>:
48654694:	64d4      	save	32,ra,s1

/******************************************************************************/
/*!                    
 * \par  Description:
 *    将内码编码文件名转换为Unicode编码文件名。
 * \param[in]    file_name 内码编码文件名
 * \param[out]   file_name 输出Unicode编码文件名
 * \return       none
 * \ingroup      common_func
 * \par          exmaple code
 * \code
    例子1：将内码编码文件名转换为Unicode编码文件名
    const char const_rec_name[] = "rec_001.wav";
    uint8 new_rec_name[26];
    
    libc_memcpy(new_rec_name, const_rec_name, 12);
    com_ansi_to_unicode(new_rec_name);
    //接着，就可以使用 new_rec_name 来创建名字为 rec_001.wav 的文件了
 * \endcode
 * \note
 * \li  用于创建文件前把文件名转换为Unicode编码，以适应 exFat 文件系统。
 * \li  用户需自己保证 file_name 够存放Unicode编码文件名，比如 英文内码文件名
 *      rec_001.wav，转成Unicode编码文件名，需要缓冲区大小为 26 个字节，即
 *      Unicode编码标志字符0xfffe 2字节 + 11个字符 2 * 11字节 + 结束符0x0 0x0 2字节。
 * \li  受限于辅助缓冲区大小（52字节），文件名不能超过 24 个字符长度。
*******************************************************************************/
void com_ansi_to_unicode(uint8 *file_name)
{
48654696:	0104      	addiu	s1,sp,16
48654698:	d984      	sw	a0,16(s1)
4865469a:	9944      	lw	v0,16(s1)
    uint16 ansi_len = (uint16)libc_strlen(file_name);
4865469c:	6782      	move	a0,v0
4865469e:	6d00      	li	a1,0
486546a0:	6e00      	li	a2,0
486546a2:	6f03      	li	a3,3
486546a4:	b21c      	lw	v0,48654714 <com_ansi_to_unicode+0x80>
486546a6:	eac0      	jalrc	v0
486546a8:	c940      	sh	v0,0(s1)
486546aa:	a940      	lhu	v0,0(s1)
    uint16 i;
    
    //往后移动2字节，前面添加 0xfffe
    for(i = ansi_len; i > 0; i--)
486546ac:	c941      	sh	v0,2(s1)
486546ae:	a941      	lhu	v0,2(s1)
486546b0:	220d      	beqz	v0,486546cc <com_ansi_to_unicode+0x38>
486546b2:	a961      	lhu	v1,2(s1)
    {
        file_name[(i - 1) + 2] = file_name[i - 1];
486546b4:	9944      	lw	v0,16(s1)
486546b6:	e351      	addu	a0,v1,v0
486546b8:	a961      	lhu	v1,2(s1)
486546ba:	9944      	lw	v0,16(s1)
486546bc:	e349      	addu	v0,v1,v0
486546be:	f7ff a25f 	lbu	v0,-1(v0)
486546c2:	c441      	sb	v0,1(a0)
486546c4:	a941      	lhu	v0,2(s1)
486546c6:	424f      	addiu	v0,v0,-1
486546c8:	c941      	sh	v0,2(s1)
486546ca:	17f1      	b	486546ae <com_ansi_to_unicode+0x1a>
486546cc:	9964      	lw	v1,16(s1)
    }
    file_name[0] = 0xff;
486546ce:	6a01      	li	v0,1
486546d0:	ea4b      	neg	v0
486546d2:	c340      	sb	v0,0(v1)
486546d4:	9964      	lw	v1,16(s1)
    file_name[1] = 0xfe;
486546d6:	6a02      	li	v0,2
486546d8:	ea4b      	neg	v0
486546da:	c341      	sb	v0,1(v1)
486546dc:	a960      	lhu	v1,0(s1)
    file_name[ansi_len + 2] = 0x0;
486546de:	9944      	lw	v0,16(s1)
486546e0:	e34d      	addu	v1,v0
486546e2:	6a00      	li	v0,0
486546e4:	c342      	sb	v0,2(v1)
486546e6:	b40d      	lw	a0,48654718 <com_ansi_to_unicode+0x84>
    
    //把文件名转换为Unicode编码 com_name_buffer
    ui_char_to_unicode(tmp_buffer, file_name + 2, ansi_len);
486546e8:	9944      	lw	v0,16(s1)
486546ea:	4242      	addiu	v0,v0,2
486546ec:	a960      	lhu	v1,0(s1)
486546ee:	67a2      	move	a1,v0
486546f0:	67c3      	move	a2,v1
486546f2:	6f1b      	li	a3,27
486546f4:	b20a      	lw	v0,4865471c <com_ansi_to_unicode+0x88>
486546f6:	eac0      	jalrc	v0
486546f8:	9944      	lw	v0,16(s1)
    
    //拷贝Unicode编码
    libc_memcpy(file_name + 2, tmp_buffer, ansi_len*2 + 2);
486546fa:	4262      	addiu	v1,v0,2
486546fc:	b507      	lw	a1,48654718 <com_ansi_to_unicode+0x84>
486546fe:	a940      	lhu	v0,0(s1)
48654700:	3244      	sll	v0,1
48654702:	4242      	addiu	v0,v0,2
48654704:	6783      	move	a0,v1
48654706:	67c2      	move	a2,v0
48654708:	6f00      	li	a3,0
4865470a:	b203      	lw	v0,48654714 <com_ansi_to_unicode+0x80>
4865470c:	eac0      	jalrc	v0
4865470e:	65b9      	move	sp,s1
}
48654710:	6452      	restore	16,ra,s1
48654712:	e8a0      	jrc	ra
48654714:	6409      	restore	72
48654716:	bfc1      	lwu	a2,4(a3)
48654718:	4a68      	addiu	v0,104
4865471a:	4865      	addiu	s0,101
4865471c:	6bb1      	li	v1,177
4865471e:	bfc1      	lwu	a2,4(a3)

48654720 <com_ellipsis_to_longname>:
48654720:	64d6      	save	48,ra,s1

/******************************************************************************/
/*!                    
 * \par  Description:
 *    把文件名整理为"部分..."形式。
 * \param[in]    long_name 文件名缓冲区
 * \param[in]    ellipsis_len 结果文件名缓冲区长度
 * \param[out]   ellipsis_name 结果文件名缓冲区
 * \return       uint16 返回整理字符串结果字节长度
 * \ingroup      common_func
 * \par          exmaple code
 * \code
    例子1：把文件名整理为“部分...”形式
    com_ellipsis_to_longname(g_filename, com_name_buffer, 52);
 * \endcode
 * \note
 * \li  如果 longstr 为 UNICODE 编码，用户应该保证开头为 0xfffe 标志。
 * \li  整理结果“部分...”的显示长度最大为 ELLIPSIS_MAX_LEN ，即84个像素点。
*******************************************************************************/
uint16 com_ellipsis_to_longname(uint8 *long_name, uint8 *ellipsis_name, uint16 ellipsis_len)
{
48654722:	0104      	addiu	s1,sp,16
48654724:	d988      	sw	a0,32(s1)
48654726:	d9a9      	sw	a1,36(s1)
48654728:	6746      	move	v0,a2
4865472a:	c954      	sh	v0,40(s1)
4865472c:	9949      	lw	v0,36(s1)
    string_desc_t ellipsis_desc;
    uint16 true_bytes;
    
    libc_memcpy(ellipsis_name, long_name, ellipsis_len);
4865472e:	9968      	lw	v1,32(s1)
48654730:	a9d4      	lhu	a2,40(s1)
48654732:	6782      	move	a0,v0
48654734:	67a3      	move	a1,v1
48654736:	6f00      	li	a3,0
48654738:	b21f      	lw	v0,486547b4 <com_ellipsis_to_longname+0x94>
4865473a:	eac0      	jalrc	v0
4865473c:	9949      	lw	v0,36(s1)
    
    ellipsis_desc.data.str = ellipsis_name;
4865473e:	d940      	sw	v0,0(s1)
48654740:	6a01      	li	v0,1
    ellipsis_desc.length = -1;
48654742:	ea4b      	neg	v0
48654744:	c943      	sh	v0,6(s1)
48654746:	9949      	lw	v0,36(s1)
    if((ellipsis_name[0] == 0xff) && (ellipsis_name[1] == 0xfe))
48654748:	a240      	lbu	v0,0(v0)
4865474a:	72ff      	cmpi	v0,255
4865474c:	6758      	move	v0,t8
4865474e:	5a01      	sltiu	v0,1
48654750:	601c      	bteqz	4865478a <com_ellipsis_to_longname+0x6a>
48654752:	9949      	lw	v0,36(s1)
48654754:	a241      	lbu	v0,1(v0)
48654756:	72fe      	cmpi	v0,254
48654758:	6758      	move	v0,t8
4865475a:	5a01      	sltiu	v0,1
4865475c:	6016      	bteqz	4865478a <com_ellipsis_to_longname+0x6a>
4865475e:	a974      	lhu	v1,40(s1)
    {
        ellipsis_name[ellipsis_len - 2] = 0;
48654760:	9949      	lw	v0,36(s1)
48654762:	e34d      	addu	v1,v0
48654764:	6a00      	li	v0,0
48654766:	f7ff c35e 	sb	v0,-2(v1)
4865476a:	a974      	lhu	v1,40(s1)
        ellipsis_name[ellipsis_len - 1] = 0;
4865476c:	9949      	lw	v0,36(s1)
4865476e:	e34d      	addu	v1,v0
48654770:	6a00      	li	v0,0
48654772:	f7ff c35f 	sb	v0,-1(v1)
48654776:	6a7d      	li	v0,125
        ellipsis_desc.language = UNICODEDATA;
48654778:	c144      	sb	v0,4(s1)
4865477a:	6791      	move	a0,s1
        true_bytes = (uint16)(int)ui_ellipsis_to_longstr(&ellipsis_desc, ELLIPSIS_MAX_LEN, NULL);
4865477c:	6db4      	li	a1,180
4865477e:	6e00      	li	a2,0
48654780:	6f16      	li	a3,22
48654782:	b20e      	lw	v0,486547b8 <com_ellipsis_to_longname+0x98>
48654784:	eac0      	jalrc	v0
48654786:	c948      	sh	v0,16(s1)
48654788:	100f      	b	486547a8 <com_ellipsis_to_longname+0x88>
4865478a:	a974      	lhu	v1,40(s1)
    }
    else
    {
        ellipsis_name[ellipsis_len - 1] = 0;
4865478c:	9949      	lw	v0,36(s1)
4865478e:	e34d      	addu	v1,v0
48654790:	6a00      	li	v0,0
48654792:	f7ff c35f 	sb	v0,-1(v1)
48654796:	6a7b      	li	v0,123
        ellipsis_desc.language = ANSIDATAAUTO;
48654798:	c144      	sb	v0,4(s1)
4865479a:	6791      	move	a0,s1
        true_bytes = (uint16)(int)ui_ellipsis_to_longstr(&ellipsis_desc, ELLIPSIS_MAX_LEN, NULL);
4865479c:	6db4      	li	a1,180
4865479e:	6e00      	li	a2,0
486547a0:	6f16      	li	a3,22
486547a2:	b206      	lw	v0,486547b8 <com_ellipsis_to_longname+0x98>
486547a4:	eac0      	jalrc	v0
486547a6:	c948      	sh	v0,16(s1)
486547a8:	a948      	lhu	v0,16(s1)
    }
    
    return true_bytes;
486547aa:	651a      	move	t8,v0
486547ac:	6758      	move	v0,t8
}
486547ae:	65b9      	move	sp,s1
486547b0:	6454      	restore	32,ra,s1
486547b2:	e8a0      	jrc	ra
486547b4:	6409      	restore	72
486547b6:	bfc1      	lwu	a2,4(a3)
486547b8:	6bb1      	li	v1,177
486547ba:	bfc1      	lwu	a2,4(a3)

486547bc <itoa_hex>:
486547bc:	6494      	save	32,s1

//数字转换为十六进制字符串itoa_hex
uint8 itoa_hex(uint32 value, uint8 *tmp_buf)
{
486547be:	673d      	move	s1,sp
486547c0:	d988      	sw	a0,32(s1)
486547c2:	d9a9      	sw	a1,36(s1)
486547c4:	6a01      	li	v0,1
    uint8 zero_flag = TRUE;
486547c6:	c140      	sb	v0,0(s1)
486547c8:	6a00      	li	v0,0
    uint8 byte_value, byte_high, byte_low;
    uint8 ret_len, j;
    
    //添加前导符0x
    ret_len = 0;
486547ca:	c144      	sb	v0,4(s1)
486547cc:	a164      	lbu	v1,4(s1)
    tmp_buf[ret_len] = '0';
486547ce:	9949      	lw	v0,36(s1)
486547d0:	e34d      	addu	v1,v0
486547d2:	6a30      	li	v0,48
486547d4:	c340      	sb	v0,0(v1)
486547d6:	a164      	lbu	v1,4(s1)
    tmp_buf[ret_len+1] = 'x';
486547d8:	9949      	lw	v0,36(s1)
486547da:	e34d      	addu	v1,v0
486547dc:	6a78      	li	v0,120
486547de:	c341      	sb	v0,1(v1)
486547e0:	a144      	lbu	v0,4(s1)
    ret_len += 2;
486547e2:	4242      	addiu	v0,v0,2
486547e4:	c144      	sb	v0,4(s1)
486547e6:	6a00      	li	v0,0
    
    //4个字节转换为双十六进制字符
    for(j = 0; j < 4; j++)
486547e8:	c145      	sb	v0,5(s1)
486547ea:	a145      	lbu	v0,5(s1)
486547ec:	5a04      	sltiu	v0,4
486547ee:	6044      	bteqz	48654878 <itoa_hex+0xbc>
486547f0:	a145      	lbu	v0,5(s1)
    {
        byte_value = *((uint8 *)(&value) + (3-j));
486547f2:	6b20      	li	v1,32
486547f4:	e32d      	addu	v1,s1
486547f6:	e34b      	subu	v0,v1,v0
486547f8:	a243      	lbu	v0,3(v0)
486547fa:	c141      	sb	v0,1(s1)
486547fc:	a141      	lbu	v0,1(s1)
        byte_high = (byte_value >> 4);
486547fe:	3252      	srl	v0,4
48654800:	c142      	sb	v0,2(s1)
48654802:	a141      	lbu	v0,1(s1)
        byte_low = (byte_value & 0x0f);
48654804:	6762      	move	v1,v0
48654806:	6a0f      	li	v0,15
48654808:	ea6c      	and	v0,v1
4865480a:	c143      	sb	v0,3(s1)
4865480c:	a140      	lbu	v0,0(s1)
        if((zero_flag == TRUE) && (byte_value == 0) && (j < 3))//不显示前置0
4865480e:	7201      	cmpi	v0,1
48654810:	6758      	move	v0,t8
48654812:	5a01      	sltiu	v0,1
48654814:	6006      	bteqz	48654822 <itoa_hex+0x66>
48654816:	a141      	lbu	v0,1(s1)
48654818:	2a04      	bnez	v0,48654822 <itoa_hex+0x66>
4865481a:	a145      	lbu	v0,5(s1)
4865481c:	5a03      	sltiu	v0,3
4865481e:	6001      	bteqz	48654822 <itoa_hex+0x66>
48654820:	1027      	b	48654870 <itoa_hex+0xb4>
        {
            continue;
48654822:	a164      	lbu	v1,4(s1)
        }
        
        tmp_buf[ret_len] = (byte_high >= 10)? (byte_high - 10 + 'a'): (byte_high + '0');
48654824:	9949      	lw	v0,36(s1)
48654826:	e34d      	addu	v1,v0
48654828:	d962      	sw	v1,8(s1)
4865482a:	a142      	lbu	v0,2(s1)
4865482c:	5a0a      	sltiu	v0,10
4865482e:	6104      	btnez	48654838 <itoa_hex+0x7c>
48654830:	a142      	lbu	v0,2(s1)
48654832:	4a57      	addiu	v0,87
48654834:	c14c      	sb	v0,12(s1)
48654836:	1003      	b	4865483e <itoa_hex+0x82>
48654838:	a142      	lbu	v0,2(s1)
4865483a:	4a30      	addiu	v0,48
4865483c:	c14c      	sb	v0,12(s1)
4865483e:	a14c      	lbu	v0,12(s1)
48654840:	9962      	lw	v1,8(s1)
48654842:	c340      	sb	v0,0(v1)
48654844:	a164      	lbu	v1,4(s1)
        tmp_buf[ret_len+1] = (byte_low >= 10)? (byte_low - 10 + 'a'): (byte_low + '0');
48654846:	9949      	lw	v0,36(s1)
48654848:	e34d      	addu	v1,v0
4865484a:	d964      	sw	v1,16(s1)
4865484c:	a143      	lbu	v0,3(s1)
4865484e:	5a0a      	sltiu	v0,10
48654850:	6104      	btnez	4865485a <itoa_hex+0x9e>
48654852:	a143      	lbu	v0,3(s1)
48654854:	4a57      	addiu	v0,87
48654856:	c154      	sb	v0,20(s1)
48654858:	1003      	b	48654860 <itoa_hex+0xa4>
4865485a:	a143      	lbu	v0,3(s1)
4865485c:	4a30      	addiu	v0,48
4865485e:	c154      	sb	v0,20(s1)
48654860:	a154      	lbu	v0,20(s1)
48654862:	9964      	lw	v1,16(s1)
48654864:	c341      	sb	v0,1(v1)
48654866:	a144      	lbu	v0,4(s1)
        ret_len += 2;
48654868:	4242      	addiu	v0,v0,2
4865486a:	c144      	sb	v0,4(s1)
4865486c:	6a00      	li	v0,0
        zero_flag = FALSE;
4865486e:	c140      	sb	v0,0(s1)
48654870:	a145      	lbu	v0,5(s1)
48654872:	4241      	addiu	v0,v0,1
48654874:	c145      	sb	v0,5(s1)
48654876:	17b9      	b	486547ea <itoa_hex+0x2e>
48654878:	a144      	lbu	v0,4(s1)
    }
    
    return ret_len;
4865487a:	651a      	move	t8,v0
4865487c:	6758      	move	v0,t8
}
4865487e:	65b9      	move	sp,s1
48654880:	6414      	restore	32,s1
48654882:	e8a0      	jrc	ra

48654884 <com_dump_debug>:
48654884:	64d8      	save	64,ra,s1

/******************************************************************************/
/*!                    
 * \par  Description:
 *    显示打印调试信息到UI上，调试信息显示为黑底白字。
 * \param[in]    x 打印信息X坐标
 * \param[in]    y 打印信息Y坐标
 * \param[in]    format 打印格式
 * \param[in]    value 打印整型数
 * \param[out]   none
 * \return       none
 * \ingroup      common_func
 * \par          exmaple code
 * \code
    例子1：打印格式为 errno = value，value 为 10 进制
    com_dump_debug(0, 40, "errno = %d", fsel_errno);
 * \endcode
 * \note
 * \li  format 中支持一个 %x 或 %d，前者表示16进制，后者表示10进制。
 * \li  format 长度最长为 32 字节，并且只支持 ANSI 编码。
*******************************************************************************/
void com_dump_debug(uint16 x, uint16 y, uint8 *format, uint32 value)
{
48654886:	0104      	addiu	s1,sp,16
48654888:	6744      	move	v0,a0
4865488a:	6765      	move	v1,a1
4865488c:	d9ce      	sw	a2,56(s1)
4865488e:	d9ef      	sw	a3,60(s1)
48654890:	c958      	sh	v0,48(s1)
48654892:	c97a      	sh	v1,52(s1)
48654894:	994e      	lw	v0,56(s1)
    string_desc_t debug_str;
    region_t debug_region;
    uint16 format_len, remain_len;
    uint16 ret_len, i;
    uint8  ch_prev, ch_now;
    uint8  value_len;
    
    format_len = (uint16)libc_strlen(format);
48654896:	6782      	move	a0,v0
48654898:	6d00      	li	a1,0
4865489a:	6e00      	li	a2,0
4865489c:	6f03      	li	a3,3
4865489e:	b270      	lw	v0,48654a5c <com_dump_debug+0x1d8>
486548a0:	eac0      	jalrc	v0
486548a2:	c94c      	sh	v0,24(s1)
486548a4:	a94c      	lhu	v0,24(s1)
    if(format_len > 32)
486548a6:	5a21      	sltiu	v0,33
486548a8:	6102      	btnez	486548ae <com_dump_debug+0x2a>
486548aa:	6a20      	li	v0,32
    {
        format_len = 32;
486548ac:	c94c      	sh	v0,24(s1)
486548ae:	6a00      	li	v0,0
    }
    
    //转换为debug
    ret_len = 0;
486548b0:	c94e      	sh	v0,28(s1)
486548b2:	6a00      	li	v0,0
    ch_prev = 0x0;
486548b4:	f020 c140 	sb	v0,32(s1)
486548b8:	6a00      	li	v0,0
    for(i = 0; i < format_len; i++)
486548ba:	c94f      	sh	v0,30(s1)
486548bc:	a94f      	lhu	v0,30(s1)
486548be:	a96c      	lhu	v1,24(s1)
486548c0:	ea63      	sltu	v0,v1
486548c2:	f080 6015 	bteqz	486549f0 <com_dump_debug+0x16c>
486548c6:	a96f      	lhu	v1,30(s1)
    {
        ch_now = format[i];
486548c8:	994e      	lw	v0,56(s1)
486548ca:	e349      	addu	v0,v1,v0
486548cc:	a240      	lbu	v0,0(v0)
486548ce:	f020 c141 	sb	v0,33(s1)
486548d2:	f020 a140 	lbu	v0,32(s1)
        if(ch_prev == '%')
486548d6:	7225      	cmpi	v0,37
486548d8:	6758      	move	v0,t8
486548da:	5a01      	sltiu	v0,1
486548dc:	606a      	bteqz	486549b2 <com_dump_debug+0x12e>
486548de:	f020 a141 	lbu	v0,33(s1)
        {
            switch(ch_now)
486548e2:	d949      	sw	v0,36(s1)
486548e4:	9949      	lw	v0,36(s1)
486548e6:	7264      	cmpi	v0,100
486548e8:	6758      	move	v0,t8
486548ea:	5a01      	sltiu	v0,1
486548ec:	6106      	btnez	486548fa <com_dump_debug+0x76>
486548ee:	9949      	lw	v0,36(s1)
486548f0:	7278      	cmpi	v0,120
486548f2:	6758      	move	v0,t8
486548f4:	5a01      	sltiu	v0,1
486548f6:	6101      	btnez	486548fa <com_dump_debug+0x76>
486548f8:	103f      	b	48654978 <com_dump_debug+0xf4>
486548fa:	f020 a141 	lbu	v0,33(s1)
            {
            case 'x':
            case 'd':
                if(ch_now == 'x')
486548fe:	7278      	cmpi	v0,120
48654900:	6758      	move	v0,t8
48654902:	5a01      	sltiu	v0,1
48654904:	600b      	bteqz	4865491c <com_dump_debug+0x98>
48654906:	998f      	lw	a0,60(s1)
                {
                    value_len = itoa_hex(value, tmp_buffer + ret_len);
48654908:	a96e      	lhu	v1,28(s1)
4865490a:	b256      	lw	v0,48654a60 <com_dump_debug+0x1dc>
4865490c:	e349      	addu	v0,v1,v0
4865490e:	67a2      	move	a1,v0
48654910:	1b30 51ef 	jal	486547bc <itoa_hex>
48654914:	6500      	nop
48654916:	f020 c142 	sb	v0,34(s1)
4865491a:	100b      	b	48654932 <com_dump_debug+0xae>
4865491c:	998f      	lw	a0,60(s1)
                }
                else
                {
                    value_len = libc_itoa(value, tmp_buffer + ret_len, 0);
4865491e:	a96e      	lhu	v1,28(s1)
48654920:	b250      	lw	v0,48654a60 <com_dump_debug+0x1dc>
48654922:	e349      	addu	v0,v1,v0
48654924:	67a2      	move	a1,v0
48654926:	6e00      	li	a2,0
48654928:	6f0a      	li	a3,10
4865492a:	b24d      	lw	v0,48654a5c <com_dump_debug+0x1d8>
4865492c:	eac0      	jalrc	v0
4865492e:	f020 c142 	sb	v0,34(s1)
48654932:	f020 a162 	lbu	v1,34(s1)
                }
                ret_len += value_len;
48654936:	a94e      	lhu	v0,28(s1)
48654938:	e269      	addu	v0,v1
4865493a:	c94e      	sh	v0,28(s1)
4865493c:	a96c      	lhu	v1,24(s1)
                                
                remain_len = format_len - (i+1);
4865493e:	a94f      	lhu	v0,30(s1)
48654940:	e34b      	subu	v0,v1,v0
48654942:	424f      	addiu	v0,v0,-1
48654944:	c94d      	sh	v0,26(s1)
48654946:	a94d      	lhu	v0,26(s1)
                if((remain_len > 0) && ((ret_len + remain_len) <= 52))//for QAM
48654948:	2227      	beqz	v0,48654998 <com_dump_debug+0x114>
4865494a:	a96e      	lhu	v1,28(s1)
4865494c:	a94d      	lhu	v0,26(s1)
4865494e:	e349      	addu	v0,v1,v0
48654950:	5235      	slti	v0,53
48654952:	6022      	bteqz	48654998 <com_dump_debug+0x114>
48654954:	a96e      	lhu	v1,28(s1)
                {
                    libc_memcpy(tmp_buffer + ret_len, format + (i+1), remain_len);
48654956:	b243      	lw	v0,48654a60 <com_dump_debug+0x1dc>
48654958:	e351      	addu	a0,v1,v0
4865495a:	a96f      	lhu	v1,30(s1)
4865495c:	994e      	lw	v0,56(s1)
4865495e:	e349      	addu	v0,v1,v0
48654960:	4241      	addiu	v0,v0,1
48654962:	a96d      	lhu	v1,26(s1)
48654964:	67a2      	move	a1,v0
48654966:	67c3      	move	a2,v1
48654968:	6f00      	li	a3,0
4865496a:	b23d      	lw	v0,48654a5c <com_dump_debug+0x1d8>
4865496c:	eac0      	jalrc	v0
4865496e:	a96e      	lhu	v1,28(s1)
                    ret_len += remain_len;
48654970:	a94d      	lhu	v0,26(s1)
48654972:	e349      	addu	v0,v1,v0
48654974:	c94e      	sh	v0,28(s1)
48654976:	1010      	b	48654998 <com_dump_debug+0x114>
                }
                break;
48654978:	a94e      	lhu	v0,28(s1)
                
            default:
                if(ret_len >= 52)
4865497a:	5a34      	sltiu	v0,52
4865497c:	6101      	btnez	48654980 <com_dump_debug+0xfc>
4865497e:	106a      	b	48654a54 <com_dump_debug+0x1d0>
                {
                    return ;//for QAM
48654980:	b338      	lw	v1,48654a60 <com_dump_debug+0x1dc>
                }
                tmp_buffer[ret_len] = ch_prev;
48654982:	a94e      	lhu	v0,28(s1)
48654984:	e34d      	addu	v1,v0
48654986:	f020 a140 	lbu	v0,32(s1)
4865498a:	c340      	sb	v0,0(v1)
4865498c:	a94e      	lhu	v0,28(s1)
                ret_len++;
4865498e:	4241      	addiu	v0,v0,1
48654990:	c94e      	sh	v0,28(s1)
48654992:	6a00      	li	v0,0
                ch_prev = 0x0;
48654994:	f020 c140 	sb	v0,32(s1)
48654998:	f020 a141 	lbu	v0,33(s1)
                break;
            }
            
            if((ch_now == 'x') || (ch_now == 'd'))
4865499c:	7278      	cmpi	v0,120
4865499e:	6758      	move	v0,t8
486549a0:	5a01      	sltiu	v0,1
486549a2:	6126      	btnez	486549f0 <com_dump_debug+0x16c>
486549a4:	f020 a141 	lbu	v0,33(s1)
486549a8:	7264      	cmpi	v0,100
486549aa:	6758      	move	v0,t8
486549ac:	5a01      	sltiu	v0,1
486549ae:	6120      	btnez	486549f0 <com_dump_debug+0x16c>
486549b0:	100e      	b	486549ce <com_dump_debug+0x14a>
486549b2:	f020 a141 	lbu	v0,33(s1)
            {
                break;//要求format为以%x或%d结束，故至此可退出
            }
        }
        else if(ch_now == '%')
486549b6:	7225      	cmpi	v0,37
486549b8:	6758      	move	v0,t8
486549ba:	5a01      	sltiu	v0,1
486549bc:	6005      	bteqz	486549c8 <com_dump_debug+0x144>
486549be:	f020 a141 	lbu	v0,33(s1)
        {
            ch_prev = ch_now;
486549c2:	f020 c140 	sb	v0,32(s1)
486549c6:	1010      	b	486549e8 <com_dump_debug+0x164>
            continue;
486549c8:	6a00      	li	v0,0
        }
        else
        {
            ch_prev = 0x0;
486549ca:	f020 c140 	sb	v0,32(s1)
486549ce:	a94e      	lhu	v0,28(s1)
        }
        if(ret_len >= 52)
486549d0:	5a34      	sltiu	v0,52
486549d2:	6101      	btnez	486549d6 <com_dump_debug+0x152>
486549d4:	103f      	b	48654a54 <com_dump_debug+0x1d0>
        {
            return ;//for QAM
486549d6:	b323      	lw	v1,48654a60 <com_dump_debug+0x1dc>
        }
        tmp_buffer[ret_len] = ch_now;
486549d8:	a94e      	lhu	v0,28(s1)
486549da:	e34d      	addu	v1,v0
486549dc:	f020 a141 	lbu	v0,33(s1)
486549e0:	c340      	sb	v0,0(v1)
486549e2:	a94e      	lhu	v0,28(s1)
        ret_len++;
486549e4:	4241      	addiu	v0,v0,1
486549e6:	c94e      	sh	v0,28(s1)
486549e8:	a94f      	lhu	v0,30(s1)
486549ea:	4241      	addiu	v0,v0,1
486549ec:	c94f      	sh	v0,30(s1)
486549ee:	1766      	b	486548bc <com_dump_debug+0x38>
486549f0:	a94e      	lhu	v0,28(s1)
    }
    
    if(ret_len >= 52)
486549f2:	5a34      	sltiu	v0,52
486549f4:	6101      	btnez	486549f8 <com_dump_debug+0x174>
486549f6:	102e      	b	48654a54 <com_dump_debug+0x1d0>
    {
        return ;//for QAM
486549f8:	b31a      	lw	v1,48654a60 <com_dump_debug+0x1dc>
    }
    tmp_buffer[ret_len] = 0x0;
486549fa:	a94e      	lhu	v0,28(s1)
486549fc:	e34d      	addu	v1,v0
486549fe:	6a00      	li	v0,0
48654a00:	c340      	sb	v0,0(v1)
48654a02:	b218      	lw	v0,48654a60 <com_dump_debug+0x1dc>
    
    //打印debug信息
    debug_str.data.str = tmp_buffer;
48654a04:	d940      	sw	v0,0(s1)
48654a06:	6a7b      	li	v0,123
    debug_str.language = ANSIDATAAUTO;
48654a08:	c144      	sb	v0,4(s1)
48654a0a:	a94e      	lhu	v0,28(s1)
    debug_str.length = ret_len;
48654a0c:	c943      	sh	v0,6(s1)
48654a0e:	a958      	lhu	v0,48(s1)
    
    debug_region.x = x;
48654a10:	c948      	sh	v0,16(s1)
48654a12:	a95a      	lhu	v0,52(s1)
    debug_region.y = y;
48654a14:	c949      	sh	v0,18(s1)
48654a16:	6a10      	li	v0,16
    debug_region.height = 16;
48654a18:	c94b      	sh	v0,22(s1)
48654a1a:	a978      	lhu	v1,48(s1)
    debug_region.width = (DISPLAY_LENGTH - x);
48654a1c:	6aff      	li	v0,255
48654a1e:	4a41      	addiu	v0,65
48654a20:	e26b      	subu	v0,v1
48654a22:	c94a      	sh	v0,20(s1)
48654a24:	f7ff 6a1f 	li	v0,65535
    
    ui_set_pen_color(0xffff);
48654a28:	6782      	move	a0,v0
48654a2a:	6d00      	li	a1,0
48654a2c:	6e00      	li	a2,0
48654a2e:	6f13      	li	a3,19
48654a30:	b20d      	lw	v0,48654a64 <com_dump_debug+0x1e0>
48654a32:	eac0      	jalrc	v0
48654a34:	6c00      	li	a0,0
    ui_set_backgd_color(0x0000);
48654a36:	6d00      	li	a1,0
48654a38:	6e00      	li	a2,0
48654a3a:	6f14      	li	a3,20
48654a3c:	b20a      	lw	v0,48654a64 <com_dump_debug+0x1e0>
48654a3e:	eac0      	jalrc	v0
48654a40:	4147      	addiu	v0,s1,7
    //非透明模式，丢弃不完整字符，取消阿拉伯右对齐属性
    ui_show_string(&debug_str, &debug_region, CHAR_FILL_COLOR | DISP_LONGSTR_NO_RECT | DISP_ARABIC_DISABLE);
48654a42:	4a09      	addiu	v0,9
48654a44:	f010 6b11 	li	v1,32785
48654a48:	6791      	move	a0,s1
48654a4a:	67a2      	move	a1,v0
48654a4c:	67c3      	move	a2,v1
48654a4e:	6f15      	li	a3,21
48654a50:	b205      	lw	v0,48654a64 <com_dump_debug+0x1e0>
48654a52:	eac0      	jalrc	v0
48654a54:	65b9      	move	sp,s1
}
48654a56:	6456      	restore	48,ra,s1
48654a58:	e8a0      	jrc	ra
48654a5a:	0000      	addiu	s0,sp,0
48654a5c:	6409      	restore	72
48654a5e:	bfc1      	lwu	a2,4(a3)
48654a60:	4a68      	addiu	v0,104
48654a62:	4865      	addiu	s0,101
48654a64:	6bb1      	li	v1,177
48654a66:	bfc1      	lwu	a2,4(a3)

48654a68 <tmp_buffer>:
	...
Disassembly of section BANK_UI_1_26:

48694600 <com_gui_msg_hook>:
48694600:	64f7      	save	56,ra,s0-s1
 * \ingroup      common_func
 * \note
*******************************************************************************/
bool com_gui_msg_hook(input_gui_msg_t *input_msg)
{
48694602:	0104      	addiu	s1,sp,16
48694604:	d98a      	sw	a0,40(s1)
48694606:	1b50 5219 	jal	48694864 <get_filter_key>
    bool ret;

    //0.长按按键后过滤掉后续按键
    if(get_filter_key() != KEY_NULL)
4869460a:	6500      	nop
4869460c:	651a      	move	t8,v0
4869460e:	601e      	bteqz	4869464c <com_gui_msg_hook+0x4c>
48694610:	990a      	lw	s0,40(s1)
    {
        //直到检测到按键抬起（或者其他按键按下）才算过滤完成
        if(input_msg->data.kmsg.val == get_filter_key())
48694612:	1b50 5219 	jal	48694864 <get_filter_key>
48694616:	6500      	nop
48694618:	6762      	move	v1,v0
4869461a:	a042      	lbu	v0,2(s0)
4869461c:	ea6e      	xor	v0,v1
4869461e:	5a01      	sltiu	v0,1
48694620:	6011      	bteqz	48694644 <com_gui_msg_hook+0x44>
48694622:	994a      	lw	v0,40(s1)
        {
            //过滤LONG和HOLD按键
            if(input_msg->data.kmsg.type != KEY_TYPE_SHORT_UP)
48694624:	aa42      	lhu	v0,4(v0)
48694626:	f400 7200 	cmpi	v0,1024
4869462a:	6758      	move	v0,t8
4869462c:	5a01      	sltiu	v0,1
4869462e:	6103      	btnez	48694636 <com_gui_msg_hook+0x36>
48694630:	6a00      	li	v0,0
            {
                return FALSE;
48694632:	d945      	sw	v0,20(s1)
48694634:	109e      	b	48694772 <.LBE3+0x6e>
48694636:	6c00      	li	a0,0
            }
            else//过滤完成，但还是不响应SHORT_UP按键
            {
                change_filter_key(KEY_NULL);
48694638:	1b50 5213 	jal	4869484c <change_filter_key>
4869463c:	6500      	nop
4869463e:	6a00      	li	v0,0
                return FALSE;
48694640:	d945      	sw	v0,20(s1)
48694642:	1097      	b	48694772 <.LBE3+0x6e>
48694644:	6c00      	li	a0,0
            }
        }
        else//其他按键，过滤完成，继续处理
        {
            change_filter_key(KEY_NULL);
48694646:	1b50 5213 	jal	4869484c <change_filter_key>
4869464a:	6500      	nop
4869464c:	b34c      	lw	v1,4869477c <.LBE3+0x78>
        }
    }

    //更新当前按键值
    this_filter_key_value = input_msg->data.kmsg.val;
4869464e:	994a      	lw	v0,40(s1)
48694650:	a242      	lbu	v0,2(v0)
48694652:	c340      	sb	v0,0(v1)
48694654:	1b50 520d 	jal	48694834 <get_backlight_state>

    //1.1若背光处于调暗状态，恢复背光亮度，并修改背光状态
    if(get_backlight_state() == BACKLIGHT_STATE_DARK)
48694658:	6500      	nop
4869465a:	7201      	cmpi	v0,1
4869465c:	6758      	move	v0,t8
4869465e:	5a01      	sltiu	v0,1
48694660:	600a      	bteqz	48694676 <com_gui_msg_hook+0x76>
48694662:	b248      	lw	v0,48694780 <.LBE3+0x7c>
    {
        com_set_contrast(sys_comval->lightness);
48694664:	9a40      	lw	v0,0(v0)
48694666:	a242      	lbu	v0,2(v0)
48694668:	6782      	move	a0,v0
4869466a:	b247      	lw	v0,48694784 <.LBE3+0x80>
4869466c:	eac0      	jalrc	v0
4869466e:	6c00      	li	a0,0
        change_backlight_state(BACKLIGHT_STATE_NORMAL);
48694670:	1b50 5207 	jal	4869481c <change_backlight_state>
48694674:	6500      	nop
48694676:	1b50 5201 	jal	48694804 <get_screensave_state>
    }

    //1.2若处于屏幕保护模式，退出屏幕保护模式
    if(get_screensave_state() == TRUE)
4869467a:	6500      	nop
4869467c:	7201      	cmpi	v0,1
4869467e:	6758      	move	v0,t8
48694680:	5a01      	sltiu	v0,1
48694682:	600f      	bteqz	486946a2 <.LBE2+0x2>

48694684 <.LBB2>:
48694684:	6aff      	li	v0,255
    {
        msg_apps_t msg;

        //给当前AP发送 exit_screen_save 异步消息，在 com_message_box 中退出屏保
        msg.type = MSG_APP_EXIT_SCREEN_SAVE;
48694686:	4247      	addiu	v0,v0,7
48694688:	d942      	sw	v0,8(s1)
4869468a:	b240      	lw	v0,48694788 <.LBE3+0x84>
        send_async_msg(g_this_app_info->app_id, &msg);
4869468c:	9a40      	lw	v0,0(v0)
4869468e:	a241      	lbu	v0,1(v0)
48694690:	4167      	addiu	v1,s1,7
48694692:	4361      	addiu	v1,v1,1
48694694:	6782      	move	a0,v0
48694696:	67a3      	move	a1,v1
48694698:	b23d      	lw	v0,4869478c <.LBE3+0x88>
4869469a:	eac0      	jalrc	v0
4869469c:	6a00      	li	v0,0

        ret = FALSE;
4869469e:	c140      	sb	v0,0(s1)

486946a0 <.LBE2>:
486946a0:	105a      	b	48694756 <.LBE3+0x52>
486946a2:	994a      	lw	v0,40(s1)
    }
    //1.3正常状态下，处理按键音，按键锁
    else
    {
        //2.按键音处理，仅在按键按下时发出按键音
        if(input_msg->data.kmsg.type == KEY_TYPE_DOWN)
486946a4:	aa42      	lhu	v0,4(v0)
486946a6:	f004 7200 	cmpi	v0,8192
486946aa:	6758      	move	v0,t8
486946ac:	5a01      	sltiu	v0,1
486946ae:	602a      	bteqz	48694704 <.LBE3>

486946b0 <.LBB3>:
486946b0:	1b50 51fa 	jal	486947e8 <get_soundout_state>
        {
            soundout_state_e state = (soundout_state_e)get_soundout_state();
486946b4:	6500      	nop
486946b6:	c150      	sb	v0,16(s1)
486946b8:	1b50 51f4 	jal	486947d0 <get_keytone_mode>
            uint8 keytone_mode = get_keytone_mode();
486946bc:	6500      	nop
486946be:	c151      	sb	v0,17(s1)
486946c0:	a151      	lbu	v0,17(s1)
            if(keytone_mode == 0)
486946c2:	2a16      	bnez	v0,486946f0 <.LBB3+0x40>
486946c4:	a150      	lbu	v0,16(s1)
            {
                if(((state == SOUND_OUT_STOP) || (state == SOUND_OUT_PAUSE))
486946c6:	7201      	cmpi	v0,1
486946c8:	6758      	move	v0,t8
486946ca:	5a01      	sltiu	v0,1
486946cc:	6106      	btnez	486946da <.LBB3+0x2a>
486946ce:	a150      	lbu	v0,16(s1)
486946d0:	7202      	cmpi	v0,2
486946d2:	6758      	move	v0,t8
486946d4:	5a01      	sltiu	v0,1
486946d6:	6101      	btnez	486946da <.LBB3+0x2a>
486946d8:	1015      	b	48694704 <.LBE3>
486946da:	1b50 51ed 	jal	486947b4 <get_keytone_enable>
486946de:	6500      	nop
486946e0:	7201      	cmpi	v0,1
486946e2:	6758      	move	v0,t8
486946e4:	5a01      	sltiu	v0,1
486946e6:	600e      	bteqz	48694704 <.LBE3>
486946e8:	6c00      	li	a0,0
                && (get_keytone_enable() == TRUE))
                {
                    //没音频输出且按键音使能，发出按键音
                    com_start_key_tone(0); //双击按键音
486946ea:	b22a      	lw	v0,48694790 <.LBE3+0x8c>
486946ec:	eac0      	jalrc	v0
486946ee:	100a      	b	48694704 <.LBE3>
486946f0:	1b50 51ed 	jal	486947b4 <get_keytone_enable>
                }
            }
            else
            {
                if(get_keytone_enable() == TRUE)
486946f4:	6500      	nop
486946f6:	7201      	cmpi	v0,1
486946f8:	6758      	move	v0,t8
486946fa:	5a01      	sltiu	v0,1
486946fc:	6003      	bteqz	48694704 <.LBE3>
486946fe:	6c00      	li	a0,0
                {
                   com_start_key_tone(0); 
48694700:	b224      	lw	v0,48694790 <.LBE3+0x8c>
48694702:	eac0      	jalrc	v0

48694704 <.LBE3>:
48694704:	b221      	lw	v0,48694784 <.LBE3+0x80>
                }
            }
        }

        //3.按键锁处理，只处理按键锁住状态下按下普通按键
        //例外：config, playlist, udisk, 等应用不检测按键锁
        if((g_this_app_info->app_id != APP_ID_CONFIG)
48694706:	9a40      	lw	v0,0(v0)
48694708:	a241      	lbu	v0,1(v0)
4869470a:	720b      	cmpi	v0,11
4869470c:	6758      	move	v0,t8
4869470e:	5a01      	sltiu	v0,1
48694710:	6120      	btnez	48694752 <.LBE3+0x4e>
48694712:	b21e      	lw	v0,48694788 <.LBE3+0x84>
48694714:	9a40      	lw	v0,0(v0)
48694716:	a241      	lbu	v0,1(v0)
48694718:	720a      	cmpi	v0,10
4869471a:	6758      	move	v0,t8
4869471c:	5a01      	sltiu	v0,1
4869471e:	6119      	btnez	48694752 <.LBE3+0x4e>
48694720:	b21a      	lw	v0,48694788 <.LBE3+0x84>
48694722:	9a40      	lw	v0,0(v0)
48694724:	a241      	lbu	v0,1(v0)
48694726:	720c      	cmpi	v0,12
48694728:	6758      	move	v0,t8
4869472a:	5a01      	sltiu	v0,1
4869472c:	6112      	btnez	48694752 <.LBE3+0x4e>
4869472e:	1b50 51e7 	jal	4869479c <get_keylock_state>
        && (g_this_app_info->app_id != APP_ID_PLAYLIST)
        && (g_this_app_info->app_id != APP_ID_UDISK))
        {
            if( (get_keylock_state() == TRUE )
48694732:	6500      	nop
48694734:	7201      	cmpi	v0,1
48694736:	6758      	move	v0,t8
48694738:	5a01      	sltiu	v0,1
4869473a:	600b      	bteqz	48694752 <.LBE3+0x4e>
4869473c:	994a      	lw	v0,40(s1)
4869473e:	a242      	lbu	v0,2(v0)
48694740:	720d      	cmpi	v0,13
48694742:	6758      	move	v0,t8
48694744:	5a01      	sltiu	v0,1
48694746:	6105      	btnez	48694752 <.LBE3+0x4e>
48694748:	994a      	lw	v0,40(s1)
              &&(input_msg->data.kmsg.val != KEY_UNLOCK) )
            {
                //按键锁住状态下，按键普通按键后，转换为该按键，以供应用层选择性处理
                input_msg->data.kmsg.val = KEY_LOCKHOLD;
4869474a:	6b7f      	li	v1,127
4869474c:	c262      	sb	v1,2(v0)
4869474e:	b212      	lw	v0,48694794 <.LBE3+0x90>
                //过滤掉当前按键后续动作，保证只响应一次“按键锁住”提示
                com_filter_key_hold();
48694750:	eac0      	jalrc	v0
48694752:	6a01      	li	v0,1
            }
        }

        ret = TRUE;
48694754:	c140      	sb	v0,0(s1)
48694756:	b311      	lw	v1,48694798 <.LBE3+0x94>
    }

    //4.背光关闭计时，屏幕保护计时，省电关机计时，返回正在播放计时清0
    g_sys_counter.light_counter = 0;
48694758:	6a00      	li	v0,0
4869475a:	cb40      	sh	v0,0(v1)
4869475c:	b30f      	lw	v1,48694798 <.LBE3+0x94>
    g_sys_counter.screen_saver_counter = 0;
4869475e:	6a00      	li	v0,0
48694760:	cb41      	sh	v0,2(v1)
48694762:	b30e      	lw	v1,48694798 <.LBE3+0x94>
    g_sys_counter.poweroff_counter = 0;
48694764:	6a00      	li	v0,0
48694766:	cb44      	sh	v0,8(v1)
48694768:	b30c      	lw	v1,48694798 <.LBE3+0x94>
    g_sys_counter.playing_counter = 0;
4869476a:	6a00      	li	v0,0
4869476c:	cb42      	sh	v0,4(v1)
4869476e:	a140      	lbu	v0,0(s1)

    return ret;
48694770:	d945      	sw	v0,20(s1)
48694772:	9945      	lw	v0,20(s1)
}
48694774:	65b9      	move	sp,s1
48694776:	6475      	restore	40,ra,s0-s1
48694778:	e8a0      	jrc	ra
4869477a:	0000      	addiu	s0,sp,0
4869477c:	5be8      	sltiu	v1,232
4869477e:	9fc1      	lw	a2,4(a3)
48694780:	5a48      	sltiu	v0,72
48694782:	9fc1      	lw	a2,4(a3)
48694784:	4601      	addiu	s0,a2,1
48694786:	48b5      	addiu	s0,-75
48694788:	a1f0      	lbu	a3,16(s1)
4869478a:	9fc1      	lw	a2,4(a3)
4869478c:	4759      	daddiu	v0,a3,-7
4869478e:	4849      	addiu	s0,73
48694790:	49ad      	addiu	s1,-83
48694792:	48d1      	addiu	s0,-47
48694794:	487d      	addiu	s0,125
48694796:	4869      	addiu	s0,105
48694798:	a180      	lbu	a0,0(s1)
4869479a:	9fc1      	lw	a2,4(a3)

4869479c <get_keylock_state>:
4869479c:	6491      	save	8,s1
4869479e:	673d      	move	s1,sp
486947a0:	b204      	lw	v0,486947b0 <get_keylock_state+0x14>
486947a2:	a244      	lbu	v0,4(v0)
486947a4:	651a      	move	t8,v0
486947a6:	6758      	move	v0,t8
486947a8:	65b9      	move	sp,s1
486947aa:	6411      	restore	8,s1
486947ac:	e8a0      	jrc	ra
486947ae:	0000      	addiu	s0,sp,0
486947b0:	a1b8      	lbu	a1,24(s1)
486947b2:	9fc1      	lw	a2,4(a3)

486947b4 <get_keytone_enable>:
486947b4:	6491      	save	8,s1
486947b6:	673d      	move	s1,sp
486947b8:	b205      	lw	v0,486947cc <get_keytone_enable+0x18>
486947ba:	8245      	lb	v0,5(v0)
486947bc:	f7c0 3242 	srl	v0,31
486947c0:	651a      	move	t8,v0
486947c2:	6758      	move	v0,t8
486947c4:	65b9      	move	sp,s1
486947c6:	6411      	restore	8,s1
486947c8:	e8a0      	jrc	ra
486947ca:	0000      	addiu	s0,sp,0
486947cc:	a1b8      	lbu	a1,24(s1)
486947ce:	9fc1      	lw	a2,4(a3)

486947d0 <get_keytone_mode>:
486947d0:	6491      	save	8,s1
486947d2:	673d      	move	s1,sp
486947d4:	b204      	lw	v0,486947e4 <get_keytone_mode+0x14>
486947d6:	a253      	lbu	v0,19(v0)
486947d8:	651a      	move	t8,v0
486947da:	6758      	move	v0,t8
486947dc:	65b9      	move	sp,s1
486947de:	6411      	restore	8,s1
486947e0:	e8a0      	jrc	ra
486947e2:	0000      	addiu	s0,sp,0
486947e4:	a1b8      	lbu	a1,24(s1)
486947e6:	9fc1      	lw	a2,4(a3)

486947e8 <get_soundout_state>:
486947e8:	6491      	save	8,s1
486947ea:	673d      	move	s1,sp
486947ec:	b205      	lw	v0,48694800 <get_soundout_state+0x18>
486947ee:	a245      	lbu	v0,5(v0)
486947f0:	6b0f      	li	v1,15
486947f2:	ea6c      	and	v0,v1
486947f4:	651a      	move	t8,v0
486947f6:	6758      	move	v0,t8
486947f8:	65b9      	move	sp,s1
486947fa:	6411      	restore	8,s1
486947fc:	e8a0      	jrc	ra
486947fe:	0000      	addiu	s0,sp,0
48694800:	a1b8      	lbu	a1,24(s1)
48694802:	9fc1      	lw	a2,4(a3)

48694804 <get_screensave_state>:
48694804:	6491      	save	8,s1
48694806:	673d      	move	s1,sp
48694808:	b204      	lw	v0,48694818 <get_screensave_state+0x14>
4869480a:	a24a      	lbu	v0,10(v0)
4869480c:	651a      	move	t8,v0
4869480e:	6758      	move	v0,t8
48694810:	65b9      	move	sp,s1
48694812:	6411      	restore	8,s1
48694814:	e8a0      	jrc	ra
48694816:	0000      	addiu	s0,sp,0
48694818:	a1b8      	lbu	a1,24(s1)
4869481a:	9fc1      	lw	a2,4(a3)

4869481c <change_backlight_state>:
4869481c:	6491      	save	8,s1
4869481e:	673d      	move	s1,sp
48694820:	6744      	move	v0,a0
48694822:	c148      	sb	v0,8(s1)
48694824:	b303      	lw	v1,48694830 <change_backlight_state+0x14>
48694826:	a148      	lbu	v0,8(s1)
48694828:	c349      	sb	v0,9(v1)
4869482a:	65b9      	move	sp,s1
4869482c:	6411      	restore	8,s1
4869482e:	e8a0      	jrc	ra
48694830:	a1b8      	lbu	a1,24(s1)
48694832:	9fc1      	lw	a2,4(a3)

48694834 <get_backlight_state>:
48694834:	6491      	save	8,s1
48694836:	673d      	move	s1,sp
48694838:	b204      	lw	v0,48694848 <get_backlight_state+0x14>
4869483a:	a249      	lbu	v0,9(v0)
4869483c:	651a      	move	t8,v0
4869483e:	6758      	move	v0,t8
48694840:	65b9      	move	sp,s1
48694842:	6411      	restore	8,s1
48694844:	e8a0      	jrc	ra
48694846:	0000      	addiu	s0,sp,0
48694848:	a1b8      	lbu	a1,24(s1)
4869484a:	9fc1      	lw	a2,4(a3)

4869484c <change_filter_key>:
4869484c:	6491      	save	8,s1
4869484e:	673d      	move	s1,sp
48694850:	6744      	move	v0,a0
48694852:	c148      	sb	v0,8(s1)
48694854:	b303      	lw	v1,48694860 <change_filter_key+0x14>
48694856:	a148      	lbu	v0,8(s1)
48694858:	c343      	sb	v0,3(v1)
4869485a:	65b9      	move	sp,s1
4869485c:	6411      	restore	8,s1
4869485e:	e8a0      	jrc	ra
48694860:	a1b8      	lbu	a1,24(s1)
48694862:	9fc1      	lw	a2,4(a3)

48694864 <get_filter_key>:
48694864:	6491      	save	8,s1
48694866:	673d      	move	s1,sp
48694868:	b204      	lw	v0,48694878 <get_filter_key+0x14>
4869486a:	a243      	lbu	v0,3(v0)
4869486c:	651a      	move	t8,v0
4869486e:	6758      	move	v0,t8
48694870:	65b9      	move	sp,s1
48694872:	6411      	restore	8,s1
48694874:	e8a0      	jrc	ra
48694876:	0000      	addiu	s0,sp,0
48694878:	a1b8      	lbu	a1,24(s1)
4869487a:	9fc1      	lw	a2,4(a3)

4869487c <com_filter_key_hold>:
4869487c:	64d3      	save	24,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *    过滤掉当前按键后续动作，即相同值按键消息。
 * \param[in]    none
 * \param[out]   none
 * \return       none
 * \ingroup      common_func
 * \note
 * \li  该接口用于过滤当前按键值的后续动作，如需过滤掉任意指定按键，需直接调用
 *      change_filter_key 设置。
 * \li  在检测到当前按键抬起消息或者其他按键消息后，由 com_gui_msg_hook 自动调用解除。
 * \li  如果此时没有按键按下，该接口调用不会产生真正的按键过滤效果。
*******************************************************************************/
void com_filter_key_hold(void)
{
4869487e:	0104      	addiu	s1,sp,16
48694880:	b205      	lw	v0,48694894 <com_filter_key_hold+0x18>
    change_filter_key(this_filter_key_value);
48694882:	a240      	lbu	v0,0(v0)
48694884:	6782      	move	a0,v0
48694886:	1b50 5213 	jal	4869484c <change_filter_key>
4869488a:	6500      	nop
4869488c:	65b9      	move	sp,s1
}
4869488e:	6451      	restore	8,ra,s1
48694890:	e8a0      	jrc	ra
48694892:	0000      	addiu	s0,sp,0
48694894:	5be8      	sltiu	v1,232
48694896:	9fc1      	lw	a2,4(a3)

48694898 <com_app_msg_hook>:
48694898:	64d6      	save	48,ra,s1
 * \ingroup      misc_func
 * \note 
*******************************************************************************/
void com_app_msg_hook(private_msg_t *private_msg)
{
4869489a:	0104      	addiu	s1,sp,16
4869489c:	d988      	sw	a0,32(s1)
4869489e:	9948      	lw	v0,32(s1)
    msg_apps_type_e msg_type = private_msg->msg.type;
486948a0:	9a40      	lw	v0,0(v0)
486948a2:	c940      	sh	v0,0(s1)
486948a4:	a940      	lhu	v0,0(s1)
    
    switch(msg_type)
486948a6:	4a80      	addiu	v0,-128
486948a8:	424e      	addiu	v0,v0,-2
486948aa:	d944      	sw	v0,16(s1)
486948ac:	9944      	lw	v0,16(s1)
486948ae:	5a40      	sltiu	v0,64
486948b0:	f0a0 6005 	bteqz	486949fe <com_app_msg_hook+0x166>
486948b4:	9944      	lw	v0,16(s1)
486948b6:	3344      	sll	v1,v0,1
486948b8:	0a04      	la	v0,486948c8 <com_app_msg_hook+0x30>
486948ba:	e349      	addu	v0,v1,v0
486948bc:	aa40      	lhu	v0,0(v0)
486948be:	6762      	move	v1,v0
486948c0:	ebb1      	seh	v1
486948c2:	b273      	lw	v0,48694a8c <.LBE2+0x34>
486948c4:	e349      	addu	v0,v1,v0
486948c6:	ea80      	jrc	v0
486948c8:	0131      	addiu	s1,sp,196
486948ca:	0137      	addiu	s1,sp,220
486948cc:	0131      	addiu	s1,sp,196
486948ce:	0137      	addiu	s1,sp,220
486948d0:	0137      	addiu	s1,sp,220
486948d2:	0137      	addiu	s1,sp,220
486948d4:	0137      	addiu	s1,sp,220
486948d6:	0137      	addiu	s1,sp,220
486948d8:	0137      	addiu	s1,sp,220
486948da:	0137      	addiu	s1,sp,220
486948dc:	0137      	addiu	s1,sp,220
486948de:	0137      	addiu	s1,sp,220
486948e0:	0137      	addiu	s1,sp,220
486948e2:	0137      	addiu	s1,sp,220
486948e4:	00d3      	addiu	s0,sp,844
486948e6:	010d      	addiu	s1,sp,52
486948e8:	0137      	addiu	s1,sp,220
486948ea:	0137      	addiu	s1,sp,220
486948ec:	0137      	addiu	s1,sp,220
486948ee:	0137      	addiu	s1,sp,220
486948f0:	0137      	addiu	s1,sp,220
486948f2:	0137      	addiu	s1,sp,220
486948f4:	0137      	addiu	s1,sp,220
486948f6:	0137      	addiu	s1,sp,220
486948f8:	0137      	addiu	s1,sp,220
486948fa:	0137      	addiu	s1,sp,220
486948fc:	0137      	addiu	s1,sp,220
486948fe:	0137      	addiu	s1,sp,220
48694900:	0137      	addiu	s1,sp,220
48694902:	0137      	addiu	s1,sp,220
48694904:	0137      	addiu	s1,sp,220
48694906:	0137      	addiu	s1,sp,220
48694908:	0137      	addiu	s1,sp,220
4869490a:	0137      	addiu	s1,sp,220
4869490c:	0137      	addiu	s1,sp,220
4869490e:	0137      	addiu	s1,sp,220
48694910:	0137      	addiu	s1,sp,220
48694912:	0137      	addiu	s1,sp,220
48694914:	0137      	addiu	s1,sp,220
48694916:	0137      	addiu	s1,sp,220
48694918:	0137      	addiu	s1,sp,220
4869491a:	0137      	addiu	s1,sp,220
4869491c:	0137      	addiu	s1,sp,220
4869491e:	0137      	addiu	s1,sp,220
48694920:	0137      	addiu	s1,sp,220
48694922:	0137      	addiu	s1,sp,220
48694924:	0081      	addiu	s0,sp,516
48694926:	00ab      	addiu	s0,sp,684
48694928:	0137      	addiu	s1,sp,220
4869492a:	0137      	addiu	s1,sp,220
4869492c:	0137      	addiu	s1,sp,220
4869492e:	0137      	addiu	s1,sp,220
48694930:	0137      	addiu	s1,sp,220
48694932:	0137      	addiu	s1,sp,220
48694934:	0137      	addiu	s1,sp,220
48694936:	0137      	addiu	s1,sp,220
48694938:	0137      	addiu	s1,sp,220
4869493a:	0137      	addiu	s1,sp,220
4869493c:	0137      	addiu	s1,sp,220
4869493e:	0137      	addiu	s1,sp,220
48694940:	0137      	addiu	s1,sp,220
48694942:	0137      	addiu	s1,sp,220
48694944:	00cb      	addiu	s0,sp,812
48694946:	00cb      	addiu	s0,sp,812
48694948:	1b50 52d9 	jal	48694b64 <get_card_state>
    {
    case MSG_SD_IN:

        if(get_card_state() == CARD_STATE_CARD_NULL)//只有在CARD_NULL状态下才需要设置
4869494c:	6500      	nop
4869494e:	651a      	move	t8,v0
48694950:	6104      	btnez	4869495a <com_app_msg_hook+0xc2>
48694952:	6c01      	li	a0,1
        {
            change_card_state(CARD_STATE_CARD_IN);
48694954:	1b50 52d3 	jal	48694b4c <change_card_state>
48694958:	6500      	nop
4869495a:	6c00      	li	a0,0
        }
        change_card_plist(FALSE);
4869495c:	1b50 52cd 	jal	48694b34 <change_card_plist>
48694960:	6500      	nop
48694962:	6c00      	li	a0,0
        change_card_update(FALSE);
48694964:	1b50 52c7 	jal	48694b1c <change_card_update>
48694968:	6500      	nop
4869496a:	b346      	lw	v1,48694a80 <.LBE2+0x28>
        g_ss_vip_event = TRUE;
4869496c:	6a01      	li	v0,1
4869496e:	c340      	sb	v0,0(v1)
48694970:	1046      	b	486949fe <com_app_msg_hook+0x166>
        break;
48694972:	6c00      	li	a0,0
    case MSG_SD_OUT:
                
        change_card_state(CARD_STATE_CARD_NULL);
48694974:	1b50 52d3 	jal	48694b4c <change_card_state>
48694978:	6500      	nop
4869497a:	6c00      	li	a0,0
        change_card_plist(FALSE);
4869497c:	1b50 52cd 	jal	48694b34 <change_card_plist>
48694980:	6500      	nop
48694982:	6c00      	li	a0,0
        change_card_update(FALSE);
48694984:	1b50 52c7 	jal	48694b1c <change_card_update>
48694988:	6500      	nop
4869498a:	b33e      	lw	v1,48694a80 <.LBE2+0x28>
        g_ss_vip_event = TRUE;
4869498c:	6a01      	li	v0,1
4869498e:	c340      	sb	v0,0(v1)
48694990:	1036      	b	486949fe <com_app_msg_hook+0x166>
        break;
48694992:	b33c      	lw	v1,48694a80 <.LBE2+0x28>
        
    case MSG_UH_IN:
    case MSG_UH_OUT:
        g_ss_vip_event = TRUE;
48694994:	6a01      	li	v0,1
48694996:	c340      	sb	v0,0(v1)
48694998:	1032      	b	486949fe <com_app_msg_hook+0x166>
        break;
4869499a:	6c14      	li	a0,20
        
    case MSG_USB_STICK:
        /* wait 50ms for USB-connect stably. */
        sys_os_time_dly(20);
4869499c:	6d00      	li	a1,0
4869499e:	6e00      	li	a2,0
486949a0:	6f31      	li	a3,49
486949a2:	b239      	lw	v0,48694a84 <.LBE2+0x2c>
486949a4:	eac0      	jalrc	v0
486949a6:	b239      	lw	v0,48694a88 <.LBE2+0x30>
        
        if((act_readb(DPDMCTRL)&PLUGINSTATUS) == 0)//ADAPTOR适配线插入
486949a8:	a240      	lbu	v0,0(v0)
486949aa:	6762      	move	v1,v0
486949ac:	eb11      	zeb	v1
486949ae:	6a40      	li	v0,64
486949b0:	ea6c      	and	v0,v1
486949b2:	2a08      	bnez	v0,486949c4 <com_app_msg_hook+0x12c>
486949b4:	9968      	lw	v1,32(s1)
        {
            private_msg->msg.type = MSG_ADAPTOR_IN;//改为MSG_ADAPTOR_IN消息
486949b6:	6aa0      	li	v0,160
486949b8:	db40      	sw	v0,0(v1)
486949ba:	6c02      	li	a0,2
            change_cable_state(CABLE_STATE_ADAPTOR_IN);
486949bc:	1b50 52c1 	jal	48694b04 <change_cable_state>
486949c0:	6500      	nop
486949c2:	1004      	b	486949cc <com_app_msg_hook+0x134>
486949c4:	6c01      	li	a0,1
        }
        else
        {
            change_cable_state(CABLE_STATE_CABLE_IN);
486949c6:	1b50 52c1 	jal	48694b04 <change_cable_state>
486949ca:	6500      	nop
486949cc:	b32d      	lw	v1,48694a80 <.LBE2+0x28>
        }
    
        g_ss_vip_event = TRUE;
486949ce:	6a01      	li	v0,1
486949d0:	c340      	sb	v0,0(v1)
486949d2:	1015      	b	486949fe <com_app_msg_hook+0x166>
        break;
486949d4:	1b50 52bb 	jal	48694aec <get_cable_state>
    case MSG_USB_UNSTICK:
        if(get_cable_state() == CABLE_STATE_ADAPTOR_IN)//ADAPTOR适配线拔出
486949d8:	6500      	nop
486949da:	7202      	cmpi	v0,2
486949dc:	6758      	move	v0,t8
486949de:	5a01      	sltiu	v0,1
486949e0:	6003      	bteqz	486949e8 <com_app_msg_hook+0x150>
486949e2:	9968      	lw	v1,32(s1)
        {
            private_msg->msg.type = MSG_ADAPTOR_OUT;//改为MSG_ADAPTOR_OUT消息
486949e4:	6aa1      	li	v0,161
486949e6:	db40      	sw	v0,0(v1)
486949e8:	6c00      	li	a0,0
        }
        change_cable_state(CABLE_STATE_CABLE_NULL);
486949ea:	1b50 52c1 	jal	48694b04 <change_cable_state>
486949ee:	6500      	nop
486949f0:	b324      	lw	v1,48694a80 <.LBE2+0x28>
        g_ss_vip_event = TRUE;
486949f2:	6a01      	li	v0,1
486949f4:	c340      	sb	v0,0(v1)
486949f6:	1003      	b	486949fe <com_app_msg_hook+0x166>
        break;
486949f8:	b322      	lw	v1,48694a80 <.LBE2+0x28>
        
    case MSG_POWER_OFF:
    case MSG_LOW_POWER:
    //case MSG_RTCALARM:
        g_ss_vip_event = TRUE;
486949fa:	6a01      	li	v0,1
486949fc:	c340      	sb	v0,0(v1)
486949fe:	b221      	lw	v0,48694a80 <.LBE2+0x28>
        break;
    default:
        break;
    }
    
    if(g_ss_vip_event == TRUE)
48694a00:	a240      	lbu	v0,0(v0)
48694a02:	7201      	cmpi	v0,1
48694a04:	6758      	move	v0,t8
48694a06:	5a01      	sltiu	v0,1
48694a08:	6037      	bteqz	48694a78 <.LBE2+0x20>
48694a0a:	1b50 52b5 	jal	48694ad4 <get_backlight_state>
    {
        //若背光处于调暗状态，恢复背光亮度，并修改背光状态
        if(get_backlight_state() == BACKLIGHT_STATE_DARK)
48694a0e:	6500      	nop
48694a10:	7201      	cmpi	v0,1
48694a12:	6758      	move	v0,t8
48694a14:	5a01      	sltiu	v0,1
48694a16:	600a      	bteqz	48694a2c <com_app_msg_hook+0x194>
48694a18:	b21e      	lw	v0,48694a90 <.LBE2+0x38>
        {
            com_set_contrast(sys_comval->lightness);
48694a1a:	9a40      	lw	v0,0(v0)
48694a1c:	a242      	lbu	v0,2(v0)
48694a1e:	6782      	move	a0,v0
48694a20:	b21d      	lw	v0,48694a94 <.LBE2+0x3c>
48694a22:	eac0      	jalrc	v0
48694a24:	6c00      	li	a0,0
            change_backlight_state(BACKLIGHT_STATE_NORMAL);
48694a26:	1b50 52af 	jal	48694abc <change_backlight_state>
48694a2a:	6500      	nop
48694a2c:	1b50 52a9 	jal	48694aa4 <get_screensave_state>
        }
        
        //若处于屏幕保护模式，退出屏幕保护模式
        if(get_screensave_state() == TRUE)
48694a30:	6500      	nop
48694a32:	7201      	cmpi	v0,1
48694a34:	6758      	move	v0,t8
48694a36:	5a01      	sltiu	v0,1
48694a38:	6010      	bteqz	48694a5a <.LBE2+0x2>

48694a3a <.LBB2>:
48694a3a:	9968      	lw	v1,32(s1)
        {
            msg_apps_t msg;
            
            //先响应退出屏幕保护模式，再响应当前消息，即偷梁换柱为退出屏幕保护模式消息，然后重发一次当前消息
            //1.返回 exit_screen_save 异步消息，在 com_message_box 中退出屏保
            private_msg->msg.type = MSG_APP_EXIT_SCREEN_SAVE;
48694a3c:	6aff      	li	v0,255
48694a3e:	4247      	addiu	v0,v0,7
48694a40:	db40      	sw	v0,0(v1)
48694a42:	a940      	lhu	v0,0(s1)
            
            //2.重发一次当前消息
            msg.type = msg_type;
48694a44:	d942      	sw	v0,8(s1)
48694a46:	b215      	lw	v0,48694a98 <.LBE2+0x40>
            send_async_msg(g_this_app_info->app_id, &msg);
48694a48:	9a40      	lw	v0,0(v0)
48694a4a:	a241      	lbu	v0,1(v0)
48694a4c:	4167      	addiu	v1,s1,7
48694a4e:	4361      	addiu	v1,v1,1
48694a50:	6782      	move	a0,v0
48694a52:	67a3      	move	a1,v1
48694a54:	b212      	lw	v0,48694a9c <.LBE2+0x44>
48694a56:	eac0      	jalrc	v0

48694a58 <.LBE2>:
48694a58:	1003      	b	48694a60 <.LBE2+0x8>
48694a5a:	b30a      	lw	v1,48694a80 <.LBE2+0x28>
        }
        else
        {
            g_ss_vip_event = FALSE;
48694a5c:	6a00      	li	v0,0
48694a5e:	c340      	sb	v0,0(v1)
48694a60:	b310      	lw	v1,48694aa0 <.LBE2+0x48>
        }
        
        //背光关闭计时，屏幕保护计时，省电关机计时，返回正在播放计时 清0
        g_sys_counter.light_counter = 0;
48694a62:	6a00      	li	v0,0
48694a64:	cb40      	sh	v0,0(v1)
48694a66:	b30f      	lw	v1,48694aa0 <.LBE2+0x48>
        g_sys_counter.screen_saver_counter = 0;
48694a68:	6a00      	li	v0,0
48694a6a:	cb41      	sh	v0,2(v1)
48694a6c:	b30d      	lw	v1,48694aa0 <.LBE2+0x48>
        g_sys_counter.poweroff_counter = 0;
48694a6e:	6a00      	li	v0,0
48694a70:	cb44      	sh	v0,8(v1)
48694a72:	b30c      	lw	v1,48694aa0 <.LBE2+0x48>
        g_sys_counter.playing_counter = 0;
48694a74:	6a00      	li	v0,0
48694a76:	cb42      	sh	v0,4(v1)
48694a78:	65b9      	move	sp,s1
    }
}
48694a7a:	6454      	restore	32,ra,s1
48694a7c:	e8a0      	jrc	ra
48694a7e:	0000      	addiu	s0,sp,0
48694a80:	5bbc      	sltiu	v1,188
48694a82:	9fc1      	lw	a2,4(a3)
48694a84:	640d      	restore	104
48694a86:	bfc1      	lwu	a2,4(a3)
48694a88:	041a      	addiu	a0,sp,104
48694a8a:	c008      	sb	s0,8(s0)
48694a8c:	48c8      	addiu	s0,-56
48694a8e:	4869      	addiu	s0,105
48694a90:	5a48      	sltiu	v0,72
48694a92:	9fc1      	lw	a2,4(a3)
48694a94:	4601      	addiu	s0,a2,1
48694a96:	48b5      	addiu	s0,-75
48694a98:	a1f0      	lbu	a3,16(s1)
48694a9a:	9fc1      	lw	a2,4(a3)
48694a9c:	4759      	daddiu	v0,a3,-7
48694a9e:	4849      	addiu	s0,73
48694aa0:	a180      	lbu	a0,0(s1)
48694aa2:	9fc1      	lw	a2,4(a3)

48694aa4 <get_screensave_state>:
48694aa4:	6491      	save	8,s1
48694aa6:	673d      	move	s1,sp
48694aa8:	b204      	lw	v0,48694ab8 <get_screensave_state+0x14>
48694aaa:	a24a      	lbu	v0,10(v0)
48694aac:	651a      	move	t8,v0
48694aae:	6758      	move	v0,t8
48694ab0:	65b9      	move	sp,s1
48694ab2:	6411      	restore	8,s1
48694ab4:	e8a0      	jrc	ra
48694ab6:	0000      	addiu	s0,sp,0
48694ab8:	a1b8      	lbu	a1,24(s1)
48694aba:	9fc1      	lw	a2,4(a3)

48694abc <change_backlight_state>:
48694abc:	6491      	save	8,s1
48694abe:	673d      	move	s1,sp
48694ac0:	6744      	move	v0,a0
48694ac2:	c148      	sb	v0,8(s1)
48694ac4:	b303      	lw	v1,48694ad0 <change_backlight_state+0x14>
48694ac6:	a148      	lbu	v0,8(s1)
48694ac8:	c349      	sb	v0,9(v1)
48694aca:	65b9      	move	sp,s1
48694acc:	6411      	restore	8,s1
48694ace:	e8a0      	jrc	ra
48694ad0:	a1b8      	lbu	a1,24(s1)
48694ad2:	9fc1      	lw	a2,4(a3)

48694ad4 <get_backlight_state>:
48694ad4:	6491      	save	8,s1
48694ad6:	673d      	move	s1,sp
48694ad8:	b204      	lw	v0,48694ae8 <get_backlight_state+0x14>
48694ada:	a249      	lbu	v0,9(v0)
48694adc:	651a      	move	t8,v0
48694ade:	6758      	move	v0,t8
48694ae0:	65b9      	move	sp,s1
48694ae2:	6411      	restore	8,s1
48694ae4:	e8a0      	jrc	ra
48694ae6:	0000      	addiu	s0,sp,0
48694ae8:	a1b8      	lbu	a1,24(s1)
48694aea:	9fc1      	lw	a2,4(a3)

48694aec <get_cable_state>:
48694aec:	6491      	save	8,s1
48694aee:	673d      	move	s1,sp
48694af0:	b204      	lw	v0,48694b00 <get_cable_state+0x14>
48694af2:	a24d      	lbu	v0,13(v0)
48694af4:	651a      	move	t8,v0
48694af6:	6758      	move	v0,t8
48694af8:	65b9      	move	sp,s1
48694afa:	6411      	restore	8,s1
48694afc:	e8a0      	jrc	ra
48694afe:	0000      	addiu	s0,sp,0
48694b00:	a1b8      	lbu	a1,24(s1)
48694b02:	9fc1      	lw	a2,4(a3)

48694b04 <change_cable_state>:
48694b04:	6491      	save	8,s1
48694b06:	673d      	move	s1,sp
48694b08:	6744      	move	v0,a0
48694b0a:	c148      	sb	v0,8(s1)
48694b0c:	b303      	lw	v1,48694b18 <change_cable_state+0x14>
48694b0e:	a148      	lbu	v0,8(s1)
48694b10:	c34d      	sb	v0,13(v1)
48694b12:	65b9      	move	sp,s1
48694b14:	6411      	restore	8,s1
48694b16:	e8a0      	jrc	ra
48694b18:	a1b8      	lbu	a1,24(s1)
48694b1a:	9fc1      	lw	a2,4(a3)

48694b1c <change_card_update>:
48694b1c:	6491      	save	8,s1
48694b1e:	673d      	move	s1,sp
48694b20:	6744      	move	v0,a0
48694b22:	c148      	sb	v0,8(s1)
48694b24:	b303      	lw	v1,48694b30 <change_card_update+0x14>
48694b26:	a148      	lbu	v0,8(s1)
48694b28:	c352      	sb	v0,18(v1)
48694b2a:	65b9      	move	sp,s1
48694b2c:	6411      	restore	8,s1
48694b2e:	e8a0      	jrc	ra
48694b30:	a1b8      	lbu	a1,24(s1)
48694b32:	9fc1      	lw	a2,4(a3)

48694b34 <change_card_plist>:
48694b34:	6491      	save	8,s1
48694b36:	673d      	move	s1,sp
48694b38:	6744      	move	v0,a0
48694b3a:	c148      	sb	v0,8(s1)
48694b3c:	b303      	lw	v1,48694b48 <change_card_plist+0x14>
48694b3e:	a148      	lbu	v0,8(s1)
48694b40:	c351      	sb	v0,17(v1)
48694b42:	65b9      	move	sp,s1
48694b44:	6411      	restore	8,s1
48694b46:	e8a0      	jrc	ra
48694b48:	a1b8      	lbu	a1,24(s1)
48694b4a:	9fc1      	lw	a2,4(a3)

48694b4c <change_card_state>:
48694b4c:	6491      	save	8,s1
48694b4e:	673d      	move	s1,sp
48694b50:	6744      	move	v0,a0
48694b52:	c148      	sb	v0,8(s1)
48694b54:	b303      	lw	v1,48694b60 <change_card_state+0x14>
48694b56:	a148      	lbu	v0,8(s1)
48694b58:	c34b      	sb	v0,11(v1)
48694b5a:	65b9      	move	sp,s1
48694b5c:	6411      	restore	8,s1
48694b5e:	e8a0      	jrc	ra
48694b60:	a1b8      	lbu	a1,24(s1)
48694b62:	9fc1      	lw	a2,4(a3)

48694b64 <get_card_state>:
48694b64:	6491      	save	8,s1
48694b66:	673d      	move	s1,sp
48694b68:	b204      	lw	v0,48694b78 <get_card_state+0x14>
48694b6a:	a24b      	lbu	v0,11(v0)
48694b6c:	651a      	move	t8,v0
48694b6e:	6758      	move	v0,t8
48694b70:	65b9      	move	sp,s1
48694b72:	6411      	restore	8,s1
48694b74:	e8a0      	jrc	ra
48694b76:	0000      	addiu	s0,sp,0
48694b78:	a1b8      	lbu	a1,24(s1)
48694b7a:	9fc1      	lw	a2,4(a3)
	...
Disassembly of section BANK_UI_1_27:

486d4600 <com_set_sound_keytone>:
486d4600:	64d4      	save	32,ra,s1
 * \retval           FALSE 设置按键音失败
 * \note
*******************************************************************************/
bool com_set_sound_keytone(uint8 kt_enable)
{
486d4602:	0104      	addiu	s1,sp,16
486d4604:	6744      	move	v0,a0
486d4606:	c150      	sb	v0,16(s1)
486d4608:	b244      	lw	v0,486d4718 <com_set_sound_keytone+0x118>
    soundout_state_e cur_state;
    bool last_sound_flag, sound_flag;
    bool dac_flag;
    uint8 pa_mode;
    uint8 aout_mode;

    pa_mode = g_app_info_state.pa_mode;
486d460a:	a247      	lbu	v0,7(v0)
486d460c:	c144      	sb	v0,4(s1)
486d460e:	b243      	lw	v0,486d4718 <com_set_sound_keytone+0x118>
    aout_mode = g_app_info_state.aout_mode;
486d4610:	a248      	lbu	v0,8(v0)
486d4612:	c145      	sb	v0,5(s1)
486d4614:	1b70 51d1 	jal	486d4744 <get_soundout_state>
    //获取设置前声音状态
    cur_state = (soundout_state_e)get_soundout_state();
486d4618:	6500      	nop
486d461a:	c140      	sb	v0,0(s1)
486d461c:	1b70 51ca 	jal	486d4728 <get_keytone_enable>
    if((get_keytone_enable() == TRUE) || (cur_state != SOUND_OUT_STOP))
486d4620:	6500      	nop
486d4622:	7201      	cmpi	v0,1
486d4624:	6758      	move	v0,t8
486d4626:	5a01      	sltiu	v0,1
486d4628:	6106      	btnez	486d4636 <com_set_sound_keytone+0x36>
486d462a:	a140      	lbu	v0,0(s1)
486d462c:	7201      	cmpi	v0,1
486d462e:	6758      	move	v0,t8
486d4630:	5a01      	sltiu	v0,1
486d4632:	6001      	bteqz	486d4636 <com_set_sound_keytone+0x36>
486d4634:	1003      	b	486d463c <com_set_sound_keytone+0x3c>
486d4636:	6a01      	li	v0,1
    {
        last_sound_flag = TRUE;
486d4638:	c141      	sb	v0,1(s1)
486d463a:	1002      	b	486d4640 <com_set_sound_keytone+0x40>
486d463c:	6a00      	li	v0,0
    }
    else
    {
        last_sound_flag = FALSE;
486d463e:	c141      	sb	v0,1(s1)
486d4640:	a140      	lbu	v0,0(s1)
    }

    //获取音频输出dac状态
    if((cur_state == SOUND_OUT_START) || (cur_state == SOUND_OUT_RESUME))
486d4642:	2206      	beqz	v0,486d4650 <com_set_sound_keytone+0x50>
486d4644:	a140      	lbu	v0,0(s1)
486d4646:	7203      	cmpi	v0,3
486d4648:	6758      	move	v0,t8
486d464a:	5a01      	sltiu	v0,1
486d464c:	6101      	btnez	486d4650 <com_set_sound_keytone+0x50>
486d464e:	1003      	b	486d4656 <com_set_sound_keytone+0x56>
486d4650:	6a01      	li	v0,1
    {
        dac_flag = TRUE;
486d4652:	c143      	sb	v0,3(s1)
486d4654:	1002      	b	486d465a <com_set_sound_keytone+0x5a>
486d4656:	6a00      	li	v0,0
    }
    else
    {
        dac_flag = FALSE;
486d4658:	c143      	sb	v0,3(s1)
486d465a:	a150      	lbu	v0,16(s1)
    }

    if(kt_enable != 0)
486d465c:	2208      	beqz	v0,486d466e <com_set_sound_keytone+0x6e>
486d465e:	b42f      	lw	a0,486d4718 <com_set_sound_keytone+0x118>
    {
        //enable key tone
        g_app_info_state.sound_state |= (uint8)SOUND_BIT_KT_ENABLE;
486d4660:	b22e      	lw	v0,486d4718 <com_set_sound_keytone+0x118>
486d4662:	a245      	lbu	v0,5(v0)
486d4664:	6b80      	li	v1,128
486d4666:	eb6b      	neg	v1
486d4668:	ea6d      	or	v0,v1
486d466a:	c445      	sb	v0,5(a0)
486d466c:	1007      	b	486d467c <com_set_sound_keytone+0x7c>
486d466e:	b42b      	lw	a0,486d4718 <com_set_sound_keytone+0x118>
    }
    else
    {
        //disable key tone
        g_app_info_state.sound_state &= (uint8)SOUND_BIT_KT_DISABLE;
486d4670:	b22a      	lw	v0,486d4718 <com_set_sound_keytone+0x118>
486d4672:	a245      	lbu	v0,5(v0)
486d4674:	6762      	move	v1,v0
486d4676:	6a7f      	li	v0,127
486d4678:	ea6c      	and	v0,v1
486d467a:	c445      	sb	v0,5(a0)
486d467c:	1b70 51ca 	jal	486d4728 <get_keytone_enable>
    }

    //获取设置后声音状态
    if((get_keytone_enable() == TRUE) || ((soundout_state_e)get_soundout_state() != SOUND_OUT_STOP))
486d4680:	6500      	nop
486d4682:	7201      	cmpi	v0,1
486d4684:	6758      	move	v0,t8
486d4686:	5a01      	sltiu	v0,1
486d4688:	6108      	btnez	486d469a <com_set_sound_keytone+0x9a>
486d468a:	1b70 51d1 	jal	486d4744 <get_soundout_state>
486d468e:	6500      	nop
486d4690:	7201      	cmpi	v0,1
486d4692:	6758      	move	v0,t8
486d4694:	5a01      	sltiu	v0,1
486d4696:	6001      	bteqz	486d469a <com_set_sound_keytone+0x9a>
486d4698:	1003      	b	486d46a0 <com_set_sound_keytone+0xa0>
486d469a:	6a01      	li	v0,1
    {
        sound_flag = TRUE;
486d469c:	c142      	sb	v0,2(s1)
486d469e:	1002      	b	486d46a4 <com_set_sound_keytone+0xa4>
486d46a0:	6a00      	li	v0,0
    }
    else
    {
        sound_flag = FALSE;
486d46a2:	c142      	sb	v0,2(s1)
486d46a4:	a143      	lbu	v0,3(s1)
    }

    //关闭dac
    if((dac_flag == FALSE) && (kt_enable == 0))
486d46a6:	2a08      	bnez	v0,486d46b8 <com_set_sound_keytone+0xb8>
486d46a8:	a150      	lbu	v0,16(s1)
486d46aa:	2a06      	bnez	v0,486d46b8 <com_set_sound_keytone+0xb8>
486d46ac:	6c00      	li	a0,0
    {
//     disable_dac(0);//需要进一步调试
        key_speakcheck(0);//禁止speaker输出
486d46ae:	6d00      	li	a1,0
486d46b0:	6e00      	li	a2,0
486d46b2:	6f04      	li	a3,4
486d46b4:	b21a      	lw	v0,486d471c <com_set_sound_keytone+0x11c>
486d46b6:	eac0      	jalrc	v0
486d46b8:	a141      	lbu	v0,1(s1)
    }

    //声音状态从关到开，打开pa
    if((last_sound_flag == FALSE) && (sound_flag == TRUE))
486d46ba:	2a0e      	bnez	v0,486d46d8 <com_set_sound_keytone+0xd8>
486d46bc:	a142      	lbu	v0,2(s1)
486d46be:	7201      	cmpi	v0,1
486d46c0:	6758      	move	v0,t8
486d46c2:	5a01      	sltiu	v0,1
486d46c4:	6009      	bteqz	486d46d8 <com_set_sound_keytone+0xd8>
486d46c6:	a144      	lbu	v0,4(s1)
    {
        //打开pa
#ifdef AUDIO_DEVICE_PA_DDV
        enable_pa_ddv(0, 0);
#else
        enable_pa(pa_mode, 0, aout_mode);
486d46c8:	a165      	lbu	v1,5(s1)
486d46ca:	6782      	move	a0,v0
486d46cc:	6d00      	li	a1,0
486d46ce:	67c3      	move	a2,v1
486d46d0:	6f00      	li	a3,0
486d46d2:	b214      	lw	v0,486d4720 <com_set_sound_keytone+0x120>
486d46d4:	eac0      	jalrc	v0
486d46d6:	100e      	b	486d46f4 <com_set_sound_keytone+0xf4>
486d46d8:	a141      	lbu	v0,1(s1)
#endif
    }
    //声音状态从开到关，关闭pa
    else if((last_sound_flag == TRUE) && (sound_flag == FALSE))
486d46da:	7201      	cmpi	v0,1
486d46dc:	6758      	move	v0,t8
486d46de:	5a01      	sltiu	v0,1
486d46e0:	6009      	bteqz	486d46f4 <com_set_sound_keytone+0xf4>
486d46e2:	a142      	lbu	v0,2(s1)
486d46e4:	2a07      	bnez	v0,486d46f4 <com_set_sound_keytone+0xf4>
486d46e6:	a145      	lbu	v0,5(s1)
    {
        //关闭pa
#ifdef AUDIO_DEVICE_PA_DDV
        disable_pa_ddv();
#else
        disable_pa(aout_mode);//需要进一步调试
486d46e8:	6782      	move	a0,v0
486d46ea:	6d00      	li	a1,0
486d46ec:	6e00      	li	a2,0
486d46ee:	6f01      	li	a3,1
486d46f0:	b20c      	lw	v0,486d4720 <com_set_sound_keytone+0x120>
486d46f2:	eac0      	jalrc	v0
486d46f4:	a143      	lbu	v0,3(s1)
#endif
    }
    else
    {
        //do nothing for QAC
    }

    //打开dac，并设置按键音pa
    if((dac_flag == FALSE) && (kt_enable != 0))
486d46f6:	2a0b      	bnez	v0,486d470e <com_set_sound_keytone+0x10e>
486d46f8:	a150      	lbu	v0,16(s1)
486d46fa:	2209      	beqz	v0,486d470e <com_set_sound_keytone+0x10e>
486d46fc:	6c01      	li	a0,1
    {
        key_speakcheck(1);//使能speaker输出
486d46fe:	6d00      	li	a1,0
486d4700:	6e00      	li	a2,0
486d4702:	6f04      	li	a3,4
486d4704:	b206      	lw	v0,486d471c <com_set_sound_keytone+0x11c>
486d4706:	eac0      	jalrc	v0
486d4708:	6c0c      	li	a0,12
        com_set_phy_volume(KEY_TONE_VOLUME);
486d470a:	b207      	lw	v0,486d4724 <com_set_sound_keytone+0x124>
486d470c:	eac0      	jalrc	v0
486d470e:	6a01      	li	v0,1
    }

    return TRUE;
486d4710:	65b9      	move	sp,s1
}
486d4712:	6452      	restore	16,ra,s1
486d4714:	e8a0      	jrc	ra
486d4716:	0000      	addiu	s0,sp,0
486d4718:	a1b8      	lbu	a1,24(s1)
486d471a:	9fc1      	lw	a2,4(a3)
486d471c:	6405      	restore	40
486d471e:	bfc1      	lwu	a2,4(a3)
486d4720:	6401      	restore	8
486d4722:	bfc1      	lwu	a2,4(a3)
486d4724:	4601      	addiu	s0,a2,1
486d4726:	4871      	addiu	s0,113

486d4728 <get_keytone_enable>:
486d4728:	6491      	save	8,s1
486d472a:	673d      	move	s1,sp
486d472c:	b205      	lw	v0,486d4740 <get_keytone_enable+0x18>
486d472e:	8245      	lb	v0,5(v0)
486d4730:	f7c0 3242 	srl	v0,31
486d4734:	651a      	move	t8,v0
486d4736:	6758      	move	v0,t8
486d4738:	65b9      	move	sp,s1
486d473a:	6411      	restore	8,s1
486d473c:	e8a0      	jrc	ra
486d473e:	0000      	addiu	s0,sp,0
486d4740:	a1b8      	lbu	a1,24(s1)
486d4742:	9fc1      	lw	a2,4(a3)

486d4744 <get_soundout_state>:
486d4744:	6491      	save	8,s1
486d4746:	673d      	move	s1,sp
486d4748:	b205      	lw	v0,486d475c <get_soundout_state+0x18>
486d474a:	a245      	lbu	v0,5(v0)
486d474c:	6b0f      	li	v1,15
486d474e:	ea6c      	and	v0,v1
486d4750:	651a      	move	t8,v0
486d4752:	6758      	move	v0,t8
486d4754:	65b9      	move	sp,s1
486d4756:	6411      	restore	8,s1
486d4758:	e8a0      	jrc	ra
486d475a:	0000      	addiu	s0,sp,0
486d475c:	a1b8      	lbu	a1,24(s1)
486d475e:	9fc1      	lw	a2,4(a3)

486d4760 <com_set_sound_volume>:
486d4760:	64d6      	save	48,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *    设置声音音量。
 * \param[in]    volume 设置音量值
 * \param[out]   none
 * \return       bool
 * \retval           TRUE 设置音量成功
 * \retval           FALSE 设置音量失败
 * \note
*******************************************************************************/
bool com_set_sound_volume(uint8 volume)
{
486d4762:	0104      	addiu	s1,sp,16
486d4764:	6744      	move	v0,a0
486d4766:	f020 c140 	sb	v0,32(s1)
486d476a:	6a01      	li	v0,1
    bool bret = TRUE;
486d476c:	c140      	sb	v0,0(s1)
486d476e:	f020 a140 	lbu	v0,32(s1)

    //保存当前音量值
    set_current_volume(volume);
486d4772:	6782      	move	a0,v0
486d4774:	1b70 5209 	jal	486d4824 <set_current_volume>
486d4778:	6500      	nop
486d477a:	1b70 5203 	jal	486d480c <get_engine_state>

    //只有正在播放音乐或收音时才需要调整音量
    if(get_engine_state() == ENGINE_STATE_PLAYING)
486d477e:	6500      	nop
486d4780:	7201      	cmpi	v0,1
486d4782:	6758      	move	v0,t8
486d4784:	5a01      	sltiu	v0,1
486d4786:	602d      	bteqz	486d47e2 <.LBE2>

486d4788 <.LBB2>:
486d4788:	1b70 51fd 	jal	486d47f4 <get_engine_type>
    {
        msg_apps_t msg;
        engine_type_e type;

        type = get_engine_type();
486d478c:	6500      	nop
486d478e:	c150      	sb	v0,16(s1)
486d4790:	a150      	lbu	v0,16(s1)
        if(type == ENGINE_MUSIC)
486d4792:	7201      	cmpi	v0,1
486d4794:	6758      	move	v0,t8
486d4796:	5a01      	sltiu	v0,1
486d4798:	6010      	bteqz	486d47ba <.LBB2+0x32>
486d479a:	6a20      	li	v0,32
        {
            //设置音量
            msg.content.addr = &volume;
486d479c:	e229      	addu	v0,s1
486d479e:	d943      	sw	v0,12(s1)
486d47a0:	f320 6a11 	li	v0,817
            //消息类型(即消息名称)
            msg.type = MSG_MENGINE_SET_VOLUME_SYNC;
486d47a4:	d942      	sw	v0,8(s1)
486d47a6:	4147      	addiu	v0,s1,7
            //发送同步消息
            bret = send_sync_msg(APP_ID_MENGINE, &msg, NULL, 0);
486d47a8:	4241      	addiu	v0,v0,1
486d47aa:	6c0d      	li	a0,13
486d47ac:	67a2      	move	a1,v0
486d47ae:	6e00      	li	a2,0
486d47b0:	6f00      	li	a3,0
486d47b2:	b210      	lw	v0,486d47f0 <.LBE2+0xe>
486d47b4:	eac0      	jalrc	v0
486d47b6:	c140      	sb	v0,0(s1)
486d47b8:	1014      	b	486d47e2 <.LBE2>
486d47ba:	a150      	lbu	v0,16(s1)
        }
        else if(type == ENGINE_RADIO)
486d47bc:	7202      	cmpi	v0,2
486d47be:	6758      	move	v0,t8
486d47c0:	5a01      	sltiu	v0,1
486d47c2:	600f      	bteqz	486d47e2 <.LBE2>
486d47c4:	6a20      	li	v0,32
        {
            //设置音量
            msg.content.addr = &volume;
486d47c6:	e229      	addu	v0,s1
486d47c8:	d943      	sw	v0,12(s1)
486d47ca:	f400 6a0d 	li	v0,1037
            //消息类型(即消息名称)
            msg.type = MSG_FMENGINE_SET_VOLUME;
486d47ce:	d942      	sw	v0,8(s1)
486d47d0:	4147      	addiu	v0,s1,7
            //发送同步消息
            bret = send_sync_msg(APP_ID_FMENGINE, &msg, NULL, 0);
486d47d2:	4241      	addiu	v0,v0,1
486d47d4:	6c0e      	li	a0,14
486d47d6:	67a2      	move	a1,v0
486d47d8:	6e00      	li	a2,0
486d47da:	6f00      	li	a3,0
486d47dc:	b205      	lw	v0,486d47f0 <.LBE2+0xe>
486d47de:	eac0      	jalrc	v0
486d47e0:	c140      	sb	v0,0(s1)

486d47e2 <.LBE2>:
486d47e2:	a140      	lbu	v0,0(s1)
        }
        else
        {
            //do nothing for QAC
        }
    }

    return bret;
486d47e4:	651a      	move	t8,v0
486d47e6:	6758      	move	v0,t8
}
486d47e8:	65b9      	move	sp,s1
486d47ea:	6454      	restore	32,ra,s1
486d47ec:	e8a0      	jrc	ra
486d47ee:	0000      	addiu	s0,sp,0
486d47f0:	4679      	daddiu	v1,a2,-7
486d47f2:	4849      	addiu	s0,73

486d47f4 <get_engine_type>:
486d47f4:	6491      	save	8,s1
486d47f6:	673d      	move	s1,sp
486d47f8:	b204      	lw	v0,486d4808 <get_engine_type+0x14>
486d47fa:	a240      	lbu	v0,0(v0)
486d47fc:	651a      	move	t8,v0
486d47fe:	6758      	move	v0,t8
486d4800:	65b9      	move	sp,s1
486d4802:	6411      	restore	8,s1
486d4804:	e8a0      	jrc	ra
486d4806:	0000      	addiu	s0,sp,0
486d4808:	a1b8      	lbu	a1,24(s1)
486d480a:	9fc1      	lw	a2,4(a3)

486d480c <get_engine_state>:
486d480c:	6491      	save	8,s1
486d480e:	673d      	move	s1,sp
486d4810:	b204      	lw	v0,486d4820 <get_engine_state+0x14>
486d4812:	a241      	lbu	v0,1(v0)
486d4814:	651a      	move	t8,v0
486d4816:	6758      	move	v0,t8
486d4818:	65b9      	move	sp,s1
486d481a:	6411      	restore	8,s1
486d481c:	e8a0      	jrc	ra
486d481e:	0000      	addiu	s0,sp,0
486d4820:	a1b8      	lbu	a1,24(s1)
486d4822:	9fc1      	lw	a2,4(a3)

486d4824 <set_current_volume>:
486d4824:	6491      	save	8,s1
486d4826:	673d      	move	s1,sp
486d4828:	6744      	move	v0,a0
486d482a:	c148      	sb	v0,8(s1)
486d482c:	b303      	lw	v1,486d4838 <set_current_volume+0x14>
486d482e:	a148      	lbu	v0,8(s1)
486d4830:	c346      	sb	v0,6(v1)
486d4832:	65b9      	move	sp,s1
486d4834:	6411      	restore	8,s1
486d4836:	e8a0      	jrc	ra
486d4838:	a1b8      	lbu	a1,24(s1)
486d483a:	9fc1      	lw	a2,4(a3)

486d483c <com_set_sound_out>:
486d483c:	64d4      	save	32,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *    启动或关闭音频输出。
 * \param[in]    sound_out 是否音频输出，TRUE为是，FALSE为否
 * \param[in]    state 声音输出状态，见 soundout_state_e 定义
 * \param[in]    sound_func 启动或停止设备声音输出回调函数，可以为 NULL
 * \param[out]   none
 * \return       bool
 * \retval           TRUE 启动或关闭音频输出成功。
 * \retval           FALSE 启动或关闭音频输出失败。
 * \ingroup      common_func
 * \note
 * \li  关闭音频输出时，如果按键音使能，则进行按键音音量设置。
*******************************************************************************/
bool com_set_sound_out(bool sound_out, soundout_state_e state, void * sound_func)
{
486d483e:	0104      	addiu	s1,sp,16
486d4840:	6744      	move	v0,a0
486d4842:	6765      	move	v1,a1
486d4844:	d9c6      	sw	a2,24(s1)
486d4846:	c150      	sb	v0,16(s1)
486d4848:	c174      	sb	v1,20(s1)
486d484a:	b25b      	lw	v0,486d49b4 <.LBE4+0xa>
    bool last_sound_flag, sound_flag;
    uint8 pa_mode;
    uint8 aout_mode;
    pa_mode = g_app_info_state.pa_mode;
486d484c:	a247      	lbu	v0,7(v0)
486d484e:	c142      	sb	v0,2(s1)
486d4850:	b259      	lw	v0,486d49b4 <.LBE4+0xa>
    aout_mode = g_app_info_state.aout_mode;
486d4852:	a248      	lbu	v0,8(v0)
486d4854:	c143      	sb	v0,3(s1)
486d4856:	1b70 51ca 	jal	486d4728 <get_keytone_enable>
    sound_out = sound_out;
    //获取设置前声音状态

    if((get_keytone_enable() == TRUE) || ((soundout_state_e)get_soundout_state() != SOUND_OUT_STOP))
486d485a:	6500      	nop
486d485c:	7201      	cmpi	v0,1
486d485e:	6758      	move	v0,t8
486d4860:	5a01      	sltiu	v0,1
486d4862:	6108      	btnez	486d4874 <com_set_sound_out+0x38>
486d4864:	1b70 51d1 	jal	486d4744 <get_soundout_state>
486d4868:	6500      	nop
486d486a:	7201      	cmpi	v0,1
486d486c:	6758      	move	v0,t8
486d486e:	5a01      	sltiu	v0,1
486d4870:	6001      	bteqz	486d4874 <com_set_sound_out+0x38>
486d4872:	1003      	b	486d487a <com_set_sound_out+0x3e>
486d4874:	6a01      	li	v0,1
    {
        last_sound_flag = TRUE;
486d4876:	c140      	sb	v0,0(s1)
486d4878:	1002      	b	486d487e <com_set_sound_out+0x42>
486d487a:	6a00      	li	v0,0
    }
    else
    {
        last_sound_flag = FALSE;
486d487c:	c140      	sb	v0,0(s1)
486d487e:	b54e      	lw	a1,486d49b4 <.LBE4+0xa>
    }

    //设置音频输出状态
    g_app_info_state.sound_state &= (uint8)SOUND_BIT_SOUND_OUT_CLR;
486d4880:	b24d      	lw	v0,486d49b4 <.LBE4+0xa>
486d4882:	6c10      	li	a0,16
486d4884:	ec8b      	neg	a0
486d4886:	a245      	lbu	v0,5(v0)
486d4888:	6762      	move	v1,v0
486d488a:	6744      	move	v0,a0
486d488c:	ea6c      	and	v0,v1
486d488e:	c545      	sb	v0,5(a1)
486d4890:	b549      	lw	a1,486d49b4 <.LBE4+0xa>
    g_app_info_state.sound_state |= (uint8)state;
486d4892:	b249      	lw	v0,486d49b4 <.LBE4+0xa>
486d4894:	a245      	lbu	v0,5(v0)
486d4896:	a174      	lbu	v1,20(s1)
486d4898:	6782      	move	a0,v0
486d489a:	6743      	move	v0,v1
486d489c:	ea8d      	or	v0,a0
486d489e:	c545      	sb	v0,5(a1)
486d48a0:	a154      	lbu	v0,20(s1)

    //关闭音频输出先于关闭pa和dac
    //关闭音频输出，若有按键音，设置按键音pa
    if((state == SOUND_OUT_STOP) || (state == SOUND_OUT_PAUSE))
486d48a2:	7201      	cmpi	v0,1
486d48a4:	6758      	move	v0,t8
486d48a6:	5a01      	sltiu	v0,1
486d48a8:	6106      	btnez	486d48b6 <com_set_sound_out+0x7a>
486d48aa:	a154      	lbu	v0,20(s1)
486d48ac:	7202      	cmpi	v0,2
486d48ae:	6758      	move	v0,t8
486d48b0:	5a01      	sltiu	v0,1
486d48b2:	6101      	btnez	486d48b6 <com_set_sound_out+0x7a>
486d48b4:	1014      	b	486d48de <.LBE3+0x1c>
486d48b6:	9946      	lw	v0,24(s1)
    {
        if(sound_func != NULL)
486d48b8:	2204      	beqz	v0,486d48c2 <.LBE3>

486d48ba <.LBB3>:
486d48ba:	9946      	lw	v0,24(s1)
        {
            sound_stop_func __stop_sound = (sound_stop_func)sound_func;
486d48bc:	d941      	sw	v0,4(s1)
486d48be:	9941      	lw	v0,4(s1)
            __stop_sound();
486d48c0:	eac0      	jalrc	v0

486d48c2 <.LBE3>:
486d48c2:	1b70 51ca 	jal	486d4728 <get_keytone_enable>
        }

        if(get_keytone_enable() == TRUE)
486d48c6:	6500      	nop
486d48c8:	7201      	cmpi	v0,1
486d48ca:	6758      	move	v0,t8
486d48cc:	5a01      	sltiu	v0,1
486d48ce:	6001      	bteqz	486d48d2 <.LBE3+0x10>
486d48d0:	1006      	b	486d48de <.LBE3+0x1c>
486d48d2:	6c00      	li	a0,0
        {
//            enable_dac(2, 44);//从音频输出退出，dac是关掉的，需要开启dac
//            set_pa_volume(KEY_TONE_VOLUME, 0);//需要进一步调试
         //       set_pa_volume(KEY_TONE_VOLUME, 0);//需要进一步调试
        }
        else//已经不再需要声音输出，可以禁止speaker输出
        {
            key_speakcheck(0);//禁止speaker输出
486d48d4:	6d00      	li	a1,0
486d48d6:	6e00      	li	a2,0
486d48d8:	6f04      	li	a3,4
486d48da:	b238      	lw	v0,486d49b8 <.LBE4+0xe>
486d48dc:	eac0      	jalrc	v0
486d48de:	1b70 51ca 	jal	486d4728 <get_keytone_enable>
        }
    }

    //获取设置后声音状态
    if((get_keytone_enable() == TRUE) || ((soundout_state_e)get_soundout_state() != SOUND_OUT_STOP))
486d48e2:	6500      	nop
486d48e4:	7201      	cmpi	v0,1
486d48e6:	6758      	move	v0,t8
486d48e8:	5a01      	sltiu	v0,1
486d48ea:	6108      	btnez	486d48fc <.LBE3+0x3a>
486d48ec:	1b70 51d1 	jal	486d4744 <get_soundout_state>
486d48f0:	6500      	nop
486d48f2:	7201      	cmpi	v0,1
486d48f4:	6758      	move	v0,t8
486d48f6:	5a01      	sltiu	v0,1
486d48f8:	6001      	bteqz	486d48fc <.LBE3+0x3a>
486d48fa:	1003      	b	486d4902 <.LBE3+0x40>
486d48fc:	6a01      	li	v0,1
    {
        sound_flag = TRUE;
486d48fe:	c141      	sb	v0,1(s1)
486d4900:	1002      	b	486d4906 <.LBE3+0x44>
486d4902:	6a00      	li	v0,0
    }
    else
    {
        sound_flag = FALSE;
486d4904:	c141      	sb	v0,1(s1)
486d4906:	a140      	lbu	v0,0(s1)
    }

    //声音状态从关到开，打开pa
    if((last_sound_flag == FALSE) && (sound_flag == TRUE) && ((state == SOUND_OUT_START)
486d4908:	2a16      	bnez	v0,486d4936 <.LBE3+0x74>
486d490a:	a141      	lbu	v0,1(s1)
486d490c:	7201      	cmpi	v0,1
486d490e:	6758      	move	v0,t8
486d4910:	5a01      	sltiu	v0,1
486d4912:	6011      	bteqz	486d4936 <.LBE3+0x74>
486d4914:	a154      	lbu	v0,20(s1)
486d4916:	2206      	beqz	v0,486d4924 <.LBE3+0x62>
486d4918:	a154      	lbu	v0,20(s1)
486d491a:	7203      	cmpi	v0,3
486d491c:	6758      	move	v0,t8
486d491e:	5a01      	sltiu	v0,1
486d4920:	6101      	btnez	486d4924 <.LBE3+0x62>
486d4922:	1009      	b	486d4936 <.LBE3+0x74>
486d4924:	a142      	lbu	v0,2(s1)
            || (state == SOUND_OUT_RESUME) ))
    {
        //打开pa
#ifdef AUDIO_DEVICE_PA_DDV
        enable_pa_ddv(0, 0);
#else
        enable_pa(pa_mode, 0, aout_mode);
486d4926:	a163      	lbu	v1,3(s1)
486d4928:	6782      	move	a0,v0
486d492a:	6d00      	li	a1,0
486d492c:	67c3      	move	a2,v1
486d492e:	6f00      	li	a3,0
486d4930:	b223      	lw	v0,486d49bc <.LBE4+0x12>
486d4932:	eac0      	jalrc	v0
486d4934:	1013      	b	486d495c <.LBE3+0x9a>
486d4936:	a140      	lbu	v0,0(s1)
#endif
    }
    //声音状态从开到关，关闭pa
    else if((last_sound_flag == TRUE) && (sound_flag == FALSE) && (state == SOUND_OUT_STOP))
486d4938:	7201      	cmpi	v0,1
486d493a:	6758      	move	v0,t8
486d493c:	5a01      	sltiu	v0,1
486d493e:	600e      	bteqz	486d495c <.LBE3+0x9a>
486d4940:	a141      	lbu	v0,1(s1)
486d4942:	2a0c      	bnez	v0,486d495c <.LBE3+0x9a>
486d4944:	a154      	lbu	v0,20(s1)
486d4946:	7201      	cmpi	v0,1
486d4948:	6758      	move	v0,t8
486d494a:	5a01      	sltiu	v0,1
486d494c:	6007      	bteqz	486d495c <.LBE3+0x9a>
486d494e:	a143      	lbu	v0,3(s1)
    {
        //关闭pa
#ifdef AUDIO_DEVICE_PA_DDV
        disable_pa_ddv();
#else
        disable_pa(aout_mode);//需要进一步调试
486d4950:	6782      	move	a0,v0
486d4952:	6d00      	li	a1,0
486d4954:	6e00      	li	a2,0
486d4956:	6f01      	li	a3,1
486d4958:	b219      	lw	v0,486d49bc <.LBE4+0x12>
486d495a:	eac0      	jalrc	v0
486d495c:	a154      	lbu	v0,20(s1)
#endif
    }
    else
    {
        //do nothing for QAC
    }

    //启动音频输出后于打开pa和dac
    //启动音频输出，设置当前音量值
    if((state == SOUND_OUT_START) || (state == SOUND_OUT_RESUME))
486d495e:	2206      	beqz	v0,486d496c <.LBE3+0xaa>
486d4960:	a154      	lbu	v0,20(s1)
486d4962:	7203      	cmpi	v0,3
486d4964:	6758      	move	v0,t8
486d4966:	5a01      	sltiu	v0,1
486d4968:	6101      	btnez	486d496c <.LBE3+0xaa>
486d496a:	101f      	b	486d49aa <.LBE4>
486d496c:	1b70 51ca 	jal	486d4728 <get_keytone_enable>
    {
        if(get_keytone_enable() == TRUE)
486d4970:	6500      	nop
486d4972:	7201      	cmpi	v0,1
486d4974:	6758      	move	v0,t8
486d4976:	5a01      	sltiu	v0,1
486d4978:	6007      	bteqz	486d4988 <.LBE3+0xc6>
486d497a:	6c00      	li	a0,0
        {
            disable_dac(0);//从按键音进入音频输出，要求dac是关掉的，需要关闭dac 需要进一步调试
486d497c:	6d00      	li	a1,0
486d497e:	6e00      	li	a2,0
486d4980:	6f05      	li	a3,5
486d4982:	b20f      	lw	v0,486d49bc <.LBE4+0x12>
486d4984:	eac0      	jalrc	v0
486d4986:	1006      	b	486d4994 <.LBE3+0xd2>
486d4988:	6c01      	li	a0,1
        }
        else//之前没有使能speaker输出，需要在此先使能，再在AP中开启dac
        {
            key_speakcheck(1);//使能speaker输出
486d498a:	6d00      	li	a1,0
486d498c:	6e00      	li	a2,0
486d498e:	6f04      	li	a3,4
486d4990:	b20a      	lw	v0,486d49b8 <.LBE4+0xe>
486d4992:	eac0      	jalrc	v0
486d4994:	9946      	lw	v0,24(s1)
        }

        if(sound_func != NULL)
486d4996:	2209      	beqz	v0,486d49aa <.LBE4>

486d4998 <.LBB4>:
486d4998:	9946      	lw	v0,24(s1)
        {
            sound_start_func __start_sound = (sound_start_func)sound_func;
486d499a:	d941      	sw	v0,4(s1)
486d499c:	1b70 5270 	jal	486d49c0 <get_current_volume>
            __start_sound(get_current_volume());
486d49a0:	6500      	nop
486d49a2:	651a      	move	t8,v0
486d49a4:	9941      	lw	v0,4(s1)
486d49a6:	6798      	move	a0,t8
486d49a8:	eac0      	jalrc	v0

486d49aa <.LBE4>:
486d49aa:	6a01      	li	v0,1
        }
    }

    return TRUE;
486d49ac:	65b9      	move	sp,s1
}
486d49ae:	6452      	restore	16,ra,s1
486d49b0:	e8a0      	jrc	ra
486d49b2:	0000      	addiu	s0,sp,0
486d49b4:	a1b8      	lbu	a1,24(s1)
486d49b6:	9fc1      	lw	a2,4(a3)
486d49b8:	6405      	restore	40
486d49ba:	bfc1      	lwu	a2,4(a3)
486d49bc:	6401      	restore	8
486d49be:	bfc1      	lwu	a2,4(a3)

486d49c0 <get_current_volume>:
486d49c0:	6491      	save	8,s1
486d49c2:	673d      	move	s1,sp
486d49c4:	b204      	lw	v0,486d49d4 <get_current_volume+0x14>
486d49c6:	a246      	lbu	v0,6(v0)
486d49c8:	651a      	move	t8,v0
486d49ca:	6758      	move	v0,t8
486d49cc:	65b9      	move	sp,s1
486d49ce:	6411      	restore	8,s1
486d49d0:	e8a0      	jrc	ra
486d49d2:	0000      	addiu	s0,sp,0
486d49d4:	a1b8      	lbu	a1,24(s1)
486d49d6:	9fc1      	lw	a2,4(a3)

486d49d8 <com_set_sound_record>:
486d49d8:	64d3      	save	24,ra,s1

//extern comval_t *sys_comval;

/******************************************************************************/
/*!
 * \par  Description:
 *    设置录音使能与否。
 * \param[in]    on_off 进入录音或退出录音，TRUE表示进入，FALSE表示退出
 * \param[in]    type 录音类型，0表示普通录音，1表示 fm 录音
 * \param[out]   none
 * \return       bool
 * \retval           TRUE 设置录音成功
 * \retval           FALSE 设置录音失败
 * \note
*******************************************************************************/
bool com_set_sound_record(bool on_off, uint8 type)
{
486d49da:	0104      	addiu	s1,sp,16
486d49dc:	6744      	move	v0,a0
486d49de:	6765      	move	v1,a1
486d49e0:	c148      	sb	v0,8(s1)
486d49e2:	c16c      	sb	v1,12(s1)
486d49e4:	a148      	lbu	v0,8(s1)
    if(on_off == TRUE)
486d49e6:	7201      	cmpi	v0,1
486d49e8:	6758      	move	v0,t8
486d49ea:	5a01      	sltiu	v0,1
486d49ec:	6014      	bteqz	486d4a16 <com_set_sound_record+0x3e>
486d49ee:	a14c      	lbu	v0,12(s1)
    {
        if(type == 0)
486d49f0:	2a20      	bnez	v0,486d4a32 <com_set_sound_record+0x5a>
486d49f2:	1b70 51ca 	jal	486d4728 <get_keytone_enable>
        {
            if(get_keytone_enable() == TRUE)
486d49f6:	6500      	nop
486d49f8:	7201      	cmpi	v0,1
486d49fa:	6758      	move	v0,t8
486d49fc:	5a01      	sltiu	v0,1
486d49fe:	6007      	bteqz	486d4a0e <com_set_sound_record+0x36>
486d4a00:	6c00      	li	a0,0
            {
                com_set_sound_keytone(FALSE);
486d4a02:	b20f      	lw	v0,486d4a3c <com_set_sound_record+0x64>
486d4a04:	eac0      	jalrc	v0
486d4a06:	b30f      	lw	v1,486d4a40 <com_set_sound_record+0x68>
                g_keytone_backup = TRUE;
486d4a08:	6a01      	li	v0,1
486d4a0a:	c340      	sb	v0,0(v1)
486d4a0c:	1012      	b	486d4a32 <com_set_sound_record+0x5a>
486d4a0e:	b30d      	lw	v1,486d4a40 <com_set_sound_record+0x68>
            }
            else
            {
                g_keytone_backup = FALSE;
486d4a10:	6a00      	li	v0,0
486d4a12:	c340      	sb	v0,0(v1)
486d4a14:	100e      	b	486d4a32 <com_set_sound_record+0x5a>
486d4a16:	a14c      	lbu	v0,12(s1)
            }
        }
    }
    else
    {
        if(type == 0)
486d4a18:	2a0c      	bnez	v0,486d4a32 <com_set_sound_record+0x5a>
486d4a1a:	b20a      	lw	v0,486d4a40 <com_set_sound_record+0x68>
        {
            if(g_keytone_backup == TRUE)
486d4a1c:	a240      	lbu	v0,0(v0)
486d4a1e:	7201      	cmpi	v0,1
486d4a20:	6758      	move	v0,t8
486d4a22:	5a01      	sltiu	v0,1
486d4a24:	6006      	bteqz	486d4a32 <com_set_sound_record+0x5a>
486d4a26:	6c01      	li	a0,1
            {
                com_set_sound_keytone(TRUE);
486d4a28:	b205      	lw	v0,486d4a3c <com_set_sound_record+0x64>
486d4a2a:	eac0      	jalrc	v0
486d4a2c:	b305      	lw	v1,486d4a3c <com_set_sound_record+0x64>
                g_keytone_backup = FALSE;
486d4a2e:	6a00      	li	v0,0
486d4a30:	c340      	sb	v0,0(v1)
486d4a32:	6a01      	li	v0,1
            }
        }
    }

    return TRUE;
486d4a34:	65b9      	move	sp,s1
}
486d4a36:	6451      	restore	8,ra,s1
486d4a38:	e8a0      	jrc	ra
486d4a3a:	0000      	addiu	s0,sp,0
486d4a3c:	4601      	addiu	s0,a2,1
486d4a3e:	486d      	addiu	s0,109
486d4a40:	5be9      	sltiu	v1,233
486d4a42:	9fc1      	lw	a2,4(a3)
	...
Disassembly of section BANK_UI_1_28:

48714600 <com_set_phy_volume>:
48714600:	64c3      	save	24,ra
 * \note
 * \li
 *******************************************************************************/
void com_set_phy_volume(uint8 volume_val)
{
48714602:	b30d      	lw	v1,48714634 <.LBE2+0xc>
    
/*    if (sys_comval->volume_gain >= VOLUME_TABLE_MAX)
    {
 //       PRINT_WARNING("phy Invalid volume gain!!");
        sys_comval->volume_gain = VOLUME_TABLE_MAX-1;
    }
*/
            
    switch (g_app_info_state.aout_mode)
48714604:	ec11      	zeb	a0
48714606:	a348      	lbu	v0,8(v1)
48714608:	7201      	cmpi	v0,1
4871460a:	600e      	bteqz	48714628 <.LBE2>

4871460c <.LBB2>:
4871460c:	5c20      	sltiu	a0,32
    {
        case AO_SOURCE_I2S: //i2s
        //case AO_SOURCE_SPDIF: //spdif
 //       ccd_i2s_pa_set_volume(sys_comval->volume_gain, volume_val);
        break;

        //internel dac & i2s or spdif and external dac both chanel
        case AO_SOURCE_DACI2S: //i2s + internel dac
        case AO_SOURCE_DACSPDIF: //spdif +internel dac
        default:
        {
            uint32 vol_hard_pa, vol_hard_da;
            int tab_index;

            if (volume_val > VOLUME_VALUE_MAX)
4871460e:	6101      	btnez	48714612 <.LBB2+0x6>
48714610:	6c1f      	li	a0,31
            {
                volume_val = VOLUME_VALUE_MAX;
48714612:	6b1f      	li	v1,31
            }
            tab_index = VOLUME_VALUE_MAX - volume_val;
48714614:	e39f      	subu	a3,v1,a0
48714616:	b506      	lw	a1,4871462c <.LBE2+0x4>

//            vol_hard_pa = g_hard_volume_table[sys_comval->volume_gain][tab_index].vol_pa;
//            vol_hard_da = g_hard_volume_table[sys_comval->volume_gain][tab_index].vol_da;
            vol_hard_pa = g_hard_volume_table[0][tab_index].vol_pa;
48714618:	34e4      	sll	a0,a3,1
4871461a:	e4b9      	addu	a2,a0,a1
4871461c:	a680      	lbu	a0,0(a2)
            vol_hard_da = g_hard_volume_table[0][tab_index].vol_da;

            set_pa_volume(vol_hard_pa, vol_hard_da);
4871461e:	a6a1      	lbu	a1,1(a2)
48714620:	b204      	lw	v0,48714630 <.LBE2+0x8>
48714622:	6e00      	li	a2,0
48714624:	ea40      	jalr	v0
48714626:	6f02      	li	a3,2

48714628 <.LBE2>:
48714628:	6443      	restore	24,ra
        }
        break;
    }
}
4871462a:	e8a0      	jrc	ra
4871462c:	4638      	daddiu	s1,a2,-8
4871462e:	4871      	addiu	s0,113
48714630:	6401      	restore	8
48714632:	bfc1      	lwu	a2,4(a3)
48714634:	a1b8      	lbu	a1,24(s1)
48714636:	9fc1      	lw	a2,4(a3)

48714638 <g_hard_volume_table>:
48714638:	bf28 be28 bd28 be27 bf26 bd26 be25 bf24     (.(.(.'.&.&.%.$.
48714648:	bd24 be23 bf22 bd22 be21 bf20 bd20 be1f     $.#.".".!. . ...
48714658:	bf1e bf1d bf1c bf1b bf1a bf19 bf18 bf17     ................
48714668:	bd16 bf14 bd13 bf11 bf0f bf0d bf0a bf00     ................
48714678:	bf27 be27 bd27 be26 bf25 bd25 be24 bf23     '.'.'.&.%.%.$.#.
48714688:	bd23 be22 bf21 bd21 be20 bf1f bd1f be1e     #.".!.!. .......
48714698:	bf1d bf1c bf1b bf1a bf19 bf18 bf17 bf16     ................
487146a8:	bd15 bf13 bd12 bf10 bf0e bf0c bf09 bf00     ................
487146b8:	bf26 be26 bd26 be25 bf24 bd24 be23 bf22     &.&.&.%.$.$.#.".
487146c8:	bd22 be21 bf20 bd20 be1f bf1e bd1e be1d     ".!. . .........
487146d8:	bf1c bf1b bf1a bf19 bf18 bf17 bf16 bf15     ................
487146e8:	bd14 bf12 bd11 bf0f bf0d bf0b bf08 bf00     ................
487146f8:	bf25 be25 bd25 be24 bf23 bd23 be22 bf21     %.%.%.$.#.#.".!.
48714708:	bd21 be20 bf1f bd1f be1e bf1d bd1d be1c     !. .............
48714718:	bf1b bf1a bf19 bf18 bf17 bf16 bf15 bf14     ................
48714728:	bf13 bf12 bd11 bf0f bf0d bf0b bf08 bf00     ................
	...
Disassembly of section BANK_UI_1_30:

48794400 <menulist_select_next>:
48794400:	6491      	save	8,s1
 * \return       none
 * \note
 *******************************************************************************/
void menulist_select_next(menulist_control_t *p_ml_control)
{
48794402:	673d      	move	s1,sp
48794404:	d982      	sw	a0,8(s1)
48794406:	9942      	lw	v0,8(s1)
    //在页内切换，切后尚未到页底最后一项（最多到倒数第二项），更新激活项
    if ((p_ml_control->list_no + 1) < p_ml_control->bottom)
48794408:	aa48      	lhu	v0,16(v0)
4879440a:	4261      	addiu	v1,v0,1
4879440c:	9942      	lw	v0,8(s1)
4879440e:	aa47      	lhu	v0,14(v0)
48794410:	eb42      	slt	v1,v0
48794412:	6012      	bteqz	48794438 <menulist_select_next+0x38>
48794414:	9962      	lw	v1,8(s1)
    {
        p_ml_control->list_no++;
48794416:	9942      	lw	v0,8(s1)
48794418:	aa48      	lhu	v0,16(v0)
4879441a:	4241      	addiu	v0,v0,1
4879441c:	cb48      	sh	v0,16(v1)
4879441e:	9962      	lw	v1,8(s1)
        p_ml_control->old = p_ml_control->active;
48794420:	9942      	lw	v0,8(s1)
48794422:	aa4a      	lhu	v0,20(v0)
48794424:	cb4b      	sh	v0,22(v1)
48794426:	9962      	lw	v1,8(s1)
        p_ml_control->active++;
48794428:	9942      	lw	v0,8(s1)
4879442a:	aa4a      	lhu	v0,20(v0)
4879442c:	4241      	addiu	v0,v0,1
4879442e:	cb4a      	sh	v0,20(v1)
48794430:	9962      	lw	v1,8(s1)
        p_ml_control->draw_mode = LIST_DRAW_ACTIVE;
48794432:	6a01      	li	v0,1
48794434:	c359      	sb	v0,25(v1)
48794436:	106f      	b	48794516 <menulist_select_next+0x116>
48794438:	9942      	lw	v0,8(s1)
    }
    else
    {
        //在列表最后一项，跳到列表头显示
        if (p_ml_control->list_no == (p_ml_control->total - 1))
4879443a:	aa68      	lhu	v1,16(v0)
4879443c:	9942      	lw	v0,8(s1)
4879443e:	aa45      	lhu	v0,10(v0)
48794440:	424f      	addiu	v0,v0,-1
48794442:	ea6e      	xor	v0,v1
48794444:	5a01      	sltiu	v0,1
48794446:	602e      	bteqz	487944a4 <menulist_select_next+0xa4>
48794448:	9962      	lw	v1,8(s1)
        {
            p_ml_control->list_no = 0;
4879444a:	6a00      	li	v0,0
4879444c:	cb48      	sh	v0,16(v1)
4879444e:	9962      	lw	v1,8(s1)
            //仅有一页的情况下，只需更新激活项
            if (p_ml_control->total <= p_ml_control->one_page_count)
48794450:	9942      	lw	v0,8(s1)
48794452:	a243      	lbu	v0,3(v0)
48794454:	ab65      	lhu	v1,10(v1)
48794456:	ea31      	zeh	v0
48794458:	ea63      	sltu	v0,v1
4879445a:	610f      	btnez	4879447a <menulist_select_next+0x7a>
4879445c:	9942      	lw	v0,8(s1)
            {
                //总项数多余1项才需要切换
                if (p_ml_control->total > 1)
4879445e:	aa45      	lhu	v0,10(v0)
48794460:	5a02      	sltiu	v0,2
48794462:	6159      	btnez	48794516 <menulist_select_next+0x116>
48794464:	9962      	lw	v1,8(s1)
                {
                    p_ml_control->old = p_ml_control->active;
48794466:	9942      	lw	v0,8(s1)
48794468:	aa4a      	lhu	v0,20(v0)
4879446a:	cb4b      	sh	v0,22(v1)
4879446c:	9962      	lw	v1,8(s1)
                    p_ml_control->active = 0;
4879446e:	6a00      	li	v0,0
48794470:	cb4a      	sh	v0,20(v1)
48794472:	9962      	lw	v1,8(s1)
                    p_ml_control->draw_mode = LIST_DRAW_ACTIVE;
48794474:	6a01      	li	v0,1
48794476:	c359      	sb	v0,25(v1)
48794478:	104e      	b	48794516 <menulist_select_next+0x116>
4879447a:	9962      	lw	v1,8(s1)
                }
            }
            //从尾切换到头，更新整个列表
            else
            {
                p_ml_control->top = 0;
4879447c:	6a00      	li	v0,0
4879447e:	cb46      	sh	v0,12(v1)
48794480:	9962      	lw	v1,8(s1)
                p_ml_control->bottom = p_ml_control->one_page_count - 1;
48794482:	9942      	lw	v0,8(s1)
48794484:	a243      	lbu	v0,3(v0)
48794486:	424f      	addiu	v0,v0,-1
48794488:	cb47      	sh	v0,14(v1)
4879448a:	9982      	lw	a0,8(s1)
                p_ml_control->old = p_ml_control->active = 0;
4879448c:	9962      	lw	v1,8(s1)
4879448e:	6a00      	li	v0,0
48794490:	cb4a      	sh	v0,20(v1)
48794492:	6a00      	li	v0,0
48794494:	cc4b      	sh	v0,22(a0)
48794496:	9962      	lw	v1,8(s1)
                p_ml_control->update_mode = LIST_UPDATE_HEAD;
48794498:	6a04      	li	v0,4
4879449a:	c358      	sb	v0,24(v1)
4879449c:	9962      	lw	v1,8(s1)
                p_ml_control->draw_mode = LIST_DRAW_LIST;
4879449e:	6a02      	li	v0,2
487944a0:	c359      	sb	v0,25(v1)
487944a2:	1039      	b	48794516 <menulist_select_next+0x116>
487944a4:	9942      	lw	v0,8(s1)
            }
        }
        else
        {
            //在所有项中的倒数第二项，切到最后一项，只需更新激活项
            if ((p_ml_control->list_no == (p_ml_control->total - 2)) && (p_ml_control->one_page_count != 1)) //modifed by hjh 2016-06-23
487944a6:	aa68      	lhu	v1,16(v0)
487944a8:	9942      	lw	v0,8(s1)
487944aa:	aa45      	lhu	v0,10(v0)
487944ac:	424e      	addiu	v0,v0,-2
487944ae:	ea6e      	xor	v0,v1
487944b0:	5a01      	sltiu	v0,1
487944b2:	6018      	bteqz	487944e4 <menulist_select_next+0xe4>
487944b4:	9942      	lw	v0,8(s1)
487944b6:	a243      	lbu	v0,3(v0)
487944b8:	7201      	cmpi	v0,1
487944ba:	6758      	move	v0,t8
487944bc:	5a01      	sltiu	v0,1
487944be:	6112      	btnez	487944e4 <menulist_select_next+0xe4>
487944c0:	9962      	lw	v1,8(s1)
            {
                p_ml_control->list_no++;
487944c2:	9942      	lw	v0,8(s1)
487944c4:	aa48      	lhu	v0,16(v0)
487944c6:	4241      	addiu	v0,v0,1
487944c8:	cb48      	sh	v0,16(v1)
487944ca:	9962      	lw	v1,8(s1)
                p_ml_control->old = p_ml_control->active;
487944cc:	9942      	lw	v0,8(s1)
487944ce:	aa4a      	lhu	v0,20(v0)
487944d0:	cb4b      	sh	v0,22(v1)
487944d2:	9962      	lw	v1,8(s1)
                p_ml_control->active++;
487944d4:	9942      	lw	v0,8(s1)
487944d6:	aa4a      	lhu	v0,20(v0)
487944d8:	4241      	addiu	v0,v0,1
487944da:	cb4a      	sh	v0,20(v1)
487944dc:	9962      	lw	v1,8(s1)
                p_ml_control->draw_mode = LIST_DRAW_ACTIVE;
487944de:	6a01      	li	v0,1
487944e0:	c359      	sb	v0,25(v1)
487944e2:	1019      	b	48794516 <menulist_select_next+0x116>
487944e4:	9962      	lw	v1,8(s1)
            }
            //在当前页中的倒数第二项，并且后面有足够列表项，向下切页，更新整个列表
            else 
            {
                p_ml_control->list_no++;
487944e6:	9942      	lw	v0,8(s1)
487944e8:	aa48      	lhu	v0,16(v0)
487944ea:	4241      	addiu	v0,v0,1
487944ec:	cb48      	sh	v0,16(v1)
487944ee:	9962      	lw	v1,8(s1)
                p_ml_control->top++;
487944f0:	9942      	lw	v0,8(s1)
487944f2:	aa46      	lhu	v0,12(v0)
487944f4:	4241      	addiu	v0,v0,1
487944f6:	cb46      	sh	v0,12(v1)
487944f8:	9962      	lw	v1,8(s1)
                p_ml_control->bottom++;
487944fa:	9942      	lw	v0,8(s1)
487944fc:	aa47      	lhu	v0,14(v0)
487944fe:	4241      	addiu	v0,v0,1
48794500:	cb47      	sh	v0,14(v1)
48794502:	9962      	lw	v1,8(s1)
                p_ml_control->old = p_ml_control->active;
48794504:	9942      	lw	v0,8(s1)
48794506:	aa4a      	lhu	v0,20(v0)
48794508:	cb4b      	sh	v0,22(v1)
4879450a:	9962      	lw	v1,8(s1)
                p_ml_control->update_mode = LIST_UPDATE_NEXT;
4879450c:	6a01      	li	v0,1
4879450e:	c358      	sb	v0,24(v1)
48794510:	9962      	lw	v1,8(s1)
                p_ml_control->draw_mode = LIST_DRAW_LIST;
48794512:	6a02      	li	v0,2
48794514:	c359      	sb	v0,25(v1)
48794516:	65b9      	move	sp,s1
            }
        }
    }
}
48794518:	6411      	restore	8,s1
4879451a:	e8a0      	jrc	ra

4879451c <menulist_select_prev>:
4879451c:	6491      	save	8,s1

/******************************************************************************/
/*!
 * \par  Description:
 *    选择菜单列表中的上一项
 * \param[in]    p_ml_control：指向菜单列表控制结构体
 * \param[out]   p_ml_control：返回更新了的菜单列表参数
 * \return       none
 * \note
 *******************************************************************************/
void menulist_select_prev(menulist_control_t *p_ml_control)
{
4879451e:	673d      	move	s1,sp
48794520:	d982      	sw	a0,8(s1)
48794522:	9942      	lw	v0,8(s1)
    //在页内切换，切后尚未到页顶首项（最多到第二项），更新激活项
    if (p_ml_control->list_no > (p_ml_control->top + 1))
48794524:	aa68      	lhu	v1,16(v0)
48794526:	9942      	lw	v0,8(s1)
48794528:	aa46      	lhu	v0,12(v0)
4879452a:	4241      	addiu	v0,v0,1
4879452c:	ea62      	slt	v0,v1
4879452e:	6012      	bteqz	48794554 <menulist_select_prev+0x38>
48794530:	9962      	lw	v1,8(s1)
    {
        p_ml_control->list_no--;
48794532:	9942      	lw	v0,8(s1)
48794534:	aa48      	lhu	v0,16(v0)
48794536:	424f      	addiu	v0,v0,-1
48794538:	cb48      	sh	v0,16(v1)
4879453a:	9962      	lw	v1,8(s1)
        p_ml_control->old = p_ml_control->active;
4879453c:	9942      	lw	v0,8(s1)
4879453e:	aa4a      	lhu	v0,20(v0)
48794540:	cb4b      	sh	v0,22(v1)
48794542:	9962      	lw	v1,8(s1)
        p_ml_control->active--;
48794544:	9942      	lw	v0,8(s1)
48794546:	aa4a      	lhu	v0,20(v0)
48794548:	424f      	addiu	v0,v0,-1
4879454a:	cb4a      	sh	v0,20(v1)
4879454c:	9962      	lw	v1,8(s1)
        p_ml_control->draw_mode = LIST_DRAW_ACTIVE;
4879454e:	6a01      	li	v0,1
48794550:	c359      	sb	v0,25(v1)
48794552:	1070      	b	48794634 <menulist_select_prev+0x118>
48794554:	9942      	lw	v0,8(s1)
    }
    else
    {
        //在列表第一项，跳到列表尾显示
        if (p_ml_control->list_no == 0)
48794556:	aa48      	lhu	v0,16(v0)
48794558:	2a36      	bnez	v0,487945c6 <menulist_select_prev+0xaa>
4879455a:	9962      	lw	v1,8(s1)
        {
            p_ml_control->list_no = p_ml_control->total - 1;
4879455c:	9942      	lw	v0,8(s1)
4879455e:	aa45      	lhu	v0,10(v0)
48794560:	424f      	addiu	v0,v0,-1
48794562:	cb48      	sh	v0,16(v1)
48794564:	9962      	lw	v1,8(s1)
            //仅有一页的情况下，只需更新激活项
            if (p_ml_control->total <= p_ml_control->one_page_count)
48794566:	9942      	lw	v0,8(s1)
48794568:	a243      	lbu	v0,3(v0)
4879456a:	ab65      	lhu	v1,10(v1)
4879456c:	ea31      	zeh	v0
4879456e:	ea63      	sltu	v0,v1
48794570:	6111      	btnez	48794594 <menulist_select_prev+0x78>
48794572:	9942      	lw	v0,8(s1)
            {
                //总项数多余1项才需要切换
                if (p_ml_control->total > 1)
48794574:	aa45      	lhu	v0,10(v0)
48794576:	5a02      	sltiu	v0,2
48794578:	615d      	btnez	48794634 <menulist_select_prev+0x118>
4879457a:	9962      	lw	v1,8(s1)
                {
                    p_ml_control->old = p_ml_control->active;
4879457c:	9942      	lw	v0,8(s1)
4879457e:	aa4a      	lhu	v0,20(v0)
48794580:	cb4b      	sh	v0,22(v1)
48794582:	9962      	lw	v1,8(s1)
                    p_ml_control->active = p_ml_control->total - 1;
48794584:	9942      	lw	v0,8(s1)
48794586:	aa45      	lhu	v0,10(v0)
48794588:	424f      	addiu	v0,v0,-1
4879458a:	cb4a      	sh	v0,20(v1)
4879458c:	9962      	lw	v1,8(s1)
                    p_ml_control->draw_mode = LIST_DRAW_ACTIVE;
4879458e:	6a01      	li	v0,1
48794590:	c359      	sb	v0,25(v1)
48794592:	1050      	b	48794634 <menulist_select_prev+0x118>
48794594:	99a2      	lw	a1,8(s1)
                }
            }
            //从头切到尾，更新整个列表
            else
            {
                p_ml_control->top = p_ml_control->total - p_ml_control->one_page_count;
48794596:	9982      	lw	a0,8(s1)
48794598:	9942      	lw	v0,8(s1)
4879459a:	a263      	lbu	v1,3(v0)
4879459c:	ac45      	lhu	v0,10(a0)
4879459e:	e26b      	subu	v0,v1
487945a0:	cd46      	sh	v0,12(a1)
487945a2:	9962      	lw	v1,8(s1)
                p_ml_control->bottom = p_ml_control->list_no;
487945a4:	9942      	lw	v0,8(s1)
487945a6:	aa48      	lhu	v0,16(v0)
487945a8:	cb47      	sh	v0,14(v1)
487945aa:	9982      	lw	a0,8(s1)
                p_ml_control->old = p_ml_control->active = p_ml_control->one_page_count - 1;
487945ac:	9962      	lw	v1,8(s1)
487945ae:	9942      	lw	v0,8(s1)
487945b0:	a243      	lbu	v0,3(v0)
487945b2:	424f      	addiu	v0,v0,-1
487945b4:	cb4a      	sh	v0,20(v1)
487945b6:	cc4b      	sh	v0,22(a0)
487945b8:	9962      	lw	v1,8(s1)
                p_ml_control->update_mode = LIST_UPDATE_TAIL;
487945ba:	6a05      	li	v0,5
487945bc:	c358      	sb	v0,24(v1)
487945be:	9962      	lw	v1,8(s1)
                p_ml_control->draw_mode = LIST_DRAW_LIST;
487945c0:	6a02      	li	v0,2
487945c2:	c359      	sb	v0,25(v1)
487945c4:	1037      	b	48794634 <menulist_select_prev+0x118>
487945c6:	9942      	lw	v0,8(s1)
            }
        }
        else
        {
            //在所有项中的第二项，切到第一项，只需更新激活项
            if ((p_ml_control->list_no == 1) && (p_ml_control->one_page_count != 1))
487945c8:	aa48      	lhu	v0,16(v0)
487945ca:	7201      	cmpi	v0,1
487945cc:	6758      	move	v0,t8
487945ce:	5a01      	sltiu	v0,1
487945d0:	6018      	bteqz	48794602 <menulist_select_prev+0xe6>
487945d2:	9942      	lw	v0,8(s1)
487945d4:	a243      	lbu	v0,3(v0)
487945d6:	7201      	cmpi	v0,1
487945d8:	6758      	move	v0,t8
487945da:	5a01      	sltiu	v0,1
487945dc:	6112      	btnez	48794602 <menulist_select_prev+0xe6>
487945de:	9962      	lw	v1,8(s1)
            {
                p_ml_control->list_no--;
487945e0:	9942      	lw	v0,8(s1)
487945e2:	aa48      	lhu	v0,16(v0)
487945e4:	424f      	addiu	v0,v0,-1
487945e6:	cb48      	sh	v0,16(v1)
487945e8:	9962      	lw	v1,8(s1)
                p_ml_control->old = p_ml_control->active;
487945ea:	9942      	lw	v0,8(s1)
487945ec:	aa4a      	lhu	v0,20(v0)
487945ee:	cb4b      	sh	v0,22(v1)
487945f0:	9962      	lw	v1,8(s1)
                p_ml_control->active--;
487945f2:	9942      	lw	v0,8(s1)
487945f4:	aa4a      	lhu	v0,20(v0)
487945f6:	424f      	addiu	v0,v0,-1
487945f8:	cb4a      	sh	v0,20(v1)
487945fa:	9962      	lw	v1,8(s1)
                p_ml_control->draw_mode = LIST_DRAW_ACTIVE;
487945fc:	6a01      	li	v0,1
487945fe:	c359      	sb	v0,25(v1)
48794600:	1019      	b	48794634 <menulist_select_prev+0x118>
48794602:	9962      	lw	v1,8(s1)
            }
            //在当前页中的第二项，并且前面有足够列表项，向上切页，更新整个列表
            else//modifed by hjh 2016-06-23
            {
                p_ml_control->list_no--;
48794604:	9942      	lw	v0,8(s1)
48794606:	aa48      	lhu	v0,16(v0)
48794608:	424f      	addiu	v0,v0,-1
4879460a:	cb48      	sh	v0,16(v1)
4879460c:	9962      	lw	v1,8(s1)
                p_ml_control->top--;
4879460e:	9942      	lw	v0,8(s1)
48794610:	aa46      	lhu	v0,12(v0)
48794612:	424f      	addiu	v0,v0,-1
48794614:	cb46      	sh	v0,12(v1)
48794616:	9962      	lw	v1,8(s1)
                p_ml_control->bottom--;
48794618:	9942      	lw	v0,8(s1)
4879461a:	aa47      	lhu	v0,14(v0)
4879461c:	424f      	addiu	v0,v0,-1
4879461e:	cb47      	sh	v0,14(v1)
48794620:	9962      	lw	v1,8(s1)
                p_ml_control->old = p_ml_control->active;
48794622:	9942      	lw	v0,8(s1)
48794624:	aa4a      	lhu	v0,20(v0)
48794626:	cb4b      	sh	v0,22(v1)
48794628:	9962      	lw	v1,8(s1)
                p_ml_control->update_mode = LIST_UPDATE_PREV;
4879462a:	6a02      	li	v0,2
4879462c:	c358      	sb	v0,24(v1)
4879462e:	9962      	lw	v1,8(s1)
                p_ml_control->draw_mode = LIST_DRAW_LIST;
48794630:	6a02      	li	v0,2
48794632:	c359      	sb	v0,25(v1)
48794634:	65b9      	move	sp,s1
            }
        }
    }
}
48794636:	6411      	restore	8,s1
48794638:	e8a0      	jrc	ra
	...

4879463c <update_menulist_private>:
4879463c:	64d4      	save	32,ra,s1

//同步更新listbox私有数据结构
void update_menulist_private(menulist_control_t *p_ml_control, listbox_private_t *menu_private,
        menu_title_action_t *title_action)
{
4879463e:	0104      	addiu	s1,sp,16
48794640:	d984      	sw	a0,16(s1)
48794642:	d9a5      	sw	a1,20(s1)
48794644:	d9c6      	sw	a2,24(s1)
48794646:	9946      	lw	v0,24(s1)
    uint8 index;

    if ((title_action->ret_str != NULL) && (title_action->source_id == V_U16_INVALID))
48794648:	9a42      	lw	v0,8(v0)
4879464a:	2215      	beqz	v0,48794676 <update_menulist_private+0x3a>
4879464c:	9946      	lw	v0,24(s1)
4879464e:	aa66      	lhu	v1,12(v0)
48794650:	f7ff 6a1f 	li	v0,65535
48794654:	ea6e      	xor	v0,v1
48794656:	5a01      	sltiu	v0,1
48794658:	600e      	bteqz	48794676 <update_menulist_private+0x3a>
4879465a:	9965      	lw	v1,20(s1)
    {
        menu_private->title.data.str = title_action->ret_str;
4879465c:	9946      	lw	v0,24(s1)
4879465e:	9a42      	lw	v0,8(v0)
48794660:	db40      	sw	v0,0(v1)
48794662:	9965      	lw	v1,20(s1)
        menu_private->title.length = -1;
48794664:	6a01      	li	v0,1
48794666:	ea4b      	neg	v0
48794668:	cb43      	sh	v0,6(v1)
4879466a:	9965      	lw	v1,20(s1)
        menu_private->title.language = (int8) sys_comval->language_id;
4879466c:	b285      	lw	v0,48794880 <update_menulist_private+0x244>
4879466e:	9a40      	lw	v0,0(v0)
48794670:	a24c      	lbu	v0,12(v0)
48794672:	c344      	sb	v0,4(v1)
48794674:	1016      	b	487946a2 <update_menulist_private+0x66>
48794676:	9946      	lw	v0,24(s1)
    }
    else
    {
        if (title_action->title_id != V_U16_INVALID)
48794678:	aa62      	lhu	v1,4(v0)
4879467a:	f7ff 6a1f 	li	v0,65535
4879467e:	ea6e      	xor	v0,v1
48794680:	5a01      	sltiu	v0,1
48794682:	6108      	btnez	48794694 <update_menulist_private+0x58>
48794684:	9965      	lw	v1,20(s1)
        {
            menu_private->title.data.id = title_action->title_id;
48794686:	9946      	lw	v0,24(s1)
48794688:	aa42      	lhu	v0,4(v0)
4879468a:	cb40      	sh	v0,0(v1)
4879468c:	9965      	lw	v1,20(s1)
            menu_private->title.language = UNICODEID;
4879468e:	6a7e      	li	v0,126
48794690:	c344      	sb	v0,4(v1)
48794692:	1007      	b	487946a2 <update_menulist_private+0x66>
48794694:	9965      	lw	v1,20(s1)
        }
        else
        {
            menu_private->title.data.id = g_menu_title.str_id;
48794696:	b27c      	lw	v0,48794884 <update_menulist_private+0x248>
48794698:	aa40      	lhu	v0,0(v0)
4879469a:	cb40      	sh	v0,0(v1)
4879469c:	9965      	lw	v1,20(s1)
            menu_private->title.language = UNICODEID;
4879469e:	6a7e      	li	v0,126
487946a0:	c344      	sb	v0,4(v1)
487946a2:	99a5      	lw	a1,20(s1)
        }
    }

    menu_private->item_valid = p_ml_control->bottom - p_ml_control->top + 1;
487946a4:	9944      	lw	v0,16(s1)
487946a6:	9964      	lw	v1,16(s1)
487946a8:	aa87      	lhu	a0,14(v0)
487946aa:	ab46      	lhu	v0,12(v1)
487946ac:	e44b      	subu	v0,a0,v0
487946ae:	4241      	addiu	v0,v0,1
487946b0:	f060 cd44 	sh	v0,100(a1)
487946b4:	9965      	lw	v1,20(s1)
    menu_private->active = p_ml_control->active;
487946b6:	9944      	lw	v0,16(s1)
487946b8:	aa4a      	lhu	v0,20(v0)
487946ba:	f060 cb46 	sh	v0,102(v1)
487946be:	9965      	lw	v1,20(s1)
    menu_private->old = p_ml_control->old;
487946c0:	9944      	lw	v0,16(s1)
487946c2:	aa4b      	lhu	v0,22(v0)
487946c4:	f060 cb48 	sh	v0,104(v1)
487946c8:	9965      	lw	v1,20(s1)
    menu_private->list_no = p_ml_control->list_no;
487946ca:	9944      	lw	v0,16(s1)
487946cc:	aa48      	lhu	v0,16(v0)
487946ce:	f060 cb4c 	sh	v0,108(v1)
487946d2:	9965      	lw	v1,20(s1)
    menu_private->list_total = p_ml_control->total;
487946d4:	9944      	lw	v0,16(s1)
487946d6:	aa45      	lhu	v0,10(v0)
487946d8:	f060 cb4a 	sh	v0,106(v1)
487946dc:	6a00      	li	v0,0

    for (index = 0; index < menu_private->item_valid; index++)
487946de:	c140      	sb	v0,0(s1)
487946e0:	a140      	lbu	v0,0(s1)
487946e2:	9965      	lw	v1,20(s1)
487946e4:	6782      	move	a0,v0
487946e6:	ec31      	zeh	a0
487946e8:	f060 ab44 	lhu	v0,100(v1)
487946ec:	ec43      	sltu	a0,v0
487946ee:	f0c0 6004 	bteqz	4879487a <update_menulist_private+0x23e>
487946f2:	9946      	lw	v0,24(s1)
    {
        if ((title_action->ret_str != NULL) && (title_action->source_id != V_U16_INVALID) && (com_get_confmenu_active(
487946f4:	9a42      	lw	v0,8(v0)
487946f6:	2236      	beqz	v0,48794764 <update_menulist_private+0x128>
487946f8:	9946      	lw	v0,24(s1)
487946fa:	aa66      	lhu	v1,12(v0)
487946fc:	f7ff 6a1f 	li	v0,65535
48794700:	ea6e      	xor	v0,v1
48794702:	5a01      	sltiu	v0,1
48794704:	612f      	btnez	48794764 <update_menulist_private+0x128>
48794706:	b360      	lw	v1,48794884 <update_menulist_private+0x248>
48794708:	9946      	lw	v0,24(s1)
4879470a:	aa46      	lhu	v0,12(v0)
4879470c:	6783      	move	a0,v1
4879470e:	67a2      	move	a1,v0
48794710:	b25e      	lw	v0,48794888 <update_menulist_private+0x24c>
48794712:	eac0      	jalrc	v0
48794714:	6782      	move	a0,v0
48794716:	9944      	lw	v0,16(s1)
48794718:	aa66      	lhu	v1,12(v0)
4879471a:	a140      	lbu	v0,0(s1)
4879471c:	e349      	addu	v0,v1,v0
4879471e:	ea8e      	xor	v0,a0
48794720:	5a01      	sltiu	v0,1
48794722:	6020      	bteqz	48794764 <update_menulist_private+0x128>
48794724:	9985      	lw	a0,20(s1)
                &g_menu_title, title_action->source_id) == (p_ml_control->top + index)))
        {
            menu_private->items[index].data.str = title_action->ret_str;
48794726:	a160      	lbu	v1,0(s1)
48794728:	6743      	move	v0,v1
4879472a:	3244      	sll	v0,1
4879472c:	e269      	addu	v0,v1
4879472e:	3248      	sll	v0,2
48794730:	e28d      	addu	v1,v0,a0
48794732:	9946      	lw	v0,24(s1)
48794734:	9a42      	lw	v0,8(v0)
48794736:	db43      	sw	v0,12(v1)
48794738:	9985      	lw	a0,20(s1)
            menu_private->items[index].length = -1;
4879473a:	a160      	lbu	v1,0(s1)
4879473c:	6743      	move	v0,v1
4879473e:	3244      	sll	v0,1
48794740:	e269      	addu	v0,v1
48794742:	3248      	sll	v0,2
48794744:	e28d      	addu	v1,v0,a0
48794746:	6a01      	li	v0,1
48794748:	ea4b      	neg	v0
4879474a:	cb49      	sh	v0,18(v1)
4879474c:	9985      	lw	a0,20(s1)
            menu_private->items[index].language = (int8) sys_comval->language_id;
4879474e:	a160      	lbu	v1,0(s1)
48794750:	6743      	move	v0,v1
48794752:	3244      	sll	v0,1
48794754:	e269      	addu	v0,v1
48794756:	3248      	sll	v0,2
48794758:	e28d      	addu	v1,v0,a0
4879475a:	b24a      	lw	v0,48794880 <update_menulist_private+0x244>
4879475c:	9a40      	lw	v0,0(v0)
4879475e:	a24c      	lbu	v0,12(v0)
48794760:	c350      	sb	v0,16(v1)
48794762:	1019      	b	48794796 <update_menulist_private+0x15a>
48794764:	9985      	lw	a0,20(s1)
        }
        else
        {
            menu_private->items[index].data.id = g_menu_items[index].str_id;
48794766:	a160      	lbu	v1,0(s1)
48794768:	6743      	move	v0,v1
4879476a:	3244      	sll	v0,1
4879476c:	e269      	addu	v0,v1
4879476e:	3248      	sll	v0,2
48794770:	e291      	addu	a0,v0,a0
48794772:	b547      	lw	a1,4879488c <update_menulist_private+0x250>
48794774:	a160      	lbu	v1,0(s1)
48794776:	6743      	move	v0,v1
48794778:	3248      	sll	v0,2
4879477a:	e269      	addu	v0,v1
4879477c:	3248      	sll	v0,2
4879477e:	e2a9      	addu	v0,a1
48794780:	aa41      	lhu	v0,2(v0)
48794782:	cc46      	sh	v0,12(a0)
48794784:	9985      	lw	a0,20(s1)
            menu_private->items[index].language = UNICODEID;
48794786:	a160      	lbu	v1,0(s1)
48794788:	6743      	move	v0,v1
4879478a:	3244      	sll	v0,1
4879478c:	e269      	addu	v0,v1
4879478e:	3248      	sll	v0,2
48794790:	e28d      	addu	v1,v0,a0
48794792:	6a7e      	li	v0,126
48794794:	c350      	sb	v0,16(v1)
48794796:	b43e      	lw	a0,4879488c <update_menulist_private+0x250>
        }

        if (((g_menu_items[index].child_index & 0x8000) == 0x8000)//RADIO 菜单
48794798:	a160      	lbu	v1,0(s1)
4879479a:	6743      	move	v0,v1
4879479c:	3248      	sll	v0,2
4879479e:	e269      	addu	v0,v1
487947a0:	3248      	sll	v0,2
487947a2:	e289      	addu	v0,a0
487947a4:	8a40      	lh	v0,0(v0)
487947a6:	5200      	slti	v0,0
487947a8:	601a      	bteqz	487947de <update_menulist_private+0x1a2>
487947aa:	9944      	lw	v0,16(s1)
487947ac:	aa69      	lhu	v1,18(v0)
487947ae:	f7ff 6a1f 	li	v0,65535
487947b2:	ea6e      	xor	v0,v1
487947b4:	5a01      	sltiu	v0,1
487947b6:	6113      	btnez	487947de <update_menulist_private+0x1a2>
487947b8:	9944      	lw	v0,16(s1)
487947ba:	aa66      	lhu	v1,12(v0)
487947bc:	a140      	lbu	v0,0(s1)
487947be:	e34d      	addu	v1,v0
487947c0:	9944      	lw	v0,16(s1)
487947c2:	aa49      	lhu	v0,18(v0)
487947c4:	ea6e      	xor	v0,v1
487947c6:	5a01      	sltiu	v0,1
487947c8:	600a      	bteqz	487947de <update_menulist_private+0x1a2>
487947ca:	9985      	lw	a0,20(s1)
                && (p_ml_control->select != V_U16_INVALID)//该条件保证在没有指定 select 项时不会乱显示 RADIO 项而造成用户误解
                && ((p_ml_control->top + index) == p_ml_control->select))
        {
            menu_private->items[index].argv = ITEMS_BACK_TAG_IS_SELECT;
487947cc:	a160      	lbu	v1,0(s1)
487947ce:	6743      	move	v0,v1
487947d0:	3244      	sll	v0,1
487947d2:	e269      	addu	v0,v1
487947d4:	3248      	sll	v0,2
487947d6:	e28d      	addu	v1,v0,a0
487947d8:	6a01      	li	v0,1
487947da:	cb4a      	sh	v0,20(v1)
487947dc:	1009      	b	487947f0 <update_menulist_private+0x1b4>
487947de:	9985      	lw	a0,20(s1)
        }
        else
        {
            menu_private->items[index].argv = ITEMS_BACK_TAG_ISNOT_SELECT;
487947e0:	a160      	lbu	v1,0(s1)
487947e2:	6743      	move	v0,v1
487947e4:	3244      	sll	v0,1
487947e6:	e269      	addu	v0,v1
487947e8:	3248      	sll	v0,2
487947ea:	e28d      	addu	v1,v0,a0
487947ec:	6a00      	li	v0,0
487947ee:	cb4a      	sh	v0,20(v1)
487947f0:	9946      	lw	v0,24(s1)
        }
        //前置图标与具体菜单项绑定的菜单模板
        if (title_action->style_id == MENULIST_HEAD)
487947f2:	aa40      	lhu	v0,0(v0)
487947f4:	f00c 7203 	cmpi	v0,24579
487947f8:	6758      	move	v0,t8
487947fa:	5a01      	sltiu	v0,1
487947fc:	603a      	bteqz	48794872 <update_menulist_private+0x236>
487947fe:	9985      	lw	a0,20(s1)
        {
            menu_private->items[index].argv |= ITEMS_FRONT_TAG_IS_DISP;
48794800:	a160      	lbu	v1,0(s1)
48794802:	6743      	move	v0,v1
48794804:	3244      	sll	v0,1
48794806:	e269      	addu	v0,v1
48794808:	3248      	sll	v0,2
4879480a:	e295      	addu	a1,v0,a0
4879480c:	9985      	lw	a0,20(s1)
4879480e:	a160      	lbu	v1,0(s1)
48794810:	6743      	move	v0,v1
48794812:	3244      	sll	v0,1
48794814:	e269      	addu	v0,v1
48794816:	3248      	sll	v0,2
48794818:	e289      	addu	v0,a0
4879481a:	aa4a      	lhu	v0,20(v0)
4879481c:	f010 6b00 	li	v1,32768
48794820:	eb6b      	neg	v1
48794822:	ea6d      	or	v0,v1
48794824:	cd4a      	sh	v0,20(a1)
48794826:	9985      	lw	a0,20(s1)
            menu_private->items[index].argv
48794828:	a160      	lbu	v1,0(s1)
4879482a:	6743      	move	v0,v1
4879482c:	3244      	sll	v0,1
4879482e:	e269      	addu	v0,v1
48794830:	3248      	sll	v0,2
48794832:	e299      	addu	a2,v0,a0
48794834:	9985      	lw	a0,20(s1)
48794836:	a160      	lbu	v1,0(s1)
48794838:	6743      	move	v0,v1
4879483a:	3244      	sll	v0,1
4879483c:	e269      	addu	v0,v1
4879483e:	3248      	sll	v0,2
48794840:	e291      	addu	a0,v0,a0
48794842:	b513      	lw	a1,4879488c <update_menulist_private+0x250>
48794844:	a160      	lbu	v1,0(s1)
48794846:	6743      	move	v0,v1
48794848:	3248      	sll	v0,2
4879484a:	e269      	addu	v0,v1
4879484c:	3248      	sll	v0,2
4879484e:	e2a9      	addu	v0,a1
48794850:	a246      	lbu	v0,6(v0)
48794852:	3240      	sll	v0,8
48794854:	ac6a      	lhu	v1,20(a0)
48794856:	651a      	move	t8,v0
48794858:	6758      	move	v0,t8
4879485a:	ea6d      	or	v0,v1
4879485c:	ce4a      	sh	v0,20(a2)
4879485e:	9965      	lw	v1,20(s1)
                    |= ((uint16) (g_menu_items[index].pic_index) << ITEMS_FRONT_TAG_INDEX_SHIFT);
            menu_private->head_act_id = title_action->head_act_id;
48794860:	9946      	lw	v0,24(s1)
48794862:	aa48      	lhu	v0,16(v0)
48794864:	f060 cb42 	sh	v0,98(v1)
48794868:	9965      	lw	v1,20(s1)
            menu_private->head_id = title_action->head_id;
4879486a:	9946      	lw	v0,24(s1)
4879486c:	aa47      	lhu	v0,14(v0)
4879486e:	f060 cb40 	sh	v0,96(v1)
48794872:	a140      	lbu	v0,0(s1)
48794874:	4241      	addiu	v0,v0,1
48794876:	c140      	sb	v0,0(s1)
48794878:	1733      	b	487946e0 <update_menulist_private+0xa4>
4879487a:	65b9      	move	sp,s1
        }
    }
}
4879487c:	6452      	restore	16,ra,s1
4879487e:	e8a0      	jrc	ra
48794880:	5a48      	sltiu	v0,72
48794882:	9fc1      	lw	a2,4(a3)
48794884:	5af0      	sltiu	v0,240
48794886:	9fc1      	lw	a2,4(a3)
48794888:	4575      	daddiu	v1,a1,5
4879488a:	4859      	addiu	s0,89
4879488c:	5afc      	sltiu	v0,252
4879488e:	9fc1      	lw	a2,4(a3)
	...
Disassembly of section BANK_UI_1_31:

487d4400 <__init_action_title>:
487d4400:	64d3      	save	24,ra,s1

/*! \cond */

void __init_action_title(menu_title_action_t *title_action)
{
487d4402:	0104      	addiu	s1,sp,16
487d4404:	d982      	sw	a0,8(s1)
487d4406:	9942      	lw	v0,8(s1)
    libc_memset(title_action, 0xff, sizeof(menu_title_action_t));
487d4408:	6782      	move	a0,v0
487d440a:	6dff      	li	a1,255
487d440c:	6e14      	li	a2,20
487d440e:	6f01      	li	a3,1
487d4410:	b204      	lw	v0,487d4420 <__init_action_title+0x20>
487d4412:	eac0      	jalrc	v0
487d4414:	9962      	lw	v1,8(s1)
    //title_action->style_id = V_U16_INVALID;
    //title_action->title_id = V_U16_INVALID;
    //title_action->str_id = V_U16_INVALID;
    //title_action->menu_entry = V_U16_INVALID;//强制menu_entry条件不满足
    //title_action->source_id = V_U16_INVALID;
    title_action->ret_str = NULL;
487d4416:	6a00      	li	v0,0
487d4418:	db42      	sw	v0,8(v1)
487d441a:	65b9      	move	sp,s1
}
487d441c:	6451      	restore	8,ra,s1
487d441e:	e8a0      	jrc	ra
487d4420:	6409      	restore	72
487d4422:	bfc1      	lwu	a2,4(a3)

487d4424 <update_menu_stack>:
487d4424:	6492      	save	16,s1

//更新 menu stack 控制变量
static void update_menu_stack(menulist_control_t *p_ml_control, menulist_stack_t *p_menu_stack,
        menu_title_action_t *title_action, uint16 ori_menu_entry, uint8 mode)
{
487d4426:	673d      	move	s1,sp
487d4428:	d984      	sw	a0,16(s1)
487d442a:	d9a5      	sw	a1,20(s1)
487d442c:	d9c6      	sw	a2,24(s1)
487d442e:	6747      	move	v0,a3
487d4430:	9968      	lw	v1,32(s1)
487d4432:	c94e      	sh	v0,28(s1)
487d4434:	c160      	sb	v1,0(s1)
487d4436:	a140      	lbu	v0,0(s1)
    if (mode == 0)//进入动态入口菜单
487d4438:	2a1f      	bnez	v0,487d4478 <update_menu_stack+0x54>
487d443a:	9944      	lw	v0,16(s1)
    {
        p_menu_stack[p_ml_control->stack_pointer].cur_entry = (uint8) title_action->menu_entry;
487d443c:	a242      	lbu	v0,2(v0)
487d443e:	3348      	sll	v1,v0,2
487d4440:	9945      	lw	v0,20(s1)
487d4442:	e34d      	addu	v1,v0
487d4444:	9946      	lw	v0,24(s1)
487d4446:	aa41      	lhu	v0,2(v0)
487d4448:	c340      	sb	v0,0(v1)
487d444a:	9944      	lw	v0,16(s1)
        p_menu_stack[p_ml_control->stack_pointer].ori_entry = (uint8) ori_menu_entry;//old菜单头ID
487d444c:	a242      	lbu	v0,2(v0)
487d444e:	3348      	sll	v1,v0,2
487d4450:	9945      	lw	v0,20(s1)
487d4452:	e34d      	addu	v1,v0
487d4454:	a94e      	lhu	v0,28(s1)
487d4456:	c341      	sb	v0,1(v1)
487d4458:	9944      	lw	v0,16(s1)
        p_menu_stack[p_ml_control->stack_pointer].menu_id = (uint8) title_action->menu_entry;
487d445a:	a242      	lbu	v0,2(v0)
487d445c:	3348      	sll	v1,v0,2
487d445e:	9945      	lw	v0,20(s1)
487d4460:	e34d      	addu	v1,v0
487d4462:	9946      	lw	v0,24(s1)
487d4464:	aa41      	lhu	v0,2(v0)
487d4466:	c342      	sb	v0,2(v1)
487d4468:	9944      	lw	v0,16(s1)
        p_menu_stack[p_ml_control->stack_pointer].layer = 0;
487d446a:	a242      	lbu	v0,2(v0)
487d446c:	3348      	sll	v1,v0,2
487d446e:	9945      	lw	v0,20(s1)
487d4470:	e34d      	addu	v1,v0
487d4472:	6a00      	li	v0,0
487d4474:	c343      	sb	v0,3(v1)
487d4476:	1018      	b	487d44a8 <update_menu_stack+0x84>
487d4478:	9944      	lw	v0,16(s1)
    }
    else//返回上一级时替换为动态入口菜单，只能用于首层
    {
        //动态入口菜单，进入新的入口菜单，替换掉旧的入口菜单
        p_menu_stack[p_ml_control->stack_pointer].cur_entry = (uint8) title_action->menu_entry;
487d447a:	a242      	lbu	v0,2(v0)
487d447c:	3348      	sll	v1,v0,2
487d447e:	9945      	lw	v0,20(s1)
487d4480:	e34d      	addu	v1,v0
487d4482:	9946      	lw	v0,24(s1)
487d4484:	aa41      	lhu	v0,2(v0)
487d4486:	c340      	sb	v0,0(v1)
487d4488:	9944      	lw	v0,16(s1)
        p_menu_stack[p_ml_control->stack_pointer].ori_entry = (uint8) title_action->menu_entry;
487d448a:	a242      	lbu	v0,2(v0)
487d448c:	3348      	sll	v1,v0,2
487d448e:	9945      	lw	v0,20(s1)
487d4490:	e34d      	addu	v1,v0
487d4492:	9946      	lw	v0,24(s1)
487d4494:	aa41      	lhu	v0,2(v0)
487d4496:	c341      	sb	v0,1(v1)
487d4498:	9944      	lw	v0,16(s1)
        p_menu_stack[p_ml_control->stack_pointer].menu_id = (uint8) title_action->menu_entry;
487d449a:	a242      	lbu	v0,2(v0)
487d449c:	3348      	sll	v1,v0,2
487d449e:	9945      	lw	v0,20(s1)
487d44a0:	e34d      	addu	v1,v0
487d44a2:	9946      	lw	v0,24(s1)
487d44a4:	aa41      	lhu	v0,2(v0)
487d44a6:	c342      	sb	v0,2(v1)
487d44a8:	65b9      	move	sp,s1
        //层级不变，无需更新
    }
}
487d44aa:	6412      	restore	16,s1
487d44ac:	e8a0      	jrc	ra
	...

487d44b0 <menulist_msg_deal_gui>:
487d44b0:	64da      	save	80,ra,s1

//menulist gui app msg deal--gui
app_result_e menulist_msg_deal_gui(menulist_control_t *p_ml_control, menulist_stack_t *p_menu_stack,
        menu_title_action_t *title_action, msg_apps_type_e gui_event)
{
487d44b2:	0106      	addiu	s1,sp,24
487d44b4:	d98e      	sw	a0,56(s1)
487d44b6:	d9af      	sw	a1,60(s1)
487d44b8:	d9d0      	sw	a2,64(s1)
487d44ba:	6747      	move	v0,a3
487d44bc:	f040 c944 	sh	v0,68(s1)
487d44c0:	6a00      	li	v0,0
    app_result_e result = RESULT_NULL;
487d44c2:	c940      	sh	v0,0(s1)
487d44c4:	6a00      	li	v0,0
    menu_item_data_t *active_menu;
    menu_title_action_t temp_title_action;//临时变量
    bool deal_menu_result, deal_return_parent;

#ifdef PC
    menu_cb_func menu_func;
    menu_cb_option option_func;
#endif

    deal_menu_result = FALSE;
487d44c6:	f020 c140 	sb	v0,32(s1)
487d44ca:	6a00      	li	v0,0
    deal_return_parent = FALSE;
487d44cc:	f020 c141 	sb	v0,33(s1)
487d44d0:	f040 a944 	lhu	v0,68(s1)

    //GUI按键消息处理
    switch (gui_event)
487d44d4:	f1fb 4a1f 	addiu	v0,-9729
487d44d8:	d94a      	sw	v0,40(s1)
487d44da:	994a      	lw	v0,40(s1)
487d44dc:	5a05      	sltiu	v0,5
487d44de:	f120 6016 	bteqz	487d474e <menulist_msg_deal_gui+0x29e>
487d44e2:	994a      	lw	v0,40(s1)
487d44e4:	3344      	sll	v1,v0,1
487d44e6:	0a05      	la	v0,487d44f8 <menulist_msg_deal_gui+0x48>
487d44e8:	e349      	addu	v0,v1,v0
487d44ea:	aa40      	lhu	v0,0(v0)
487d44ec:	6762      	move	v1,v0
487d44ee:	ebb1      	seh	v1
487d44f0:	f460 b204 	lw	v0,487d4954 <menulist_msg_deal_gui+0x4a4>
487d44f4:	e349      	addu	v0,v1,v0
487d44f6:	ea80      	jrc	v0
487d44f8:	000b      	addiu	s0,sp,44
487d44fa:	0017      	addiu	s0,sp,92
487d44fc:	0023      	addiu	s0,sp,140
487d44fe:	018d      	addiu	s1,sp,564
487d4500:	01c7      	addiu	s1,sp,796
487d4502:	994e      	lw	v0,56(s1)
    {
        case EVENT_MENULIST_SELECT_NEXT:
        //切换到下一个菜单项
        menulist_select_next(p_ml_control);
487d4504:	6782      	move	a0,v0
487d4506:	f420 b210 	lw	v0,487d4934 <menulist_msg_deal_gui+0x484>
487d450a:	eac0      	jalrc	v0
487d450c:	1141      	b	487d4790 <menulist_msg_deal_gui+0x2e0>
        break;
487d450e:	994e      	lw	v0,56(s1)

        case EVENT_MENULIST_SELECT_PREV:
        //切换到上一个菜单项
        menulist_select_prev(p_ml_control);
487d4510:	6782      	move	a0,v0
487d4512:	f420 b208 	lw	v0,487d4938 <menulist_msg_deal_gui+0x488>
487d4516:	eac0      	jalrc	v0
487d4518:	113b      	b	487d4790 <menulist_msg_deal_gui+0x2e0>
        break;
487d451a:	994e      	lw	v0,56(s1)

        case EVENT_MENULIST_ENTER_SON:
        //保存当前层次菜单记录记忆
        write_history_item_menu(p_ml_control, FALSE);
487d451c:	6782      	move	a0,v0
487d451e:	6d00      	li	a1,0
487d4520:	f400 b21c 	lw	v0,487d493c <menulist_msg_deal_gui+0x48c>
487d4524:	eac0      	jalrc	v0
487d4526:	994e      	lw	v0,56(s1)
        active_menu = &g_menu_items[p_ml_control->active];
487d4528:	aa6a      	lhu	v1,20(v0)
487d452a:	6743      	move	v0,v1
487d452c:	3248      	sll	v0,2
487d452e:	e269      	addu	v0,v1
487d4530:	3348      	sll	v1,v0,2
487d4532:	f400 b210 	lw	v0,487d4940 <menulist_msg_deal_gui+0x490>
487d4536:	e349      	addu	v0,v1,v0
487d4538:	d941      	sw	v0,4(s1)
487d453a:	9941      	lw	v0,4(s1)
        //进入叶子菜单处理
        if ((active_menu->child_index & MENU_TYPE_LEAF) == MENU_TYPE_LEAF)
487d453c:	aa60      	lhu	v1,0(v0)
487d453e:	f7ef 6a1f 	li	v0,32767
487d4542:	ea6c      	and	v0,v1
487d4544:	f7ef 721f 	cmpi	v0,32767
487d4548:	6778      	move	v1,t8
487d454a:	5b01      	sltiu	v1,1
487d454c:	6011      	bteqz	487d4570 <menulist_msg_deal_gui+0xc0>
487d454e:	4147      	addiu	v0,s1,7
        {
            __init_action_title(&temp_title_action);//清空，这样才不会影响menu_func结果
487d4550:	4241      	addiu	v0,v0,1
487d4552:	6782      	move	a0,v0
487d4554:	1bf0 5100 	jal	487d4400 <__init_action_title>
487d4558:	6500      	nop
487d455a:	9941      	lw	v0,4(s1)
#ifndef PC
            result = active_menu->menu_func(&temp_title_action);
487d455c:	4167      	addiu	v1,s1,7
487d455e:	4361      	addiu	v1,v1,1
487d4560:	9a42      	lw	v0,8(v0)
487d4562:	6783      	move	a0,v1
487d4564:	eac0      	jalrc	v0
487d4566:	c940      	sh	v0,0(s1)
487d4568:	6a01      	li	v0,1
#else
            menu_func = this_get_menu_func(active_menu->str_id, active_menu->str_id_sub);
            result = menu_func(&temp_title_action);
#endif
            //叶子菜单执行返回值处理
            deal_menu_result = TRUE;
487d456a:	f020 c140 	sb	v0,32(s1)
487d456e:	1110      	b	487d4790 <menulist_msg_deal_gui+0x2e0>
487d4570:	9941      	lw	v0,4(s1)
        }
        //进入根菜单处理
        else
        {
            //获取下级菜单的菜单头和活动项值
            if (active_menu->menu_func != NULL)
487d4572:	9a42      	lw	v0,8(v0)
487d4574:	2258      	beqz	v0,487d4626 <menulist_msg_deal_gui+0x176>
487d4576:	4147      	addiu	v0,s1,7
            {
                __init_action_title(&temp_title_action);//清空，这样才不会影响menu_func结果
487d4578:	4241      	addiu	v0,v0,1
487d457a:	6782      	move	a0,v0
487d457c:	1bf0 5100 	jal	487d4400 <__init_action_title>
487d4580:	6500      	nop
487d4582:	9941      	lw	v0,4(s1)
                //根据根菜单项确定函数确定，该确定函数的返回值不处理，返回 RESULT_NULL 即可
#ifndef PC
                result = active_menu->menu_func(&temp_title_action);
487d4584:	4167      	addiu	v1,s1,7
487d4586:	4361      	addiu	v1,v1,1
487d4588:	9a42      	lw	v0,8(v0)
487d458a:	6783      	move	a0,v1
487d458c:	eac0      	jalrc	v0
487d458e:	c940      	sh	v0,0(s1)
487d4590:	a960      	lhu	v1,0(s1)
#else
                menu_func = this_get_menu_func(active_menu->str_id, active_menu->str_id_sub);
                result = menu_func(&temp_title_action);
#endif
                //非叶子菜单项除了进入下一级外，还可以当作叶子菜单执行，
                //如果返回值不是 RESULE_MENU_SON，就认为是当作叶子菜单执行
                if (result != RESULT_MENU_SON)
487d4592:	f210 6a02 	li	v0,33282
487d4596:	ea6e      	xor	v0,v1
487d4598:	5a01      	sltiu	v0,1
487d459a:	6104      	btnez	487d45a4 <menulist_msg_deal_gui+0xf4>
487d459c:	6a01      	li	v0,1
                {
                    deal_menu_result = TRUE;
487d459e:	f020 c140 	sb	v0,32(s1)
487d45a2:	10f6      	b	487d4790 <menulist_msg_deal_gui+0x2e0>

                    break;//case 分支从此处退出
487d45a4:	9950      	lw	v0,64(s1)
                }

                libc_memcpy(title_action, &temp_title_action, sizeof(menu_title_action_t));
487d45a6:	4167      	addiu	v1,s1,7
487d45a8:	4361      	addiu	v1,v1,1
487d45aa:	6782      	move	a0,v0
487d45ac:	67a3      	move	a1,v1
487d45ae:	6e14      	li	a2,20
487d45b0:	6f00      	li	a3,0
487d45b2:	b2e5      	lw	v0,487d4944 <menulist_msg_deal_gui+0x494>
487d45b4:	eac0      	jalrc	v0
487d45b6:	9950      	lw	v0,64(s1)
                if (title_action->menu_entry != V_U16_INVALID)
487d45b8:	aa61      	lhu	v1,2(v0)
487d45ba:	f7ff 6a1f 	li	v0,65535
487d45be:	ea6e      	xor	v0,v1
487d45c0:	5a01      	sltiu	v0,1
487d45c2:	6116      	btnez	487d45f0 <menulist_msg_deal_gui+0x140>
487d45c4:	996e      	lw	v1,56(s1)
                {
                    //进入新入口菜单
                    p_ml_control->stack_pointer++;
487d45c6:	994e      	lw	v0,56(s1)
487d45c8:	a242      	lbu	v0,2(v0)
487d45ca:	4241      	addiu	v0,v0,1
487d45cc:	c342      	sb	v0,2(v1)
487d45ce:	996e      	lw	v1,56(s1)
                    p_ml_control->layer_no++;
487d45d0:	994e      	lw	v0,56(s1)
487d45d2:	a249      	lbu	v0,9(v0)
487d45d4:	4241      	addiu	v0,v0,1
487d45d6:	c349      	sb	v0,9(v1)
487d45d8:	996e      	lw	v1,56(s1)

                    //进入新入口菜单，更新 menu stack 控制变量
                    update_menu_stack(p_ml_control, p_menu_stack, title_action, active_menu->child_index, 0);
487d45da:	99af      	lw	a1,60(s1)
487d45dc:	99d0      	lw	a2,64(s1)
487d45de:	9941      	lw	v0,4(s1)
487d45e0:	aae0      	lhu	a3,0(v0)
487d45e2:	6a00      	li	v0,0
487d45e4:	d204      	sw	v0,16(sp)
487d45e6:	6783      	move	a0,v1
487d45e8:	1bf0 5109 	jal	487d4424 <update_menu_stack>
487d45ec:	6500      	nop
487d45ee:	1041      	b	487d4672 <menulist_msg_deal_gui+0x1c2>
487d45f0:	994e      	lw	v0,56(s1)
                }
                else
                {
                    //进入下一级菜单
                    p_menu_stack[p_ml_control->stack_pointer].menu_id = (uint8) active_menu->child_index;
487d45f2:	a242      	lbu	v0,2(v0)
487d45f4:	3348      	sll	v1,v0,2
487d45f6:	994f      	lw	v0,60(s1)
487d45f8:	e34d      	addu	v1,v0
487d45fa:	9941      	lw	v0,4(s1)
487d45fc:	aa40      	lhu	v0,0(v0)
487d45fe:	c342      	sb	v0,2(v1)
487d4600:	994e      	lw	v0,56(s1)
                    p_menu_stack[p_ml_control->stack_pointer].layer++;
487d4602:	a242      	lbu	v0,2(v0)
487d4604:	3348      	sll	v1,v0,2
487d4606:	994f      	lw	v0,60(s1)
487d4608:	e351      	addu	a0,v1,v0
487d460a:	994e      	lw	v0,56(s1)
487d460c:	a242      	lbu	v0,2(v0)
487d460e:	3348      	sll	v1,v0,2
487d4610:	994f      	lw	v0,60(s1)
487d4612:	e349      	addu	v0,v1,v0
487d4614:	a243      	lbu	v0,3(v0)
487d4616:	4241      	addiu	v0,v0,1
487d4618:	c443      	sb	v0,3(a0)
487d461a:	996e      	lw	v1,56(s1)
                    p_ml_control->layer_no++;
487d461c:	994e      	lw	v0,56(s1)
487d461e:	a249      	lbu	v0,9(v0)
487d4620:	4241      	addiu	v0,v0,1
487d4622:	c349      	sb	v0,9(v1)
487d4624:	1026      	b	487d4672 <menulist_msg_deal_gui+0x1c2>
487d4626:	9950      	lw	v0,64(s1)
                }
            }
            else
            {
                __init_action_title(title_action);//清空，正常进入下一级菜单
487d4628:	6782      	move	a0,v0
487d462a:	1bf0 5100 	jal	487d4400 <__init_action_title>
487d462e:	6500      	nop
487d4630:	9950      	lw	v0,64(s1)
                if (title_action->menu_entry == V_U16_INVALID)
487d4632:	aa61      	lhu	v1,2(v0)
487d4634:	f7ff 6a1f 	li	v0,65535
487d4638:	ea6e      	xor	v0,v1
487d463a:	5a01      	sltiu	v0,1
487d463c:	601a      	bteqz	487d4672 <menulist_msg_deal_gui+0x1c2>
487d463e:	994e      	lw	v0,56(s1)
                {
                    //进入下一级菜单
                    p_menu_stack[p_ml_control->stack_pointer].menu_id = (uint8) active_menu->child_index;
487d4640:	a242      	lbu	v0,2(v0)
487d4642:	3348      	sll	v1,v0,2
487d4644:	994f      	lw	v0,60(s1)
487d4646:	e34d      	addu	v1,v0
487d4648:	9941      	lw	v0,4(s1)
487d464a:	aa40      	lhu	v0,0(v0)
487d464c:	c342      	sb	v0,2(v1)
487d464e:	994e      	lw	v0,56(s1)
                    p_menu_stack[p_ml_control->stack_pointer].layer++;
487d4650:	a242      	lbu	v0,2(v0)
487d4652:	3348      	sll	v1,v0,2
487d4654:	994f      	lw	v0,60(s1)
487d4656:	e351      	addu	a0,v1,v0
487d4658:	994e      	lw	v0,56(s1)
487d465a:	a242      	lbu	v0,2(v0)
487d465c:	3348      	sll	v1,v0,2
487d465e:	994f      	lw	v0,60(s1)
487d4660:	e349      	addu	v0,v1,v0
487d4662:	a243      	lbu	v0,3(v0)
487d4664:	4241      	addiu	v0,v0,1
487d4666:	c443      	sb	v0,3(a0)
487d4668:	996e      	lw	v1,56(s1)
                    p_ml_control->layer_no++;
487d466a:	994e      	lw	v0,56(s1)
487d466c:	a249      	lbu	v0,9(v0)
487d466e:	4241      	addiu	v0,v0,1
487d4670:	c349      	sb	v0,9(v1)
487d4672:	996e      	lw	v1,56(s1)
                }
            }

            //重新加载菜单列表
            p_ml_control->enter_menu = TRUE;
487d4674:	6a01      	li	v0,1
487d4676:	c35a      	sb	v0,26(v1)
487d4678:	996e      	lw	v1,56(s1)
            p_ml_control->draw_mode = LIST_DRAW_LIST;
487d467a:	6a02      	li	v0,2
487d467c:	c359      	sb	v0,25(v1)
487d467e:	6a00      	li	v0,0
            result = RESULT_NULL;//不退出控件
487d4680:	c940      	sh	v0,0(s1)
487d4682:	1086      	b	487d4790 <menulist_msg_deal_gui+0x2e0>
        }
        break;
487d4684:	b2b1      	lw	v0,487d4948 <menulist_msg_deal_gui+0x498>

        case EVENT_MENULIST_BACK_PARENT:
        //执行返回父菜单回调函数
        if ((g_back_to_parant_arg != NULL) && (*g_back_to_parant_arg != 0))
487d4686:	9a40      	lw	v0,0(v0)
487d4688:	220a      	beqz	v0,487d469e <menulist_msg_deal_gui+0x1ee>
487d468a:	b2b0      	lw	v0,487d4948 <menulist_msg_deal_gui+0x498>
487d468c:	9a40      	lw	v0,0(v0)
487d468e:	a240      	lbu	v0,0(v0)
487d4690:	2206      	beqz	v0,487d469e <menulist_msg_deal_gui+0x1ee>
487d4692:	b2af      	lw	v0,487d494c <menulist_msg_deal_gui+0x49c>
        {
            g_back_to_parent_func();
487d4694:	9a40      	lw	v0,0(v0)
487d4696:	eac0      	jalrc	v0
487d4698:	b3ac      	lw	v1,487d4944 <menulist_msg_deal_gui+0x494>
            g_back_to_parant_arg = NULL;
487d469a:	6a00      	li	v0,0
487d469c:	db40      	sw	v0,0(v1)
487d469e:	994e      	lw	v0,56(s1)
        }

        //保存当前层次菜单记录记忆
        write_history_item_menu(p_ml_control, FALSE);
487d46a0:	6782      	move	a0,v0
487d46a2:	6d00      	li	a1,0
487d46a4:	b2a6      	lw	v0,487d493c <menulist_msg_deal_gui+0x48c>
487d46a6:	eac0      	jalrc	v0
487d46a8:	9950      	lw	v0,64(s1)
        __init_action_title(title_action);//清空，这样才不会影响下次处理
487d46aa:	6782      	move	a0,v0
487d46ac:	1bf0 5100 	jal	487d4400 <__init_action_title>
487d46b0:	6500      	nop
487d46b2:	6a00      	li	v0,0
        result = RESULT_NULL;
487d46b4:	c940      	sh	v0,0(s1)
487d46b6:	6a01      	li	v0,1
        deal_return_parent = TRUE;
487d46b8:	f020 c141 	sb	v0,33(s1)
487d46bc:	1069      	b	487d4790 <menulist_msg_deal_gui+0x2e0>
        break;
487d46be:	994e      	lw	v0,56(s1)

        case EVENT_MENULIST_ENTER_OPTION:
        //保存当前层次菜单记录记忆
        write_history_item_menu(p_ml_control, FALSE);
487d46c0:	6782      	move	a0,v0
487d46c2:	6d00      	li	a1,0
487d46c4:	b29e      	lw	v0,487d493c <menulist_msg_deal_gui+0x48c>
487d46c6:	eac0      	jalrc	v0
487d46c8:	994e      	lw	v0,56(s1)
        active_menu = &g_menu_items[p_ml_control->active];
487d46ca:	aa6a      	lhu	v1,20(v0)
487d46cc:	6743      	move	v0,v1
487d46ce:	3248      	sll	v0,2
487d46d0:	e269      	addu	v0,v1
487d46d2:	3348      	sll	v1,v0,2
487d46d4:	b29b      	lw	v0,487d4940 <menulist_msg_deal_gui+0x490>
487d46d6:	e349      	addu	v0,v1,v0
487d46d8:	d941      	sw	v0,4(s1)
487d46da:	9941      	lw	v0,4(s1)
        if (active_menu->menu_option != NULL)
487d46dc:	9a44      	lw	v0,16(v0)
487d46de:	2258      	beqz	v0,487d4790 <menulist_msg_deal_gui+0x2e0>
487d46e0:	9941      	lw	v0,4(s1)
        {
#ifndef PC
            result = active_menu->menu_option();
487d46e2:	9a44      	lw	v0,16(v0)
487d46e4:	eac0      	jalrc	v0
487d46e6:	c940      	sh	v0,0(s1)
487d46e8:	a940      	lhu	v0,0(s1)
#else
            option_func = this_get_menu_option(active_menu->str_id, active_menu->str_id_sub);
            result = option_func();
#endif
            switch (result)
487d46ea:	d949      	sw	v0,36(s1)
487d46ec:	f210 6a01 	li	v0,33281
487d46f0:	9969      	lw	v1,36(s1)
487d46f2:	ea6e      	xor	v0,v1
487d46f4:	5a01      	sltiu	v0,1
487d46f6:	611c      	btnez	487d4730 <menulist_msg_deal_gui+0x280>
487d46f8:	f210 6a01 	li	v0,33281
487d46fc:	9969      	lw	v1,36(s1)
487d46fe:	ea62      	slt	v0,v1
487d4700:	6107      	btnez	487d4710 <menulist_msg_deal_gui+0x260>
487d4702:	f010 6a14 	li	v0,32788
487d4706:	9969      	lw	v1,36(s1)
487d4708:	ea6e      	xor	v0,v1
487d470a:	5a01      	sltiu	v0,1
487d470c:	611a      	btnez	487d4742 <menulist_msg_deal_gui+0x292>
487d470e:	1040      	b	487d4790 <menulist_msg_deal_gui+0x2e0>
487d4710:	f210 6a06 	li	v0,33286
487d4714:	9969      	lw	v1,36(s1)
487d4716:	ea6e      	xor	v0,v1
487d4718:	5a01      	sltiu	v0,1
487d471a:	6101      	btnez	487d471e <menulist_msg_deal_gui+0x26e>
487d471c:	1039      	b	487d4790 <menulist_msg_deal_gui+0x2e0>
487d471e:	996e      	lw	v1,56(s1)
            {
                case RESULT_MENU_REDRAW://重新加载菜单，用于嵌套调用 menulist 返回
                p_ml_control->enter_menu = TRUE;
487d4720:	6a01      	li	v0,1
487d4722:	c35a      	sb	v0,26(v1)
487d4724:	996e      	lw	v1,56(s1)
                p_ml_control->draw_mode = LIST_DRAW_ALL;
487d4726:	6a03      	li	v0,3
487d4728:	c359      	sb	v0,25(v1)
487d472a:	6a00      	li	v0,0
                result = RESULT_NULL;//不退出控件
487d472c:	c940      	sh	v0,0(s1)
487d472e:	1030      	b	487d4790 <menulist_msg_deal_gui+0x2e0>
                break;
487d4730:	9950      	lw	v0,64(s1)

                case RESULT_MENU_PARENT:
                __init_action_title(title_action);//清空，这样就只会按照最普通方式返回上一级
487d4732:	6782      	move	a0,v0
487d4734:	1bf0 5100 	jal	487d4400 <__init_action_title>
487d4738:	6500      	nop
487d473a:	6a01      	li	v0,1
                deal_return_parent = TRUE;
487d473c:	f020 c141 	sb	v0,33(s1)
487d4740:	1027      	b	487d4790 <menulist_msg_deal_gui+0x2e0>
                break;
487d4742:	994e      	lw	v0,56(s1)

                case RESULT_REDRAW:
                p_ml_control->draw_mode = LIST_DRAW_ALL;
487d4744:	6b03      	li	v1,3
487d4746:	c279      	sb	v1,25(v0)
487d4748:	6a00      	li	v0,0
                result = RESULT_NULL;//不退出控件
487d474a:	c940      	sh	v0,0(s1)
487d474c:	1021      	b	487d4790 <menulist_msg_deal_gui+0x2e0>
                break;
487d474e:	f040 a944 	lhu	v0,68(s1)

                default:
                //do nothing
                break;
            }
        }
        break;

        default:
        result = com_message_box(gui_event);
487d4752:	6782      	move	a0,v0
487d4754:	b27f      	lw	v0,487d4950 <menulist_msg_deal_gui+0x4a0>
487d4756:	eac0      	jalrc	v0
487d4758:	c940      	sh	v0,0(s1)
487d475a:	a960      	lhu	v1,0(s1)
        if (result == RESULT_REDRAW)
487d475c:	f010 6a14 	li	v0,32788
487d4760:	ea6e      	xor	v0,v1
487d4762:	5a01      	sltiu	v0,1
487d4764:	6006      	bteqz	487d4772 <menulist_msg_deal_gui+0x2c2>
487d4766:	994e      	lw	v0,56(s1)
        {
            p_ml_control->draw_mode = LIST_DRAW_ALL;
487d4768:	6b03      	li	v1,3
487d476a:	c279      	sb	v1,25(v0)
487d476c:	6a00      	li	v0,0
            result = RESULT_NULL;//不退出控件
487d476e:	c940      	sh	v0,0(s1)
487d4770:	100f      	b	487d4790 <menulist_msg_deal_gui+0x2e0>
487d4772:	a940      	lhu	v0,0(s1)
        }
        else if (result != RESULT_NULL)
487d4774:	220d      	beqz	v0,487d4790 <menulist_msg_deal_gui+0x2e0>
487d4776:	b275      	lw	v0,487d4948 <menulist_msg_deal_gui+0x498>
        {
            //执行返回父菜单回调函数
            if ((g_back_to_parant_arg != NULL) && (*g_back_to_parant_arg != 0))
487d4778:	9a40      	lw	v0,0(v0)
487d477a:	220a      	beqz	v0,487d4790 <menulist_msg_deal_gui+0x2e0>
487d477c:	b273      	lw	v0,487d4948 <menulist_msg_deal_gui+0x498>
487d477e:	9a40      	lw	v0,0(v0)
487d4780:	a240      	lbu	v0,0(v0)
487d4782:	2206      	beqz	v0,487d4790 <menulist_msg_deal_gui+0x2e0>
487d4784:	b272      	lw	v0,487d494c <menulist_msg_deal_gui+0x49c>
            {
                g_back_to_parent_func();
487d4786:	9a40      	lw	v0,0(v0)
487d4788:	eac0      	jalrc	v0
487d478a:	b370      	lw	v1,487d4948 <menulist_msg_deal_gui+0x498>
                g_back_to_parant_arg = NULL;
487d478c:	6a00      	li	v0,0
487d478e:	db40      	sw	v0,0(v1)
487d4790:	f020 a140 	lbu	v0,32(s1)
            }
        }
        else
        {
        }
        break;
    }

    //菜单回调函数返回值处理
    if (deal_menu_result == TRUE)
487d4794:	7201      	cmpi	v0,1
487d4796:	6758      	move	v0,t8
487d4798:	5a01      	sltiu	v0,1
487d479a:	606a      	bteqz	487d4870 <menulist_msg_deal_gui+0x3c0>
487d479c:	a960      	lhu	v1,0(s1)
    {
        switch (result)
487d479e:	d96b      	sw	v1,44(s1)
487d47a0:	f210 6a03 	li	v0,33283
487d47a4:	996b      	lw	v1,44(s1)
487d47a6:	ea6e      	xor	v0,v1
487d47a8:	5a01      	sltiu	v0,1
487d47aa:	6131      	btnez	487d480e <menulist_msg_deal_gui+0x35e>
487d47ac:	f210 6a03 	li	v0,33283
487d47b0:	996b      	lw	v1,44(s1)
487d47b2:	ea62      	slt	v0,v1
487d47b4:	610d      	btnez	487d47d0 <menulist_msg_deal_gui+0x320>
487d47b6:	f010 6a14 	li	v0,32788
487d47ba:	996b      	lw	v1,44(s1)
487d47bc:	ea6e      	xor	v0,v1
487d47be:	5a01      	sltiu	v0,1
487d47c0:	6152      	btnez	487d4866 <menulist_msg_deal_gui+0x3b6>
487d47c2:	f210 6a01 	li	v0,33281
487d47c6:	996b      	lw	v1,44(s1)
487d47c8:	ea6e      	xor	v0,v1
487d47ca:	5a01      	sltiu	v0,1
487d47cc:	6113      	btnez	487d47f4 <menulist_msg_deal_gui+0x344>
487d47ce:	1050      	b	487d4870 <menulist_msg_deal_gui+0x3c0>
487d47d0:	f210 6a04 	li	v0,33284
487d47d4:	996b      	lw	v1,44(s1)
487d47d6:	ea6e      	xor	v0,v1
487d47d8:	5a01      	sltiu	v0,1
487d47da:	6135      	btnez	487d4846 <menulist_msg_deal_gui+0x396>
487d47dc:	f210 6a05 	li	v0,33285
487d47e0:	996b      	lw	v1,44(s1)
487d47e2:	ea6e      	xor	v0,v1
487d47e4:	5a01      	sltiu	v0,1
487d47e6:	6101      	btnez	487d47ea <menulist_msg_deal_gui+0x33a>
487d47e8:	1043      	b	487d4870 <menulist_msg_deal_gui+0x3c0>
487d47ea:	f7ef 6a0c 	li	v0,32748
        {
            case RESULT_MENU_EXIT:
            result = RESULT_REDRAW;
487d47ee:	ea4b      	neg	v0
487d47f0:	c940      	sh	v0,0(s1)
487d47f2:	103e      	b	487d4870 <menulist_msg_deal_gui+0x3c0>
            break;
487d47f4:	9950      	lw	v0,64(s1)

            case RESULT_MENU_PARENT:
            libc_memcpy(title_action, &temp_title_action, sizeof(menu_title_action_t));
487d47f6:	4167      	addiu	v1,s1,7
487d47f8:	4361      	addiu	v1,v1,1
487d47fa:	6782      	move	a0,v0
487d47fc:	67a3      	move	a1,v1
487d47fe:	6e14      	li	a2,20
487d4800:	6f00      	li	a3,0
487d4802:	b251      	lw	v0,487d4944 <menulist_msg_deal_gui+0x494>
487d4804:	eac0      	jalrc	v0
487d4806:	6a01      	li	v0,1
            deal_return_parent = TRUE;
487d4808:	f020 c141 	sb	v0,33(s1)
487d480c:	1031      	b	487d4870 <menulist_msg_deal_gui+0x3c0>
            break;
487d480e:	9950      	lw	v0,64(s1)

            case RESULT_MENU_CUR:
            //重新进入当前层菜单，为了更新为新style和入口
            libc_memcpy(title_action, &temp_title_action, sizeof(menu_title_action_t));
487d4810:	4167      	addiu	v1,s1,7
487d4812:	4361      	addiu	v1,v1,1
487d4814:	6782      	move	a0,v0
487d4816:	67a3      	move	a1,v1
487d4818:	6e14      	li	a2,20
487d481a:	6f00      	li	a3,0
487d481c:	b24a      	lw	v0,487d4944 <menulist_msg_deal_gui+0x494>
487d481e:	eac0      	jalrc	v0
487d4820:	996e      	lw	v1,56(s1)
            re_enter_currentdir(p_ml_control, p_menu_stack, title_action, p_ml_control->menu_com->menu_func);
487d4822:	99af      	lw	a1,60(s1)
487d4824:	99d0      	lw	a2,64(s1)
487d4826:	994e      	lw	v0,56(s1)
487d4828:	9a41      	lw	v0,4(v0)
487d482a:	9a41      	lw	v0,4(v0)
487d482c:	6783      	move	a0,v1
487d482e:	67e2      	move	a3,v0
487d4830:	b24a      	lw	v0,487d4958 <menulist_msg_deal_gui+0x4a8>
487d4832:	eac0      	jalrc	v0
487d4834:	996e      	lw	v1,56(s1)
            //重新加载菜单列表
            p_ml_control->enter_menu = TRUE;
487d4836:	6a01      	li	v0,1
487d4838:	c35a      	sb	v0,26(v1)
487d483a:	996e      	lw	v1,56(s1)
            p_ml_control->draw_mode = LIST_DRAW_ALL;
487d483c:	6a03      	li	v0,3
487d483e:	c359      	sb	v0,25(v1)
487d4840:	6a00      	li	v0,0
            result = RESULT_NULL;//不退出控件
487d4842:	c940      	sh	v0,0(s1)
487d4844:	1015      	b	487d4870 <menulist_msg_deal_gui+0x3c0>
            break;
487d4846:	994e      	lw	v0,56(s1)

            case RESULT_MENU_REDRAW_PARENT:
            //重画后返回上一级
            re_redraw_currentdir(p_ml_control, &temp_title_action);
487d4848:	4167      	addiu	v1,s1,7
487d484a:	4361      	addiu	v1,v1,1
487d484c:	6782      	move	a0,v0
487d484e:	67a3      	move	a1,v1
487d4850:	b243      	lw	v0,487d495c <menulist_msg_deal_gui+0x4ac>
487d4852:	eac0      	jalrc	v0
487d4854:	9950      	lw	v0,64(s1)
            __init_action_title(title_action);//清空，以默认方式返回上一级
487d4856:	6782      	move	a0,v0
487d4858:	1bf0 5100 	jal	487d4400 <__init_action_title>
487d485c:	6500      	nop
487d485e:	6a01      	li	v0,1
            deal_return_parent = TRUE;
487d4860:	f020 c141 	sb	v0,33(s1)
487d4864:	1005      	b	487d4870 <menulist_msg_deal_gui+0x3c0>
            break;
487d4866:	994e      	lw	v0,56(s1)

            case RESULT_REDRAW:
            p_ml_control->draw_mode = LIST_DRAW_ALL;
487d4868:	6b03      	li	v1,3
487d486a:	c279      	sb	v1,25(v0)
487d486c:	6a00      	li	v0,0
            result = RESULT_NULL;//不退出控件
487d486e:	c940      	sh	v0,0(s1)
487d4870:	f020 a141 	lbu	v0,33(s1)
            break;

            default:
            //do nothing
            break;
        }
    }

    //返回上一级菜单处理
    if (deal_return_parent == TRUE)
487d4874:	7201      	cmpi	v0,1
487d4876:	6758      	move	v0,t8
487d4878:	5a01      	sltiu	v0,1
487d487a:	6056      	bteqz	487d4928 <menulist_msg_deal_gui+0x478>
487d487c:	b239      	lw	v0,487d4960 <menulist_msg_deal_gui+0x4b0>
    {
        if (g_menu_title.father_index != MENU_TYPE_ENTRY)
487d487e:	aa64      	lhu	v1,8(v0)
487d4880:	f7ff 6a1f 	li	v0,65535
487d4884:	ea6e      	xor	v0,v1
487d4886:	5a01      	sltiu	v0,1
487d4888:	614b      	btnez	487d4920 <menulist_msg_deal_gui+0x470>
487d488a:	994e      	lw	v0,56(s1)
        {
            if (p_menu_stack[p_ml_control->stack_pointer].layer == 0)
487d488c:	a242      	lbu	v0,2(v0)
487d488e:	3348      	sll	v1,v0,2
487d4890:	994f      	lw	v0,60(s1)
487d4892:	e349      	addu	v0,v1,v0
487d4894:	a243      	lbu	v0,3(v0)
487d4896:	2a0b      	bnez	v0,487d48ae <menulist_msg_deal_gui+0x3fe>
487d4898:	996e      	lw	v1,56(s1)
            {
                //退出当前入口菜单，返回上一个入口菜单
                p_ml_control->stack_pointer--;
487d489a:	994e      	lw	v0,56(s1)
487d489c:	a242      	lbu	v0,2(v0)
487d489e:	424f      	addiu	v0,v0,-1
487d48a0:	c342      	sb	v0,2(v1)
487d48a2:	996e      	lw	v1,56(s1)
                p_ml_control->layer_no--;
487d48a4:	994e      	lw	v0,56(s1)
487d48a6:	a249      	lbu	v0,9(v0)
487d48a8:	424f      	addiu	v0,v0,-1
487d48aa:	c349      	sb	v0,9(v1)
487d48ac:	101a      	b	487d48e2 <menulist_msg_deal_gui+0x432>
487d48ae:	994e      	lw	v0,56(s1)
            }
            else
            {
                //返回上一级菜单
                p_menu_stack[p_ml_control->stack_pointer].menu_id = (uint8) g_menu_title.father_index;
487d48b0:	a242      	lbu	v0,2(v0)
487d48b2:	3348      	sll	v1,v0,2
487d48b4:	994f      	lw	v0,60(s1)
487d48b6:	e34d      	addu	v1,v0
487d48b8:	b22a      	lw	v0,487d4960 <menulist_msg_deal_gui+0x4b0>
487d48ba:	aa44      	lhu	v0,8(v0)
487d48bc:	c342      	sb	v0,2(v1)
487d48be:	994e      	lw	v0,56(s1)
                p_menu_stack[p_ml_control->stack_pointer].layer--;
487d48c0:	a242      	lbu	v0,2(v0)
487d48c2:	3348      	sll	v1,v0,2
487d48c4:	994f      	lw	v0,60(s1)
487d48c6:	e351      	addu	a0,v1,v0
487d48c8:	994e      	lw	v0,56(s1)
487d48ca:	a242      	lbu	v0,2(v0)
487d48cc:	3348      	sll	v1,v0,2
487d48ce:	994f      	lw	v0,60(s1)
487d48d0:	e349      	addu	v0,v1,v0
487d48d2:	a243      	lbu	v0,3(v0)
487d48d4:	424f      	addiu	v0,v0,-1
487d48d6:	c443      	sb	v0,3(a0)
487d48d8:	996e      	lw	v1,56(s1)
                p_ml_control->layer_no--;
487d48da:	994e      	lw	v0,56(s1)
487d48dc:	a249      	lbu	v0,9(v0)
487d48de:	424f      	addiu	v0,v0,-1
487d48e0:	c349      	sb	v0,9(v1)
487d48e2:	994e      	lw	v0,56(s1)
            }

            //获取菜单头结构体，用来在 re_enter_currentdir 中判断是否到达菜单最顶层
            load_conf_title(p_ml_control, p_menu_stack);
487d48e4:	996f      	lw	v1,60(s1)
487d48e6:	6782      	move	a0,v0
487d48e8:	67a3      	move	a1,v1
487d48ea:	b21f      	lw	v0,487d4964 <menulist_msg_deal_gui+0x4b4>
487d48ec:	eac0      	jalrc	v0
487d48ee:	996e      	lw	v1,56(s1)

            //重新进入当前层菜单，也就是说，返回上一级等同于先简单返回上一级再重新进入当前层菜单
            re_enter_currentdir(p_ml_control, p_menu_stack, title_action, p_ml_control->menu_com->menu_func);
487d48f0:	99af      	lw	a1,60(s1)
487d48f2:	99d0      	lw	a2,64(s1)
487d48f4:	994e      	lw	v0,56(s1)
487d48f6:	9a41      	lw	v0,4(v0)
487d48f8:	9a41      	lw	v0,4(v0)
487d48fa:	6783      	move	a0,v1
487d48fc:	67e2      	move	a3,v0
487d48fe:	b217      	lw	v0,487d4958 <menulist_msg_deal_gui+0x4a8>
487d4900:	eac0      	jalrc	v0
487d4902:	996e      	lw	v1,56(s1)
            //重新加载菜单列表
            p_ml_control->enter_menu = TRUE;
487d4904:	6a01      	li	v0,1
487d4906:	c35a      	sb	v0,26(v1)
487d4908:	a940      	lhu	v0,0(s1)
            if (result == RESULT_NULL)
487d490a:	2a04      	bnez	v0,487d4914 <menulist_msg_deal_gui+0x464>
487d490c:	996e      	lw	v1,56(s1)
            {
                p_ml_control->draw_mode = LIST_DRAW_LIST;
487d490e:	6a02      	li	v0,2
487d4910:	c359      	sb	v0,25(v1)
487d4912:	1003      	b	487d491a <menulist_msg_deal_gui+0x46a>
487d4914:	996e      	lw	v1,56(s1)
            }
            else//其他方式返回上一级，需要全部重绘
            {
                p_ml_control->draw_mode = LIST_DRAW_ALL;
487d4916:	6a03      	li	v0,3
487d4918:	c359      	sb	v0,25(v1)
487d491a:	6a00      	li	v0,0
            }

            result = RESULT_NULL;//不退出控件
487d491c:	c940      	sh	v0,0(s1)
487d491e:	1004      	b	487d4928 <menulist_msg_deal_gui+0x478>
487d4920:	f7ef 6a0c 	li	v0,32748
        }
        else
        {
            //从入口菜单退出菜单管理器
            result = RESULT_REDRAW;
487d4924:	ea4b      	neg	v0
487d4926:	c940      	sh	v0,0(s1)
487d4928:	a940      	lhu	v0,0(s1)
        }
    }

    return result;
487d492a:	651a      	move	t8,v0
487d492c:	6758      	move	v0,t8
}
487d492e:	65b9      	move	sp,s1
487d4930:	6457      	restore	56,ra,s1
487d4932:	e8a0      	jrc	ra
487d4934:	4401      	addiu	s0,a0,1
487d4936:	4879      	addiu	s0,121
487d4938:	451d      	daddiu	s0,a1,-3
487d493a:	4879      	addiu	s0,121
487d493c:	5119      	slti	s1,25
487d493e:	40c5      	addiu	a2,s0,5
487d4940:	5afc      	sltiu	v0,252
487d4942:	9fc1      	lw	a2,4(a3)
487d4944:	6409      	restore	72
487d4946:	bfc1      	lwu	a2,4(a3)
487d4948:	5b8c      	sltiu	v1,140
487d494a:	9fc1      	lw	a2,4(a3)
487d494c:	5b88      	sltiu	v1,136
487d494e:	9fc1      	lw	a2,4(a3)
487d4950:	4601      	addiu	s0,a2,1
487d4952:	48bd      	addiu	s0,-67
487d4954:	44f8      	daddiu	a3,a0,-8
487d4956:	487d      	addiu	s0,125
487d4958:	4ecd      	addiu	a2,-51
487d495a:	40c5      	addiu	a2,s0,5
487d495c:	5069      	slti	s0,105
487d495e:	40c5      	addiu	a2,s0,5
487d4960:	5af0      	sltiu	v0,240
487d4962:	9fc1      	lw	a2,4(a3)
487d4964:	4d11      	addiu	a1,17
487d4966:	40c5      	addiu	a2,s0,5
	...
Disassembly of section BANK_UI_1_32:

48814400 <__read_text>:
48814400:	64d5      	save	40,ra,s1
/*! \cond */

//文本解码缺页处理，从文件中读取一个扇区的文本数据
static bool __read_text(text_decode_t *text_decode, text_file_t *text_file)
{
48814402:	0104      	addiu	s1,sp,16
48814404:	d986      	sw	a0,24(s1)
48814406:	d9a7      	sw	a1,28(s1)
48814408:	9947      	lw	v0,28(s1)
    int32 file_sector;
    uint32 pos_in_sector;
    bool file_miss = (bool) (((text_file->file_offset / 512) + 1) >= text_file->file_sectors);
4881440a:	9a43      	lw	v0,12(v0)
4881440c:	3242      	srl	v0,8
4881440e:	3246      	srl	v0,1
48814410:	4261      	addiu	v1,v0,1
48814412:	9947      	lw	v0,28(s1)
48814414:	9a41      	lw	v0,4(v0)
48814416:	eb43      	sltu	v1,v0
48814418:	6778      	move	v1,t8
4881441a:	6a01      	li	v0,1
4881441c:	ea6e      	xor	v0,v1
4881441e:	c148      	sb	v0,8(s1)
48814420:	9947      	lw	v0,28(s1)

    //转换为扇区和扇区内偏移地址
    file_sector = (int32) (text_file->file_offset / 512);
48814422:	9a43      	lw	v0,12(v0)
48814424:	3242      	srl	v0,8
48814426:	3246      	srl	v0,1
48814428:	d940      	sw	v0,0(s1)
4881442a:	9947      	lw	v0,28(s1)
    pos_in_sector = text_file->file_offset % 512;
4881442c:	9a63      	lw	v1,12(v0)
4881442e:	f1e0 6a1f 	li	v0,511
48814432:	ea6c      	and	v0,v1
48814434:	d941      	sw	v0,4(s1)
48814436:	9966      	lw	v1,24(s1)

    //备份尾行数据
    libc_memcpy(text_decode->text_prev, text_decode->text_buf + 512 - BUFF_ONE_ROW, BUFF_ONE_ROW);
48814438:	9946      	lw	v0,24(s1)
4881443a:	f200 4a00 	addiu	v0,512
4881443e:	6783      	move	a0,v1
48814440:	67a2      	move	a1,v0
48814442:	6e30      	li	a2,48
48814444:	6f00      	li	a3,0
48814446:	b231      	lw	v0,48814508 <__read_text+0x108>
48814448:	eac0      	jalrc	v0
4881444a:	9967      	lw	v1,28(s1)

    //读取扇区内容
    if (text_file->fseek(text_file->file_handle, SEEK_SET, file_sector) == FALSE)
4881444c:	9947      	lw	v0,28(s1)
4881444e:	9a40      	lw	v0,0(v0)
48814450:	99c0      	lw	a2,0(s1)
48814452:	9b64      	lw	v1,16(v1)
48814454:	6782      	move	a0,v0
48814456:	6d00      	li	a1,0
48814458:	ebc0      	jalrc	v1
4881445a:	651a      	move	t8,v0
4881445c:	6103      	btnez	48814464 <__read_text+0x64>
4881445e:	6a00      	li	v0,0
    {
        return FALSE;
48814460:	d943      	sw	v0,12(s1)
48814462:	104e      	b	48814500 <__read_text+0x100>
48814464:	9967      	lw	v1,28(s1)
    }
    if (text_file->fread(text_file->file_handle, text_decode->text_buf, 1) == FALSE)
48814466:	9947      	lw	v0,28(s1)
48814468:	9a80      	lw	a0,0(v0)
4881446a:	9946      	lw	v0,24(s1)
4881446c:	4a30      	addiu	v0,48
4881446e:	9b65      	lw	v1,20(v1)
48814470:	67a2      	move	a1,v0
48814472:	6e01      	li	a2,1
48814474:	ebc0      	jalrc	v1
48814476:	651a      	move	t8,v0
48814478:	6103      	btnez	48814480 <__read_text+0x80>
4881447a:	6a00      	li	v0,0
    {
        return FALSE;
4881447c:	d943      	sw	v0,12(s1)
4881447e:	1040      	b	48814500 <__read_text+0x100>
48814480:	9946      	lw	v0,24(s1)
    }

    //计算有效数据起始位置
    if (text_decode->remain != 0)
48814482:	f220 a256 	lbu	v0,566(v0)
48814486:	2212      	beqz	v0,488144ac <__read_text+0xac>
48814488:	9946      	lw	v0,24(s1)
    {
        if (BUFF_ONE_ROW < text_decode->remain)//for QAM
4881448a:	f220 a256 	lbu	v0,566(v0)
4881448e:	5a31      	sltiu	v0,49
48814490:	6103      	btnez	48814498 <__read_text+0x98>
48814492:	6a00      	li	v0,0
        {
            return FALSE;
48814494:	d943      	sw	v0,12(s1)
48814496:	1034      	b	48814500 <__read_text+0x100>
48814498:	9986      	lw	a0,24(s1)
        }
        text_decode->text_buf_valid = text_decode->text_prev + (BUFF_ONE_ROW - text_decode->remain);
4881449a:	9946      	lw	v0,24(s1)
4881449c:	f220 a276 	lbu	v1,566(v0)
488144a0:	9946      	lw	v0,24(s1)
488144a2:	e26b      	subu	v0,v1
488144a4:	4a30      	addiu	v0,48
488144a6:	f220 dc50 	sw	v0,560(a0)
488144aa:	1007      	b	488144ba <__read_text+0xba>
488144ac:	9986      	lw	a0,24(s1)
    }
    else
    {
        text_decode->text_buf_valid = text_decode->text_buf + pos_in_sector;
488144ae:	9966      	lw	v1,24(s1)
488144b0:	9941      	lw	v0,4(s1)
488144b2:	e349      	addu	v0,v1,v0
488144b4:	4a30      	addiu	v0,48
488144b6:	f220 dc50 	sw	v0,560(a0)
488144ba:	a148      	lbu	v0,8(s1)
    }

    if (file_miss == TRUE)
488144bc:	7201      	cmpi	v0,1
488144be:	6758      	move	v0,t8
488144c0:	5a01      	sltiu	v0,1
488144c2:	600e      	bteqz	488144e0 <__read_text+0xe0>
488144c4:	99a6      	lw	a1,24(s1)
    {
        text_decode->text_buf_length = (uint16) (text_file->file_length - text_file->file_offset + text_decode->remain);
488144c6:	9947      	lw	v0,28(s1)
488144c8:	9a62      	lw	v1,8(v0)
488144ca:	9947      	lw	v0,28(s1)
488144cc:	9a43      	lw	v0,12(v0)
488144ce:	e353      	subu	a0,v1,v0
488144d0:	9946      	lw	v0,24(s1)
488144d2:	f220 a276 	lbu	v1,566(v0)
488144d6:	6744      	move	v0,a0
488144d8:	e269      	addu	v0,v1
488144da:	f220 cd54 	sh	v0,564(a1)
488144de:	100e      	b	488144fc <__read_text+0xfc>
488144e0:	99a6      	lw	a1,24(s1)
    }
    else
    {
        text_decode->text_buf_length = (uint16) (512 - (text_file->file_offset % 512) + text_decode->remain);
488144e2:	9946      	lw	v0,24(s1)
488144e4:	f220 a296 	lbu	a0,566(v0)
488144e8:	9947      	lw	v0,28(s1)
488144ea:	9a63      	lw	v1,12(v0)
488144ec:	f1e0 6a1f 	li	v0,511
488144f0:	ea6c      	and	v0,v1
488144f2:	e44b      	subu	v0,a0,v0
488144f4:	f200 4a00 	addiu	v0,512
488144f8:	f220 cd54 	sh	v0,564(a1)
488144fc:	6a01      	li	v0,1
    }

    return TRUE;
488144fe:	d943      	sw	v0,12(s1)
48814500:	9943      	lw	v0,12(s1)
}
48814502:	65b9      	move	sp,s1
48814504:	6453      	restore	24,ra,s1
48814506:	e8a0      	jrc	ra
48814508:	6409      	restore	72
4881450a:	bfc1      	lwu	a2,4(a3)

4881450c <__get_lr_char>:
4881450c:	6492      	save	16,s1

//判断当前符号类型是否换行符
static bool __get_lr_char(uint8 *tmp_str, uint16 tmp_length, int8 language, uint8 *col)
{
4881450e:	673d      	move	s1,sp
48814510:	d984      	sw	a0,16(s1)
48814512:	6745      	move	v0,a1
48814514:	6766      	move	v1,a2
48814516:	d9e7      	sw	a3,28(s1)
48814518:	c94a      	sh	v0,20(s1)
4881451a:	c178      	sb	v1,24(s1)
4881451c:	8158      	lb	v0,24(s1)
    uint16 tmp_code, next_code;

    if (language == UNICODEDATA)
4881451e:	727d      	cmpi	v0,125
48814520:	6758      	move	v0,t8
48814522:	5a01      	sltiu	v0,1
48814524:	6057      	bteqz	488145d4 <__get_lr_char+0xc8>
48814526:	a94a      	lhu	v0,20(s1)
    {
        if (tmp_length < 2)
48814528:	5a02      	sltiu	v0,2
4881452a:	6006      	bteqz	48814538 <__get_lr_char+0x2c>
4881452c:	9967      	lw	v1,28(s1)
        {
            *col = 0;
4881452e:	6a00      	li	v0,0
48814530:	c340      	sb	v0,0(v1)
48814532:	6a00      	li	v0,0
            return FALSE;
48814534:	d941      	sw	v0,4(s1)
48814536:	10b0      	b	48814698 <__get_lr_char+0x18c>
48814538:	9944      	lw	v0,16(s1)
        }
        tmp_code = *tmp_str + ((uint16) (*(tmp_str + 1)) << 8);
4881453a:	a260      	lbu	v1,0(v0)
4881453c:	9944      	lw	v0,16(s1)
4881453e:	a241      	lbu	v0,1(v0)
48814540:	3240      	sll	v0,8
48814542:	e349      	addu	v0,v1,v0
48814544:	c940      	sh	v0,0(s1)
48814546:	a960      	lhu	v1,0(s1)
        if (tmp_code == 0xfeff)
48814548:	f6ff 6a1f 	li	v0,65279
4881454c:	ea6e      	xor	v0,v1
4881454e:	5a01      	sltiu	v0,1
48814550:	6006      	bteqz	4881455e <__get_lr_char+0x52>
48814552:	9967      	lw	v1,28(s1)
        {
            *col = 2;
48814554:	6a02      	li	v0,2
48814556:	c340      	sb	v0,0(v1)
48814558:	6a01      	li	v0,1
            return TRUE;
4881455a:	d941      	sw	v0,4(s1)
4881455c:	109d      	b	48814698 <__get_lr_char+0x18c>
4881455e:	a940      	lhu	v0,0(s1)
        }
        else if (tmp_code == 0x0a)//linux
48814560:	720a      	cmpi	v0,10
48814562:	6758      	move	v0,t8
48814564:	5a01      	sltiu	v0,1
48814566:	6006      	bteqz	48814574 <__get_lr_char+0x68>
48814568:	9967      	lw	v1,28(s1)
        {
            *col = 2;
4881456a:	6a02      	li	v0,2
4881456c:	c340      	sb	v0,0(v1)
4881456e:	6a01      	li	v0,1
            return TRUE;
48814570:	d941      	sw	v0,4(s1)
48814572:	1092      	b	48814698 <__get_lr_char+0x18c>
48814574:	a94a      	lhu	v0,20(s1)
        }
        else
        {
            //do nothing for QAC
        }

        if (tmp_length >= 4)
48814576:	5a04      	sltiu	v0,4
48814578:	6122      	btnez	488145be <__get_lr_char+0xb2>
4881457a:	9944      	lw	v0,16(s1)
        {
            next_code = *(tmp_str + 2) + ((uint16) (*(tmp_str + 3)) << 8);
4881457c:	a262      	lbu	v1,2(v0)
4881457e:	9944      	lw	v0,16(s1)
48814580:	a243      	lbu	v0,3(v0)
48814582:	3240      	sll	v0,8
48814584:	e349      	addu	v0,v1,v0
48814586:	c941      	sh	v0,2(s1)
48814588:	a940      	lhu	v0,0(s1)
            if ((tmp_code == 0x0d) && (next_code == 0x0a))//windows
4881458a:	720d      	cmpi	v0,13
4881458c:	6758      	move	v0,t8
4881458e:	5a01      	sltiu	v0,1
48814590:	600b      	bteqz	488145a8 <__get_lr_char+0x9c>
48814592:	a941      	lhu	v0,2(s1)
48814594:	720a      	cmpi	v0,10
48814596:	6758      	move	v0,t8
48814598:	5a01      	sltiu	v0,1
4881459a:	6006      	bteqz	488145a8 <__get_lr_char+0x9c>
4881459c:	9967      	lw	v1,28(s1)
            {
                *col = 4;
4881459e:	6a04      	li	v0,4
488145a0:	c340      	sb	v0,0(v1)
488145a2:	6a01      	li	v0,1
                return TRUE;
488145a4:	d941      	sw	v0,4(s1)
488145a6:	1078      	b	48814698 <__get_lr_char+0x18c>
488145a8:	a940      	lhu	v0,0(s1)
            }
            else if (tmp_code == 0x0d)//mac
488145aa:	720d      	cmpi	v0,13
488145ac:	6758      	move	v0,t8
488145ae:	5a01      	sltiu	v0,1
488145b0:	606d      	bteqz	4881468c <__get_lr_char+0x180>
488145b2:	9967      	lw	v1,28(s1)
            {
                *col = 2;
488145b4:	6a02      	li	v0,2
488145b6:	c340      	sb	v0,0(v1)
488145b8:	6a01      	li	v0,1
                return TRUE;
488145ba:	d941      	sw	v0,4(s1)
488145bc:	106d      	b	48814698 <__get_lr_char+0x18c>
488145be:	a940      	lhu	v0,0(s1)
            }
            else
            {
                //do nothing for QAC
            }
        }
        else
        {
            if (tmp_code == 0x0d)
488145c0:	720d      	cmpi	v0,13
488145c2:	6758      	move	v0,t8
488145c4:	5a01      	sltiu	v0,1
488145c6:	6062      	bteqz	4881468c <__get_lr_char+0x180>
488145c8:	9967      	lw	v1,28(s1)
            {
                *col = 0;
488145ca:	6a00      	li	v0,0
488145cc:	c340      	sb	v0,0(v1)
488145ce:	6a00      	li	v0,0
                return FALSE;
488145d0:	d941      	sw	v0,4(s1)
488145d2:	1062      	b	48814698 <__get_lr_char+0x18c>
488145d4:	a94a      	lhu	v0,20(s1)
            }
        }
    }
    else//UTF-8 & ANSI
    {
        if (tmp_length < 1)
488145d6:	2a06      	bnez	v0,488145e4 <__get_lr_char+0xd8>
488145d8:	9967      	lw	v1,28(s1)
        {
            *col = 0;
488145da:	6a00      	li	v0,0
488145dc:	c340      	sb	v0,0(v1)
488145de:	6a00      	li	v0,0
            return FALSE;
488145e0:	d941      	sw	v0,4(s1)
488145e2:	105a      	b	48814698 <__get_lr_char+0x18c>
488145e4:	a94a      	lhu	v0,20(s1)
        }

        if (tmp_length >= 3)
488145e6:	5a03      	sltiu	v0,3
488145e8:	6118      	btnez	4881461a <__get_lr_char+0x10e>
488145ea:	9944      	lw	v0,16(s1)
        {
            if ((*tmp_str == 0xef) && (*(tmp_str + 1) == 0xbb) && (*(tmp_str + 2) == 0xbf))
488145ec:	a240      	lbu	v0,0(v0)
488145ee:	72ef      	cmpi	v0,239
488145f0:	6758      	move	v0,t8
488145f2:	5a01      	sltiu	v0,1
488145f4:	6012      	bteqz	4881461a <__get_lr_char+0x10e>
488145f6:	9944      	lw	v0,16(s1)
488145f8:	a241      	lbu	v0,1(v0)
488145fa:	72bb      	cmpi	v0,187
488145fc:	6758      	move	v0,t8
488145fe:	5a01      	sltiu	v0,1
48814600:	600c      	bteqz	4881461a <__get_lr_char+0x10e>
48814602:	9944      	lw	v0,16(s1)
48814604:	a242      	lbu	v0,2(v0)
48814606:	72bf      	cmpi	v0,191
48814608:	6758      	move	v0,t8
4881460a:	5a01      	sltiu	v0,1
4881460c:	6006      	bteqz	4881461a <__get_lr_char+0x10e>
4881460e:	9967      	lw	v1,28(s1)
            {
                *col = 0;
48814610:	6a00      	li	v0,0
48814612:	c340      	sb	v0,0(v1)
48814614:	6a01      	li	v0,1
                return TRUE;
48814616:	d941      	sw	v0,4(s1)
48814618:	103f      	b	48814698 <__get_lr_char+0x18c>
4881461a:	9944      	lw	v0,16(s1)
            }
        }

        if (*tmp_str == 0x0a)//linux
4881461c:	a240      	lbu	v0,0(v0)
4881461e:	720a      	cmpi	v0,10
48814620:	6758      	move	v0,t8
48814622:	5a01      	sltiu	v0,1
48814624:	6006      	bteqz	48814632 <__get_lr_char+0x126>
48814626:	9967      	lw	v1,28(s1)
        {
            *col = 1;
48814628:	6a01      	li	v0,1
4881462a:	c340      	sb	v0,0(v1)
4881462c:	6a01      	li	v0,1
            return TRUE;
4881462e:	d941      	sw	v0,4(s1)
48814630:	1033      	b	48814698 <__get_lr_char+0x18c>
48814632:	a94a      	lhu	v0,20(s1)
        }
        if (tmp_length >= 2)
48814634:	5a02      	sltiu	v0,2
48814636:	611e      	btnez	48814674 <__get_lr_char+0x168>
48814638:	9944      	lw	v0,16(s1)
        {
            if ((*tmp_str == 0x0d) && (*(tmp_str + 1) == 0x0a))//windows
4881463a:	a240      	lbu	v0,0(v0)
4881463c:	720d      	cmpi	v0,13
4881463e:	6758      	move	v0,t8
48814640:	5a01      	sltiu	v0,1
48814642:	600c      	bteqz	4881465c <__get_lr_char+0x150>
48814644:	9944      	lw	v0,16(s1)
48814646:	a241      	lbu	v0,1(v0)
48814648:	720a      	cmpi	v0,10
4881464a:	6758      	move	v0,t8
4881464c:	5a01      	sltiu	v0,1
4881464e:	6006      	bteqz	4881465c <__get_lr_char+0x150>
48814650:	9967      	lw	v1,28(s1)
            {
                *col = 2;
48814652:	6a02      	li	v0,2
48814654:	c340      	sb	v0,0(v1)
48814656:	6a01      	li	v0,1
                return TRUE;
48814658:	d941      	sw	v0,4(s1)
4881465a:	101e      	b	48814698 <__get_lr_char+0x18c>
4881465c:	9944      	lw	v0,16(s1)
            }
            else if (*tmp_str == 0x0d)//mac
4881465e:	a240      	lbu	v0,0(v0)
48814660:	720d      	cmpi	v0,13
48814662:	6758      	move	v0,t8
48814664:	5a01      	sltiu	v0,1
48814666:	6012      	bteqz	4881468c <__get_lr_char+0x180>
48814668:	9967      	lw	v1,28(s1)
            {
                *col = 1;
4881466a:	6a01      	li	v0,1
4881466c:	c340      	sb	v0,0(v1)
4881466e:	6a01      	li	v0,1
                return TRUE;
48814670:	d941      	sw	v0,4(s1)
48814672:	1012      	b	48814698 <__get_lr_char+0x18c>
48814674:	9944      	lw	v0,16(s1)
            }
            else
            {
                //do nothing for QAC
            }
        }
        else
        {
            if (*tmp_str == 0x0d)
48814676:	a240      	lbu	v0,0(v0)
48814678:	720d      	cmpi	v0,13
4881467a:	6758      	move	v0,t8
4881467c:	5a01      	sltiu	v0,1
4881467e:	6006      	bteqz	4881468c <__get_lr_char+0x180>
48814680:	9967      	lw	v1,28(s1)
            {
                *col = 0;
48814682:	6a00      	li	v0,0
48814684:	c340      	sb	v0,0(v1)
48814686:	6a00      	li	v0,0
                return FALSE;
48814688:	d941      	sw	v0,4(s1)
4881468a:	1006      	b	48814698 <__get_lr_char+0x18c>
4881468c:	9967      	lw	v1,28(s1)
            }
        }
    }

    *col = 0xff;
4881468e:	6a01      	li	v0,1
48814690:	ea4b      	neg	v0
48814692:	c340      	sb	v0,0(v1)
48814694:	6a00      	li	v0,0
    return FALSE;
48814696:	d941      	sw	v0,4(s1)
48814698:	9941      	lw	v0,4(s1)
}
4881469a:	65b9      	move	sp,s1
4881469c:	6412      	restore	16,s1
4881469e:	e8a0      	jrc	ra

488146a0 <text_decode_one_page>:
488146a0:	64d8      	save	64,ra,s1

/*! \endcond */

/*! \cond COMMON_API */

/******************************************************************************/
/*!
 * \par  Description:
 *    解码一页文本数据，并显示出来（按照用户自定义的方式显示）。
 * \param[in]    text_decode 文本解码结构体
 * \param[in]    text_file 文本文件句柄
 * \param[out]   page_bytes 当前页字节数，读取数据失败则返回 -1
 * \return       text_end_mode_e
 * \retval           返回当前文本页解码结束原因，见 text_end_mode_e 定义。
 * \ingroup      controls
 * \par          exmaple code
 * \code
 例子1：SD文件系统文本阅读示例
 extern void show_text_line(string_desc_t *string_infor, uint8 line);
 text_decode_t text_decode;
 text_file_t text_file;
 uint16 page_bytes;
 text_end_mode_e end_mode;

 text_file.file_handle = sd_file_handle;//已经打开的SD文本文件
 text_file.file_length = sd_file_length;//获取到的SD文本文件长度
 text_file.file_sectors = sd_file_length / 512;
 if(sd_file_length % 512 != 0)
 {
 text_file.file_sectors++;
 }
 text_file.fseek = sd_fseek_sector;
 text_file.fread = sd_fread_sector;

 text_file.file_offset = 0;
 text_decode.valid = FALSE;
 text_decode.remain = 0;

 text_decode.param.language = UNICODEDATA;
 text_decode.param.line_count_one_page = 10;
 text_decode.param.max_width_one_line = ROW_MAX_WIDTH;
 text_decode.param.mode = FILTER_NONE_BLANK | DIVIDE_WORD_ENABLE;

 text_decode.text_show_line = show_text_line;

 text_file.file_offset = g_file_offset;
 end_mode = text_decode_one_page(&text_decode, &text_file, &page_bytes);
 g_file_offset += page_bytes;
 text_decode.valid = TRUE;
 * \endcode
 * \note
 * \li  text_decode_one_page 不会去处理文本文件数据是否读完，上层应自己判断处理。
 * \li  text_file->file_offset 不会自动被更新，同样上层应自己处理。
 *******************************************************************************/
text_end_mode_e text_decode_one_page(text_decode_t *text_decode, text_file_t *text_file, uint16 *page_bytes)
{
488146a2:	0104      	addiu	s1,sp,16
488146a4:	d98c      	sw	a0,48(s1)
488146a6:	d9ad      	sw	a1,52(s1)
488146a8:	d9ce      	sw	a2,56(s1)
488146aa:	994c      	lw	v0,48(s1)
    uint16 text_buf_index;
    uint16 view_total_bytes;
    string_desc_t str_desc;
    text_show_param_t *param = &(text_decode->param);
488146ac:	f220 4a18 	addiu	v0,568
488146b0:	d946      	sw	v0,24(s1)
488146b2:	6a00      	li	v0,0
    bool file_miss; //文件是否已读取完毕
    text_end_mode_e end_mode = TEXT_END_INIT;
488146b4:	c15d      	sb	v0,29(s1)
488146b6:	6a00      	li	v0,0
    uint8 row = 0;
488146b8:	c15e      	sb	v0,30(s1)
488146ba:	9946      	lw	v0,24(s1)

    str_desc.argv = param->max_width_one_line;
488146bc:	a241      	lbu	v0,1(v0)
488146be:	c948      	sh	v0,16(s1)
488146c0:	9946      	lw	v0,24(s1)
    str_desc.language = param->language;
488146c2:	a243      	lbu	v0,3(v0)
488146c4:	c14c      	sb	v0,12(s1)
488146c6:	6a00      	li	v0,0

    view_total_bytes = 0;
488146c8:	c941      	sh	v0,2(s1)
488146ca:	6a00      	li	v0,0
    text_buf_index = 0;
488146cc:	c940      	sh	v0,0(s1)
488146ce:	994c      	lw	v0,48(s1)

    if (text_decode->valid == TRUE)
488146d0:	f220 a257 	lbu	v0,567(v0)
488146d4:	7201      	cmpi	v0,1
488146d6:	6758      	move	v0,t8
488146d8:	5a01      	sltiu	v0,1
488146da:	600b      	bteqz	488146f2 <text_decode_one_page+0x52>
488146dc:	998c      	lw	a0,48(s1)
    {
        text_decode->text_buf_valid = text_decode->text_buf + (text_file->file_offset % 512);
488146de:	994d      	lw	v0,52(s1)
488146e0:	9a63      	lw	v1,12(v0)
488146e2:	f1e0 6a1f 	li	v0,511
488146e6:	eb4c      	and	v1,v0
488146e8:	994c      	lw	v0,48(s1)
488146ea:	e349      	addu	v0,v1,v0
488146ec:	4a30      	addiu	v0,48
488146ee:	f220 dc50 	sw	v0,560(a0)
488146f2:	9946      	lw	v0,24(s1)
    }

    while (1)
    {
        if (row >= param->line_count_one_page)//已显示整页，退出
488146f4:	a260      	lbu	v1,0(v0)
488146f6:	a15e      	lbu	v0,30(s1)
488146f8:	ea63      	sltu	v0,v1
488146fa:	6101      	btnez	488146fe <text_decode_one_page+0x5e>
488146fc:	10c2      	b	48814882 <.LBE2+0xbe>
        {
            break;
488146fe:	994c      	lw	v0,48(s1)
        }

        if (text_decode->valid == FALSE)
48814700:	f220 a257 	lbu	v0,567(v0)
48814704:	2a1a      	bnez	v0,4881473a <text_decode_one_page+0x9a>
48814706:	994c      	lw	v0,48(s1)
        {
            //读回数据
            if (__read_text(text_decode, text_file) == FALSE)
48814708:	996d      	lw	v1,52(s1)
4881470a:	6782      	move	a0,v0
4881470c:	67a3      	move	a1,v1
4881470e:	1811 5100 	jal	48814400 <__read_text>
48814712:	6500      	nop
48814714:	651a      	move	t8,v0
48814716:	6107      	btnez	48814726 <text_decode_one_page+0x86>
48814718:	996e      	lw	v1,56(s1)
            {
                *page_bytes = V_U16_INVALID;
4881471a:	6a01      	li	v0,1
4881471c:	ea4b      	neg	v0
4881471e:	cb40      	sh	v0,0(v1)
48814720:	6a05      	li	v0,5
                return TEXT_END_READ_ERR;
48814722:	d948      	sw	v0,32(s1)
48814724:	10c1      	b	488148a8 <.LBE2+0xe4>
48814726:	996c      	lw	v1,48(s1)
            }

            text_decode->valid = TRUE;
48814728:	6a01      	li	v0,1
4881472a:	f220 c357 	sb	v0,567(v1)
4881472e:	996c      	lw	v1,48(s1)
            text_decode->remain = 0;
48814730:	6a00      	li	v0,0
48814732:	f220 c356 	sb	v0,566(v1)
48814736:	6a00      	li	v0,0
            text_buf_index = 0;
48814738:	c940      	sh	v0,0(s1)
4881473a:	994c      	lw	v0,48(s1)
        }

        // 初始化参数
        str_desc.data.str = text_decode->text_buf_valid + text_buf_index;
4881473c:	a960      	lhu	v1,0(s1)
4881473e:	f220 9a50 	lw	v0,560(v0)
48814742:	e269      	addu	v0,v1
48814744:	d942      	sw	v0,8(s1)
48814746:	994c      	lw	v0,48(s1)
        str_desc.length = text_decode->text_buf_length;
48814748:	f220 aa54 	lhu	v0,564(v0)
4881474c:	c947      	sh	v0,14(s1)
4881474e:	994d      	lw	v0,52(s1)
        file_miss = (bool) (((text_file->file_offset / 512) + 1) >= text_file->file_sectors);
48814750:	9a43      	lw	v0,12(v0)
48814752:	3242      	srl	v0,8
48814754:	3246      	srl	v0,1
48814756:	4261      	addiu	v1,v0,1
48814758:	994d      	lw	v0,52(s1)
4881475a:	9a41      	lw	v0,4(v0)
4881475c:	eb43      	sltu	v1,v0
4881475e:	6778      	move	v1,t8
48814760:	6a01      	li	v0,1
48814762:	ea6e      	xor	v0,v1
48814764:	c15c      	sb	v0,28(s1)
48814766:	6a00      	li	v0,0

        end_mode = TEXT_END_INIT;
48814768:	c15d      	sb	v0,29(s1)
4881476a:	9946      	lw	v0,24(s1)
        // 过滤行开头换行符
        if (((param->mode) & FILTER_BLANK_OPTION) == FILTER_BLANK_ENABLE)
4881476c:	a262      	lbu	v1,2(v0)
4881476e:	6a01      	li	v0,1
48814770:	ea6c      	and	v0,v1
48814772:	2228      	beqz	v0,488147c4 <.LBE2>

48814774 <.LBB2>:
48814774:	9962      	lw	v1,8(s1)
        {
            uint8 tmp_col;

            while (__get_lr_char(str_desc.data.str, str_desc.length, param->language, &tmp_col) == TRUE)
48814776:	a9a7      	lhu	a1,14(s1)
48814778:	9946      	lw	v0,24(s1)
4881477a:	8243      	lb	v0,3(v0)
4881477c:	41e7      	addiu	a3,s1,7
4881477e:	4f18      	addiu	a3,24
48814780:	6783      	move	a0,v1
48814782:	67c2      	move	a2,v0
48814784:	1811 5143 	jal	4881450c <__get_lr_char>
48814788:	6500      	nop
4881478a:	7201      	cmpi	v0,1
4881478c:	6758      	move	v0,t8
4881478e:	5a01      	sltiu	v0,1
48814790:	6015      	bteqz	488147bc <.LBB2+0x48>
48814792:	a17f      	lbu	v1,31(s1)
            {
                str_desc.data.str += tmp_col;
48814794:	9942      	lw	v0,8(s1)
48814796:	e269      	addu	v0,v1
48814798:	d942      	sw	v0,8(s1)
4881479a:	a17f      	lbu	v1,31(s1)
                str_desc.length -= tmp_col;
4881479c:	a947      	lhu	v0,14(s1)
4881479e:	e26b      	subu	v0,v1
488147a0:	c947      	sh	v0,14(s1)
488147a2:	998c      	lw	a0,48(s1)
                //缓冲区数据长度更新
                text_decode->text_buf_length -= tmp_col;
488147a4:	994c      	lw	v0,48(s1)
488147a6:	a17f      	lbu	v1,31(s1)
488147a8:	f220 aa54 	lhu	v0,564(v0)
488147ac:	e26b      	subu	v0,v1
488147ae:	f220 cc54 	sh	v0,564(a0)
488147b2:	a17f      	lbu	v1,31(s1)
                text_buf_index += tmp_col;
488147b4:	a940      	lhu	v0,0(s1)
488147b6:	e269      	addu	v0,v1
488147b8:	c940      	sh	v0,0(s1)
488147ba:	17dc      	b	48814774 <.LBB2>
488147bc:	a15f      	lbu	v0,31(s1)
            }
            if (tmp_col == 0)//缺页
488147be:	2a02      	bnez	v0,488147c4 <.LBE2>
488147c0:	6a01      	li	v0,1
            {
                end_mode = TEXT_END_PAGE_MISS;
488147c2:	c15d      	sb	v0,29(s1)

488147c4 <.LBE2>:
488147c4:	a15d      	lbu	v0,29(s1)
            }
        }

        //初始状态，没有断行结束
        if (end_mode == TEXT_END_INIT)
488147c6:	2a0b      	bnez	v0,488147de <.LBE2+0x1a>
488147c8:	4167      	addiu	v1,s1,7
        {
            // 自动断行
            end_mode = (text_end_mode_e) (uint32) ui_get_text_line(&str_desc, param->mode, NULL);
488147ca:	4361      	addiu	v1,v1,1
488147cc:	9946      	lw	v0,24(s1)
488147ce:	a242      	lbu	v0,2(v0)
488147d0:	6783      	move	a0,v1
488147d2:	67a2      	move	a1,v0
488147d4:	6e00      	li	a2,0
488147d6:	6f18      	li	a3,24
488147d8:	b236      	lw	v0,488148b0 <.LBE2+0xec>
488147da:	eac0      	jalrc	v0
488147dc:	c15d      	sb	v0,29(s1)
488147de:	a15d      	lbu	v0,29(s1)
        }

        //缺页并且尚未到文件末尾
        if ((end_mode == TEXT_END_PAGE_MISS) && (file_miss != TRUE))//缺页，且后面尚有数据
488147e0:	7201      	cmpi	v0,1
488147e2:	6758      	move	v0,t8
488147e4:	5a01      	sltiu	v0,1
488147e6:	601e      	bteqz	48814824 <.LBE2+0x60>
488147e8:	a15c      	lbu	v0,28(s1)
488147ea:	7201      	cmpi	v0,1
488147ec:	6758      	move	v0,t8
488147ee:	5a01      	sltiu	v0,1
488147f0:	6119      	btnez	48814824 <.LBE2+0x60>
488147f2:	a961      	lhu	v1,2(s1)
        {
            view_total_bytes += text_buf_index;
488147f4:	a940      	lhu	v0,0(s1)
488147f6:	e349      	addu	v0,v1,v0
488147f8:	c941      	sh	v0,2(s1)
488147fa:	996c      	lw	v1,48(s1)
            text_decode->remain = (uint8) text_decode->text_buf_length;
488147fc:	994c      	lw	v0,48(s1)
488147fe:	f220 aa54 	lhu	v0,564(v0)
48814802:	f220 c356 	sb	v0,566(v1)
48814806:	996d      	lw	v1,52(s1)
            text_file->file_offset = ((text_file->file_offset / 512) + 1) * FILE_SECTOR;
48814808:	994d      	lw	v0,52(s1)
4881480a:	9a43      	lw	v0,12(v0)
4881480c:	3242      	srl	v0,8
4881480e:	3246      	srl	v0,1
48814810:	3240      	sll	v0,8
48814812:	3244      	sll	v0,1
48814814:	f200 4a00 	addiu	v0,512
48814818:	db43      	sw	v0,12(v1)
4881481a:	996c      	lw	v1,48(s1)
            text_decode->valid = FALSE;
4881481c:	6a00      	li	v0,0
4881481e:	f220 c357 	sb	v0,567(v1)
48814822:	1767      	b	488146f2 <text_decode_one_page+0x52>
            continue; //读回后续扇区内容后继续断行
48814824:	998c      	lw	a0,48(s1)
        }
        //遇到结束符或换行符，或字符串超长，或缺页且文件已读取完
        else
        {
            //累加当前行显示字节数
            text_decode->text_buf_length -= str_desc.result;
48814826:	994c      	lw	v0,48(s1)
48814828:	f220 aa74 	lhu	v1,564(v0)
4881482c:	a949      	lhu	v0,18(s1)
4881482e:	e34b      	subu	v0,v1,v0
48814830:	f220 cc54 	sh	v0,564(a0)
48814834:	a960      	lhu	v1,0(s1)
            text_buf_index += str_desc.result;
48814836:	a949      	lhu	v0,18(s1)
48814838:	e349      	addu	v0,v1,v0
4881483a:	c940      	sh	v0,0(s1)
4881483c:	994c      	lw	v0,48(s1)

            if (text_decode->text_show_line != NULL)//提供显示函数，显示当前行字符串
4881483e:	f220 9a5c 	lw	v0,572(v0)
48814842:	220a      	beqz	v0,48814858 <.LBE2+0x94>
48814844:	a949      	lhu	v0,18(s1)
            {
                str_desc.length = str_desc.result;
48814846:	c947      	sh	v0,14(s1)
48814848:	994c      	lw	v0,48(s1)
                text_decode->text_show_line(&str_desc, row);
4881484a:	4167      	addiu	v1,s1,7
4881484c:	4361      	addiu	v1,v1,1
4881484e:	a1be      	lbu	a1,30(s1)
48814850:	f220 9a5c 	lw	v0,572(v0)
48814854:	6783      	move	a0,v1
48814856:	eac0      	jalrc	v0
48814858:	a15d      	lbu	v0,29(s1)
            }

            if (end_mode == TEXT_END_NUL)//读到结束符，应该终止解码
4881485a:	7202      	cmpi	v0,2
4881485c:	6758      	move	v0,t8
4881485e:	5a01      	sltiu	v0,1
48814860:	6001      	bteqz	48814864 <.LBE2+0xa0>
48814862:	100f      	b	48814882 <.LBE2+0xbe>
            {
                break;
48814864:	a15d      	lbu	v0,29(s1)
            }

            //缺页且文件已读取完，应该终止解码
            if ((end_mode == TEXT_END_PAGE_MISS) && (file_miss == TRUE))
48814866:	7201      	cmpi	v0,1
48814868:	6758      	move	v0,t8
4881486a:	5a01      	sltiu	v0,1
4881486c:	6006      	bteqz	4881487a <.LBE2+0xb6>
4881486e:	a15c      	lbu	v0,28(s1)
48814870:	7201      	cmpi	v0,1
48814872:	6758      	move	v0,t8
48814874:	5a01      	sltiu	v0,1
48814876:	6001      	bteqz	4881487a <.LBE2+0xb6>
48814878:	1004      	b	48814882 <.LBE2+0xbe>
            {
                break;
4881487a:	a15e      	lbu	v0,30(s1)
            }
        }

        row++;//至此才能确定处理完一行
4881487c:	4241      	addiu	v0,v0,1
4881487e:	c15e      	sb	v0,30(s1)
48814880:	1738      	b	488146f2 <text_decode_one_page+0x52>
48814882:	a961      	lhu	v1,2(s1)
    }

    //累加最后一次读回的文本数据显示了的字节数
    view_total_bytes += text_buf_index;
48814884:	a940      	lhu	v0,0(s1)
48814886:	e349      	addu	v0,v1,v0
48814888:	c941      	sh	v0,2(s1)
4881488a:	994c      	lw	v0,48(s1)
    //如果最后剩余有效数据大于 1 个扇区，表示缓冲区有效数据指针超出 text_decode->text_buf；
    //为了简化流程，直接丢掉有效数据，下次进来再读回。（该情况概率非常小，不会影响效率）
    if (text_decode->text_buf_length > 512)
4881488c:	f220 aa54 	lhu	v0,564(v0)
48814890:	f200 5a01 	sltiu	v0,513
48814894:	6104      	btnez	4881489e <.LBE2+0xda>
48814896:	996c      	lw	v1,48(s1)
    {
        text_decode->valid = FALSE;
48814898:	6a00      	li	v0,0
4881489a:	f220 c357 	sb	v0,567(v1)
4881489e:	994e      	lw	v0,56(s1)
    }

    *page_bytes = view_total_bytes;
488148a0:	a961      	lhu	v1,2(s1)
488148a2:	ca60      	sh	v1,0(v0)
488148a4:	a15d      	lbu	v0,29(s1)
    return end_mode;
488148a6:	d948      	sw	v0,32(s1)
488148a8:	9948      	lw	v0,32(s1)
}
488148aa:	65b9      	move	sp,s1
488148ac:	6456      	restore	48,ra,s1
488148ae:	e8a0      	jrc	ra
488148b0:	6bb1      	li	v1,177
488148b2:	bfc1      	lwu	a2,4(a3)

488148b4 <sd_fseek_sector>:
488148b4:	64d5      	save	40,ra,s1
const uint16 row_pos_y[TEXT_ROW_MAX_COUNT] =
{ 40, 60, 80, 100, 120, 140, 160, 180, 200, 220 };

bool sd_fseek_sector(sd_handle file_handle, uint8 where, int32 sector_offset)
{
488148b6:	0104      	addiu	s1,sp,16
488148b8:	d986      	sw	a0,24(s1)
488148ba:	6745      	move	v0,a1
488148bc:	d9c8      	sw	a2,32(s1)
488148be:	c15c      	sb	v0,28(s1)
488148c0:	9966      	lw	v1,24(s1)
    return (bool) (sys_sd_fseek(file_handle, (uint32) where, sector_offset * 512) == 0);
488148c2:	a1bc      	lbu	a1,28(s1)
488148c4:	9948      	lw	v0,32(s1)
488148c6:	3240      	sll	v0,8
488148c8:	3244      	sll	v0,1
488148ca:	6783      	move	a0,v1
488148cc:	67c2      	move	a2,v0
488148ce:	6f0f      	li	a3,15
488148d0:	b209      	lw	v0,488148f4 <sd_fseek_sector+0x40>
488148d2:	eac0      	jalrc	v0
488148d4:	d940      	sw	v0,0(s1)
488148d6:	9940      	lw	v0,0(s1)
488148d8:	7200      	cmpi	v0,0
488148da:	6758      	move	v0,t8
488148dc:	d942      	sw	v0,8(s1)
488148de:	9942      	lw	v0,8(s1)
488148e0:	5a01      	sltiu	v0,1
488148e2:	6758      	move	v0,t8
488148e4:	d940      	sw	v0,0(s1)
488148e6:	9940      	lw	v0,0(s1)
488148e8:	651a      	move	t8,v0
488148ea:	6758      	move	v0,t8
}
488148ec:	65b9      	move	sp,s1
488148ee:	6453      	restore	24,ra,s1
488148f0:	e8a0      	jrc	ra
488148f2:	0000      	addiu	s0,sp,0
488148f4:	640d      	restore	104
488148f6:	bfc1      	lwu	a2,4(a3)

488148f8 <sd_fread_sector>:
488148f8:	64d4      	save	32,ra,s1

bool sd_fread_sector(sd_handle file_handle, uint8 *text_buf, uint32 sector_len)
{
488148fa:	0104      	addiu	s1,sp,16
488148fc:	d984      	sw	a0,16(s1)
488148fe:	d9a5      	sw	a1,20(s1)
48814900:	d9c6      	sw	a2,24(s1)
48814902:	6a00      	li	v0,0
    return (bool) (sys_sd_fread(file_handle, text_buf, sector_len * 512) != -1);
48814904:	d940      	sw	v0,0(s1)
48814906:	9964      	lw	v1,16(s1)
48814908:	99a5      	lw	a1,20(s1)
4881490a:	9946      	lw	v0,24(s1)
4881490c:	3240      	sll	v0,8
4881490e:	3244      	sll	v0,1
48814910:	6783      	move	a0,v1
48814912:	67c2      	move	a2,v0
48814914:	6f11      	li	a3,17
48814916:	b209      	lw	v0,48814938 <sd_fread_sector+0x40>
48814918:	eac0      	jalrc	v0
4881491a:	6762      	move	v1,v0
4881491c:	6a01      	li	v0,1
4881491e:	ea4b      	neg	v0
48814920:	ea6e      	xor	v0,v1
48814922:	5a01      	sltiu	v0,1
48814924:	6102      	btnez	4881492a <sd_fread_sector+0x32>
48814926:	6a01      	li	v0,1
48814928:	d940      	sw	v0,0(s1)
4881492a:	9940      	lw	v0,0(s1)
4881492c:	651a      	move	t8,v0
4881492e:	6758      	move	v0,t8
}
48814930:	65b9      	move	sp,s1
48814932:	6452      	restore	16,ra,s1
48814934:	e8a0      	jrc	ra
48814936:	0000      	addiu	s0,sp,0
48814938:	640d      	restore	104
4881493a:	bfc1      	lwu	a2,4(a3)

4881493c <show_text_line>:
4881493c:	64d4      	save	32,ra,s1

//更新文本页
void show_text_line(string_desc_t *string_infor, uint8 line)
{
4881493e:	0104      	addiu	s1,sp,16
48814940:	d984      	sw	a0,16(s1)
48814942:	6745      	move	v0,a1
48814944:	c154      	sb	v0,20(s1)
48814946:	b211      	lw	v0,48814988 <show_text_line+0x4c>
    region_t row_region;

    row_region.x = row_pos_x;
48814948:	aa40      	lhu	v0,0(v0)
4881494a:	c940      	sh	v0,0(s1)
4881494c:	b310      	lw	v1,4881498c <show_text_line+0x50>
    row_region.y = row_pos_y[line];
4881494e:	a154      	lbu	v0,20(s1)
48814950:	3244      	sll	v0,1
48814952:	e269      	addu	v0,v1
48814954:	aa40      	lhu	v0,0(v0)
48814956:	c941      	sh	v0,2(s1)
48814958:	f140 6a00 	li	v0,320
    /* row_region.width = 128;
     row_region.height = 16;*/
    row_region.width = 320;
4881495c:	c942      	sh	v0,4(s1)
4881495e:	6a14      	li	v0,20
    row_region.height = 20;
48814960:	c943      	sh	v0,6(s1)
48814962:	f7ff 6a1f 	li	v0,65535

    ui_set_pen_color(0xffff);
48814966:	6782      	move	a0,v0
48814968:	6d00      	li	a1,0
4881496a:	6e00      	li	a2,0
4881496c:	6f13      	li	a3,19
4881496e:	b209      	lw	v0,48814990 <show_text_line+0x54>
48814970:	eac0      	jalrc	v0
48814972:	9944      	lw	v0,16(s1)
    ui_show_string(string_infor, &row_region, DISP_LONGSTR_NO_RECT);
48814974:	6782      	move	a0,v0
48814976:	67b1      	move	a1,s1
48814978:	6e10      	li	a2,16
4881497a:	6f15      	li	a3,21
4881497c:	b205      	lw	v0,48814990 <show_text_line+0x54>
4881497e:	eac0      	jalrc	v0
48814980:	65b9      	move	sp,s1
}
48814982:	6452      	restore	16,ra,s1
48814984:	e8a0      	jrc	ra
48814986:	0000      	addiu	s0,sp,0
48814988:	4994      	addiu	s1,-108
4881498a:	4881      	addiu	s0,-127
4881498c:	4998      	addiu	s1,-104
4881498e:	4881      	addiu	s0,-127
48814990:	6bb1      	li	v1,177
48814992:	bfc1      	lwu	a2,4(a3)

48814994 <row_pos_x>:
48814994:	0023 0000                                   #...

48814998 <row_pos_y>:
48814998:	0028 003c 0050 0064 0078 008c 00a0 00b4     (.<.P.d.x.......
488149a8:	00c8 00dc 0000 0000 0000 0000 0000 0000     ................
	...
Disassembly of section BANK_UI_1_33:

48854600 <gui_set_headbar_mode>:
48854600:	64d3      	save	24,ra,s1
 * \note
 * \li  一般情况下，应用只需在初始化时中调用该接口设置模式。
 *******************************************************************************/
void gui_set_headbar_mode(headbar_mode_e mode, headbar_icon_e icon_id)
{
48854602:	0104      	addiu	s1,sp,16
48854604:	6744      	move	v0,a0
48854606:	6765      	move	v1,a1
48854608:	c148      	sb	v0,8(s1)
4885460a:	c16c      	sb	v1,12(s1)
4885460c:	b31b      	lw	v1,48854678 <gui_set_headbar_mode+0x78>
    this_headbar_mode = mode;
4885460e:	a148      	lbu	v0,8(s1)
48854610:	c340      	sb	v0,0(v1)
48854612:	b31b      	lw	v1,4885467c <gui_set_headbar_mode+0x7c>
    this_headbar_icon_id = icon_id;
48854614:	a14c      	lbu	v0,12(s1)
48854616:	c340      	sb	v0,0(v1)
48854618:	a148      	lbu	v0,8(s1)

    switch (mode)
4885461a:	7201      	cmpi	v0,1
4885461c:	6758      	move	v0,t8
4885461e:	5a01      	sltiu	v0,1
48854620:	6101      	btnez	48854624 <gui_set_headbar_mode+0x24>
48854622:	1021      	b	48854666 <gui_set_headbar_mode+0x66>
48854624:	b317      	lw	v1,48854680 <gui_set_headbar_mode+0x80>
    {
        /* 
           默认模式，显示应用图标和电池图标
           CARDBASE不支持把插卡,故不显示card图标
        */
        case HEADBAR_MODE_NORMAL:
        this_headbar_style.icon_sty = HEADBAR_ICON; //2015-11-03
48854626:	f002 6a00 	li	v0,4096
4885462a:	cb41      	sh	v0,2(v1)
4885462c:	b315      	lw	v1,48854680 <gui_set_headbar_mode+0x80>
        //this_headbar_style.icon_sty = V_U16_INVALID;
        this_headbar_style.battery_sty = HEADBAR_BATTERY;
4885462e:	f002 6a01 	li	v0,4097
48854632:	cb43      	sh	v0,6(v1)
48854634:	b313      	lw	v1,48854680 <gui_set_headbar_mode+0x80>
        this_headbar_style.bg_sty = V_U16_INVALID;
48854636:	6a01      	li	v0,1
48854638:	ea4b      	neg	v0
4885463a:	cb40      	sh	v0,0(v1)
4885463c:	b311      	lw	v1,48854680 <gui_set_headbar_mode+0x80>
        this_headbar_style.time_sty = V_U16_INVALID;
4885463e:	6a01      	li	v0,1
48854640:	ea4b      	neg	v0
48854642:	cb42      	sh	v0,4(v1)
48854644:	b30f      	lw	v1,48854680 <gui_set_headbar_mode+0x80>
        this_headbar_style.cable_sty = V_U16_INVALID;
48854646:	6a01      	li	v0,1
48854648:	ea4b      	neg	v0
4885464a:	cb44      	sh	v0,8(v1)
4885464c:	b30d      	lw	v1,48854680 <gui_set_headbar_mode+0x80>
        this_headbar_style.card_sty = V_U16_INVALID;//HEADBAR_CARD;
4885464e:	6a01      	li	v0,1
48854650:	ea4b      	neg	v0
48854652:	cb45      	sh	v0,10(v1)
48854654:	b30c      	lw	v1,48854684 <gui_set_headbar_mode+0x84>

        g_headbar_update = HEADBAR_UPDATE_INIT;
48854656:	6a00      	li	v0,0
48854658:	c340      	sb	v0,0(v1)
4885465a:	b20c      	lw	v0,48854688 <gui_set_headbar_mode+0x88>
        restart_app_timer(sys_status_timer_id);
4885465c:	8240      	lb	v0,0(v0)
4885465e:	6782      	move	a0,v0
48854660:	b20b      	lw	v0,4885468c <gui_set_headbar_mode+0x8c>
48854662:	eac0      	jalrc	v0
48854664:	1005      	b	48854670 <gui_set_headbar_mode+0x70>
        break;
48854666:	b209      	lw	v0,48854688 <gui_set_headbar_mode+0x88>

        default:
        stop_app_timer(sys_status_timer_id);
48854668:	8240      	lb	v0,0(v0)
4885466a:	6782      	move	a0,v0
4885466c:	b209      	lw	v0,48854690 <gui_set_headbar_mode+0x90>
4885466e:	eac0      	jalrc	v0
48854670:	65b9      	move	sp,s1
        break;
    }
}
48854672:	6451      	restore	8,ra,s1
48854674:	e8a0      	jrc	ra
48854676:	0000      	addiu	s0,sp,0
48854678:	5bad      	sltiu	v1,173
4885467a:	9fc1      	lw	a2,4(a3)
4885467c:	5bac      	sltiu	v1,172
4885467e:	9fc1      	lw	a2,4(a3)
48854680:	5ba0      	sltiu	v1,160
48854682:	9fc1      	lw	a2,4(a3)
48854684:	5b9c      	sltiu	v1,156
48854686:	9fc1      	lw	a2,4(a3)
48854688:	5a4d      	sltiu	v0,77
4885468a:	9fc1      	lw	a2,4(a3)
4885468c:	46f5      	daddiu	a3,a2,5
4885468e:	4845      	addiu	s0,69
48854690:	46c5      	addiu	a2,a2,5
48854692:	4845      	addiu	s0,69

48854694 <gui_get_headbar_mode>:
48854694:	6491      	save	8,s1

/******************************************************************************/
/*!
 * \par  Description:
 *    获取状态栏模式等。
 * \param[in]    none
 * \param[out]   mode 返回状态栏模式，见 headbar_mode_e  枚举类型定义
 * \param[out]   icon_id 返回应用图标ID，参考 headbar_icon_e 枚举类型定义
 * \return       none
 * \ingroup      controls
 * \note
 *******************************************************************************/
void gui_get_headbar_mode(headbar_mode_e *mode, headbar_icon_e *icon_id)
{
48854696:	673d      	move	s1,sp
48854698:	d982      	sw	a0,8(s1)
4885469a:	d9a3      	sw	a1,12(s1)
4885469c:	9962      	lw	v1,8(s1)
    *mode = this_headbar_mode;
4885469e:	b206      	lw	v0,488546b4 <gui_get_headbar_mode+0x20>
488546a0:	a240      	lbu	v0,0(v0)
488546a2:	c340      	sb	v0,0(v1)
488546a4:	9963      	lw	v1,12(s1)
    *icon_id = this_headbar_icon_id;
488546a6:	b205      	lw	v0,488546b8 <gui_get_headbar_mode+0x24>
488546a8:	a240      	lbu	v0,0(v0)
488546aa:	c340      	sb	v0,0(v1)
488546ac:	65b9      	move	sp,s1
}
488546ae:	6411      	restore	8,s1
488546b0:	e8a0      	jrc	ra
488546b2:	0000      	addiu	s0,sp,0
488546b4:	5bad      	sltiu	v1,173
488546b6:	9fc1      	lw	a2,4(a3)
488546b8:	5bac      	sltiu	v1,172
488546ba:	9fc1      	lw	a2,4(a3)

488546bc <gui_headbar>:
488546bc:	64fb      	save	88,ra,s0-s1

/******************************************************************************/
/*!
 * \par  Description:
 *    状态栏更新绘制执行接口。
 * \param[in]    update 状态栏更新模式，见 headbar_update_e 定义
 * \param[out]   none
 * \return       app_result_e
 * \retval           RESULT_NULL 没任何意义
 * \ingroup      controls
 * \note
 * \li  该接口由 common 模块自动调用，用户无须干预。
 * \li  如果用户自己需要控制什么时候用什么方式刷新，也可以自己主动调用。
 *******************************************************************************/
app_result_e gui_headbar(headbar_update_e update)
{
488546be:	0104      	addiu	s1,sp,16
488546c0:	6744      	move	v0,a0
488546c2:	f040 c148 	sb	v0,72(s1)
488546c6:	b2bb      	lw	v0,488549b0 <.LBE2+0xca>
    picbox_private_t headbar_pic;
    style_infor_t style_infor;

    //临时变量
    time_t temp_sys_time;
    uint8 temp_cable_state;
    uint8 temp_card_state;
    uint8 temp_icon_id;
    uint8 real_battery_value;
    if (this_headbar_style.bg_sty != V_U16_INVALID)
488546c8:	aa60      	lhu	v1,0(v0)
488546ca:	f7ff 6a1f 	li	v0,65535
488546ce:	ea6e      	xor	v0,v1
488546d0:	5a01      	sltiu	v0,1
488546d2:	6117      	btnez	48854702 <gui_headbar+0x46>
488546d4:	f040 a148 	lbu	v0,72(s1)
    {
        if ((update == HEADBAR_UPDATE_INIT) || (update == HEADBAR_UPDATE_ALL))
488546d8:	2207      	beqz	v0,488546e8 <gui_headbar+0x2c>
488546da:	f040 a148 	lbu	v0,72(s1)
488546de:	7201      	cmpi	v0,1
488546e0:	6758      	move	v0,t8
488546e2:	5a01      	sltiu	v0,1
488546e4:	6101      	btnez	488546e8 <gui_headbar+0x2c>
488546e6:	100d      	b	48854702 <gui_headbar+0x46>
488546e8:	b2b2      	lw	v0,488549b0 <.LBE2+0xca>
        {
            //刷新背景图片
            style_infor.style_id = this_headbar_style.bg_sty;
488546ea:	aa40      	lhu	v0,0(v0)
488546ec:	c944      	sh	v0,8(s1)
488546ee:	6a01      	li	v0,1
            style_infor.type = UI_COM;
488546f0:	c14a      	sb	v0,10(s1)
488546f2:	4147      	addiu	v0,s1,7
            ui_show_picbox(&style_infor, NULL);
488546f4:	4241      	addiu	v0,v0,1
488546f6:	6782      	move	a0,v0
488546f8:	6d00      	li	a1,0
488546fa:	6e00      	li	a2,0
488546fc:	6f02      	li	a3,2
488546fe:	b2ae      	lw	v0,488549b4 <.LBE2+0xce>
48854700:	eac0      	jalrc	v0
48854702:	b2ac      	lw	v0,488549b0 <.LBE2+0xca>
        }
    }

    if (this_headbar_style.battery_sty != V_U16_INVALID)
48854704:	aa63      	lhu	v1,6(v0)
48854706:	f7ff 6a1f 	li	v0,65535
4885470a:	ea6e      	xor	v0,v1
4885470c:	5a01      	sltiu	v0,1
4885470e:	615b      	btnez	488547c6 <gui_headbar+0x10a>
48854710:	f040 a148 	lbu	v0,72(s1)
    {
        if (update == HEADBAR_UPDATE_INIT)
48854714:	2a16      	bnez	v0,48854742 <gui_headbar+0x86>
48854716:	b0a9      	lw	s0,488549b8 <.LBE2+0xd2>
        {
            g_app_info_state.charge_state = (uint8) (int) key_chargeget(&real_battery_value);
48854718:	4147      	addiu	v0,s1,7
4885471a:	4a14      	addiu	v0,20
4885471c:	6782      	move	a0,v0
4885471e:	6d00      	li	a1,0
48854720:	6e00      	li	a2,0
48854722:	6f00      	li	a3,0
48854724:	b2a6      	lw	v0,488549bc <.LBE2+0xd6>
48854726:	eac0      	jalrc	v0
48854728:	c04f      	sb	v0,15(s0)
4885472a:	b3a4      	lw	v1,488549b8 <.LBE2+0xd2>
            g_app_info_state.bat_value = real_battery_value;
4885472c:	a15b      	lbu	v0,27(s1)
4885472e:	c350      	sb	v0,16(v1)
48854730:	b2a2      	lw	v0,488549b8 <.LBE2+0xd2>

            if (g_app_info_state.cable_state == CABLE_STATE_CABLE_NULL)//USB电缆没有插入
48854732:	a24d      	lbu	v0,13(v0)
48854734:	2a03      	bnez	v0,4885473c <gui_headbar+0x80>
48854736:	b3a1      	lw	v1,488549b8 <.LBE2+0xd2>
            {
                g_app_info_state.charge_state = BAT_NORMAL;
48854738:	6a00      	li	v0,0
4885473a:	c34f      	sb	v0,15(v1)
4885473c:	b3a1      	lw	v1,488549c0 <.LBE2+0xda>
            }

            _HEADBAR_PRINTD_INFO_INT("bat_001",real_battery_value);
            g_battery_display = 1;
4885473e:	6a01      	li	v0,1
48854740:	c340      	sb	v0,0(v1)
48854742:	b29e      	lw	v0,488549b8 <.LBE2+0xd2>
        }

        //正在充电
        if (g_app_info_state.charge_state == BAT_CHARGING)
48854744:	a24f      	lbu	v0,15(v0)
48854746:	7201      	cmpi	v0,1
48854748:	6758      	move	v0,t8
4885474a:	5a01      	sltiu	v0,1
4885474c:	6012      	bteqz	48854772 <gui_headbar+0xb6>
4885474e:	b29d      	lw	v0,488549c0 <.LBE2+0xda>
        {
            if (g_battery_display > BATTERY_GRADE_MAX)
48854750:	a240      	lbu	v0,0(v0)
48854752:	5a06      	sltiu	v0,6
48854754:	6103      	btnez	4885475c <gui_headbar+0xa0>
48854756:	b39b      	lw	v1,488549c0 <.LBE2+0xda>
            {
                g_battery_display = 1;
48854758:	6a01      	li	v0,1
4885475a:	c340      	sb	v0,0(v1)
4885475c:	b299      	lw	v0,488549c0 <.LBE2+0xda>
            }_HEADBAR_PRINTD_INFO_INT("bat_002",g_battery_display);
            __show_battery(g_battery_display);
4885475e:	a240      	lbu	v0,0(v0)
48854760:	6782      	move	a0,v0
48854762:	1831 5283 	jal	48854a0c <__show_battery>
48854766:	6500      	nop
48854768:	b397      	lw	v1,488549c4 <.LBE2+0xde>
            g_battery_value = -1;//等于无效值，一旦切换到电池供电，立即绘制图标
4885476a:	6a01      	li	v0,1
4885476c:	ea4b      	neg	v0
4885476e:	c340      	sb	v0,0(v1)
48854770:	102a      	b	488547c6 <gui_headbar+0x10a>
48854772:	b292      	lw	v0,488549b8 <.LBE2+0xd2>
        }
        //充电已满
        else if (g_app_info_state.charge_state == BAT_FULL)
48854774:	a24f      	lbu	v0,15(v0)
48854776:	7202      	cmpi	v0,2
48854778:	6758      	move	v0,t8
4885477a:	5a01      	sltiu	v0,1
4885477c:	6009      	bteqz	48854790 <gui_headbar+0xd4>
4885477e:	6c05      	li	a0,5
        {
            _HEADBAR_PRINTD_INFO_INT("bat_003",g_battery_display);
            __show_battery(BATTERY_GRADE_MAX);
48854780:	1831 5283 	jal	48854a0c <__show_battery>
48854784:	6500      	nop
48854786:	b390      	lw	v1,488549c4 <.LBE2+0xde>
            g_battery_value = -1;//等于无效值，一旦切换到电池供电，立即绘制图标
48854788:	6a01      	li	v0,1
4885478a:	ea4b      	neg	v0
4885478c:	c340      	sb	v0,0(v1)
4885478e:	101b      	b	488547c6 <gui_headbar+0x10a>
48854790:	f040 a148 	lbu	v0,72(s1)
        }
        //无充电，电池供电
        else
        {
            if ((update == HEADBAR_UPDATE_INIT) || (update == HEADBAR_UPDATE_ALL) || (g_app_info_state.bat_value
48854794:	220e      	beqz	v0,488547b2 <gui_headbar+0xf6>
48854796:	f040 a148 	lbu	v0,72(s1)
4885479a:	7201      	cmpi	v0,1
4885479c:	6758      	move	v0,t8
4885479e:	5a01      	sltiu	v0,1
488547a0:	6108      	btnez	488547b2 <gui_headbar+0xf6>
488547a2:	b286      	lw	v0,488549b8 <.LBE2+0xd2>
488547a4:	b388      	lw	v1,488549c4 <.LBE2+0xde>
488547a6:	a290      	lbu	a0,16(v0)
488547a8:	a340      	lbu	v0,0(v1)
488547aa:	ea8e      	xor	v0,a0
488547ac:	5a01      	sltiu	v0,1
488547ae:	6001      	bteqz	488547b2 <gui_headbar+0xf6>
488547b0:	100a      	b	488547c6 <gui_headbar+0x10a>
488547b2:	b282      	lw	v0,488549b8 <.LBE2+0xd2>
                    != g_battery_value))
            {

                _HEADBAR_PRINTD_INFO_INT("bat_004",g_app_info_state.bat_value);
                __show_battery(g_app_info_state.bat_value);
488547b4:	a250      	lbu	v0,16(v0)
488547b6:	6782      	move	a0,v0
488547b8:	1831 5283 	jal	48854a0c <__show_battery>
488547bc:	6500      	nop
488547be:	b382      	lw	v1,488549c4 <.LBE2+0xde>
                g_battery_value = g_app_info_state.bat_value;
488547c0:	b27e      	lw	v0,488549b8 <.LBE2+0xd2>
488547c2:	a250      	lbu	v0,16(v0)
488547c4:	c340      	sb	v0,0(v1)
488547c6:	b27b      	lw	v0,488549b0 <.LBE2+0xca>
            }
        }
    }

    if (this_headbar_style.icon_sty != V_U16_INVALID)
488547c8:	aa61      	lhu	v1,2(v0)
488547ca:	f7ff 6a1f 	li	v0,65535
488547ce:	ea6e      	xor	v0,v1
488547d0:	5a01      	sltiu	v0,1
488547d2:	6136      	btnez	48854840 <gui_headbar+0x184>
488547d4:	b279      	lw	v0,488549b8 <.LBE2+0xd2>
    {
        if (g_app_info_state.keylock_state == TRUE)
488547d6:	a244      	lbu	v0,4(v0)
488547d8:	7201      	cmpi	v0,1
488547da:	6758      	move	v0,t8
488547dc:	5a01      	sltiu	v0,1
488547de:	6003      	bteqz	488547e6 <gui_headbar+0x12a>
488547e0:	6a07      	li	v0,7
        {
            temp_icon_id = HEADBAR_ICON_KEYLOCK;
488547e2:	c15a      	sb	v0,26(s1)
488547e4:	1003      	b	488547ec <gui_headbar+0x130>
488547e6:	b279      	lw	v0,488549c8 <.LBE2+0xe2>
        }
        else
        {
            temp_icon_id = this_headbar_icon_id;
488547e8:	a240      	lbu	v0,0(v0)
488547ea:	c15a      	sb	v0,26(s1)
488547ec:	f040 a148 	lbu	v0,72(s1)
        }

        if ((update == HEADBAR_UPDATE_INIT) || (update == HEADBAR_UPDATE_ALL) || ((temp_icon_id != HEADBAR_ICON_NONE)
488547f0:	2212      	beqz	v0,48854816 <gui_headbar+0x15a>
488547f2:	f040 a148 	lbu	v0,72(s1)
488547f6:	7201      	cmpi	v0,1
488547f8:	6758      	move	v0,t8
488547fa:	5a01      	sltiu	v0,1
488547fc:	610c      	btnez	48854816 <gui_headbar+0x15a>
488547fe:	a15a      	lbu	v0,26(s1)
48854800:	720b      	cmpi	v0,11
48854802:	6758      	move	v0,t8
48854804:	5a01      	sltiu	v0,1
48854806:	611c      	btnez	48854840 <gui_headbar+0x184>
48854808:	b271      	lw	v0,488549cc <.LBE2+0xe6>
4885480a:	a17a      	lbu	v1,26(s1)
4885480c:	a240      	lbu	v0,0(v0)
4885480e:	ea6e      	xor	v0,v1
48854810:	5a01      	sltiu	v0,1
48854812:	6001      	bteqz	48854816 <gui_headbar+0x15a>
48854814:	1015      	b	48854840 <gui_headbar+0x184>
48854816:	b267      	lw	v0,488549b0 <.LBE2+0xca>
                && (temp_icon_id != g_icon_id)))
        {
            //刷新图标
            style_infor.style_id = this_headbar_style.icon_sty;
48854818:	aa41      	lhu	v0,2(v0)
4885481a:	c944      	sh	v0,8(s1)
4885481c:	6a01      	li	v0,1
            style_infor.type = UI_COM;
4885481e:	c14a      	sb	v0,10(s1)
48854820:	6a01      	li	v0,1
            headbar_pic.pic_id = V_U16_INVALID;
48854822:	ea4b      	neg	v0
48854824:	c940      	sh	v0,0(s1)
48854826:	a15a      	lbu	v0,26(s1)
            headbar_pic.frame_id = (uint8) temp_icon_id;
48854828:	c142      	sb	v0,2(s1)
4885482a:	4147      	addiu	v0,s1,7
            ui_show_picbox(&style_infor, &headbar_pic);
4885482c:	4241      	addiu	v0,v0,1
4885482e:	6782      	move	a0,v0
48854830:	67b1      	move	a1,s1
48854832:	6e00      	li	a2,0
48854834:	6f02      	li	a3,2
48854836:	b260      	lw	v0,488549b4 <.LBE2+0xce>
48854838:	eac0      	jalrc	v0
4885483a:	b365      	lw	v1,488549cc <.LBE2+0xe6>

            g_icon_id = temp_icon_id;
4885483c:	a15a      	lbu	v0,26(s1)
4885483e:	c340      	sb	v0,0(v1)
48854840:	b25c      	lw	v0,488549b0 <.LBE2+0xca>
        }
    }

    if (this_headbar_style.time_sty != V_U16_INVALID)
48854842:	aa62      	lhu	v1,4(v0)
48854844:	f7ff 6a1f 	li	v0,65535
48854848:	ea6e      	xor	v0,v1
4885484a:	5a01      	sltiu	v0,1
4885484c:	614c      	btnez	488548e6 <.LBE2>

4885484e <.LBB2>:
4885484e:	6a00      	li	v0,0
    {
        timebox_draw_mode_e draw_mode;
        bool need_draw = FALSE;
48854850:	c15d      	sb	v0,29(s1)
48854852:	4147      	addiu	v0,s1,7

        //获取当前时间
        sys_get_time(&temp_sys_time);
48854854:	4a09      	addiu	v0,9
48854856:	6782      	move	a0,v0
48854858:	6d00      	li	a1,0
4885485a:	6e00      	li	a2,0
4885485c:	6f24      	li	a3,36
4885485e:	b25d      	lw	v0,488549d0 <.LBE2+0xea>
48854860:	eac0      	jalrc	v0
48854862:	f040 a148 	lbu	v0,72(s1)

        if ((update == HEADBAR_UPDATE_INIT) || (update == HEADBAR_UPDATE_ALL))
48854866:	2207      	beqz	v0,48854876 <.LBB2+0x28>
48854868:	f040 a148 	lbu	v0,72(s1)
4885486c:	7201      	cmpi	v0,1
4885486e:	6758      	move	v0,t8
48854870:	5a01      	sltiu	v0,1
48854872:	6101      	btnez	48854876 <.LBB2+0x28>
48854874:	1005      	b	48854880 <.LBB2+0x32>
48854876:	6a02      	li	v0,2
        {
            draw_mode = TIMEBOX_DRAW_ALL;//时间初始化
48854878:	c15c      	sb	v0,28(s1)
4885487a:	6a01      	li	v0,1
            need_draw = TRUE;
4885487c:	c15d      	sb	v0,29(s1)
4885487e:	100a      	b	48854894 <.LBB2+0x46>
48854880:	b255      	lw	v0,488549d4 <.LBE2+0xee>
        }
        else if (temp_sys_time.minute != g_sys_minute)
48854882:	a171      	lbu	v1,17(s1)
48854884:	a240      	lbu	v0,0(v0)
48854886:	ea6e      	xor	v0,v1
48854888:	5a01      	sltiu	v0,1
4885488a:	6104      	btnez	48854894 <.LBB2+0x46>
4885488c:	6a01      	li	v0,1
        {
            draw_mode = TIMEBOX_DRAW_TIME;//更新时间
4885488e:	c15c      	sb	v0,28(s1)
48854890:	6a01      	li	v0,1
            need_draw = TRUE;
48854892:	c15d      	sb	v0,29(s1)
48854894:	a15d      	lbu	v0,29(s1)
        }
        else
        {
            //do nothing for QAC
        }

        //显示系统时间
        if (need_draw == TRUE)
48854896:	7201      	cmpi	v0,1
48854898:	6758      	move	v0,t8
4885489a:	5a01      	sltiu	v0,1
4885489c:	6024      	bteqz	488548e6 <.LBE2>

4885489e <.LBB3>:
4885489e:	4147      	addiu	v0,s1,7
        {
            timebox_private_t headbar_time;
            time_timebox_t *tmp_time;

            tmp_time = &(headbar_time.times[0].union_time.time);
488548a0:	4a19      	addiu	v0,25
488548a2:	d94c      	sw	v0,48(s1)
488548a4:	996c      	lw	v1,48(s1)
            tmp_time->hour = temp_sys_time.hour;
488548a6:	a150      	lbu	v0,16(s1)
488548a8:	cb40      	sh	v0,0(v1)
488548aa:	996c      	lw	v1,48(s1)
            tmp_time->minute = temp_sys_time.minute;
488548ac:	a151      	lbu	v0,17(s1)
488548ae:	c342      	sb	v0,2(v1)
488548b0:	996c      	lw	v1,48(s1)
            tmp_time->second = temp_sys_time.second;
488548b2:	a152      	lbu	v0,18(s1)
488548b4:	c343      	sb	v0,3(v1)
488548b6:	6a54      	li	v0,84
            headbar_time.times[0].time_type = 'T';
488548b8:	f020 c144 	sb	v0,36(s1)
488548bc:	6a05      	li	v0,5
            headbar_time.times[0].mode = TIME_DISP_HHMM;
488548be:	f020 c145 	sb	v0,37(s1)
488548c2:	b23c      	lw	v0,488549b0 <.LBE2+0xca>

            style_infor.style_id = this_headbar_style.time_sty;
488548c4:	aa42      	lhu	v0,4(v0)
488548c6:	c944      	sh	v0,8(s1)
488548c8:	6a01      	li	v0,1
            style_infor.type = UI_COM;
488548ca:	c14a      	sb	v0,10(s1)
488548cc:	4147      	addiu	v0,s1,7
            ui_show_timebox(&style_infor, &headbar_time, (uint32) draw_mode);
488548ce:	4241      	addiu	v0,v0,1
488548d0:	4167      	addiu	v1,s1,7
488548d2:	4b19      	addiu	v1,25
488548d4:	a1dc      	lbu	a2,28(s1)
488548d6:	6782      	move	a0,v0
488548d8:	67a3      	move	a1,v1
488548da:	6f04      	li	a3,4
488548dc:	b236      	lw	v0,488549b4 <.LBE2+0xce>
488548de:	eac0      	jalrc	v0
488548e0:	b33d      	lw	v1,488549d0 <.LBE2+0xea>
            g_sys_minute = temp_sys_time.minute;
488548e2:	a151      	lbu	v0,17(s1)
488548e4:	c340      	sb	v0,0(v1)

488548e6 <.LBE2>:
488548e6:	b233      	lw	v0,488549b0 <.LBE2+0xca>
        }
    }

    if (this_headbar_style.cable_sty != V_U16_INVALID)
488548e8:	aa64      	lhu	v1,8(v0)
488548ea:	f7ff 6a1f 	li	v0,65535
488548ee:	ea6e      	xor	v0,v1
488548f0:	5a01      	sltiu	v0,1
488548f2:	6129      	btnez	48854946 <.LBE2+0x60>
488548f4:	1831 527d 	jal	488549f4 <get_cable_state>
    {
        temp_cable_state = get_cable_state();
488548f8:	6500      	nop
488548fa:	c158      	sb	v0,24(s1)
488548fc:	f040 a148 	lbu	v0,72(s1)

        if ((update == HEADBAR_UPDATE_INIT) || (update == HEADBAR_UPDATE_ALL) || (temp_cable_state
48854900:	220d      	beqz	v0,4885491c <.LBE2+0x36>
48854902:	f040 a148 	lbu	v0,72(s1)
48854906:	7201      	cmpi	v0,1
48854908:	6758      	move	v0,t8
4885490a:	5a01      	sltiu	v0,1
4885490c:	6107      	btnez	4885491c <.LBE2+0x36>
4885490e:	b233      	lw	v0,488549d8 <.LBE2+0xf2>
48854910:	a265      	lbu	v1,5(v0)
48854912:	a158      	lbu	v0,24(s1)
48854914:	ea6e      	xor	v0,v1
48854916:	5a01      	sltiu	v0,1
48854918:	6001      	bteqz	4885491c <.LBE2+0x36>
4885491a:	1015      	b	48854946 <.LBE2+0x60>
4885491c:	b225      	lw	v0,488549b0 <.LBE2+0xca>
                != g_app_last_state.last_cable_state))
        {
            //刷新电缆状态图标
            style_infor.style_id = this_headbar_style.cable_sty;
4885491e:	aa44      	lhu	v0,8(v0)
48854920:	c944      	sh	v0,8(s1)
48854922:	6a01      	li	v0,1
            style_infor.type = UI_COM;
48854924:	c14a      	sb	v0,10(s1)
48854926:	6a01      	li	v0,1
            headbar_pic.pic_id = V_U16_INVALID;
48854928:	ea4b      	neg	v0
4885492a:	c940      	sh	v0,0(s1)
4885492c:	a158      	lbu	v0,24(s1)
            headbar_pic.frame_id = temp_cable_state;
4885492e:	c142      	sb	v0,2(s1)
48854930:	4147      	addiu	v0,s1,7
            ui_show_picbox(&style_infor, &headbar_pic);
48854932:	4241      	addiu	v0,v0,1
48854934:	6782      	move	a0,v0
48854936:	67b1      	move	a1,s1
48854938:	6e00      	li	a2,0
4885493a:	6f02      	li	a3,2
4885493c:	b21e      	lw	v0,488549b4 <.LBE2+0xce>
4885493e:	eac0      	jalrc	v0
48854940:	b326      	lw	v1,488549d4 <.LBE2+0xee>

            g_app_last_state.last_cable_state = temp_cable_state;
48854942:	a158      	lbu	v0,24(s1)
48854944:	c345      	sb	v0,5(v1)
48854946:	b21b      	lw	v0,488549b0 <.LBE2+0xca>
        }
    }

    if (this_headbar_style.card_sty != V_U16_INVALID)
48854948:	aa65      	lhu	v1,10(v0)
4885494a:	f7ff 6a1f 	li	v0,65535
4885494e:	ea6e      	xor	v0,v1
48854950:	5a01      	sltiu	v0,1
48854952:	6129      	btnez	488549a6 <.LBE2+0xc0>
48854954:	1831 5277 	jal	488549dc <get_card_state>
    {
        temp_card_state = get_card_state();
48854958:	6500      	nop
4885495a:	c159      	sb	v0,25(s1)
4885495c:	f040 a148 	lbu	v0,72(s1)

        if ((update == HEADBAR_UPDATE_INIT) || (update == HEADBAR_UPDATE_ALL) || (temp_card_state
48854960:	220d      	beqz	v0,4885497c <.LBE2+0x96>
48854962:	f040 a148 	lbu	v0,72(s1)
48854966:	7201      	cmpi	v0,1
48854968:	6758      	move	v0,t8
4885496a:	5a01      	sltiu	v0,1
4885496c:	6107      	btnez	4885497c <.LBE2+0x96>
4885496e:	b21b      	lw	v0,488549d8 <.LBE2+0xf2>
48854970:	a264      	lbu	v1,4(v0)
48854972:	a159      	lbu	v0,25(s1)
48854974:	ea6e      	xor	v0,v1
48854976:	5a01      	sltiu	v0,1
48854978:	6001      	bteqz	4885497c <.LBE2+0x96>
4885497a:	1015      	b	488549a6 <.LBE2+0xc0>
4885497c:	b20d      	lw	v0,488549b0 <.LBE2+0xca>
                != g_app_last_state.last_card_state))
        {
            //刷新卡状态图标
            style_infor.style_id = this_headbar_style.card_sty;
4885497e:	aa45      	lhu	v0,10(v0)
48854980:	c944      	sh	v0,8(s1)
48854982:	6a01      	li	v0,1
            style_infor.type = UI_COM;
48854984:	c14a      	sb	v0,10(s1)
48854986:	6a01      	li	v0,1
            headbar_pic.pic_id = V_U16_INVALID;
48854988:	ea4b      	neg	v0
4885498a:	c940      	sh	v0,0(s1)
4885498c:	a159      	lbu	v0,25(s1)
            headbar_pic.frame_id = temp_card_state;
4885498e:	c142      	sb	v0,2(s1)
48854990:	4147      	addiu	v0,s1,7
            ui_show_picbox(&style_infor, &headbar_pic);
48854992:	4241      	addiu	v0,v0,1
48854994:	6782      	move	a0,v0
48854996:	67b1      	move	a1,s1
48854998:	6e00      	li	a2,0
4885499a:	6f02      	li	a3,2
4885499c:	b206      	lw	v0,488549b4 <.LBE2+0xce>
4885499e:	eac0      	jalrc	v0
488549a0:	b30e      	lw	v1,488549d4 <.LBE2+0xee>

            g_app_last_state.last_card_state = temp_card_state;
488549a2:	a159      	lbu	v0,25(s1)
488549a4:	c344      	sb	v0,4(v1)
488549a6:	6a00      	li	v0,0
        }
    }

    return RESULT_NULL;
488549a8:	65b9      	move	sp,s1
}
488549aa:	6479      	restore	72,ra,s0-s1
488549ac:	e8a0      	jrc	ra
488549ae:	0000      	addiu	s0,sp,0
488549b0:	5ba0      	sltiu	v1,160
488549b2:	9fc1      	lw	a2,4(a3)
488549b4:	6bb1      	li	v1,177
488549b6:	bfc1      	lwu	a2,4(a3)
488549b8:	a1b8      	lbu	a1,24(s1)
488549ba:	9fc1      	lw	a2,4(a3)
488549bc:	6405      	restore	40
488549be:	bfc1      	lwu	a2,4(a3)
488549c0:	5b98      	sltiu	v1,152
488549c2:	9fc1      	lw	a2,4(a3)
488549c4:	5b9b      	sltiu	v1,155
488549c6:	9fc1      	lw	a2,4(a3)
488549c8:	5bac      	sltiu	v1,172
488549ca:	9fc1      	lw	a2,4(a3)
488549cc:	5b99      	sltiu	v1,153
488549ce:	9fc1      	lw	a2,4(a3)
488549d0:	640d      	restore	104
488549d2:	bfc1      	lwu	a2,4(a3)
488549d4:	5b9a      	sltiu	v1,154
488549d6:	9fc1      	lw	a2,4(a3)
488549d8:	a1d0      	lbu	a2,16(s1)
488549da:	9fc1      	lw	a2,4(a3)

488549dc <get_card_state>:
488549dc:	6491      	save	8,s1
488549de:	673d      	move	s1,sp
488549e0:	b204      	lw	v0,488549f0 <get_card_state+0x14>
488549e2:	a24b      	lbu	v0,11(v0)
488549e4:	651a      	move	t8,v0
488549e6:	6758      	move	v0,t8
488549e8:	65b9      	move	sp,s1
488549ea:	6411      	restore	8,s1
488549ec:	e8a0      	jrc	ra
488549ee:	0000      	addiu	s0,sp,0
488549f0:	a1b8      	lbu	a1,24(s1)
488549f2:	9fc1      	lw	a2,4(a3)

488549f4 <get_cable_state>:
488549f4:	6491      	save	8,s1
488549f6:	673d      	move	s1,sp
488549f8:	b204      	lw	v0,48854a08 <get_cable_state+0x14>
488549fa:	a24d      	lbu	v0,13(v0)
488549fc:	651a      	move	t8,v0
488549fe:	6758      	move	v0,t8
48854a00:	65b9      	move	sp,s1
48854a02:	6411      	restore	8,s1
48854a04:	e8a0      	jrc	ra
48854a06:	0000      	addiu	s0,sp,0
48854a08:	a1b8      	lbu	a1,24(s1)
48854a0a:	9fc1      	lw	a2,4(a3)

48854a0c <__show_battery>:
48854a0c:	64d5      	save	40,ra,s1

/*! \endcond */

/*! \cond */

//更新电池图标
static void __show_battery(uint8 display)
{
48854a0e:	0104      	addiu	s1,sp,16
48854a10:	6744      	move	v0,a0
48854a12:	c158      	sb	v0,24(s1)
48854a14:	b20b      	lw	v0,48854a40 <__show_battery+0x34>
    picbox_private_t headbar_pic;
    style_infor_t style_infor;

    style_infor.style_id = this_headbar_style.battery_sty;
48854a16:	aa43      	lhu	v0,6(v0)
48854a18:	c944      	sh	v0,8(s1)
48854a1a:	6a01      	li	v0,1
    style_infor.type = UI_COM;
48854a1c:	c14a      	sb	v0,10(s1)
48854a1e:	6a01      	li	v0,1
    headbar_pic.pic_id = V_U16_INVALID;
48854a20:	ea4b      	neg	v0
48854a22:	c940      	sh	v0,0(s1)
48854a24:	a158      	lbu	v0,24(s1)
    headbar_pic.frame_id = display;
48854a26:	c142      	sb	v0,2(s1)
48854a28:	4147      	addiu	v0,s1,7
    ui_show_picbox(&style_infor, &headbar_pic);
48854a2a:	4241      	addiu	v0,v0,1
48854a2c:	6782      	move	a0,v0
48854a2e:	67b1      	move	a1,s1
48854a30:	6e00      	li	a2,0
48854a32:	6f02      	li	a3,2
48854a34:	b204      	lw	v0,48854a44 <__show_battery+0x38>
48854a36:	eac0      	jalrc	v0
48854a38:	65b9      	move	sp,s1
}
48854a3a:	6453      	restore	24,ra,s1
48854a3c:	e8a0      	jrc	ra
48854a3e:	0000      	addiu	s0,sp,0
48854a40:	5ba0      	sltiu	v1,160
48854a42:	9fc1      	lw	a2,4(a3)
48854a44:	6bb1      	li	v1,177
48854a46:	bfc1      	lwu	a2,4(a3)
	...
Disassembly of section BANK_UI_1_36:

48914600 <keylock_msg_deal>:
48914600:	64d8      	save	64,ra,s1
#include "common_ui.h"

//gui app msg deal
app_result_e keylock_msg_deal(key_lock_mode_e *this_lock_mode, key_lock_mode_e *last_lock_mode)
{
48914602:	0104      	addiu	s1,sp,16
48914604:	d98c      	sw	a0,48(s1)
48914606:	d9ad      	sw	a1,52(s1)
48914608:	6a00      	li	v0,0
    input_gui_msg_t input_msg;
    msg_apps_type_e gui_event;
    private_msg_t private_msg;
    app_result_e result = RESULT_NULL;
4891460a:	c950      	sh	v0,32(s1)
4891460c:	6791      	move	a0,s1

    //获取gui消息
    if (get_gui_msg(&input_msg) == TRUE)//有gui消息
4891460e:	b231      	lw	v0,489146d0 <keylock_msg_deal+0xd0>
48914610:	eac0      	jalrc	v0
48914612:	7201      	cmpi	v0,1
48914614:	6758      	move	v0,t8
48914616:	5a01      	sltiu	v0,1
48914618:	6045      	bteqz	489146a4 <keylock_msg_deal+0xa4>
4891461a:	4147      	addiu	v0,s1,7
    {
        //进行按键映射
        if (com_key_mapping(&input_msg, &gui_event, keylock_list) == TRUE)
4891461c:	4241      	addiu	v0,v0,1
4891461e:	b32e      	lw	v1,489146d4 <keylock_msg_deal+0xd4>
48914620:	6791      	move	a0,s1
48914622:	67a2      	move	a1,v0
48914624:	67c3      	move	a2,v1
48914626:	b22d      	lw	v0,489146d8 <keylock_msg_deal+0xd8>
48914628:	eac0      	jalrc	v0
4891462a:	7201      	cmpi	v0,1
4891462c:	6758      	move	v0,t8
4891462e:	5a01      	sltiu	v0,1
48914630:	6049      	bteqz	489146c4 <keylock_msg_deal+0xc4>
48914632:	a944      	lhu	v0,8(s1)
        {
            switch (gui_event)
48914634:	7222      	cmpi	v0,34
48914636:	6758      	move	v0,t8
48914638:	5a01      	sltiu	v0,1
4891463a:	6101      	btnez	4891463e <keylock_msg_deal+0x3e>
4891463c:	102d      	b	48914698 <keylock_msg_deal+0x98>
4891463e:	994d      	lw	v0,52(s1)
            {
                case EVENT_ENTER_KEYLOCK:
                switch (*last_lock_mode)
48914640:	a240      	lbu	v0,0(v0)
48914642:	d949      	sw	v0,36(s1)
48914644:	9949      	lw	v0,36(s1)
48914646:	7201      	cmpi	v0,1
48914648:	6758      	move	v0,t8
4891464a:	5a01      	sltiu	v0,1
4891464c:	6115      	btnez	48914678 <keylock_msg_deal+0x78>
4891464e:	9949      	lw	v0,36(s1)
48914650:	7202      	cmpi	v0,2
48914652:	6758      	move	v0,t8
48914654:	5a01      	sltiu	v0,1
48914656:	6101      	btnez	4891465a <keylock_msg_deal+0x5a>
48914658:	1013      	b	48914680 <keylock_msg_deal+0x80>
4891465a:	1891 51ba 	jal	489146e8 <get_keylock_state>
                {
                    case KEY_LOCK_MODE_HOLD:
                    if (get_keylock_state() == TRUE)
4891465e:	6500      	nop
48914660:	7201      	cmpi	v0,1
48914662:	6758      	move	v0,t8
48914664:	5a01      	sltiu	v0,1
48914666:	6004      	bteqz	48914670 <keylock_msg_deal+0x70>
48914668:	996c      	lw	v1,48(s1)
                    {
                        *this_lock_mode = KEY_LOCK_MODE_UNLOCKING;
4891466a:	6a03      	li	v0,3
4891466c:	c340      	sb	v0,0(v1)
4891466e:	100b      	b	48914686 <keylock_msg_deal+0x86>
48914670:	996c      	lw	v1,48(s1)
                    }
                    else
                    {
                        *this_lock_mode = KEY_LOCK_MODE_LOCKING;
48914672:	6a01      	li	v0,1
48914674:	c340      	sb	v0,0(v1)
48914676:	1007      	b	48914686 <keylock_msg_deal+0x86>
                    }
                    break;
48914678:	996c      	lw	v1,48(s1)

                    case KEY_LOCK_MODE_LOCKING:
                    *this_lock_mode = KEY_LOCK_MODE_UNLOCKING;
4891467a:	6a03      	li	v0,3
4891467c:	c340      	sb	v0,0(v1)
4891467e:	1003      	b	48914686 <keylock_msg_deal+0x86>
                    break;
48914680:	996c      	lw	v1,48(s1)

                    default:
                    *this_lock_mode = KEY_LOCK_MODE_LOCKING;
48914682:	6a01      	li	v0,1
48914684:	c340      	sb	v0,0(v1)
48914686:	996d      	lw	v1,52(s1)
                    break;
                }

                *last_lock_mode = *this_lock_mode;
48914688:	994c      	lw	v0,48(s1)
4891468a:	a240      	lbu	v0,0(v0)
4891468c:	c340      	sb	v0,0(v1)
4891468e:	f7ef 6a0c 	li	v0,32748
                result = RESULT_REDRAW;//强迫退出第2层while循环
48914692:	ea4b      	neg	v0
48914694:	c950      	sh	v0,32(s1)
48914696:	1016      	b	489146c4 <keylock_msg_deal+0xc4>
                break;
48914698:	a944      	lhu	v0,8(s1)

                default:
                result = com_message_box(gui_event);
4891469a:	6782      	move	a0,v0
4891469c:	b210      	lw	v0,489146dc <keylock_msg_deal+0xdc>
4891469e:	eac0      	jalrc	v0
489146a0:	c950      	sh	v0,32(s1)
489146a2:	1010      	b	489146c4 <keylock_msg_deal+0xc4>
                break;
489146a4:	4147      	addiu	v0,s1,7
            }
        }
    }
    else
    {
        if (get_app_msg(&private_msg) == TRUE)
489146a6:	4a09      	addiu	v0,9
489146a8:	6782      	move	a0,v0
489146aa:	b20e      	lw	v0,489146e0 <keylock_msg_deal+0xe0>
489146ac:	eac0      	jalrc	v0
489146ae:	7201      	cmpi	v0,1
489146b0:	6758      	move	v0,t8
489146b2:	5a01      	sltiu	v0,1
489146b4:	6007      	bteqz	489146c4 <keylock_msg_deal+0xc4>
489146b6:	b20c      	lw	v0,489146e4 <keylock_msg_deal+0xe4>
        {
            result = g_this_app_msg_dispatch(&private_msg);
489146b8:	4167      	addiu	v1,s1,7
489146ba:	4b09      	addiu	v1,9
489146bc:	9a40      	lw	v0,0(v0)
489146be:	6783      	move	a0,v1
489146c0:	eac0      	jalrc	v0
489146c2:	c950      	sh	v0,32(s1)
489146c4:	a950      	lhu	v0,32(s1)
        }
    }

    return result;
489146c6:	651a      	move	t8,v0
489146c8:	6758      	move	v0,t8
}
489146ca:	65b9      	move	sp,s1
489146cc:	6456      	restore	48,ra,s1
489146ce:	e8a0      	jrc	ra
489146d0:	66d5      	0x66d5
489146d2:	bfc1      	lwu	a2,4(a3)
489146d4:	466c      	addiu	v1,a2,-4
489146d6:	4855      	addiu	s0,85
489146d8:	47ad      	addiu	a1,a3,-3
489146da:	4855      	addiu	s0,85
489146dc:	4601      	addiu	s0,a2,1
489146de:	48bd      	addiu	s0,-67
489146e0:	6741      	move	v0,at
489146e2:	bfc1      	lwu	a2,4(a3)
489146e4:	a1f8      	lbu	a3,24(s1)
489146e6:	9fc1      	lw	a2,4(a3)

489146e8 <get_keylock_state>:
489146e8:	6491      	save	8,s1
489146ea:	673d      	move	s1,sp
489146ec:	b204      	lw	v0,489146fc <get_keylock_state+0x14>
489146ee:	a244      	lbu	v0,4(v0)
489146f0:	651a      	move	t8,v0
489146f2:	6758      	move	v0,t8
489146f4:	65b9      	move	sp,s1
489146f6:	6411      	restore	8,s1
489146f8:	e8a0      	jrc	ra
489146fa:	0000      	addiu	s0,sp,0
489146fc:	a1b8      	lbu	a1,24(s1)
489146fe:	9fc1      	lw	a2,4(a3)

48914700 <keylock_handle>:
48914700:	6491      	save	8,s1

//keylock_handle
void keylock_handle(void)
{
48914702:	673d      	move	s1,sp
48914704:	b303      	lw	v1,48914710 <keylock_handle+0x10>
    g_kl_time_is_up = TRUE;
48914706:	6a01      	li	v0,1
48914708:	c340      	sb	v0,0(v1)
4891470a:	65b9      	move	sp,s1
}
4891470c:	6411      	restore	8,s1
4891470e:	e8a0      	jrc	ra
48914710:	5bbe      	sltiu	v1,190
48914712:	9fc1      	lw	a2,4(a3)

48914714 <gui_keylock>:
48914714:	64d9      	save	72,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *    按键锁主函数，是按键锁模块的外部接口
 * \param[in]    lockkey 是否按下“锁键”进入，TRUE表示是，FALSE表示否
 * \param[out]   none
 * \return       app_result_e
 * \retval           RESULT_REDRAW 正常返回AP，重绘UI
 * \retval           other 收到返回值不为 RESULT_NULL 应用消息返回，见 app_result_e 定义
 * \note
 *******************************************************************************/
app_result_e gui_keylock(bool lockkey)
{
48914716:	0104      	addiu	s1,sp,16
48914718:	6744      	move	v0,a0
4891471a:	f020 c158 	sb	v0,56(s1)
4891471e:	6a00      	li	v0,0
    app_result_e result = RESULT_NULL;
48914720:	c940      	sh	v0,0(s1)
48914722:	f020 a158 	lbu	v0,56(s1)
    animation_com_data_t anm_com;
    style_infor_t style_infor;
    key_lock_mode_e this_lock_mode, last_lock_mode;
    int8 wait_timer;
    uint8 tag_backup;
    uint8 mode_backup, icon_backup;
    gui_direct_e direct_bk;

    //初始化进入锁键 UI 状态
    if (lockkey == TRUE)
48914726:	7201      	cmpi	v0,1
48914728:	6758      	move	v0,t8
4891472a:	5a01      	sltiu	v0,1
4891472c:	600f      	bteqz	4891474c <gui_keylock+0x38>
4891472e:	1891 51ba 	jal	489146e8 <get_keylock_state>
    {
        if (get_keylock_state() == TRUE)
48914732:	6500      	nop
48914734:	7201      	cmpi	v0,1
48914736:	6758      	move	v0,t8
48914738:	5a01      	sltiu	v0,1
4891473a:	6004      	bteqz	48914744 <gui_keylock+0x30>
4891473c:	6a03      	li	v0,3
        {
            this_lock_mode = KEY_LOCK_MODE_UNLOCKING;
4891473e:	f020 c140 	sb	v0,32(s1)
48914742:	1007      	b	48914752 <gui_keylock+0x3e>
48914744:	6a01      	li	v0,1
        }
        else
        {
            this_lock_mode = KEY_LOCK_MODE_LOCKING;
48914746:	f020 c140 	sb	v0,32(s1)
4891474a:	1003      	b	48914752 <gui_keylock+0x3e>
4891474c:	6a02      	li	v0,2
        }
    }
    else
    {
        this_lock_mode = KEY_LOCK_MODE_HOLD;
4891474e:	f020 c140 	sb	v0,32(s1)
48914752:	f020 a140 	lbu	v0,32(s1)
    }
    last_lock_mode = this_lock_mode;
48914756:	f020 c141 	sb	v0,33(s1)
4891475a:	b290      	lw	v0,48914998 <gui_keylock+0x284>

    //config, playlist, udisk, 等应用仅修改按键锁状态后立即退出
    if ((g_this_app_info->app_id == APP_ID_CONFIG) || (g_this_app_info->app_id == APP_ID_PLAYLIST)
4891475c:	9a40      	lw	v0,0(v0)
4891475e:	a241      	lbu	v0,1(v0)
48914760:	720b      	cmpi	v0,11
48914762:	6758      	move	v0,t8
48914764:	5a01      	sltiu	v0,1
48914766:	610f      	btnez	48914786 <gui_keylock+0x72>
48914768:	b28c      	lw	v0,48914998 <gui_keylock+0x284>
4891476a:	9a40      	lw	v0,0(v0)
4891476c:	a241      	lbu	v0,1(v0)
4891476e:	720a      	cmpi	v0,10
48914770:	6758      	move	v0,t8
48914772:	5a01      	sltiu	v0,1
48914774:	6108      	btnez	48914786 <gui_keylock+0x72>
48914776:	b289      	lw	v0,48914998 <gui_keylock+0x284>
48914778:	9a40      	lw	v0,0(v0)
4891477a:	a241      	lbu	v0,1(v0)
4891477c:	720c      	cmpi	v0,12
4891477e:	6758      	move	v0,t8
48914780:	5a01      	sltiu	v0,1
48914782:	6101      	btnez	48914786 <gui_keylock+0x72>
48914784:	1018      	b	489147b6 <gui_keylock+0xa2>
48914786:	f020 a141 	lbu	v0,33(s1)
            || (g_this_app_info->app_id == APP_ID_UDISK))
    {
        //设置锁键状态
        if (last_lock_mode == KEY_LOCK_MODE_LOCKING)
4891478a:	7201      	cmpi	v0,1
4891478c:	6758      	move	v0,t8
4891478e:	5a01      	sltiu	v0,1
48914790:	6005      	bteqz	4891479c <gui_keylock+0x88>
48914792:	6c01      	li	a0,1
        {
            change_keylock_state(TRUE);
48914794:	1891 5280 	jal	48914a00 <change_keylock_state>
48914798:	6500      	nop
4891479a:	100a      	b	489147b0 <gui_keylock+0x9c>
4891479c:	f020 a141 	lbu	v0,33(s1)
        }
        else if (last_lock_mode == KEY_LOCK_MODE_UNLOCKING)
489147a0:	7203      	cmpi	v0,3
489147a2:	6758      	move	v0,t8
489147a4:	5a01      	sltiu	v0,1
489147a6:	6004      	bteqz	489147b0 <gui_keylock+0x9c>
489147a8:	6c00      	li	a0,0
        {
            change_keylock_state(FALSE);
489147aa:	1891 5280 	jal	48914a00 <change_keylock_state>
489147ae:	6500      	nop
489147b0:	6a00      	li	v0,0
        }
        else
        {
            //do nothing for QAC
        }

        return RESULT_NULL;
489147b2:	d94a      	sw	v0,40(s1)
489147b4:	10ed      	b	48914990 <gui_keylock+0x27c>
489147b6:	1891 527a 	jal	489149e8 <get_app_timer_tag>
    }

    tag_backup = get_app_timer_tag();
489147ba:	6500      	nop
489147bc:	f020 c143 	sb	v0,35(s1)
489147c0:	6c85      	li	a0,133
    change_app_timer_tag(APP_TIEMR_TAG_KEYLK);
489147c2:	1891 5274 	jal	489149d0 <change_app_timer_tag>
489147c6:	6500      	nop
489147c8:	b275      	lw	v0,4891499c <gui_keylock+0x288>

    direct_bk = com_get_gui_direction();
489147ca:	eac0      	jalrc	v0
489147cc:	f020 c146 	sb	v0,38(s1)
489147d0:	6c00      	li	a0,0
    com_set_gui_direction(GUI_DIRECT_NORMAL);
489147d2:	b274      	lw	v0,489149a0 <gui_keylock+0x28c>
489147d4:	eac0      	jalrc	v0
489147d6:	4147      	addiu	v0,s1,7

    gui_get_headbar_mode(&mode_backup, &icon_backup);
489147d8:	4a1d      	addiu	v0,29
489147da:	4167      	addiu	v1,s1,7
489147dc:	4b1e      	addiu	v1,30
489147de:	6782      	move	a0,v0
489147e0:	67a3      	move	a1,v1
489147e2:	b271      	lw	v0,489149a4 <gui_keylock+0x290>
489147e4:	eac0      	jalrc	v0
489147e6:	b271      	lw	v0,489149a8 <gui_keylock+0x294>
    gui_set_headbar_mode(HEADBAR_MODE_NULL, this_headbar_icon_id);
489147e8:	a240      	lbu	v0,0(v0)
489147ea:	6c00      	li	a0,0
489147ec:	67a2      	move	a1,v0
489147ee:	b270      	lw	v0,489149ac <gui_keylock+0x298>
489147f0:	eac0      	jalrc	v0
489147f2:	6c00      	li	a0,0

    //临时解锁，以响应按键
    change_keylock_state(FALSE);
489147f4:	1891 5280 	jal	48914a00 <change_keylock_state>
489147f8:	6500      	nop
489147fa:	f0c3 6a03 	li	v0,6339

    //刷背景图
    /*style_infor.style_id = LOCK_BG;
     style_infor.type = UI_COM;
     ui_show_picbox(&style_infor, NULL);*/
    ui_set_backgd_color(Color_BACKCOLOR_def);
489147fe:	6782      	move	a0,v0
48914800:	6d00      	li	a1,0
48914802:	6e00      	li	a2,0
48914804:	6f14      	li	a3,20
48914806:	b26b      	lw	v0,489149b0 <gui_keylock+0x29c>
48914808:	eac0      	jalrc	v0
4891480a:	6c00      	li	a0,0
    ui_clear_screen(NULL); //2015-10-30
4891480c:	6d00      	li	a1,0
4891480e:	6e00      	li	a2,0
48914810:	6f12      	li	a3,18
48914812:	b268      	lw	v0,489149b0 <gui_keylock+0x29c>
48914814:	eac0      	jalrc	v0
48914816:	f020 a140 	lbu	v0,32(s1)

    while (1)
    {
        //绘制按键锁UI
        if ((this_lock_mode == KEY_LOCK_MODE_LOCKING) || (this_lock_mode == KEY_LOCK_MODE_UNLOCKING))
4891481a:	7201      	cmpi	v0,1
4891481c:	6758      	move	v0,t8
4891481e:	5a01      	sltiu	v0,1
48914820:	6107      	btnez	48914830 <gui_keylock+0x11c>
48914822:	f020 a140 	lbu	v0,32(s1)
48914826:	7203      	cmpi	v0,3
48914828:	6758      	move	v0,t8
4891482a:	5a01      	sltiu	v0,1
4891482c:	6101      	btnez	48914830 <gui_keylock+0x11c>
4891482e:	1040      	b	489148b0 <gui_keylock+0x19c>
48914830:	6afa      	li	v0,250
        {
            anm_com.interval = 250;
48914832:	c944      	sh	v0,8(s1)
48914834:	f020 a140 	lbu	v0,32(s1)

            if (this_lock_mode == KEY_LOCK_MODE_LOCKING)
48914838:	7201      	cmpi	v0,1
4891483a:	6758      	move	v0,t8
4891483c:	5a01      	sltiu	v0,1
4891483e:	6003      	bteqz	48914846 <gui_keylock+0x132>
48914840:	6a00      	li	v0,0
            {
                anm_com.direction = DIRECTION_NORMAL;
48914842:	c14a      	sb	v0,10(s1)
48914844:	1002      	b	4891484a <gui_keylock+0x136>
48914846:	6a01      	li	v0,1
            }
            else
            {
                anm_com.direction = DIRECTION_REVERSE;
48914848:	c14a      	sb	v0,10(s1)
4891484a:	6a01      	li	v0,1
            }

            anm_com.forbid = TRUE;//允许中止
4891484c:	c14b      	sb	v0,11(s1)
4891484e:	b25a      	lw	v0,489149b4 <gui_keylock+0x2a0>
            anm_com.key_map_list = keylock_list;
48914850:	d943      	sw	v0,12(s1)
48914852:	6a00      	li	v0,0
            anm_com.callback = NULL;
48914854:	d944      	sw	v0,16(s1)
48914856:	f002 6a09 	li	v0,4105

            style_infor.style_id = LOCK_ANIMATION;
4891485a:	c94c      	sh	v0,24(s1)
4891485c:	6a01      	li	v0,1
            style_infor.type = UI_COM;
4891485e:	c15a      	sb	v0,26(s1)
48914860:	4147      	addiu	v0,s1,7
            result = gui_animation(&style_infor, &anm_com);
48914862:	4a11      	addiu	v0,17
48914864:	4167      	addiu	v1,s1,7
48914866:	4361      	addiu	v1,v1,1
48914868:	6782      	move	a0,v0
4891486a:	67a3      	move	a1,v1
4891486c:	b253      	lw	v0,489149b8 <gui_keylock+0x2a4>
4891486e:	eac0      	jalrc	v0
48914870:	c940      	sh	v0,0(s1)
48914872:	a940      	lhu	v0,0(s1)
            if ((result != RESULT_NULL) && (result != RESULT_REDRAW))
48914874:	222a      	beqz	v0,489148ca <gui_keylock+0x1b6>
48914876:	a960      	lhu	v1,0(s1)
48914878:	f010 6a14 	li	v0,32788
4891487c:	ea6e      	xor	v0,v1
4891487e:	5a01      	sltiu	v0,1
48914880:	6124      	btnez	489148ca <gui_keylock+0x1b6>
48914882:	a940      	lhu	v0,0(s1)
            {
                //动画显示终止返回（因用户gui输入而终止）
                if (result == EVENT_ENTER_KEYLOCK)
48914884:	7222      	cmpi	v0,34
48914886:	6758      	move	v0,t8
48914888:	5a01      	sltiu	v0,1
4891488a:	6057      	bteqz	4891493a <gui_keylock+0x226>
4891488c:	f020 a140 	lbu	v0,32(s1)
                {
                    if (this_lock_mode == KEY_LOCK_MODE_UNLOCKING)
48914890:	7203      	cmpi	v0,3
48914892:	6758      	move	v0,t8
48914894:	5a01      	sltiu	v0,1
48914896:	6004      	bteqz	489148a0 <gui_keylock+0x18c>
48914898:	6a01      	li	v0,1
                    {
                        this_lock_mode = KEY_LOCK_MODE_LOCKING;
4891489a:	f020 c140 	sb	v0,32(s1)
4891489e:	1003      	b	489148a6 <gui_keylock+0x192>
489148a0:	6a03      	li	v0,3
                    }
                    else
                    {
                        this_lock_mode = KEY_LOCK_MODE_UNLOCKING;
489148a2:	f020 c140 	sb	v0,32(s1)
489148a6:	f020 a140 	lbu	v0,32(s1)
                    }
                    last_lock_mode = this_lock_mode;
489148aa:	f020 c141 	sb	v0,33(s1)
489148ae:	17b3      	b	48914816 <gui_keylock+0x102>
                    continue;
489148b0:	f002 6a08 	li	v0,4104
                }
                else//其他原因返回
                {
                    break;//退出控件
                }
            }
        }
        else
        {
            style_infor.style_id = LOCK_HOLD;
489148b4:	c94c      	sh	v0,24(s1)
489148b6:	6a01      	li	v0,1
            style_infor.type = UI_COM;
489148b8:	c15a      	sb	v0,26(s1)
489148ba:	4147      	addiu	v0,s1,7
            ui_show_picbox(&style_infor, NULL);
489148bc:	4a11      	addiu	v0,17
489148be:	6782      	move	a0,v0
489148c0:	6d00      	li	a1,0
489148c2:	6e00      	li	a2,0
489148c4:	6f02      	li	a3,2
489148c6:	b23b      	lw	v0,489149b0 <gui_keylock+0x29c>
489148c8:	eac0      	jalrc	v0
489148ca:	f7c0 6a10 	li	v0,2000
        }

        //等待2秒钟后退出，在此期间如果又按下按键锁，将又一次触发按键锁处理
        wait_timer = set_app_timer(APP_TIMER_ATTRB_UI, 2000, keylock_handle);
489148ce:	b33c      	lw	v1,489149bc <gui_keylock+0x2a8>
489148d0:	6c00      	li	a0,0
489148d2:	67a2      	move	a1,v0
489148d4:	67c3      	move	a2,v1
489148d6:	b23b      	lw	v0,489149c0 <gui_keylock+0x2ac>
489148d8:	eac0      	jalrc	v0
489148da:	f020 c142 	sb	v0,34(s1)
489148de:	6a00      	li	v0,0
        this_lock_mode = KEY_LOCK_MODE_NULL;
489148e0:	f020 c140 	sb	v0,32(s1)
489148e4:	b338      	lw	v1,489149c4 <gui_keylock+0x2b0>
        g_kl_time_is_up = FALSE;
489148e6:	6a00      	li	v0,0
489148e8:	c340      	sb	v0,0(v1)
489148ea:	b237      	lw	v0,489149c4 <gui_keylock+0x2b0>
        while (1)
        {
            if (g_kl_time_is_up == TRUE)
489148ec:	a240      	lbu	v0,0(v0)
489148ee:	7201      	cmpi	v0,1
489148f0:	6758      	move	v0,t8
489148f2:	5a01      	sltiu	v0,1
489148f4:	6005      	bteqz	48914900 <gui_keylock+0x1ec>
489148f6:	f7ef 6a0c 	li	v0,32748
            {
                //正常返回
                result = RESULT_REDRAW;
489148fa:	ea4b      	neg	v0
489148fc:	c940      	sh	v0,0(s1)
489148fe:	1014      	b	48914928 <gui_keylock+0x214>
                break;
48914900:	4147      	addiu	v0,s1,7
            }

            result = keylock_msg_deal(&this_lock_mode, &last_lock_mode);
48914902:	4a19      	addiu	v0,25
48914904:	4167      	addiu	v1,s1,7
48914906:	4b1a      	addiu	v1,26
48914908:	6782      	move	a0,v0
4891490a:	67a3      	move	a1,v1
4891490c:	1891 5180 	jal	48914600 <keylock_msg_deal>
48914910:	6500      	nop
48914912:	c940      	sh	v0,0(s1)
48914914:	a940      	lhu	v0,0(s1)
            if (result != RESULT_NULL)
48914916:	2201      	beqz	v0,4891491a <gui_keylock+0x206>
48914918:	1007      	b	48914928 <gui_keylock+0x214>
            {
                break;
4891491a:	6c01      	li	a0,1
            }

            //挂起10ms，多任务调度
            sys_os_time_dly(1);
4891491c:	6d00      	li	a1,0
4891491e:	6e00      	li	a2,0
48914920:	6f31      	li	a3,49
48914922:	b22a      	lw	v0,489149c8 <gui_keylock+0x2b4>
48914924:	eac0      	jalrc	v0
48914926:	17e1      	b	489148ea <gui_keylock+0x1d6>
48914928:	f020 8142 	lb	v0,34(s1)
        }
        kill_app_timer(wait_timer);
4891492c:	6782      	move	a0,v0
4891492e:	b228      	lw	v0,489149cc <gui_keylock+0x2b8>
48914930:	eac0      	jalrc	v0
48914932:	f020 a140 	lbu	v0,32(s1)
        if (this_lock_mode == KEY_LOCK_MODE_NULL)
48914936:	f77f 2a0e 	bnez	v0,48914816 <gui_keylock+0x102>
4891493a:	f020 a141 	lbu	v0,33(s1)
        {
            break;
        }
    }

    //设置锁键状态
    if ((last_lock_mode == KEY_LOCK_MODE_LOCKING) || (last_lock_mode == KEY_LOCK_MODE_HOLD))
4891493e:	7201      	cmpi	v0,1
48914940:	6758      	move	v0,t8
48914942:	5a01      	sltiu	v0,1
48914944:	6107      	btnez	48914954 <gui_keylock+0x240>
48914946:	f020 a141 	lbu	v0,33(s1)
4891494a:	7202      	cmpi	v0,2
4891494c:	6758      	move	v0,t8
4891494e:	5a01      	sltiu	v0,1
48914950:	6101      	btnez	48914954 <gui_keylock+0x240>
48914952:	1005      	b	4891495e <gui_keylock+0x24a>
48914954:	6c01      	li	a0,1
    {
        change_keylock_state(TRUE);
48914956:	1891 5280 	jal	48914a00 <change_keylock_state>
4891495a:	6500      	nop
4891495c:	1004      	b	48914966 <gui_keylock+0x252>
4891495e:	6c00      	li	a0,0
    }
    else//KEY_LOCK_MODE_UNLOCKING
    {
        change_keylock_state(FALSE);
48914960:	1891 5280 	jal	48914a00 <change_keylock_state>
48914964:	6500      	nop
48914966:	f020 a146 	lbu	v0,38(s1)
    }

    com_set_gui_direction(direct_bk);
4891496a:	6782      	move	a0,v0
4891496c:	b20d      	lw	v0,489149a0 <gui_keylock+0x28c>
4891496e:	eac0      	jalrc	v0
48914970:	f020 a143 	lbu	v0,35(s1)
    change_app_timer_tag(tag_backup);
48914974:	6782      	move	a0,v0
48914976:	1891 5274 	jal	489149d0 <change_app_timer_tag>
4891497a:	6500      	nop
4891497c:	f020 a144 	lbu	v0,36(s1)
    gui_set_headbar_mode(mode_backup, icon_backup);
48914980:	f020 a165 	lbu	v1,37(s1)
48914984:	6782      	move	a0,v0
48914986:	67a3      	move	a1,v1
48914988:	b209      	lw	v0,489149ac <gui_keylock+0x298>
4891498a:	eac0      	jalrc	v0
4891498c:	a940      	lhu	v0,0(s1)
    return result;
4891498e:	d94a      	sw	v0,40(s1)
48914990:	994a      	lw	v0,40(s1)
}
48914992:	65b9      	move	sp,s1
48914994:	6457      	restore	56,ra,s1
48914996:	e8a0      	jrc	ra
48914998:	a1f0      	lbu	a3,16(s1)
4891499a:	9fc1      	lw	a2,4(a3)
4891499c:	4679      	daddiu	v1,a2,-7
4891499e:	48b5      	addiu	s0,-75
489149a0:	463d      	daddiu	s1,a2,-3
489149a2:	48b5      	addiu	s0,-75
489149a4:	4695      	daddiu	a0,a2,5
489149a6:	4885      	addiu	s0,-123
489149a8:	5bac      	sltiu	v1,172
489149aa:	9fc1      	lw	a2,4(a3)
489149ac:	4601      	addiu	s0,a2,1
489149ae:	4885      	addiu	s0,-123
489149b0:	6bb1      	li	v1,177
489149b2:	bfc1      	lwu	a2,4(a3)
489149b4:	466c      	addiu	v1,a2,-4
489149b6:	4855      	addiu	s0,85
489149b8:	4601      	addiu	s0,a2,1
489149ba:	48a1      	addiu	s0,-95
489149bc:	4701      	addiu	s0,a3,1
489149be:	4891      	addiu	s0,-111
489149c0:	4601      	addiu	s0,a2,1
489149c2:	4845      	addiu	s0,69
489149c4:	5bbe      	sltiu	v1,190
489149c6:	9fc1      	lw	a2,4(a3)
489149c8:	640d      	restore	104
489149ca:	bfc1      	lwu	a2,4(a3)
489149cc:	473d      	daddiu	s1,a3,-3
489149ce:	4845      	addiu	s0,69

489149d0 <change_app_timer_tag>:
489149d0:	6491      	save	8,s1
489149d2:	673d      	move	s1,sp
489149d4:	6744      	move	v0,a0
489149d6:	c148      	sb	v0,8(s1)
489149d8:	b303      	lw	v1,489149e4 <change_app_timer_tag+0x14>
489149da:	a148      	lbu	v0,8(s1)
489149dc:	c340      	sb	v0,0(v1)
489149de:	65b9      	move	sp,s1
489149e0:	6411      	restore	8,s1
489149e2:	e8a0      	jrc	ra
489149e4:	a200      	lbu	s0,0(v0)
489149e6:	9fc1      	lw	a2,4(a3)

489149e8 <get_app_timer_tag>:
489149e8:	6491      	save	8,s1
489149ea:	673d      	move	s1,sp
489149ec:	b204      	lw	v0,489149fc <get_app_timer_tag+0x14>
489149ee:	a240      	lbu	v0,0(v0)
489149f0:	651a      	move	t8,v0
489149f2:	6758      	move	v0,t8
489149f4:	65b9      	move	sp,s1
489149f6:	6411      	restore	8,s1
489149f8:	e8a0      	jrc	ra
489149fa:	0000      	addiu	s0,sp,0
489149fc:	a200      	lbu	s0,0(v0)
489149fe:	9fc1      	lw	a2,4(a3)

48914a00 <change_keylock_state>:
48914a00:	6491      	save	8,s1
48914a02:	673d      	move	s1,sp
48914a04:	6744      	move	v0,a0
48914a06:	c148      	sb	v0,8(s1)
48914a08:	b303      	lw	v1,48914a14 <change_keylock_state+0x14>
48914a0a:	a148      	lbu	v0,8(s1)
48914a0c:	c344      	sb	v0,4(v1)
48914a0e:	65b9      	move	sp,s1
48914a10:	6411      	restore	8,s1
48914a12:	e8a0      	jrc	ra
48914a14:	a1b8      	lbu	a1,24(s1)
48914a16:	9fc1      	lw	a2,4(a3)
	...
Disassembly of section BANK_UI_1_37:

48954600 <show_shutoff_time>:
48954600:	64d5      	save	40,ra,s1

#include "common_ui.h"

void show_shutoff_time(uint8 time)
{
48954602:	0104      	addiu	s1,sp,16
48954604:	6744      	move	v0,a0
48954606:	c158      	sb	v0,24(s1)
48954608:	6a01      	li	v0,1
    style_infor_t style_infor;
    picbox_private_t picbox_data;

    picbox_data.pic_id = V_U16_INVALID;
4895460a:	ea4b      	neg	v0
4895460c:	c944      	sh	v0,8(s1)
4895460e:	a158      	lbu	v0,24(s1)
    picbox_data.frame_id = time;
48954610:	c14a      	sb	v0,10(s1)
48954612:	f002 6a03 	li	v0,4099

    style_infor.style_id = SHUTOFF_TIME;
48954616:	c940      	sh	v0,0(s1)
48954618:	6a01      	li	v0,1
    style_infor.type = UI_COM;
4895461a:	c142      	sb	v0,2(s1)
4895461c:	4147      	addiu	v0,s1,7

    //显示计时界面
    ui_show_picbox(&style_infor, &picbox_data);
4895461e:	4241      	addiu	v0,v0,1
48954620:	6791      	move	a0,s1
48954622:	67a2      	move	a1,v0
48954624:	6e00      	li	a2,0
48954626:	6f02      	li	a3,2
48954628:	b203      	lw	v0,48954634 <show_shutoff_time+0x34>
4895462a:	eac0      	jalrc	v0
4895462c:	65b9      	move	sp,s1
}
4895462e:	6453      	restore	24,ra,s1
48954630:	e8a0      	jrc	ra
48954632:	0000      	addiu	s0,sp,0
48954634:	6bb1      	li	v1,177
48954636:	bfc1      	lwu	a2,4(a3)

48954638 <timer_shutoff_handle>:
48954638:	64d3      	save	24,ra,s1

void timer_shutoff_handle(void)
{
4895463a:	0104      	addiu	s1,sp,16
4895463c:	b207      	lw	v0,48954658 <timer_shutoff_handle+0x20>
    show_shutoff_time(g_so_time);
4895463e:	a240      	lbu	v0,0(v0)
48954640:	6782      	move	a0,v0
48954642:	18b1 5180 	jal	48954600 <show_shutoff_time>
48954646:	6500      	nop
48954648:	b304      	lw	v1,48954658 <timer_shutoff_handle+0x20>
    g_so_time++;
4895464a:	b204      	lw	v0,48954658 <timer_shutoff_handle+0x20>
4895464c:	a240      	lbu	v0,0(v0)
4895464e:	4241      	addiu	v0,v0,1
48954650:	c340      	sb	v0,0(v1)
48954652:	65b9      	move	sp,s1
}
48954654:	6451      	restore	8,ra,s1
48954656:	e8a0      	jrc	ra
48954658:	5bae      	sltiu	v1,174
4895465a:	9fc1      	lw	a2,4(a3)

4895465c <gui_shut_off>:
4895465c:	64db      	save	88,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *    关机确定主函数，是关机确定的外部接口
 * \param[in]    none
 * \param[out]   none
 * \return       app_result_e
 * \retval           RESULT_NULL 长按3 秒，广播 POWER_OFF 消息后返回
 * \retval           RESULT_REDRAW PLAY 按键弹起返回，返回AP 重绘UI
 * \retval           other 收到返回值不为 RESULT_NULL 应用消息返回，见 app_result_e 定义
 * \note
 *******************************************************************************/
app_result_e gui_shut_off(void)
{
4895465e:	0104      	addiu	s1,sp,16
48954660:	6a00      	li	v0,0
    input_gui_msg_t input_msg;
    msg_apps_type_e gui_event;
    private_msg_t private_msg;
    style_infor_t style_infor;
    int8 timer_id_shutoff;
    app_result_e result = RESULT_NULL;
48954662:	c955      	sh	v0,42(s1)
48954664:	18b1 5225 	jal	48954894 <get_app_timer_tag>
    uint8 frame_cnt;
    bool ret;
    uint8 tag_backup;
    uint8 mode_backup, icon_backup;
    gui_direct_e direct_bk;

    tag_backup = get_app_timer_tag();
48954668:	6500      	nop
4895466a:	f020 c14e 	sb	v0,46(s1)
4895466e:	6c8a      	li	a0,138
    change_app_timer_tag(APP_TIEMR_TAG_SHUT);
48954670:	18b1 521f 	jal	4895487c <change_app_timer_tag>
48954674:	6500      	nop
48954676:	b270      	lw	v0,48954834 <.LBE2+0xda>

    direct_bk = com_get_gui_direction();
48954678:	eac0      	jalrc	v0
4895467a:	f020 c151 	sb	v0,49(s1)
4895467e:	6c00      	li	a0,0
    com_set_gui_direction(GUI_DIRECT_NORMAL);
48954680:	b26e      	lw	v0,48954838 <.LBE2+0xde>
48954682:	eac0      	jalrc	v0
48954684:	4147      	addiu	v0,s1,7

    gui_get_headbar_mode(&mode_backup, &icon_backup);
48954686:	4a28      	addiu	v0,40
48954688:	4167      	addiu	v1,s1,7
4895468a:	4b29      	addiu	v1,41
4895468c:	6782      	move	a0,v0
4895468e:	67a3      	move	a1,v1
48954690:	b26b      	lw	v0,4895483c <.LBE2+0xe2>
48954692:	eac0      	jalrc	v0
48954694:	b26b      	lw	v0,4895483c <.LBE2+0xe2>
    gui_set_headbar_mode(HEADBAR_MODE_NULL, this_headbar_icon_id);
48954696:	a240      	lbu	v0,0(v0)
48954698:	6c00      	li	a0,0
4895469a:	67a2      	move	a1,v0
4895469c:	b26a      	lw	v0,48954844 <.LBE2+0xea>
4895469e:	eac0      	jalrc	v0
489546a0:	f0c3 6a03 	li	v0,6339

    //刷背景
    ui_set_backgd_color(Color_BACKCOLOR_def);
489546a4:	6782      	move	a0,v0
489546a6:	6d00      	li	a1,0
489546a8:	6e00      	li	a2,0
489546aa:	6f14      	li	a3,20
489546ac:	b267      	lw	v0,48954848 <.LBE2+0xee>
489546ae:	eac0      	jalrc	v0
489546b0:	6c00      	li	a0,0
    ui_clear_screen(NULL);
489546b2:	6d00      	li	a1,0
489546b4:	6e00      	li	a2,0
489546b6:	6f12      	li	a3,18
489546b8:	b264      	lw	v0,48954848 <.LBE2+0xee>
489546ba:	eac0      	jalrc	v0
489546bc:	f002 6a03 	li	v0,4099

    //获取计时多帧图片帧数
    style_infor.style_id = SHUTOFF_TIME;
489546c0:	c950      	sh	v0,32(s1)
489546c2:	6a01      	li	v0,1
    style_infor.type = UI_COM;
489546c4:	f020 c142 	sb	v0,34(s1)
489546c8:	4147      	addiu	v0,s1,7
    ui_get_picbox_attrb(&style_infor, &frame_cnt, 1);
489546ca:	4a19      	addiu	v0,25
489546cc:	4167      	addiu	v1,s1,7
489546ce:	4b25      	addiu	v1,37
489546d0:	6782      	move	a0,v0
489546d2:	67a3      	move	a1,v1
489546d4:	6e01      	li	a2,1
489546d6:	6f0d      	li	a3,13
489546d8:	b25c      	lw	v0,48954848 <.LBE2+0xee>
489546da:	eac0      	jalrc	v0
489546dc:	b35c      	lw	v1,48954848 <.LBE2+0xee>

    //刷1s图片
    g_so_time = 0;
489546de:	6a00      	li	v0,0
489546e0:	c340      	sb	v0,0(v1)
489546e2:	18b1 518e 	jal	48954638 <timer_shutoff_handle>
    timer_shutoff_handle();
489546e6:	6500      	nop
489546e8:	f3e0 6a08 	li	v0,1000

    //创建软定时器
    timer_id_shutoff = set_app_timer(APP_TIMER_ATTRB_UI, 1000, timer_shutoff_handle);
489546ec:	b359      	lw	v1,48954850 <.LBE2+0xf6>
489546ee:	6c00      	li	a0,0
489546f0:	67a2      	move	a1,v0
489546f2:	67c3      	move	a2,v1
489546f4:	b258      	lw	v0,48954854 <.LBE2+0xfa>
489546f6:	eac0      	jalrc	v0
489546f8:	f020 c148 	sb	v0,40(s1)
489546fc:	b251      	lw	v0,48954840 <.LBE2+0xe6>

    gui_set_headbar_mode(HEADBAR_MODE_NULL, this_headbar_icon_id);
489546fe:	a240      	lbu	v0,0(v0)
48954700:	6c00      	li	a0,0
48954702:	67a2      	move	a1,v0
48954704:	b250      	lw	v0,48954844 <.LBE2+0xea>
48954706:	eac0      	jalrc	v0
48954708:	b251      	lw	v0,48954848 <.LBE2+0xee>

    //进入对话框消息循环
    while (1)
    {
        //关机确定时间已到
        if (g_so_time >= frame_cnt)
4895470a:	a260      	lbu	v1,0(v0)
4895470c:	f020 a14c 	lbu	v0,44(s1)
48954710:	eb43      	sltu	v1,v0
48954712:	6123      	btnez	4895475a <.LBE2>

48954714 <.LBB2>:
48954714:	6a84      	li	v0,132
        {
            msg_apps_t msg;

            //广播关机消息
            msg.type = MSG_POWER_OFF;
48954716:	d94e      	sw	v0,56(s1)
48954718:	4147      	addiu	v0,s1,7
            broadcast_msg(&msg);
4895471a:	4a31      	addiu	v0,49
4895471c:	6782      	move	a0,v0
4895471e:	b24f      	lw	v0,48954858 <.LBE2+0xfe>
48954720:	eac0      	jalrc	v0
48954722:	b24f      	lw	v0,4895485c <.LBE2+0x102>

            //屏蔽后续 play 按键，以实现进入充电界面后按按键退出充电
            com_filter_key_hold();
48954724:	eac0      	jalrc	v0
48954726:	6c01      	li	a0,1

            //等待AP退出消息 MSG_APP_QUIT ，再返回 RESULT_APP_QUIT，应用直接退出
            while (1)
            {
                //挂起10ms，多任务调度
                sys_os_time_dly(1);
48954728:	6d00      	li	a1,0
4895472a:	6e00      	li	a2,0
4895472c:	6f31      	li	a3,49
4895472e:	b24d      	lw	v0,48954860 <.LBE2+0x106>
48954730:	eac0      	jalrc	v0
48954732:	4147      	addiu	v0,s1,7
                if ((get_app_msg(&private_msg) == TRUE) && (private_msg.msg.type == MSG_APP_QUIT))
48954734:	4a09      	addiu	v0,9
48954736:	6782      	move	a0,v0
48954738:	b24b      	lw	v0,48954864 <.LBE2+0x10a>
4895473a:	eac0      	jalrc	v0
4895473c:	7201      	cmpi	v0,1
4895473e:	6758      	move	v0,t8
48954740:	5a01      	sltiu	v0,1
48954742:	60f1      	bteqz	48954726 <.LBB2+0x12>
48954744:	9944      	lw	v0,16(s1)
48954746:	f100 7202 	cmpi	v0,258
4895474a:	6758      	move	v0,t8
4895474c:	5a01      	sltiu	v0,1
4895474e:	60eb      	bteqz	48954726 <.LBB2+0x12>
48954750:	f7ef 6a0b 	li	v0,32747
                {
                    result = RESULT_APP_QUIT;
48954754:	ea4b      	neg	v0
48954756:	c955      	sh	v0,42(s1)
48954758:	104e      	b	489547f6 <.LBE2+0x9c>

4895475a <.LBE2>:
                    break;
4895475a:	6791      	move	a0,s1
                }
            }
            break;
        }

        //获取gui消息
        ret = get_gui_msg(&input_msg);
4895475c:	b243      	lw	v0,48954868 <.LBE2+0x10e>
4895475e:	eac0      	jalrc	v0
48954760:	f020 c14d 	sb	v0,45(s1)
48954764:	f020 a14d 	lbu	v0,45(s1)
        if (ret == TRUE)//有gui消息
48954768:	7201      	cmpi	v0,1
4895476a:	6758      	move	v0,t8
4895476c:	5a01      	sltiu	v0,1
4895476e:	6025      	bteqz	489547ba <.LBE2+0x60>
48954770:	4147      	addiu	v0,s1,7
        {
            //进行按键映射
            if (com_key_mapping(&input_msg, &gui_event, shutoff_key_map_list) == TRUE)
48954772:	4241      	addiu	v0,v0,1
48954774:	b33e      	lw	v1,4895486c <.LBE2+0x112>
48954776:	6791      	move	a0,s1
48954778:	67a2      	move	a1,v0
4895477a:	67c3      	move	a2,v1
4895477c:	b23d      	lw	v0,48954870 <.LBE2+0x116>
4895477e:	eac0      	jalrc	v0
48954780:	7201      	cmpi	v0,1
48954782:	6758      	move	v0,t8
48954784:	5a01      	sltiu	v0,1
48954786:	6030      	bteqz	489547e8 <.LBE2+0x8e>
48954788:	a944      	lhu	v0,8(s1)
            {
                //GUI按键消息处理
                if (gui_event == EVENT_SHUTOFF_QUIT)
4895478a:	f305 7201 	cmpi	v0,11009
4895478e:	6758      	move	v0,t8
48954790:	5a01      	sltiu	v0,1
48954792:	602a      	bteqz	489547e8 <.LBE2+0x8e>
48954794:	f7ef 6a0c 	li	v0,32748
                {
                    //关机键弹起，重绘原先UI
                    result = RESULT_REDRAW;
48954798:	ea4b      	neg	v0
4895479a:	c955      	sh	v0,42(s1)
4895479c:	f0c3 6a03 	li	v0,6339
                    ui_set_backgd_color(Color_BACKCOLOR_def); //关机未成的话，需要先把当前UI清除
489547a0:	6782      	move	a0,v0
489547a2:	6d00      	li	a1,0
489547a4:	6e00      	li	a2,0
489547a6:	6f14      	li	a3,20
489547a8:	b228      	lw	v0,48954848 <.LBE2+0xee>
489547aa:	eac0      	jalrc	v0
489547ac:	6c00      	li	a0,0
				    ui_clear_screen(NULL);  //2015-10-30
489547ae:	6d00      	li	a1,0
489547b0:	6e00      	li	a2,0
489547b2:	6f12      	li	a3,18
489547b4:	b225      	lw	v0,48954848 <.LBE2+0xee>
489547b6:	eac0      	jalrc	v0
489547b8:	101e      	b	489547f6 <.LBE2+0x9c>
                    break;
489547ba:	4147      	addiu	v0,s1,7
                }
            }
        }
        else
        {
            //到此，gui消息队列已经处理完毕
            //获取ap私有消息和系统消息（会先转换为私有消息再返回），并处理
            ret = get_app_msg(&private_msg);
489547bc:	4a09      	addiu	v0,9
489547be:	6782      	move	a0,v0
489547c0:	b229      	lw	v0,48954864 <.LBE2+0x10a>
489547c2:	eac0      	jalrc	v0
489547c4:	f020 c14d 	sb	v0,45(s1)
489547c8:	f020 a14d 	lbu	v0,45(s1)
            if (ret == TRUE)
489547cc:	7201      	cmpi	v0,1
489547ce:	6758      	move	v0,t8
489547d0:	5a01      	sltiu	v0,1
489547d2:	600a      	bteqz	489547e8 <.LBE2+0x8e>
489547d4:	b228      	lw	v0,48954874 <.LBE2+0x11a>
            {
                result = g_this_app_msg_dispatch(&private_msg);
489547d6:	4167      	addiu	v1,s1,7
489547d8:	4b09      	addiu	v1,9
489547da:	9a40      	lw	v0,0(v0)
489547dc:	6783      	move	a0,v1
489547de:	eac0      	jalrc	v0
489547e0:	c955      	sh	v0,42(s1)
489547e2:	a955      	lhu	v0,42(s1)
                if (result != RESULT_NULL)
489547e4:	2201      	beqz	v0,489547e8 <.LBE2+0x8e>
489547e6:	1007      	b	489547f6 <.LBE2+0x9c>
                {
                    break;
489547e8:	6c01      	li	a0,1
                }
            }
        }

        //挂起10ms，多任务调度
        sys_os_time_dly(1);
489547ea:	6d00      	li	a1,0
489547ec:	6e00      	li	a2,0
489547ee:	6f31      	li	a3,49
489547f0:	b21c      	lw	v0,48954860 <.LBE2+0x106>
489547f2:	eac0      	jalrc	v0
489547f4:	1789      	b	48954708 <gui_shut_off+0xac>
489547f6:	f020 8148 	lb	v0,40(s1)
    }

    kill_app_timer(timer_id_shutoff);
489547fa:	6782      	move	a0,v0
489547fc:	b21f      	lw	v0,48954878 <.LBE2+0x11e>
489547fe:	eac0      	jalrc	v0
48954800:	f020 a151 	lbu	v0,49(s1)
    com_set_gui_direction(direct_bk);
48954804:	6782      	move	a0,v0
48954806:	b20d      	lw	v0,48954838 <.LBE2+0xde>
48954808:	eac0      	jalrc	v0
4895480a:	f020 a14e 	lbu	v0,46(s1)
    change_app_timer_tag(tag_backup);
4895480e:	6782      	move	a0,v0
48954810:	18b1 521f 	jal	4895487c <change_app_timer_tag>
48954814:	6500      	nop
48954816:	f020 a14f 	lbu	v0,47(s1)
    gui_set_headbar_mode(mode_backup, icon_backup);
4895481a:	f020 a170 	lbu	v1,48(s1)
4895481e:	6782      	move	a0,v0
48954820:	67a3      	move	a1,v1
48954822:	b209      	lw	v0,48954844 <.LBE2+0xea>
48954824:	eac0      	jalrc	v0
48954826:	a955      	lhu	v0,42(s1)
    return result;
48954828:	651a      	move	t8,v0
4895482a:	6758      	move	v0,t8
}
4895482c:	65b9      	move	sp,s1
4895482e:	6459      	restore	72,ra,s1
48954830:	e8a0      	jrc	ra
48954832:	0000      	addiu	s0,sp,0
48954834:	4679      	daddiu	v1,a2,-7
48954836:	48b5      	addiu	s0,-75
48954838:	463d      	daddiu	s1,a2,-3
4895483a:	48b5      	addiu	s0,-75
4895483c:	4695      	daddiu	a0,a2,5
4895483e:	4885      	addiu	s0,-123
48954840:	5bac      	sltiu	v1,172
48954842:	9fc1      	lw	a2,4(a3)
48954844:	4601      	addiu	s0,a2,1
48954846:	4885      	addiu	s0,-123
48954848:	6bb1      	li	v1,177
4895484a:	bfc1      	lwu	a2,4(a3)
4895484c:	5bae      	sltiu	v1,174
4895484e:	9fc1      	lw	a2,4(a3)
48954850:	4639      	daddiu	s1,a2,-7
48954852:	4895      	addiu	s0,-107
48954854:	4601      	addiu	s0,a2,1
48954856:	4845      	addiu	s0,69
48954858:	47b1      	daddiu	a1,a3,1
4895485a:	4849      	addiu	s0,73
4895485c:	487d      	addiu	s0,125
4895485e:	4869      	addiu	s0,105
48954860:	640d      	restore	104
48954862:	bfc1      	lwu	a2,4(a3)
48954864:	6741      	move	v0,at
48954866:	bfc1      	lwu	a2,4(a3)
48954868:	66d5      	0x66d5
4895486a:	bfc1      	lwu	a2,4(a3)
4895486c:	46cc      	addiu	a2,a2,-4
4895486e:	4855      	addiu	s0,85
48954870:	47ad      	addiu	a1,a3,-3
48954872:	4855      	addiu	s0,85
48954874:	a1f8      	lbu	a3,24(s1)
48954876:	9fc1      	lw	a2,4(a3)
48954878:	473d      	daddiu	s1,a3,-3
4895487a:	4845      	addiu	s0,69

4895487c <change_app_timer_tag>:
4895487c:	6491      	save	8,s1
4895487e:	673d      	move	s1,sp
48954880:	6744      	move	v0,a0
48954882:	c148      	sb	v0,8(s1)
48954884:	b303      	lw	v1,48954890 <change_app_timer_tag+0x14>
48954886:	a148      	lbu	v0,8(s1)
48954888:	c340      	sb	v0,0(v1)
4895488a:	65b9      	move	sp,s1
4895488c:	6411      	restore	8,s1
4895488e:	e8a0      	jrc	ra
48954890:	a200      	lbu	s0,0(v0)
48954892:	9fc1      	lw	a2,4(a3)

48954894 <get_app_timer_tag>:
48954894:	6491      	save	8,s1
48954896:	673d      	move	s1,sp
48954898:	b204      	lw	v0,489548a8 <get_app_timer_tag+0x14>
4895489a:	a240      	lbu	v0,0(v0)
4895489c:	651a      	move	t8,v0
4895489e:	6758      	move	v0,t8
489548a0:	65b9      	move	sp,s1
489548a2:	6411      	restore	8,s1
489548a4:	e8a0      	jrc	ra
489548a6:	0000      	addiu	s0,sp,0
489548a8:	a200      	lbu	s0,0(v0)
489548aa:	9fc1      	lw	a2,4(a3)
	...
Disassembly of section BANK_UI_1_38:

48994600 <gui_screen_save_enter>:
48994600:	64d5      	save	40,ra,s1
 * \retval           RESULT_NULL 没实际意义
 * \note
 *******************************************************************************/
app_result_e gui_screen_save_enter(screen_save_mode_e ss_mode)
{
48994602:	0104      	addiu	s1,sp,16
48994604:	6744      	move	v0,a0
48994606:	c158      	sb	v0,24(s1)
48994608:	18d1 51ff 	jal	489947fc <get_app_timer_tag>
    style_infor_t style_infor;

    g_ss_tag_backup = get_app_timer_tag();
4899460c:	6500      	nop
4899460e:	6762      	move	v1,v0
48994610:	b252      	lw	v0,48994758 <gui_screen_save_enter+0x158>
48994612:	c260      	sb	v1,0(v0)
48994614:	6c89      	li	a0,137
    change_app_timer_tag(APP_TIEMR_TAG_SCREEN);
48994616:	18d1 51f9 	jal	489947e4 <change_app_timer_tag>
4899461a:	6500      	nop
4899461c:	6c00      	li	a0,0

    //g_ss_direct_bk = com_get_gui_direction();
    com_set_gui_direction(GUI_DIRECT_NORMAL);
4899461e:	b250      	lw	v0,4899475c <gui_screen_save_enter+0x15c>
48994620:	eac0      	jalrc	v0
48994622:	b250      	lw	v0,48994760 <gui_screen_save_enter+0x160>

    gui_get_headbar_mode(&g_ss_mode_backup, &g_ss_icon_backup);
48994624:	b350      	lw	v1,48994764 <gui_screen_save_enter+0x164>
48994626:	6782      	move	a0,v0
48994628:	67a3      	move	a1,v1
4899462a:	b250      	lw	v0,48994768 <gui_screen_save_enter+0x168>
4899462c:	eac0      	jalrc	v0
4899462e:	b250      	lw	v0,4899476c <gui_screen_save_enter+0x16c>
    gui_set_headbar_mode(HEADBAR_MODE_NULL, this_headbar_icon_id);
48994630:	a240      	lbu	v0,0(v0)
48994632:	6c00      	li	a0,0
48994634:	67a2      	move	a1,v0
48994636:	b24f      	lw	v0,48994770 <gui_screen_save_enter+0x170>
48994638:	eac0      	jalrc	v0
4899463a:	6c01      	li	a0,1

    //进入屏幕保护
    change_screensave_state(TRUE);
4899463c:	18d1 51f3 	jal	489947cc <change_screensave_state>
48994640:	6500      	nop
48994642:	a158      	lbu	v0,24(s1)

    //音乐专辑图片模式，若没有播放音乐或者暂停播放，自动切换到数字时钟模式
    if ((ss_mode == SCREEN_ALBUM_ART) && (get_engine_type() != ENGINE_MUSIC))
48994644:	7202      	cmpi	v0,2
48994646:	6758      	move	v0,t8
48994648:	5a01      	sltiu	v0,1
4899464a:	6009      	bteqz	4899465e <gui_screen_save_enter+0x5e>
4899464c:	18d1 51ed 	jal	489947b4 <get_engine_type>
48994650:	6500      	nop
48994652:	7201      	cmpi	v0,1
48994654:	6758      	move	v0,t8
48994656:	5a01      	sltiu	v0,1
48994658:	6102      	btnez	4899465e <gui_screen_save_enter+0x5e>
4899465a:	6a01      	li	v0,1
    {
        ss_mode = SCREEN_DIGIT_CLOCK;
4899465c:	c158      	sb	v0,24(s1)
4899465e:	b346      	lw	v1,48994774 <gui_screen_save_enter+0x174>
    }

    g_ss_mode = ss_mode;
48994660:	a158      	lbu	v0,24(s1)
48994662:	c340      	sb	v0,0(v1)
48994664:	b242      	lw	v0,4899476c <gui_screen_save_enter+0x16c>

    gui_set_headbar_mode(HEADBAR_MODE_NULL, this_headbar_icon_id);
48994666:	a240      	lbu	v0,0(v0)
48994668:	6c00      	li	a0,0
4899466a:	67a2      	move	a1,v0
4899466c:	b241      	lw	v0,48994770 <gui_screen_save_enter+0x170>
4899466e:	eac0      	jalrc	v0
48994670:	b241      	lw	v0,48994770 <gui_screen_save_enter+0x170>

    //执行屏保初始化部分操作
    switch (g_ss_mode)
48994672:	a240      	lbu	v0,0(v0)
48994674:	d942      	sw	v0,8(s1)
48994676:	9942      	lw	v0,8(s1)
48994678:	7202      	cmpi	v0,2
4899467a:	6758      	move	v0,t8
4899467c:	5a01      	sltiu	v0,1
4899467e:	612c      	btnez	489946d8 <gui_screen_save_enter+0xd8>
48994680:	9942      	lw	v0,8(s1)
48994682:	5203      	slti	v0,3
48994684:	6006      	bteqz	48994692 <gui_screen_save_enter+0x92>
48994686:	9942      	lw	v0,8(s1)
48994688:	7201      	cmpi	v0,1
4899468a:	6758      	move	v0,t8
4899468c:	5a01      	sltiu	v0,1
4899468e:	6107      	btnez	4899469e <gui_screen_save_enter+0x9e>
48994690:	105e      	b	4899474e <gui_screen_save_enter+0x14e>
48994692:	9942      	lw	v0,8(s1)
48994694:	7203      	cmpi	v0,3
48994696:	6758      	move	v0,t8
48994698:	5a01      	sltiu	v0,1
4899469a:	612d      	btnez	489946f6 <gui_screen_save_enter+0xf6>
4899469c:	1058      	b	4899474e <gui_screen_save_enter+0x14e>
4899469e:	f0c3 6a03 	li	v0,6339
    {
        case SCREEN_DIGIT_CLOCK:
        //刷背景图
        /*style_infor.style_id = DIGIT_CLOCK_BG;
         style_infor.type = UI_COM;
         ui_show_picbox(&style_infor, NULL);*/
        ui_set_backgd_color(Color_BACKCOLOR_def);
489946a2:	6782      	move	a0,v0
489946a4:	6d00      	li	a1,0
489946a6:	6e00      	li	a2,0
489946a8:	6f14      	li	a3,20
489946aa:	b234      	lw	v0,48994778 <gui_screen_save_enter+0x178>
489946ac:	eac0      	jalrc	v0
489946ae:	6c00      	li	a0,0
        ui_clear_screen(NULL);
489946b0:	6d00      	li	a1,0
489946b2:	6e00      	li	a2,0
489946b4:	6f12      	li	a3,18
489946b6:	b231      	lw	v0,48994778 <gui_screen_save_enter+0x178>
489946b8:	eac0      	jalrc	v0
489946ba:	6c01      	li	a0,1

        //先绘制初始数字时钟，整个数字时钟都要更新
        draw_digit_clock(TRUE);
489946bc:	b230      	lw	v0,4899477c <gui_screen_save_enter+0x17c>
489946be:	eac0      	jalrc	v0
489946c0:	f382 6a08 	li	v0,5000
        //创建周期为 5S 应用级定时器，周期更新日期和时间显示
        g_ss_timer_id = set_app_timer(APP_TIMER_ATTRB_UI, 5000, digit_clock_handle);
489946c4:	b32f      	lw	v1,48994780 <gui_screen_save_enter+0x180>
489946c6:	6c00      	li	a0,0
489946c8:	67a2      	move	a1,v0
489946ca:	67c3      	move	a2,v1
489946cc:	b22e      	lw	v0,48994784 <gui_screen_save_enter+0x184>
489946ce:	eac0      	jalrc	v0
489946d0:	6762      	move	v1,v0
489946d2:	b22e      	lw	v0,48994788 <gui_screen_save_enter+0x188>
489946d4:	c260      	sb	v1,0(v0)
489946d6:	103b      	b	4899474e <gui_screen_save_enter+0x14e>
        break;
489946d8:	18d1 526a 	jal	489949a8 <play_albumart_save_init>

        case SCREEN_ALBUM_ART:
        play_albumart_save_init();
489946dc:	6500      	nop
489946de:	f382 6a08 	li	v0,5000
        //创建周期为 5S 应用级定时器，周期更新 Album Art 图片
        g_ss_timer_id = set_app_timer(APP_TIMER_ATTRB_UI, 5000, album_art_handle);
489946e2:	b32b      	lw	v1,4899478c <gui_screen_save_enter+0x18c>
489946e4:	6c00      	li	a0,0
489946e6:	67a2      	move	a1,v0
489946e8:	67c3      	move	a2,v1
489946ea:	b227      	lw	v0,48994784 <gui_screen_save_enter+0x184>
489946ec:	eac0      	jalrc	v0
489946ee:	6762      	move	v1,v0
489946f0:	b226      	lw	v0,48994788 <gui_screen_save_enter+0x188>
489946f2:	c260      	sb	v1,0(v0)
489946f4:	102c      	b	4899474e <gui_screen_save_enter+0x14e>
        break;
489946f6:	6c00      	li	a0,0

        case SCRREN_SCREEN_OFF:
        //关掉背光灯，关掉背光前先清屏，效果更好
        ui_set_backgd_color(0x0000);//清为全黑屏
489946f8:	6d00      	li	a1,0
489946fa:	6e00      	li	a2,0
489946fc:	6f14      	li	a3,20
489946fe:	b21f      	lw	v0,48994778 <gui_screen_save_enter+0x178>
48994700:	eac0      	jalrc	v0
48994702:	6c00      	li	a0,0
        ui_clear_screen(NULL);
48994704:	6d00      	li	a1,0
48994706:	6e00      	li	a2,0
48994708:	6f12      	li	a3,18
4899470a:	b21c      	lw	v0,48994778 <gui_screen_save_enter+0x178>
4899470c:	eac0      	jalrc	v0
4899470e:	6c00      	li	a0,0
        lcd_backlight_on_off(FALSE);
48994710:	6d00      	li	a1,0
48994712:	6e00      	li	a2,0
48994714:	6f04      	li	a3,4
48994716:	b21f      	lw	v0,48994790 <gui_screen_save_enter+0x190>
48994718:	eac0      	jalrc	v0
4899471a:	6c00      	li	a0,0
        lcd_standby_screen(FALSE);
4899471c:	6d00      	li	a1,0
4899471e:	6e00      	li	a2,0
48994720:	6f03      	li	a3,3
48994722:	b21c      	lw	v0,48994790 <gui_screen_save_enter+0x190>
48994724:	eac0      	jalrc	v0
48994726:	6c02      	li	a0,2
        change_backlight_state(BACKLIGHT_STATE_OFF);
48994728:	18d1 51e7 	jal	4899479c <change_backlight_state>
4899472c:	6500      	nop
4899472e:	b21a      	lw	v0,48994794 <gui_screen_save_enter+0x194>

        //EQ未打开的情况下调低MIPS频率为 2M
        if (sys_comval->eq_type == 0)
48994730:	9a40      	lw	v0,0(v0)
48994732:	a256      	lbu	v0,22(v0)
48994734:	2a0c      	bnez	v0,4899474e <gui_screen_save_enter+0x14e>
48994736:	6c0a      	li	a0,10
        {
            adjust_freq_set_level(AP_FRONT_LOW_PRIO, FREQ_LEVEL2, FREQ_NULL);
48994738:	6d02      	li	a1,2
4899473a:	6e00      	li	a2,0
4899473c:	6f05      	li	a3,5
4899473e:	b217      	lw	v0,48994798 <gui_screen_save_enter+0x198>
48994740:	eac0      	jalrc	v0
48994742:	6c06      	li	a0,6
            adjust_freq_set_level(AP_BACK_LOW_PRIO, FREQ_LEVEL2, FREQ_NULL);
48994744:	6d02      	li	a1,2
48994746:	6e00      	li	a2,0
48994748:	6f05      	li	a3,5
4899474a:	b214      	lw	v0,48994798 <gui_screen_save_enter+0x198>
4899474c:	eac0      	jalrc	v0
4899474e:	6a00      	li	v0,0
        }
        break;

        default:
        break;
    }

    return RESULT_NULL;
48994750:	65b9      	move	sp,s1
}
48994752:	6453      	restore	24,ra,s1
48994754:	e8a0      	jrc	ra
48994756:	0000      	addiu	s0,sp,0
48994758:	5baf      	sltiu	v1,175
4899475a:	9fc1      	lw	a2,4(a3)
4899475c:	463d      	daddiu	s1,a2,-3
4899475e:	48b5      	addiu	s0,-75
48994760:	5bb0      	sltiu	v1,176
48994762:	9fc1      	lw	a2,4(a3)
48994764:	5bb1      	sltiu	v1,177
48994766:	9fc1      	lw	a2,4(a3)
48994768:	4695      	daddiu	a0,a2,5
4899476a:	4885      	addiu	s0,-123
4899476c:	5bac      	sltiu	v1,172
4899476e:	9fc1      	lw	a2,4(a3)
48994770:	4601      	addiu	s0,a2,1
48994772:	4885      	addiu	s0,-123
48994774:	5bb8      	sltiu	v1,184
48994776:	9fc1      	lw	a2,4(a3)
48994778:	6bb1      	li	v1,177
4899477a:	bfc1      	lwu	a2,4(a3)
4899477c:	4601      	addiu	s0,a2,1
4899477e:	489d      	addiu	s0,-99
48994780:	4811      	addiu	s0,17
48994782:	489d      	addiu	s0,-99
48994784:	4601      	addiu	s0,a2,1
48994786:	4845      	addiu	s0,69
48994788:	5bb2      	sltiu	v1,178
4899478a:	9fc1      	lw	a2,4(a3)
4899478c:	4825      	addiu	s0,37
4899478e:	489d      	addiu	s0,-99
48994790:	6bad      	li	v1,173
48994792:	bfc1      	lwu	a2,4(a3)
48994794:	5a48      	sltiu	v0,72
48994796:	9fc1      	lw	a2,4(a3)
48994798:	6405      	restore	40
4899479a:	bfc1      	lwu	a2,4(a3)

4899479c <change_backlight_state>:
4899479c:	6491      	save	8,s1
4899479e:	673d      	move	s1,sp
489947a0:	6744      	move	v0,a0
489947a2:	c148      	sb	v0,8(s1)
489947a4:	b303      	lw	v1,489947b0 <change_backlight_state+0x14>
489947a6:	a148      	lbu	v0,8(s1)
489947a8:	c349      	sb	v0,9(v1)
489947aa:	65b9      	move	sp,s1
489947ac:	6411      	restore	8,s1
489947ae:	e8a0      	jrc	ra
489947b0:	a1b8      	lbu	a1,24(s1)
489947b2:	9fc1      	lw	a2,4(a3)

489947b4 <get_engine_type>:
489947b4:	6491      	save	8,s1
489947b6:	673d      	move	s1,sp
489947b8:	b204      	lw	v0,489947c8 <get_engine_type+0x14>
489947ba:	a240      	lbu	v0,0(v0)
489947bc:	651a      	move	t8,v0
489947be:	6758      	move	v0,t8
489947c0:	65b9      	move	sp,s1
489947c2:	6411      	restore	8,s1
489947c4:	e8a0      	jrc	ra
489947c6:	0000      	addiu	s0,sp,0
489947c8:	a1b8      	lbu	a1,24(s1)
489947ca:	9fc1      	lw	a2,4(a3)

489947cc <change_screensave_state>:
489947cc:	6491      	save	8,s1
489947ce:	673d      	move	s1,sp
489947d0:	6744      	move	v0,a0
489947d2:	c148      	sb	v0,8(s1)
489947d4:	b303      	lw	v1,489947e0 <change_screensave_state+0x14>
489947d6:	a148      	lbu	v0,8(s1)
489947d8:	c34a      	sb	v0,10(v1)
489947da:	65b9      	move	sp,s1
489947dc:	6411      	restore	8,s1
489947de:	e8a0      	jrc	ra
489947e0:	a1b8      	lbu	a1,24(s1)
489947e2:	9fc1      	lw	a2,4(a3)

489947e4 <change_app_timer_tag>:
489947e4:	6491      	save	8,s1
489947e6:	673d      	move	s1,sp
489947e8:	6744      	move	v0,a0
489947ea:	c148      	sb	v0,8(s1)
489947ec:	b303      	lw	v1,489947f8 <change_app_timer_tag+0x14>
489947ee:	a148      	lbu	v0,8(s1)
489947f0:	c340      	sb	v0,0(v1)
489947f2:	65b9      	move	sp,s1
489947f4:	6411      	restore	8,s1
489947f6:	e8a0      	jrc	ra
489947f8:	a200      	lbu	s0,0(v0)
489947fa:	9fc1      	lw	a2,4(a3)

489947fc <get_app_timer_tag>:
489947fc:	6491      	save	8,s1
489947fe:	673d      	move	s1,sp
48994800:	b204      	lw	v0,48994810 <get_app_timer_tag+0x14>
48994802:	a240      	lbu	v0,0(v0)
48994804:	651a      	move	t8,v0
48994806:	6758      	move	v0,t8
48994808:	65b9      	move	sp,s1
4899480a:	6411      	restore	8,s1
4899480c:	e8a0      	jrc	ra
4899480e:	0000      	addiu	s0,sp,0
48994810:	a200      	lbu	s0,0(v0)
48994812:	9fc1      	lw	a2,4(a3)

48994814 <gui_screen_save_exit>:
48994814:	64d5      	save	40,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *    退出屏幕保护模式。
 * \param[in]    ss_mode 屏幕保护模式，详细见screen_save_mode_e定义
 * \param[out]   none
 * \return       app_result_e
 * \retval           RESULT_REDRAW 退出屏保，需要重绘UI
 * \retval           RESULT_NULL 延迟退出屏保，无需处理
 * \note
 *******************************************************************************/
app_result_e gui_screen_save_exit(void)
{
48994816:	0104      	addiu	s1,sp,16
48994818:	18d1 5261 	jal	48994984 <get_backlight_state>
    //如果背光关闭，打开背光
    if (get_backlight_state() == BACKLIGHT_STATE_OFF)
4899481c:	6500      	nop
4899481e:	7202      	cmpi	v0,2
48994820:	6758      	move	v0,t8
48994822:	5a01      	sltiu	v0,1
48994824:	6047      	bteqz	489948b4 <.LBE2+0x44>
48994826:	b23d      	lw	v0,48994918 <.LBE2+0xa8>
    {
        //判断是否需要回到正在播放界面
        if ((g_ss_vip_event != TRUE)//不是因为高优先级事件退出屏幕保护
48994828:	a240      	lbu	v0,0(v0)
4899482a:	7201      	cmpi	v0,1
4899482c:	6798      	move	a0,t8
4899482e:	5c01      	sltiu	a0,1
48994830:	611f      	btnez	48994870 <.LBE2>
48994832:	b23b      	lw	v0,4899491c <.LBE2+0xac>
48994834:	a240      	lbu	v0,0(v0)
48994836:	2a1c      	bnez	v0,48994870 <.LBE2>
48994838:	18d1 525b 	jal	4899496c <get_engine_state>
4899483c:	6500      	nop
4899483e:	7201      	cmpi	v0,1
48994840:	6758      	move	v0,t8
48994842:	5a01      	sltiu	v0,1
48994844:	6015      	bteqz	48994870 <.LBE2>
48994846:	18d1 5255 	jal	48994954 <get_app_state>
4899484a:	6500      	nop
4899484c:	651a      	move	t8,v0
4899484e:	6110      	btnez	48994870 <.LBE2>

48994850 <.LBB2>:
48994850:	6aff      	li	v0,255
                && (g_ss_delay_flag == FALSE)//不是delay退出屏保
                && (get_engine_state() == ENGINE_STATE_PLAYING)//后台引擎不处于播放状态
                && (get_app_state() == APP_STATE_NO_PLAY))//前台应用不处于播放 UI 状态
        {
            msg_apps_t msg;

            //给当前AP发送 back_to_playing 异步消息
            msg.type = MSG_APP_BACKTO_PLAYING;
48994852:	4244      	addiu	v0,v0,4
48994854:	d940      	sw	v0,0(s1)
48994856:	b233      	lw	v0,48994920 <.LBE2+0xb0>
            send_async_msg(g_this_app_info->app_id, &msg);
48994858:	9a40      	lw	v0,0(v0)
4899485a:	a241      	lbu	v0,1(v0)
4899485c:	6782      	move	a0,v0
4899485e:	67b1      	move	a1,s1
48994860:	b231      	lw	v0,48994924 <.LBE2+0xb4>
48994862:	eac0      	jalrc	v0
48994864:	b32e      	lw	v1,48994918 <.LBE2+0xa8>

            g_ss_delay_flag = TRUE;//delay退出屏保
48994866:	6a01      	li	v0,1
48994868:	c340      	sb	v0,0(v1)
4899486a:	6c00      	li	a0,0
            return RESULT_NULL;
4899486c:	d982      	sw	a0,8(s1)
4899486e:	1050      	b	48994910 <.LBE2+0xa0>

48994870 <.LBE2>:
48994870:	6c0a      	li	a0,10
        }

        //恢复到黑屏前频率
        //sys_adjust_clk(g_ss_clk_backup, 0);
        adjust_freq_set_level(AP_FRONT_LOW_PRIO, FREQ_LEVEL7, FREQ_NULL);
48994872:	6d07      	li	a1,7
48994874:	6e00      	li	a2,0
48994876:	6f05      	li	a3,5
48994878:	b22c      	lw	v0,48994928 <.LBE2+0xb8>
4899487a:	eac0      	jalrc	v0
4899487c:	6c06      	li	a0,6
        adjust_freq_set_level(AP_BACK_LOW_PRIO, FREQ_LEVEL6, FREQ_NULL);
4899487e:	6d06      	li	a1,6
48994880:	6e00      	li	a2,0
48994882:	6f05      	li	a3,5
48994884:	b229      	lw	v0,48994928 <.LBE2+0xb8>
48994886:	eac0      	jalrc	v0
48994888:	6c01      	li	a0,1
        //点亮背光
        lcd_standby_screen(TRUE);
4899488a:	6d00      	li	a1,0
4899488c:	6e00      	li	a2,0
4899488e:	6f03      	li	a3,3
48994890:	b227      	lw	v0,4899492c <.LBE2+0xbc>
48994892:	eac0      	jalrc	v0
48994894:	6c01      	li	a0,1
        lcd_backlight_on_off(TRUE);
48994896:	6d00      	li	a1,0
48994898:	6e00      	li	a2,0
4899489a:	6f04      	li	a3,4
4899489c:	b224      	lw	v0,4899492c <.LBE2+0xbc>
4899489e:	eac0      	jalrc	v0
489948a0:	b224      	lw	v0,4899492c <.LBE2+0xbc>
        com_set_contrast(sys_comval->lightness);
489948a2:	9a40      	lw	v0,0(v0)
489948a4:	a242      	lbu	v0,2(v0)
489948a6:	6782      	move	a0,v0
489948a8:	b223      	lw	v0,48994934 <.LBE2+0xc4>
489948aa:	eac0      	jalrc	v0
489948ac:	6c00      	li	a0,0
        change_backlight_state(BACKLIGHT_STATE_NORMAL);
489948ae:	18d1 51e7 	jal	4899479c <change_backlight_state>
489948b2:	6500      	nop
489948b4:	b223      	lw	v0,48994940 <.LBE2+0xd0>
    }

    //执行屏保退出处理
    switch (g_ss_mode)
489948b6:	a240      	lbu	v0,0(v0)
489948b8:	d943      	sw	v0,12(s1)
489948ba:	9943      	lw	v0,12(s1)
489948bc:	5a05      	sltiu	v0,5
489948be:	600d      	bteqz	489948da <.LBE2+0x6a>
489948c0:	6a01      	li	v0,1
489948c2:	6762      	move	v1,v0
489948c4:	9983      	lw	a0,12(s1)
489948c6:	ec64      	sllv	v1,a0
489948c8:	6a16      	li	v0,22
489948ca:	ea6c      	and	v0,v1
489948cc:	2a01      	bnez	v0,489948d0 <.LBE2+0x60>
489948ce:	1005      	b	489948da <.LBE2+0x6a>
489948d0:	b21a      	lw	v0,48994938 <.LBE2+0xc8>
    {
        case SCREEN_DIGIT_CLOCK:
        case SCREEN_ALBUM_ART:
        case SCREEN_DEMO_MODE:
        //删除定时器
        kill_app_timer(g_ss_timer_id);
489948d2:	8240      	lb	v0,0(v0)
489948d4:	6782      	move	a0,v0
489948d6:	b21a      	lw	v0,4899493c <.LBE2+0xcc>
489948d8:	eac0      	jalrc	v0
489948da:	6c00      	li	a0,0
        break;

        default:
        break;
    }

    //退出屏幕保护
    change_screensave_state(FALSE);
489948dc:	18d1 51f3 	jal	489947cc <change_screensave_state>
489948e0:	6500      	nop
489948e2:	b219      	lw	v0,48994944 <.LBE2+0xd4>
    //com_set_gui_direction(g_ss_direct_bk);
    change_app_timer_tag(g_ss_tag_backup);
489948e4:	a240      	lbu	v0,0(v0)
489948e6:	6782      	move	a0,v0
489948e8:	18d1 51f9 	jal	489947e4 <change_app_timer_tag>
489948ec:	6500      	nop
489948ee:	b217      	lw	v0,48994948 <.LBE2+0xd8>
    gui_set_headbar_mode(g_ss_mode_backup, g_ss_icon_backup);
489948f0:	a260      	lbu	v1,0(v0)
489948f2:	b217      	lw	v0,4899494c <.LBE2+0xdc>
489948f4:	a240      	lbu	v0,0(v0)
489948f6:	6783      	move	a0,v1
489948f8:	67a2      	move	a1,v0
489948fa:	b216      	lw	v0,48994950 <.LBE2+0xe0>
489948fc:	eac0      	jalrc	v0
489948fe:	b311      	lw	v1,48994940 <.LBE2+0xd0>
    g_ss_mode = SCREEN_NULL;
48994900:	6a00      	li	v0,0
48994902:	c340      	sb	v0,0(v1)
48994904:	b305      	lw	v1,48994918 <.LBE2+0xa8>
    g_ss_vip_event = FALSE;
48994906:	6a00      	li	v0,0
48994908:	c340      	sb	v0,0(v1)
4899490a:	f010 6a14 	li	v0,32788
    return RESULT_REDRAW;
4899490e:	d942      	sw	v0,8(s1)
48994910:	9942      	lw	v0,8(s1)
}
48994912:	65b9      	move	sp,s1
48994914:	6453      	restore	24,ra,s1
48994916:	e8a0      	jrc	ra
48994918:	5bbc      	sltiu	v1,188
4899491a:	9fc1      	lw	a2,4(a3)
4899491c:	5bbd      	sltiu	v1,189
4899491e:	9fc1      	lw	a2,4(a3)
48994920:	a1f0      	lbu	a3,16(s1)
48994922:	9fc1      	lw	a2,4(a3)
48994924:	4759      	daddiu	v0,a3,-7
48994926:	4849      	addiu	s0,73
48994928:	6405      	restore	40
4899492a:	bfc1      	lwu	a2,4(a3)
4899492c:	6bad      	li	v1,173
4899492e:	bfc1      	lwu	a2,4(a3)
48994930:	5a48      	sltiu	v0,72
48994932:	9fc1      	lw	a2,4(a3)
48994934:	4601      	addiu	s0,a2,1
48994936:	48b5      	addiu	s0,-75
48994938:	5bb2      	sltiu	v1,178
4899493a:	9fc1      	lw	a2,4(a3)
4899493c:	473d      	daddiu	s1,a3,-3
4899493e:	4845      	addiu	s0,69
48994940:	5bb8      	sltiu	v1,184
48994942:	9fc1      	lw	a2,4(a3)
48994944:	5baf      	sltiu	v1,175
48994946:	9fc1      	lw	a2,4(a3)
48994948:	5bb0      	sltiu	v1,176
4899494a:	9fc1      	lw	a2,4(a3)
4899494c:	5bb1      	sltiu	v1,177
4899494e:	9fc1      	lw	a2,4(a3)
48994950:	4601      	addiu	s0,a2,1
48994952:	4885      	addiu	s0,-123

48994954 <get_app_state>:
48994954:	6491      	save	8,s1
48994956:	673d      	move	s1,sp
48994958:	b204      	lw	v0,48994968 <get_app_state+0x14>
4899495a:	a242      	lbu	v0,2(v0)
4899495c:	651a      	move	t8,v0
4899495e:	6758      	move	v0,t8
48994960:	65b9      	move	sp,s1
48994962:	6411      	restore	8,s1
48994964:	e8a0      	jrc	ra
48994966:	0000      	addiu	s0,sp,0
48994968:	a1b8      	lbu	a1,24(s1)
4899496a:	9fc1      	lw	a2,4(a3)

4899496c <get_engine_state>:
4899496c:	6491      	save	8,s1
4899496e:	673d      	move	s1,sp
48994970:	b204      	lw	v0,48994980 <get_engine_state+0x14>
48994972:	a241      	lbu	v0,1(v0)
48994974:	651a      	move	t8,v0
48994976:	6758      	move	v0,t8
48994978:	65b9      	move	sp,s1
4899497a:	6411      	restore	8,s1
4899497c:	e8a0      	jrc	ra
4899497e:	0000      	addiu	s0,sp,0
48994980:	a1b8      	lbu	a1,24(s1)
48994982:	9fc1      	lw	a2,4(a3)

48994984 <get_backlight_state>:
48994984:	6491      	save	8,s1
48994986:	673d      	move	s1,sp
48994988:	b204      	lw	v0,48994998 <get_backlight_state+0x14>
4899498a:	a249      	lbu	v0,9(v0)
4899498c:	651a      	move	t8,v0
4899498e:	6758      	move	v0,t8
48994990:	65b9      	move	sp,s1
48994992:	6411      	restore	8,s1
48994994:	e8a0      	jrc	ra
48994996:	0000      	addiu	s0,sp,0
48994998:	a1b8      	lbu	a1,24(s1)
4899499a:	9fc1      	lw	a2,4(a3)

4899499c <play_albumart_save>:
4899499c:	6491      	save	8,s1

/******************************************************************************/
/*!
 * \par  Description:
 * \void play_albumart_save(region_t pic_region)
 * \保存专辑封面album art
 * \param[in]    void  para1
 * \param[in]
 * \param[out]   none
 * \return       void the result
 * \retval       none
 * \retval       none
 * \ingroup      ui_screensave.c
 * \note
 */
/*******************************************************************************/
void play_albumart_save(region_t *pic_region)
{
4899499e:	673d      	move	s1,sp
489949a0:	d982      	sw	a0,8(s1)
489949a2:	65b9      	move	sp,s1
489949a4:	6411      	restore	8,s1
489949a6:	e8a0      	jrc	ra

489949a8 <play_albumart_save_init>:
489949a8:	64d3      	save	24,ra,s1
#if 0
    region_t tmp_region;
#ifndef PC
    uint8* save_buf = (uint8*) 0x9fc3fc00;
#else
    uint8* save_buf = GET_REAL_ADDR(0x9fc3fc00);
#endif
    uint32 pic_cnt;
    uint8 i, loop_cnt;

    loop_cnt = (uint8)(pic_region->height / 2);

    //设置竖屏模式
    lcd_set_draw_mode(DRAW_MODE_H_DEF);
    //设窗,读取背景
    tmp_region.x = pic_region->x;
    tmp_region.y = pic_region->y;
    tmp_region.width = pic_region->width;
    tmp_region.height = 2;

    pic_cnt = pic_region->width * 2;

    for (i = 0; i < loop_cnt; i++)
    {
        //设窗
        lcd_set_window(&tmp_region);
        //读取GRAM点阵
        lcd_get_buff_data(save_buf, pic_cnt);
        sys_vm_write(save_buf, VM_ALBUMART_INFO + i * 512, 512);
        tmp_region.y += 2;
    }
#if 0//height 为偶数，没有余量；如果为奇数，需打开
    pic_cnt = (pic_region.height % 2) * pic_region.width;
    if (pic_cnt != 0)
    {
        //设窗
        lcd_set_window(&tmp_region);
        lcd_get_buff_data(save_buf, pic_cnt);
        sys_vm_write(save_buf, VM_ALBUMART_INFO + i * 512);
    }
#endif
#endif
}
/******************************************************************************/
/*!
 * \par  Description:
 * \void play_albumart_save_init(void)
 * \初始化进入屏保显示专辑相册
 * \param[in]    void  para1
 * \param[in]
 * \param[out]   none
 * \return       void the result
 * \retval       none
 * \retval       none
 * \ingroup      ui_screensave.c
 * \note
 */
/*******************************************************************************/
void play_albumart_save_init(void)
{
489949aa:	0104      	addiu	s1,sp,16
489949ac:	b20e      	lw	v0,489949e4 <play_albumart_save_init+0x3c>
    if (g_com_paint_cb.func != NULL)
489949ae:	9a40      	lw	v0,0(v0)
489949b0:	220c      	beqz	v0,489949ca <play_albumart_save_init+0x22>
489949b2:	6c00      	li	a0,0
    {
        ui_clear_screen(NULL);
489949b4:	6d00      	li	a1,0
489949b6:	6e00      	li	a2,0
489949b8:	6f12      	li	a3,18
489949ba:	b20c      	lw	v0,489949e8 <play_albumart_save_init+0x40>
489949bc:	eac0      	jalrc	v0
489949be:	b30a      	lw	v1,489949e4 <play_albumart_save_init+0x3c>
        g_com_paint_cb.func(g_com_paint_cb.arg);
489949c0:	b209      	lw	v0,489949e4 <play_albumart_save_init+0x3c>
489949c2:	9a41      	lw	v0,4(v0)
489949c4:	9b60      	lw	v1,0(v1)
489949c6:	6782      	move	a0,v0
489949c8:	ebc0      	jalrc	v1
489949ca:	b207      	lw	v0,489949e4 <play_albumart_save_init+0x3c>
    }

    //保存 albumart 到 VRAM 去，以便屏保读取
    play_albumart_save(&(g_com_paint_cb.arg->region));
489949cc:	9a41      	lw	v0,4(v0)
489949ce:	4a08      	addiu	v0,8
489949d0:	6782      	move	a0,v0
489949d2:	18d1 5267 	jal	4899499c <play_albumart_save>
489949d6:	6500      	nop
489949d8:	b305      	lw	v1,489949ec <play_albumart_save_init+0x44>

    g_ss_album_art_phase = 0;
489949da:	6a00      	li	v0,0
489949dc:	c340      	sb	v0,0(v1)
489949de:	65b9      	move	sp,s1

    //初始显示
    //album_art_handle();

}
489949e0:	6451      	restore	8,ra,s1
489949e2:	e8a0      	jrc	ra
489949e4:	5bc0      	sltiu	v1,192
489949e6:	9fc1      	lw	a2,4(a3)
489949e8:	6bb1      	li	v1,177
489949ea:	bfc1      	lwu	a2,4(a3)
489949ec:	5bb9      	sltiu	v1,185
489949ee:	9fc1      	lw	a2,4(a3)
	...
Disassembly of section BANK_UI_1_39:

489d4600 <draw_digit_clock>:
489d4600:	64db      	save	88,ra,s1
 * \return       none
 * \note
 *******************************************************************************/
void draw_digit_clock(bool flag)
{
489d4602:	0104      	addiu	s1,sp,16
489d4604:	6744      	move	v0,a0
489d4606:	f040 c148 	sb	v0,72(s1)
489d460a:	f040 a148 	lbu	v0,72(s1)
    date_t *p_sys_date;
    time_t tmp_sys_time;
    time_timebox_t *tmp_time;
    picbox_private_t ampm_pic;
    timebox_private_t ss_time;
    style_infor_t style_infor;
    timebox_draw_mode_e mode;
    uint8 tmp_format;

    if (flag == TRUE)
489d460e:	7201      	cmpi	v0,1
489d4610:	6758      	move	v0,t8
489d4612:	5a01      	sltiu	v0,1
489d4614:	6004      	bteqz	489d461e <draw_digit_clock+0x1e>
489d4616:	6a02      	li	v0,2
    {
        mode = TIMEBOX_DRAW_ALL;
489d4618:	f020 c158 	sb	v0,56(s1)
489d461c:	1003      	b	489d4624 <draw_digit_clock+0x24>
489d461e:	6a01      	li	v0,1
    }
    else
    {
        mode = TIMEBOX_DRAW_TIME;
489d4620:	f020 c158 	sb	v0,56(s1)
489d4624:	4147      	addiu	v0,s1,7
    }

    //获取系统日期并更新显示
    p_sys_date = &ss_time.times[0].union_time.date;
489d4626:	4a19      	addiu	v0,25
489d4628:	d940      	sw	v0,0(s1)
489d462a:	9940      	lw	v0,0(s1)
    sys_get_date(p_sys_date);
489d462c:	6782      	move	a0,v0
489d462e:	6d00      	li	a1,0
489d4630:	6e00      	li	a2,0
489d4632:	6f26      	li	a3,38
489d4634:	b269      	lw	v0,489d47d8 <draw_digit_clock+0x1d8>
489d4636:	eac0      	jalrc	v0
489d4638:	b269      	lw	v0,489d47d8 <draw_digit_clock+0x1d8>

    //选取显示格式
    if (sys_comval->date_format == 1)
489d463a:	9a40      	lw	v0,0(v0)
489d463c:	a24b      	lbu	v0,11(v0)
489d463e:	7201      	cmpi	v0,1
489d4640:	6758      	move	v0,t8
489d4642:	5a01      	sltiu	v0,1
489d4644:	6004      	bteqz	489d464e <draw_digit_clock+0x4e>
489d4646:	6a01      	li	v0,1
    {
        tmp_format = DATE_DISP_MMDDYY;
489d4648:	f020 c159 	sb	v0,57(s1)
489d464c:	1003      	b	489d4654 <draw_digit_clock+0x54>
489d464e:	6a00      	li	v0,0
    }
    else
    {
        tmp_format = DATE_DISP_YYMMDD;
489d4650:	f020 c159 	sb	v0,57(s1)
489d4654:	6a44      	li	v0,68
    }

    ss_time.times[0].time_type = 'D';
489d4656:	f020 c144 	sb	v0,36(s1)
489d465a:	f020 a159 	lbu	v0,57(s1)
    ss_time.times[0].mode = tmp_format;
489d465e:	f020 c145 	sb	v0,37(s1)
489d4662:	f040 a148 	lbu	v0,72(s1)

    //只在初始和有更新时才显示
    if ((flag == TRUE) || (p_sys_date->day != g_ss_last_date))
489d4666:	7201      	cmpi	v0,1
489d4668:	6758      	move	v0,t8
489d466a:	5a01      	sltiu	v0,1
489d466c:	6108      	btnez	489d467e <draw_digit_clock+0x7e>
489d466e:	9940      	lw	v0,0(s1)
489d4670:	b35c      	lw	v1,489d47e0 <draw_digit_clock+0x1e0>
489d4672:	a283      	lbu	a0,3(v0)
489d4674:	a340      	lbu	v0,0(v1)
489d4676:	ea8e      	xor	v0,a0
489d4678:	5a01      	sltiu	v0,1
489d467a:	6001      	bteqz	489d467e <draw_digit_clock+0x7e>
489d467c:	102c      	b	489d46d6 <draw_digit_clock+0xd6>
489d467e:	9940      	lw	v0,0(s1)
    {
        if (p_sys_date->year >= 2099)
489d4680:	aa40      	lhu	v0,0(v0)
489d4682:	f021 5a13 	sltiu	v0,2099
489d4686:	6112      	btnez	489d46ac <draw_digit_clock+0xac>
489d4688:	9960      	lw	v1,0(s1)
        {
            p_sys_date->year = 2000;
489d468a:	f7c0 6a10 	li	v0,2000
489d468e:	cb40      	sh	v0,0(v1)
489d4690:	9940      	lw	v0,0(s1)
            sys_set_date(p_sys_date);
489d4692:	6782      	move	a0,v0
489d4694:	6d00      	li	a1,0
489d4696:	6e00      	li	a2,0
489d4698:	6f25      	li	a3,37
489d469a:	b250      	lw	v0,489d47d8 <draw_digit_clock+0x1d8>
489d469c:	eac0      	jalrc	v0
489d469e:	9940      	lw	v0,0(s1)
            sys_get_date(p_sys_date);
489d46a0:	6782      	move	a0,v0
489d46a2:	6d00      	li	a1,0
489d46a4:	6e00      	li	a2,0
489d46a6:	6f26      	li	a3,38
489d46a8:	b24c      	lw	v0,489d47d8 <draw_digit_clock+0x1d8>
489d46aa:	eac0      	jalrc	v0
489d46ac:	f008 6a02 	li	v0,16386
        }

        style_infor.style_id = DIGIT_CLOCK_DATE;
489d46b0:	c958      	sh	v0,48(s1)
489d46b2:	6a01      	li	v0,1
        style_infor.type = UI_COM;
489d46b4:	f020 c152 	sb	v0,50(s1)
489d46b8:	4147      	addiu	v0,s1,7
        ui_show_timebox(&style_infor, &ss_time, (uint32) mode);
489d46ba:	4a29      	addiu	v0,41
489d46bc:	4167      	addiu	v1,s1,7
489d46be:	4b19      	addiu	v1,25
489d46c0:	f020 a1d8 	lbu	a2,56(s1)
489d46c4:	6782      	move	a0,v0
489d46c6:	67a3      	move	a1,v1
489d46c8:	6f04      	li	a3,4
489d46ca:	b247      	lw	v0,489d47e4 <draw_digit_clock+0x1e4>
489d46cc:	eac0      	jalrc	v0
489d46ce:	b345      	lw	v1,489d47e0 <draw_digit_clock+0x1e0>
        g_ss_last_date = p_sys_date->day;
489d46d0:	9940      	lw	v0,0(s1)
489d46d2:	a243      	lbu	v0,3(v0)
489d46d4:	c340      	sb	v0,0(v1)
489d46d6:	4147      	addiu	v0,s1,7
    }

    //获取系统时间并更新显示
    sys_get_time(&tmp_sys_time);
489d46d8:	4241      	addiu	v0,v0,1
489d46da:	6782      	move	a0,v0
489d46dc:	6d00      	li	a1,0
489d46de:	6e00      	li	a2,0
489d46e0:	6f24      	li	a3,36
489d46e2:	b23e      	lw	v0,489d47d8 <draw_digit_clock+0x1d8>
489d46e4:	eac0      	jalrc	v0
489d46e6:	4147      	addiu	v0,s1,7
    tmp_time = &(ss_time.times[0].union_time.time);
489d46e8:	4a19      	addiu	v0,25
489d46ea:	d944      	sw	v0,16(s1)
489d46ec:	9964      	lw	v1,16(s1)
    tmp_time->hour = tmp_sys_time.hour;
489d46ee:	a148      	lbu	v0,8(s1)
489d46f0:	cb40      	sh	v0,0(v1)
489d46f2:	9964      	lw	v1,16(s1)
    tmp_time->minute = tmp_sys_time.minute;
489d46f4:	a149      	lbu	v0,9(s1)
489d46f6:	c342      	sb	v0,2(v1)
489d46f8:	9964      	lw	v1,16(s1)
    tmp_time->second = tmp_sys_time.second;
489d46fa:	a14a      	lbu	v0,10(s1)
489d46fc:	c343      	sb	v0,3(v1)
489d46fe:	6a54      	li	v0,84

    ss_time.times[0].time_type = 'T';
489d4700:	f020 c144 	sb	v0,36(s1)
489d4704:	6a05      	li	v0,5
    ss_time.times[0].mode = TIME_DISP_HHMM;
489d4706:	f020 c145 	sb	v0,37(s1)
489d470a:	f040 a148 	lbu	v0,72(s1)

    //只在初始和有更新时才显示
    if ((flag == TRUE) || (tmp_sys_time.minute != g_ss_last_time))
489d470e:	7201      	cmpi	v0,1
489d4710:	6758      	move	v0,t8
489d4712:	5a01      	sltiu	v0,1
489d4714:	6107      	btnez	489d4724 <draw_digit_clock+0x124>
489d4716:	b235      	lw	v0,489d47e8 <draw_digit_clock+0x1e8>
489d4718:	a169      	lbu	v1,9(s1)
489d471a:	a240      	lbu	v0,0(v0)
489d471c:	ea6e      	xor	v0,v1
489d471e:	5a01      	sltiu	v0,1
489d4720:	6001      	bteqz	489d4724 <draw_digit_clock+0x124>
489d4722:	1057      	b	489d47d2 <draw_digit_clock+0x1d2>
489d4724:	b22e      	lw	v0,489d47dc <draw_digit_clock+0x1dc>
    {
        if (sys_comval->time_format == 1)
489d4726:	9a40      	lw	v0,0(v0)
489d4728:	a24a      	lbu	v0,10(v0)
489d472a:	7201      	cmpi	v0,1
489d472c:	6758      	move	v0,t8
489d472e:	5a01      	sltiu	v0,1
489d4730:	6015      	bteqz	489d475c <draw_digit_clock+0x15c>
489d4732:	f008 6a00 	li	v0,16384
        {
            style_infor.style_id = DIGIT_CLOCK_TIME_24;
489d4736:	c958      	sh	v0,48(s1)
489d4738:	6a01      	li	v0,1
            style_infor.type = UI_COM;
489d473a:	f020 c152 	sb	v0,50(s1)
489d473e:	4147      	addiu	v0,s1,7
            ui_show_timebox(&style_infor, &ss_time, (uint32) mode);
489d4740:	4a29      	addiu	v0,41
489d4742:	4167      	addiu	v1,s1,7
489d4744:	4b19      	addiu	v1,25
489d4746:	f020 a1d8 	lbu	a2,56(s1)
489d474a:	6782      	move	a0,v0
489d474c:	67a3      	move	a1,v1
489d474e:	6f04      	li	a3,4
489d4750:	b225      	lw	v0,489d47e4 <draw_digit_clock+0x1e4>
489d4752:	eac0      	jalrc	v0
489d4754:	b325      	lw	v1,489d47e4 <draw_digit_clock+0x1e4>
            g_ss_last_time = tmp_sys_time.minute;
489d4756:	a149      	lbu	v0,9(s1)
489d4758:	c340      	sb	v0,0(v1)
489d475a:	103b      	b	489d47d2 <draw_digit_clock+0x1d2>
489d475c:	f008 6a01 	li	v0,16385
        }
        else
        {
            style_infor.style_id = DIGIT_CLOCK_TIME_12;
489d4760:	c958      	sh	v0,48(s1)
489d4762:	6a01      	li	v0,1
            style_infor.type = UI_COM;
489d4764:	f020 c152 	sb	v0,50(s1)
489d4768:	4147      	addiu	v0,s1,7
            ui_show_timebox(&style_infor, &ss_time, (uint32) mode);
489d476a:	4a29      	addiu	v0,41
489d476c:	4167      	addiu	v1,s1,7
489d476e:	4b19      	addiu	v1,25
489d4770:	f020 a1d8 	lbu	a2,56(s1)
489d4774:	6782      	move	a0,v0
489d4776:	67a3      	move	a1,v1
489d4778:	6f04      	li	a3,4
489d477a:	b21b      	lw	v0,489d47e4 <draw_digit_clock+0x1e4>
489d477c:	eac0      	jalrc	v0
489d477e:	f002 6a0a 	li	v0,4106

            style_infor.style_id = DIGIT_CLOCK_TIME_AMPM;
489d4782:	c958      	sh	v0,48(s1)
489d4784:	6a01      	li	v0,1
            ampm_pic.pic_id = V_U16_INVALID;
489d4786:	ea4b      	neg	v0
489d4788:	c94c      	sh	v0,24(s1)
489d478a:	a148      	lbu	v0,8(s1)
            if (tmp_sys_time.hour < 12)
489d478c:	5a0c      	sltiu	v0,12
489d478e:	6003      	bteqz	489d4796 <draw_digit_clock+0x196>
489d4790:	6a00      	li	v0,0
            {
                ampm_pic.frame_id = 0;//am
489d4792:	c15a      	sb	v0,26(s1)
489d4794:	1002      	b	489d479a <draw_digit_clock+0x19a>
489d4796:	6a01      	li	v0,1
            }
            else
            {
                ampm_pic.frame_id = 1;//pm
489d4798:	c15a      	sb	v0,26(s1)
489d479a:	a188      	lbu	a0,8(s1)
            }
            //小时转换为12小时制
            tmp_sys_time.hour = tmp_sys_time.hour % 12;
489d479c:	b214      	lw	v0,489d47ec <draw_digit_clock+0x1ec>
489d479e:	ec59      	multu	a0,v0
489d47a0:	ea10      	mfhi	v0
489d47a2:	334e      	srl	v1,v0,3
489d47a4:	6743      	move	v0,v1
489d47a6:	3244      	sll	v0,1
489d47a8:	e269      	addu	v0,v1
489d47aa:	3248      	sll	v0,2
489d47ac:	e44b      	subu	v0,a0,v0
489d47ae:	c148      	sb	v0,8(s1)
489d47b0:	a148      	lbu	v0,8(s1)
            if (tmp_sys_time.hour == 0)
489d47b2:	2a02      	bnez	v0,489d47b8 <draw_digit_clock+0x1b8>
489d47b4:	6a0c      	li	v0,12
            {
                tmp_sys_time.hour = 12;
489d47b6:	c148      	sb	v0,8(s1)
489d47b8:	4147      	addiu	v0,s1,7
            }
            ui_show_picbox(&style_infor, &ampm_pic);
489d47ba:	4a29      	addiu	v0,41
489d47bc:	4167      	addiu	v1,s1,7
489d47be:	4b11      	addiu	v1,17
489d47c0:	6782      	move	a0,v0
489d47c2:	67a3      	move	a1,v1
489d47c4:	6e00      	li	a2,0
489d47c6:	6f02      	li	a3,2
489d47c8:	b207      	lw	v0,489d47e4 <draw_digit_clock+0x1e4>
489d47ca:	eac0      	jalrc	v0
489d47cc:	b307      	lw	v1,489d47e4 <draw_digit_clock+0x1e4>
            g_ss_last_time = tmp_sys_time.minute;
489d47ce:	a149      	lbu	v0,9(s1)
489d47d0:	c340      	sb	v0,0(v1)
489d47d2:	65b9      	move	sp,s1
        }
    }
}
489d47d4:	6459      	restore	72,ra,s1
489d47d6:	e8a0      	jrc	ra
489d47d8:	640d      	restore	104
489d47da:	bfc1      	lwu	a2,4(a3)
489d47dc:	5a48      	sltiu	v0,72
489d47de:	9fc1      	lw	a2,4(a3)
489d47e0:	5bba      	sltiu	v1,186
489d47e2:	9fc1      	lw	a2,4(a3)
489d47e4:	6bb1      	li	v1,177
489d47e6:	bfc1      	lwu	a2,4(a3)
489d47e8:	5bbb      	sltiu	v1,187
489d47ea:	9fc1      	lw	a2,4(a3)
489d47ec:	aaab      	lhu	a1,22(v0)
489d47ee:	aaaa      	lhu	a1,20(v0)

489d47f0 <_trans_data_to_dma>:
489d47f0:	6491      	save	8,s1

static void _trans_data_to_dma(uint32 width, uint32 size)
{
489d47f2:	673d      	move	s1,sp
489d47f4:	d982      	sw	a0,8(s1)
489d47f6:	d9a3      	sw	a1,12(s1)
489d47f8:	65b9      	move	sp,s1
489d47fa:	6411      	restore	8,s1
489d47fc:	e8a0      	jrc	ra
	...

489d4800 <show_album_art>:
489d4800:	6491      	save	8,s1
#if 0
    lcd_dma_set_counter(size / 2, width);
    lcd_dma_start_trans(LCD_RAM_INDEX);
#endif
}

static void show_album_art(uint8 index)
{
489d4802:	673d      	move	s1,sp
489d4804:	6744      	move	v0,a0
489d4806:	c148      	sb	v0,8(s1)
489d4808:	65b9      	move	sp,s1
489d480a:	6411      	restore	8,s1
489d480c:	e8a0      	jrc	ra
	...

489d4810 <digit_clock_handle>:
489d4810:	64d3      	save	24,ra,s1
#if 0
    uint32 pic_size = 92 * 92 * 2;
    uint32 real_size;
    uint32 album_art_addr = VM_ALBUMART_INFO;
    uint8 *album_art_buf = (uint8 *)LCD_BUF_ADDR;
    region_t region;

    lcd_set_draw_mode(DRAW_MODE_H_DEF);

    region.x = album_art_x[index];
    region.y = album_art_y[index];
    region.width = 92;
    region.height = 92;
    lcd_set_window(&region);

    while(pic_size> 0)
    {
        if(pic_size> 92 * 4)
        {
            real_size = 92 * 4;
        }
        else
        {
            real_size = pic_size;
        }
        sys_vm_read(album_art_buf, album_art_addr, 512);
        _trans_data_to_dma(92, real_size);
        pic_size -= real_size;
        album_art_addr += 512;
    }
#endif
}

/******************************************************************************/
/*!
 * \par  Description:
 *    数字时钟屏幕保护软定时器服务例程，用来周期更新数字时钟
 * \param[in]    none
 * \param[out]   none
 * \return       none
 * \note
 *******************************************************************************/
void digit_clock_handle(void)
{
489d4812:	0104      	addiu	s1,sp,16
489d4814:	6c00      	li	a0,0
    //更新数字时钟
    draw_digit_clock(FALSE);
489d4816:	18f1 5180 	jal	489d4600 <draw_digit_clock>
489d481a:	6500      	nop
489d481c:	65b9      	move	sp,s1
}
489d481e:	6451      	restore	8,ra,s1
489d4820:	e8a0      	jrc	ra
	...

489d4824 <album_art_handle>:
489d4824:	64d4      	save	32,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *    音乐专辑图片屏幕保护软定时器服务例程，用来周期切换音乐专辑
 * \param[in]    none
 * \param[out]   none
 * \return       none
 * \note
 *******************************************************************************/
void album_art_handle(void)
{
489d4826:	0104      	addiu	s1,sp,16
489d4828:	f0c3 6a03 	li	v0,6339
    style_infor_t style_infor;

    //刷背景图
    /*style_infor.style_id = ALBUM_ART_BG;
     style_infor.type = UI_COM;
     ui_show_picbox(&style_infor, NULL);*/
    ui_set_backgd_color(Color_BACKCOLOR_def);
489d482c:	6782      	move	a0,v0
489d482e:	6d00      	li	a1,0
489d4830:	6e00      	li	a2,0
489d4832:	6f14      	li	a3,20
489d4834:	b20f      	lw	v0,489d4870 <album_art_handle+0x4c>
489d4836:	eac0      	jalrc	v0
489d4838:	6c00      	li	a0,0
    ui_clear_screen(NULL);
489d483a:	6d00      	li	a1,0
489d483c:	6e00      	li	a2,0
489d483e:	6f12      	li	a3,18
489d4840:	b20c      	lw	v0,489d4870 <album_art_handle+0x4c>
489d4842:	eac0      	jalrc	v0
489d4844:	b20c      	lw	v0,489d4870 <album_art_handle+0x4c>

    //调用music中绘制音乐专辑图片的接口
    show_album_art(g_ss_album_art_phase);
489d4846:	a240      	lbu	v0,0(v0)
489d4848:	6782      	move	a0,v0
489d484a:	18f1 5200 	jal	489d4800 <show_album_art>
489d484e:	6500      	nop
489d4850:	b309      	lw	v1,489d4874 <album_art_handle+0x50>
    g_ss_album_art_phase++;
489d4852:	b209      	lw	v0,489d4874 <album_art_handle+0x50>
489d4854:	a240      	lbu	v0,0(v0)
489d4856:	4241      	addiu	v0,v0,1
489d4858:	c340      	sb	v0,0(v1)
489d485a:	b207      	lw	v0,489d4874 <album_art_handle+0x50>
    if (g_ss_album_art_phase >= ALBUM_ART_MAX_COUNT)
489d485c:	a240      	lbu	v0,0(v0)
489d485e:	5a06      	sltiu	v0,6
489d4860:	6103      	btnez	489d4868 <album_art_handle+0x44>
489d4862:	b305      	lw	v1,489d4874 <album_art_handle+0x50>
    {
        g_ss_album_art_phase = 0;
489d4864:	6a00      	li	v0,0
489d4866:	c340      	sb	v0,0(v1)
489d4868:	65b9      	move	sp,s1
    }
}
489d486a:	6452      	restore	16,ra,s1
489d486c:	e8a0      	jrc	ra
489d486e:	0000      	addiu	s0,sp,0
489d4870:	6bb1      	li	v1,177
489d4872:	bfc1      	lwu	a2,4(a3)
489d4874:	5bb9      	sltiu	v1,185
489d4876:	9fc1      	lw	a2,4(a3)

489d4878 <album_art_x>:
489d4878:	0000 0024 0000 0024 0000 0024               ..$...$...$.

489d4884 <album_art_y>:
489d4884:	0000 0022 0044 0000 0022 0044 0000 0000     ..".D...".D.....
	...
Disassembly of section BANK_UI_1_40:

48a14600 <gui_animation>:
48a14600:	64d9      	save	72,ra,s1
 * \li  动画显示过程中可以通过按键输入终止，这时 forbid 需为 TRUE，并且提供一个
 *      可以终止动画显示的按键映射表。
 *******************************************************************************/
app_result_e gui_animation(style_infor_t *style_infor, animation_com_data_t *anm_com)
{
48a14602:	0104      	addiu	s1,sp,16
48a14604:	d98e      	sw	a0,56(s1)
48a14606:	d9af      	sw	a1,60(s1)
48a14608:	6a00      	li	v0,0
    input_gui_msg_t input_msg; //输入型消息，即gui消息
    msg_apps_type_e gui_event; //gui 事件
    private_msg_t private_msg; //应用消息
    app_result_e result = RESULT_NULL;
48a1460a:	c950      	sh	v0,32(s1)
48a1460c:	1911 51e6 	jal	48a14798 <get_app_timer_tag>
    int8 timer_id;
    uint8 frame_cnt;
    uint8 tag_backup;

    tag_backup = get_app_timer_tag();
48a14610:	6500      	nop
48a14612:	f020 c144 	sb	v0,36(s1)
48a14616:	6c81      	li	a0,129
    change_app_timer_tag(APP_TIEMR_TAG_ANIM);
48a14618:	1911 51e0 	jal	48a14780 <change_app_timer_tag>
48a1461c:	6500      	nop
48a1461e:	b34c      	lw	v1,48a1474c <gui_animation+0x14c>

    g_anm_callback = anm_com->callback;
48a14620:	994f      	lw	v0,60(s1)
48a14622:	9a42      	lw	v0,8(v0)
48a14624:	db40      	sw	v0,0(v1)
48a14626:	b34b      	lw	v1,48a14750 <gui_animation+0x150>
    g_anm_sty_infor = style_infor;
48a14628:	994e      	lw	v0,56(s1)
48a1462a:	db40      	sw	v0,0(v1)
48a1462c:	994f      	lw	v0,60(s1)
    //创建软定时器
    timer_id = set_app_timer(APP_TIMER_ATTRB_UI, anm_com->interval, __anm_handle);
48a1462e:	aa40      	lhu	v0,0(v0)
48a14630:	b349      	lw	v1,48a14754 <gui_animation+0x154>
48a14632:	6c00      	li	a0,0
48a14634:	67a2      	move	a1,v0
48a14636:	67c3      	move	a2,v1
48a14638:	b248      	lw	v0,48a14758 <gui_animation+0x158>
48a1463a:	eac0      	jalrc	v0
48a1463c:	f020 c142 	sb	v0,34(s1)
48a14640:	f020 8162 	lb	v1,34(s1)
    if (timer_id == -1)
48a14644:	6a01      	li	v0,1
48a14646:	ea4b      	neg	v0
48a14648:	ea6e      	xor	v0,v1
48a1464a:	5a01      	sltiu	v0,1
48a1464c:	6009      	bteqz	48a14660 <gui_animation+0x60>
48a1464e:	f020 a144 	lbu	v0,36(s1)
    {
        change_app_timer_tag(tag_backup);
48a14652:	6782      	move	a0,v0
48a14654:	1911 51e0 	jal	48a14780 <change_app_timer_tag>
48a14658:	6500      	nop
48a1465a:	6a00      	li	v0,0
        return RESULT_NULL;
48a1465c:	d94a      	sw	v0,40(s1)
48a1465e:	1071      	b	48a14742 <gui_animation+0x142>
48a14660:	b23c      	lw	v0,48a14750 <gui_animation+0x150>
    }

    //获取picbox帧数
    ui_get_picbox_attrb(g_anm_sty_infor, &frame_cnt, 1);
48a14662:	9a40      	lw	v0,0(v0)
48a14664:	4167      	addiu	v1,s1,7
48a14666:	4b1c      	addiu	v1,28
48a14668:	6782      	move	a0,v0
48a1466a:	67a3      	move	a1,v1
48a1466c:	6e01      	li	a2,1
48a1466e:	6f0d      	li	a3,13
48a14670:	b23b      	lw	v0,48a1475c <gui_animation+0x15c>
48a14672:	eac0      	jalrc	v0
48a14674:	b33b      	lw	v1,48a1475c <gui_animation+0x15c>

    g_anm_direction = anm_com->direction;
48a14676:	994f      	lw	v0,60(s1)
48a14678:	a242      	lbu	v0,2(v0)
48a1467a:	c340      	sb	v0,0(v1)
48a1467c:	b239      	lw	v0,48a14760 <gui_animation+0x160>
    if (g_anm_direction == DIRECTION_NORMAL)
48a1467e:	a240      	lbu	v0,0(v0)
48a14680:	2a04      	bnez	v0,48a1468a <gui_animation+0x8a>
48a14682:	b339      	lw	v1,48a14764 <gui_animation+0x164>
    {
        g_anm_index = 0;
48a14684:	6a00      	li	v0,0
48a14686:	c340      	sb	v0,0(v1)
48a14688:	1005      	b	48a14694 <gui_animation+0x94>
48a1468a:	b237      	lw	v0,48a14764 <gui_animation+0x164>
    }
    else
    {
        g_anm_index = frame_cnt - 1;
48a1468c:	f020 a163 	lbu	v1,35(s1)
48a14690:	436f      	addiu	v1,v1,-1
48a14692:	c260      	sb	v1,0(v0)
48a14694:	b233      	lw	v0,48a14760 <gui_animation+0x160>
    }

    //进入动画消息循环
    while (1)
    {
        //动画已经显示完毕
        if (g_anm_direction == DIRECTION_NORMAL)
48a14696:	a240      	lbu	v0,0(v0)
48a14698:	2a09      	bnez	v0,48a146ac <gui_animation+0xac>
48a1469a:	b233      	lw	v0,48a14764 <gui_animation+0x164>
        {
            if (g_anm_index >= frame_cnt)
48a1469c:	a260      	lbu	v1,0(v0)
48a1469e:	f020 a143 	lbu	v0,35(s1)
48a146a2:	eb43      	sltu	v1,v0
48a146a4:	610a      	btnez	48a146ba <gui_animation+0xba>
48a146a6:	6a00      	li	v0,0
            {
                result = RESULT_NULL;
48a146a8:	c950      	sh	v0,32(s1)
48a146aa:	103e      	b	48a14728 <gui_animation+0x128>
                break;
48a146ac:	b22e      	lw	v0,48a14764 <gui_animation+0x164>
            }
        }
        else
        {
            if ((int8) g_anm_index < 0)
48a146ae:	8240      	lb	v0,0(v0)
48a146b0:	5200      	slti	v0,0
48a146b2:	6003      	bteqz	48a146ba <gui_animation+0xba>
48a146b4:	6a00      	li	v0,0
            {
                result = RESULT_NULL;
48a146b6:	c950      	sh	v0,32(s1)
48a146b8:	1037      	b	48a14728 <gui_animation+0x128>
                break;
48a146ba:	994f      	lw	v0,60(s1)
            }
        }

        //允许终止动画显示，才需要获取 gui 消息
        if ((anm_com->forbid == TRUE) && (get_gui_msg(&input_msg) == TRUE))//有gui消息
48a146bc:	a243      	lbu	v0,3(v0)
48a146be:	7201      	cmpi	v0,1
48a146c0:	6758      	move	v0,t8
48a146c2:	5a01      	sltiu	v0,1
48a146c4:	6017      	bteqz	48a146f4 <gui_animation+0xf4>
48a146c6:	6791      	move	a0,s1
48a146c8:	b228      	lw	v0,48a14768 <gui_animation+0x168>
48a146ca:	eac0      	jalrc	v0
48a146cc:	7201      	cmpi	v0,1
48a146ce:	6758      	move	v0,t8
48a146d0:	5a01      	sltiu	v0,1
48a146d2:	6010      	bteqz	48a146f4 <gui_animation+0xf4>
48a146d4:	4167      	addiu	v1,s1,7
        {
            //进行按键映射
            if (com_key_mapping(&input_msg, &gui_event, anm_com->key_map_list) == TRUE)
48a146d6:	4361      	addiu	v1,v1,1
48a146d8:	994f      	lw	v0,60(s1)
48a146da:	9a41      	lw	v0,4(v0)
48a146dc:	6791      	move	a0,s1
48a146de:	67a3      	move	a1,v1
48a146e0:	67c2      	move	a2,v0
48a146e2:	b223      	lw	v0,48a1476c <gui_animation+0x16c>
48a146e4:	eac0      	jalrc	v0
48a146e6:	7201      	cmpi	v0,1
48a146e8:	6758      	move	v0,t8
48a146ea:	5a01      	sltiu	v0,1
48a146ec:	6016      	bteqz	48a1471a <gui_animation+0x11a>
48a146ee:	a944      	lhu	v0,8(s1)
            {
                result = gui_event;
48a146f0:	c950      	sh	v0,32(s1)
48a146f2:	101a      	b	48a14728 <gui_animation+0x128>
                break;
48a146f4:	4147      	addiu	v0,s1,7
            }
        }
        else
        {
            //到此，gui消息队列已经处理完毕
            //处理ap私有消息和系统消息
            if (get_app_msg(&private_msg) == TRUE)
48a146f6:	4a09      	addiu	v0,9
48a146f8:	6782      	move	a0,v0
48a146fa:	b21e      	lw	v0,48a14770 <gui_animation+0x170>
48a146fc:	eac0      	jalrc	v0
48a146fe:	7201      	cmpi	v0,1
48a14700:	6758      	move	v0,t8
48a14702:	5a01      	sltiu	v0,1
48a14704:	600a      	bteqz	48a1471a <gui_animation+0x11a>
48a14706:	b21c      	lw	v0,48a14774 <gui_animation+0x174>
            {
                result = g_this_app_msg_dispatch(&private_msg);
48a14708:	4167      	addiu	v1,s1,7
48a1470a:	4b09      	addiu	v1,9
48a1470c:	9a40      	lw	v0,0(v0)
48a1470e:	6783      	move	a0,v1
48a14710:	eac0      	jalrc	v0
48a14712:	c950      	sh	v0,32(s1)
48a14714:	a950      	lhu	v0,32(s1)
                if (result != RESULT_NULL)
48a14716:	2201      	beqz	v0,48a1471a <gui_animation+0x11a>
48a14718:	1007      	b	48a14728 <gui_animation+0x128>
                {
                    break;
48a1471a:	6c01      	li	a0,1
                }
            }
        }

        //挂起10ms，多任务调度
        sys_os_time_dly(1);
48a1471c:	6d00      	li	a1,0
48a1471e:	6e00      	li	a2,0
48a14720:	6f31      	li	a3,49
48a14722:	b216      	lw	v0,48a14778 <gui_animation+0x178>
48a14724:	eac0      	jalrc	v0
48a14726:	17b6      	b	48a14694 <gui_animation+0x94>
48a14728:	f020 8142 	lb	v0,34(s1)
    }

    kill_app_timer(timer_id);
48a1472c:	6782      	move	a0,v0
48a1472e:	b214      	lw	v0,48a1477c <gui_animation+0x17c>
48a14730:	eac0      	jalrc	v0
48a14732:	f020 a144 	lbu	v0,36(s1)
    change_app_timer_tag(tag_backup);
48a14736:	6782      	move	a0,v0
48a14738:	1911 51e0 	jal	48a14780 <change_app_timer_tag>
48a1473c:	6500      	nop
48a1473e:	a950      	lhu	v0,32(s1)
    return result;
48a14740:	d94a      	sw	v0,40(s1)
48a14742:	994a      	lw	v0,40(s1)
}
48a14744:	65b9      	move	sp,s1
48a14746:	6457      	restore	56,ra,s1
48a14748:	e8a0      	jrc	ra
48a1474a:	0000      	addiu	s0,sp,0
48a1474c:	5bc8      	sltiu	v1,200
48a1474e:	9fc1      	lw	a2,4(a3)
48a14750:	5bcc      	sltiu	v1,204
48a14752:	9fc1      	lw	a2,4(a3)
48a14754:	4875      	addiu	s0,117
48a14756:	48a1      	addiu	s0,-95
48a14758:	4601      	addiu	s0,a2,1
48a1475a:	4845      	addiu	s0,69
48a1475c:	6bb1      	li	v1,177
48a1475e:	bfc1      	lwu	a2,4(a3)
48a14760:	5bd1      	sltiu	v1,209
48a14762:	9fc1      	lw	a2,4(a3)
48a14764:	5bd0      	sltiu	v1,208
48a14766:	9fc1      	lw	a2,4(a3)
48a14768:	66d5      	0x66d5
48a1476a:	bfc1      	lwu	a2,4(a3)
48a1476c:	47ad      	addiu	a1,a3,-3
48a1476e:	4855      	addiu	s0,85
48a14770:	6741      	move	v0,at
48a14772:	bfc1      	lwu	a2,4(a3)
48a14774:	a1f8      	lbu	a3,24(s1)
48a14776:	9fc1      	lw	a2,4(a3)
48a14778:	640d      	restore	104
48a1477a:	bfc1      	lwu	a2,4(a3)
48a1477c:	473d      	daddiu	s1,a3,-3
48a1477e:	4845      	addiu	s0,69

48a14780 <change_app_timer_tag>:
48a14780:	6491      	save	8,s1
48a14782:	673d      	move	s1,sp
48a14784:	6744      	move	v0,a0
48a14786:	c148      	sb	v0,8(s1)
48a14788:	b303      	lw	v1,48a14794 <change_app_timer_tag+0x14>
48a1478a:	a148      	lbu	v0,8(s1)
48a1478c:	c340      	sb	v0,0(v1)
48a1478e:	65b9      	move	sp,s1
48a14790:	6411      	restore	8,s1
48a14792:	e8a0      	jrc	ra
48a14794:	a200      	lbu	s0,0(v0)
48a14796:	9fc1      	lw	a2,4(a3)

48a14798 <get_app_timer_tag>:
48a14798:	6491      	save	8,s1
48a1479a:	673d      	move	s1,sp
48a1479c:	b204      	lw	v0,48a147ac <get_app_timer_tag+0x14>
48a1479e:	a240      	lbu	v0,0(v0)
48a147a0:	651a      	move	t8,v0
48a147a2:	6758      	move	v0,t8
48a147a4:	65b9      	move	sp,s1
48a147a6:	6411      	restore	8,s1
48a147a8:	e8a0      	jrc	ra
48a147aa:	0000      	addiu	s0,sp,0
48a147ac:	a200      	lbu	s0,0(v0)
48a147ae:	9fc1      	lw	a2,4(a3)

48a147b0 <gui_logo>:
48a147b0:	64d5      	save	40,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *    开机logo 和 关机logo，不接收消息。
 * \param[in]    style_infor ui editor工具设计的多帧图片控件信息结构体指针
 * \param[in]    anm_com 指向动画显示初始化结构体变量，是上层对动画显示的控制命令或参数
 * \param[out]   none
 * \return       app_result_e
 * \retval           RESULT_NULL 动画显示正常结束后返回AP。
 * \ingroup      controls
 * \par          exmaple code
 * \code
 animation_com_data_t anm_com;
 style_infor_t style_infor;

 style_infor.style_id = POWERON_LOGO;
 style_infor.type = UI_AP;
 anm_com.interval = 20;//20ms间隔
 anm_com.direction = DIRECTION_NORMAL;
 gui_logo(&style_infor, &anm_com);
 * \endcode
 * \note
 * \li  仅用于开机 logo 和 关机 logo，期间不支持任何其他处理。
 *******************************************************************************/
app_result_e gui_logo(style_infor_t *style_infor, animation_com_data_t *anm_com)
{
48a147b2:	0104      	addiu	s1,sp,16
48a147b4:	d986      	sw	a0,24(s1)
48a147b6:	d9a7      	sw	a1,28(s1)
48a147b8:	6a00      	li	v0,0
    picbox_private_t animation_pic;
    app_result_e result = RESULT_NULL;
48a147ba:	c944      	sh	v0,8(s1)
48a147bc:	9946      	lw	v0,24(s1)
    uint16 time_index;
    uint8 frame_cnt, frame_index;

    //获取picbox帧数
    ui_get_picbox_attrb(style_infor, &frame_cnt, 1);
48a147be:	4167      	addiu	v1,s1,7
48a147c0:	4365      	addiu	v1,v1,5
48a147c2:	6782      	move	a0,v0
48a147c4:	67a3      	move	a1,v1
48a147c6:	6e01      	li	a2,1
48a147c8:	6f0d      	li	a3,13
48a147ca:	b227      	lw	v0,48a14864 <gui_logo+0xb4>
48a147cc:	eac0      	jalrc	v0
48a147ce:	9947      	lw	v0,28(s1)

    if (anm_com->direction == DIRECTION_NORMAL)
48a147d0:	a242      	lbu	v0,2(v0)
48a147d2:	2a03      	bnez	v0,48a147da <gui_logo+0x2a>
48a147d4:	6a00      	li	v0,0
    {
        frame_index = 0;
48a147d6:	c14d      	sb	v0,13(s1)
48a147d8:	1003      	b	48a147e0 <gui_logo+0x30>
48a147da:	a14c      	lbu	v0,12(s1)
    }
    else
    {
        frame_index = frame_cnt - 1;
48a147dc:	424f      	addiu	v0,v0,-1
48a147de:	c14d      	sb	v0,13(s1)
48a147e0:	9947      	lw	v0,28(s1)
    }

    //进入动画消息循环
    while (1)
    {
        //动画已经显示完毕
        if (anm_com->direction == DIRECTION_NORMAL)
48a147e2:	a242      	lbu	v0,2(v0)
48a147e4:	2a07      	bnez	v0,48a147f4 <gui_logo+0x44>
48a147e6:	a14d      	lbu	v0,13(s1)
        {
            if (frame_index >= frame_cnt)
48a147e8:	a16c      	lbu	v1,12(s1)
48a147ea:	ea63      	sltu	v0,v1
48a147ec:	6109      	btnez	48a14800 <gui_logo+0x50>
48a147ee:	6a00      	li	v0,0
            {
                result = RESULT_NULL;
48a147f0:	c944      	sh	v0,8(s1)
48a147f2:	1032      	b	48a14858 <gui_logo+0xa8>
                break;
48a147f4:	814d      	lb	v0,13(s1)
            }
        }
        else
        {
            if ((int8) frame_index < 0)
48a147f6:	5200      	slti	v0,0
48a147f8:	6003      	bteqz	48a14800 <gui_logo+0x50>
48a147fa:	6a00      	li	v0,0
            {
                result = RESULT_NULL;
48a147fc:	c944      	sh	v0,8(s1)
48a147fe:	102c      	b	48a14858 <gui_logo+0xa8>
                break;
48a14800:	6a01      	li	v0,1
            }
        }

        //显示动画帧
        animation_pic.pic_id = V_U16_INVALID;
48a14802:	ea4b      	neg	v0
48a14804:	c940      	sh	v0,0(s1)
48a14806:	a14d      	lbu	v0,13(s1)
        animation_pic.frame_id = frame_index;
48a14808:	c142      	sb	v0,2(s1)
48a1480a:	9946      	lw	v0,24(s1)

        ui_show_picbox(style_infor, &animation_pic);
48a1480c:	6782      	move	a0,v0
48a1480e:	67b1      	move	a1,s1
48a14810:	6e00      	li	a2,0
48a14812:	6f02      	li	a3,2
48a14814:	b214      	lw	v0,48a14864 <gui_logo+0xb4>
48a14816:	eac0      	jalrc	v0
48a14818:	b214      	lw	v0,48a14864 <gui_logo+0xb4>
        if (g_anm_direction == DIRECTION_NORMAL)
48a1481a:	a240      	lbu	v0,0(v0)
48a1481c:	2a04      	bnez	v0,48a14826 <gui_logo+0x76>
48a1481e:	a14d      	lbu	v0,13(s1)
        {
            frame_index++;
48a14820:	4241      	addiu	v0,v0,1
48a14822:	c14d      	sb	v0,13(s1)
48a14824:	1003      	b	48a1482c <gui_logo+0x7c>
48a14826:	a14d      	lbu	v0,13(s1)
        }
        else
        {
            frame_index--;//0再减为0xff，(int8)0xff < 0
48a14828:	424f      	addiu	v0,v0,-1
48a1482a:	c14d      	sb	v0,13(s1)
48a1482c:	6a00      	li	v0,0
        }

        //挂起，等待 interval 时间
        for (time_index = 0; time_index < (anm_com->interval / 10); time_index++)
48a1482e:	c945      	sh	v0,10(s1)
48a14830:	9947      	lw	v0,28(s1)
48a14832:	aa60      	lhu	v1,0(v0)
48a14834:	b20e      	lw	v0,48a1486c <gui_logo+0xbc>
48a14836:	eb59      	multu	v1,v0
48a14838:	eb10      	mfhi	v1
48a1483a:	326e      	srl	v0,v1,3
48a1483c:	a965      	lhu	v1,10(s1)
48a1483e:	ea31      	zeh	v0
48a14840:	eb43      	sltu	v1,v0
48a14842:	60ce      	bteqz	48a147e0 <gui_logo+0x30>
48a14844:	6c01      	li	a0,1
        {
            sys_os_time_dly(1);
48a14846:	6d00      	li	a1,0
48a14848:	6e00      	li	a2,0
48a1484a:	6f31      	li	a3,49
48a1484c:	b209      	lw	v0,48a14870 <gui_logo+0xc0>
48a1484e:	eac0      	jalrc	v0
48a14850:	a945      	lhu	v0,10(s1)
48a14852:	4241      	addiu	v0,v0,1
48a14854:	c945      	sh	v0,10(s1)
48a14856:	17ec      	b	48a14830 <gui_logo+0x80>
48a14858:	a944      	lhu	v0,8(s1)
        }
    }

    return result;
48a1485a:	651a      	move	t8,v0
48a1485c:	6758      	move	v0,t8
}
48a1485e:	65b9      	move	sp,s1
48a14860:	6453      	restore	24,ra,s1
48a14862:	e8a0      	jrc	ra
48a14864:	6bb1      	li	v1,177
48a14866:	bfc1      	lwu	a2,4(a3)
48a14868:	5bd1      	sltiu	v1,209
48a1486a:	9fc1      	lw	a2,4(a3)
48a1486c:	cccd      	sh	a2,26(a0)
48a1486e:	cccc      	sh	a2,24(a0)
48a14870:	640d      	restore	104
48a14872:	bfc1      	lwu	a2,4(a3)

48a14874 <__anm_handle>:
48a14874:	64d4      	save	32,ra,s1

/*! \endcond */

/*! \cond COMMON_API */

static void __anm_handle(void)
{
48a14876:	0104      	addiu	s1,sp,16
48a14878:	6a01      	li	v0,1
    picbox_private_t animation_pic;

    //显示计时界面
    animation_pic.pic_id = V_U16_INVALID;
48a1487a:	ea4b      	neg	v0
48a1487c:	c940      	sh	v0,0(s1)
48a1487e:	b212      	lw	v0,48a148c4 <__anm_handle+0x50>
    animation_pic.frame_id = g_anm_index;
48a14880:	a240      	lbu	v0,0(v0)
48a14882:	c142      	sb	v0,2(s1)
48a14884:	b211      	lw	v0,48a148c8 <__anm_handle+0x54>

    ui_show_picbox(g_anm_sty_infor, &animation_pic);
48a14886:	9a40      	lw	v0,0(v0)
48a14888:	6782      	move	a0,v0
48a1488a:	67b1      	move	a1,s1
48a1488c:	6e00      	li	a2,0
48a1488e:	6f02      	li	a3,2
48a14890:	b20f      	lw	v0,48a148cc <__anm_handle+0x58>
48a14892:	eac0      	jalrc	v0
48a14894:	b20f      	lw	v0,48a148cc <__anm_handle+0x58>
    if (g_anm_direction == DIRECTION_NORMAL)
48a14896:	a240      	lbu	v0,0(v0)
48a14898:	2a06      	bnez	v0,48a148a6 <__anm_handle+0x32>
48a1489a:	b30b      	lw	v1,48a148c4 <__anm_handle+0x50>
    {
        g_anm_index++;
48a1489c:	b20a      	lw	v0,48a148c4 <__anm_handle+0x50>
48a1489e:	a240      	lbu	v0,0(v0)
48a148a0:	4241      	addiu	v0,v0,1
48a148a2:	c340      	sb	v0,0(v1)
48a148a4:	1005      	b	48a148b0 <__anm_handle+0x3c>
48a148a6:	b308      	lw	v1,48a148c4 <__anm_handle+0x50>
    }
    else
    {
        g_anm_index--;//0再减为0xff，(int8)0xff < 0
48a148a8:	b207      	lw	v0,48a148c4 <__anm_handle+0x50>
48a148aa:	a240      	lbu	v0,0(v0)
48a148ac:	424f      	addiu	v0,v0,-1
48a148ae:	c340      	sb	v0,0(v1)
48a148b0:	b209      	lw	v0,48a148d4 <__anm_handle+0x60>
    }

    //每帧动画中执行回调函数
    if (g_anm_callback != NULL)
48a148b2:	9a40      	lw	v0,0(v0)
48a148b4:	2203      	beqz	v0,48a148bc <__anm_handle+0x48>
48a148b6:	b208      	lw	v0,48a148d4 <__anm_handle+0x60>
    {
        g_anm_callback();
48a148b8:	9a40      	lw	v0,0(v0)
48a148ba:	eac0      	jalrc	v0
48a148bc:	65b9      	move	sp,s1
    }
}
48a148be:	6452      	restore	16,ra,s1
48a148c0:	e8a0      	jrc	ra
48a148c2:	0000      	addiu	s0,sp,0
48a148c4:	5bd0      	sltiu	v1,208
48a148c6:	9fc1      	lw	a2,4(a3)
48a148c8:	5bcc      	sltiu	v1,204
48a148ca:	9fc1      	lw	a2,4(a3)
48a148cc:	6bb1      	li	v1,177
48a148ce:	bfc1      	lwu	a2,4(a3)
48a148d0:	5bd1      	sltiu	v1,209
48a148d2:	9fc1      	lw	a2,4(a3)
48a148d4:	5bc8      	sltiu	v1,200
48a148d6:	9fc1      	lw	a2,4(a3)
	...
Disassembly of section BANK_UI_1_41:

48a54600 <timeup_func_proc>:
48a54600:	6491      	save	8,s1
extern void show_volumebar_ui(style_infor_t *style_infor, parambox_private_t *private_data,
        uint8 mode, progress_draw_mode_e progress_draw_mode) __FAR__;

void timeup_func_proc(void)
{
48a54602:	673d      	move	s1,sp
48a54604:	b303      	lw	v1,48a54610 <timeup_func_proc+0x10>
    g_vol_time_up_flag = TRUE;
48a54606:	6a01      	li	v0,1
48a54608:	c340      	sb	v0,0(v1)
48a5460a:	65b9      	move	sp,s1
}
48a5460c:	6411      	restore	8,s1
48a5460e:	e8a0      	jrc	ra
48a54610:	5b97      	sltiu	v1,151
48a54612:	9fc1      	lw	a2,4(a3)

48a54614 <volumebar_msg_deal>:
48a54614:	64da      	save	80,ra,s1

//volumebar gui app msg deal
app_result_e volumebar_msg_deal(param_com_data_t *param_com, int8 timeup_id, uint8 mode, progress_draw_mode_e* pprogress_draw_mode)
{
48a54616:	0104      	addiu	s1,sp,16
48a54618:	d990      	sw	a0,64(s1)
48a5461a:	6745      	move	v0,a1
48a5461c:	6766      	move	v1,a2
48a5461e:	d9f3      	sw	a3,76(s1)
48a54620:	f040 c144 	sb	v0,68(s1)
48a54624:	f040 c168 	sb	v1,72(s1)
48a54628:	6a00      	li	v0,0
    parambox_private_t *private_data;
    parambox_one_t *cur_one;
    input_gui_msg_t input_msg;
    msg_apps_type_e gui_event;
    private_msg_t private_msg;
    app_result_e result = RESULT_NULL;
48a5462a:	c954      	sh	v0,40(s1)
48a5462c:	9950      	lw	v0,64(s1)
    const key_map_t *this_key_map_list;

    private_data = param_com->private_data;
48a5462e:	9a40      	lw	v0,0(v0)
48a54630:	d940      	sw	v0,0(s1)
48a54632:	9980      	lw	a0,0(s1)
    cur_one = &(private_data->items[private_data->active]);
48a54634:	9940      	lw	v0,0(s1)
48a54636:	a267      	lbu	v1,7(v0)
48a54638:	6743      	move	v0,v1
48a5463a:	3244      	sll	v0,1
48a5463c:	e269      	addu	v0,v1
48a5463e:	334c      	sll	v1,v0,3
48a54640:	9c43      	lw	v0,12(a0)
48a54642:	e269      	addu	v0,v1
48a54644:	d941      	sw	v0,4(s1)
48a54646:	4147      	addiu	v0,s1,7

    //获取gui消息
    if (get_gui_msg(&input_msg) == TRUE)//有gui消息
48a54648:	4241      	addiu	v0,v0,1
48a5464a:	6782      	move	a0,v0
48a5464c:	b274      	lw	v0,48a5481c <volumebar_msg_deal+0x208>
48a5464e:	eac0      	jalrc	v0
48a54650:	7201      	cmpi	v0,1
48a54652:	6758      	move	v0,t8
48a54654:	5a01      	sltiu	v0,1
48a54656:	f0a0 6019 	bteqz	48a547cc <volumebar_msg_deal+0x1b8>
48a5465a:	f040 a148 	lbu	v0,72(s1)
    {
        //有按键，重新计算超时时间
        if (mode == SET_VOLUME_VALUE)
48a5465e:	2a05      	bnez	v0,48a5466a <volumebar_msg_deal+0x56>
48a54660:	f040 8144 	lb	v0,68(s1)
        {
            restart_app_timer(timeup_id);
48a54664:	6782      	move	a0,v0
48a54666:	b26f      	lw	v0,48a54820 <volumebar_msg_deal+0x20c>
48a54668:	eac0      	jalrc	v0
48a5466a:	f040 a148 	lbu	v0,72(s1)
        }

        if (mode == SET_VOLUME_VALUE)
48a5466e:	2a03      	bnez	v0,48a54676 <volumebar_msg_deal+0x62>
48a54670:	b26d      	lw	v0,48a54824 <volumebar_msg_deal+0x210>
        {
            this_key_map_list = volume_key_map_list;
48a54672:	d94b      	sw	v0,44(s1)
48a54674:	1002      	b	48a5467a <volumebar_msg_deal+0x66>
48a54676:	b26d      	lw	v0,48a54828 <volumebar_msg_deal+0x214>
        }
        else
        {
            this_key_map_list = limit_key_map_list;
48a54678:	d94b      	sw	v0,44(s1)
48a5467a:	4147      	addiu	v0,s1,7
        }

        //进行 gui消息映射
        if (com_key_mapping(&input_msg, &gui_event, this_key_map_list) == TRUE)
48a5467c:	4241      	addiu	v0,v0,1
48a5467e:	4167      	addiu	v1,s1,7
48a54680:	4b09      	addiu	v1,9
48a54682:	99cb      	lw	a2,44(s1)
48a54684:	6782      	move	a0,v0
48a54686:	67a3      	move	a1,v1
48a54688:	b269      	lw	v0,48a5482c <volumebar_msg_deal+0x218>
48a5468a:	eac0      	jalrc	v0
48a5468c:	7201      	cmpi	v0,1
48a5468e:	6758      	move	v0,t8
48a54690:	5a01      	sltiu	v0,1
48a54692:	f0a0 601d 	bteqz	48a54810 <volumebar_msg_deal+0x1fc>
48a54696:	a948      	lhu	v0,16(s1)
        {
            switch (gui_event)
48a54698:	d94c      	sw	v0,48(s1)
48a5469a:	994c      	lw	v0,48(s1)
48a5469c:	f504 7202 	cmpi	v0,9474
48a546a0:	6758      	move	v0,t8
48a546a2:	5a01      	sltiu	v0,1
48a546a4:	6151      	btnez	48a54748 <volumebar_msg_deal+0x134>
48a546a6:	994c      	lw	v0,48(s1)
48a546a8:	f504 5203 	slti	v0,9475
48a546ac:	6007      	bteqz	48a546bc <volumebar_msg_deal+0xa8>
48a546ae:	994c      	lw	v0,48(s1)
48a546b0:	f504 7201 	cmpi	v0,9473
48a546b4:	6758      	move	v0,t8
48a546b6:	5a01      	sltiu	v0,1
48a546b8:	610e      	btnez	48a546d6 <volumebar_msg_deal+0xc2>
48a546ba:	1070      	b	48a5479c <volumebar_msg_deal+0x188>
48a546bc:	994c      	lw	v0,48(s1)
48a546be:	f504 7203 	cmpi	v0,9475
48a546c2:	6758      	move	v0,t8
48a546c4:	5a01      	sltiu	v0,1
48a546c6:	6160      	btnez	48a54788 <volumebar_msg_deal+0x174>
48a546c8:	994c      	lw	v0,48(s1)
48a546ca:	f504 7204 	cmpi	v0,9476
48a546ce:	6758      	move	v0,t8
48a546d0:	5a01      	sltiu	v0,1
48a546d2:	615f      	btnez	48a54792 <volumebar_msg_deal+0x17e>
48a546d4:	1063      	b	48a5479c <volumebar_msg_deal+0x188>
48a546d6:	f040 a148 	lbu	v0,72(s1)
            {
                case EVENT_VOLUME_INC:
                //参数值递增
                if (mode == SET_VOLUME_LIMIT)
48a546da:	7201      	cmpi	v0,1
48a546dc:	6758      	move	v0,t8
48a546de:	5a01      	sltiu	v0,1
48a546e0:	6018      	bteqz	48a54712 <volumebar_msg_deal+0xfe>
48a546e2:	9941      	lw	v0,4(s1)
                {
                    if (cur_one->value < cur_one->max)
48a546e4:	9961      	lw	v1,4(s1)
48a546e6:	8a84      	lh	a0,8(v0)
48a546e8:	8b42      	lh	v0,4(v1)
48a546ea:	ec42      	slt	a0,v0
48a546ec:	f080 6010 	bteqz	48a54810 <volumebar_msg_deal+0x1fc>
48a546f0:	99a1      	lw	a1,4(s1)
                    {
                        cur_one->value += cur_one->step;
48a546f2:	9941      	lw	v0,4(s1)
48a546f4:	9961      	lw	v1,4(s1)
48a546f6:	aa84      	lhu	a0,8(v0)
48a546f8:	ab43      	lhu	v0,6(v1)
48a546fa:	e449      	addu	v0,a0,v0
48a546fc:	cd44      	sh	v0,8(a1)
48a546fe:	9970      	lw	v1,64(s1)
                        param_com->draw_mode = PARAMBOX_DRAW_VALUE;
48a54700:	6a01      	li	v0,1
48a54702:	c344      	sb	v0,4(v1)
48a54704:	9941      	lw	v0,4(s1)

                        com_set_sound_volume((uint8) (cur_one->value));
48a54706:	aa44      	lhu	v0,8(v0)
48a54708:	ea11      	zeb	v0
48a5470a:	6782      	move	a0,v0
48a5470c:	b249      	lw	v0,48a54830 <volumebar_msg_deal+0x21c>
48a5470e:	eac0      	jalrc	v0
48a54710:	107f      	b	48a54810 <volumebar_msg_deal+0x1fc>
                    }

                    break;//for QAC，至此case分支结束
48a54712:	9941      	lw	v0,4(s1)
                }

                //至此，说明mode不等于SET_VOLUME_LIMIT ，for QAC ，减少1层控制嵌套
                if (cur_one->value < sys_comval->volume_limit)
48a54714:	8a64      	lh	v1,8(v0)
48a54716:	b248      	lw	v0,48a54834 <volumebar_msg_deal+0x220>
48a54718:	9a40      	lw	v0,0(v0)
48a5471a:	a24f      	lbu	v0,15(v0)
48a5471c:	eb42      	slt	v1,v0
48a5471e:	6078      	bteqz	48a54810 <volumebar_msg_deal+0x1fc>
48a54720:	99a1      	lw	a1,4(s1)
                {
                    cur_one->value += cur_one->step;
48a54722:	9941      	lw	v0,4(s1)
48a54724:	9961      	lw	v1,4(s1)
48a54726:	aa84      	lhu	a0,8(v0)
48a54728:	ab43      	lhu	v0,6(v1)
48a5472a:	e449      	addu	v0,a0,v0
48a5472c:	cd44      	sh	v0,8(a1)
48a5472e:	9970      	lw	v1,64(s1)
                    param_com->draw_mode = PARAMBOX_DRAW_VALUE;
48a54730:	6a01      	li	v0,1
48a54732:	c344      	sb	v0,4(v1)
48a54734:	f040 a148 	lbu	v0,72(s1)

                    if (mode == SET_VOLUME_VALUE)
48a54738:	2a6b      	bnez	v0,48a54810 <volumebar_msg_deal+0x1fc>
48a5473a:	9941      	lw	v0,4(s1)
                    {
                        com_set_sound_volume((uint8) (cur_one->value));
48a5473c:	aa44      	lhu	v0,8(v0)
48a5473e:	ea11      	zeb	v0
48a54740:	6782      	move	a0,v0
48a54742:	b23c      	lw	v0,48a54830 <volumebar_msg_deal+0x21c>
48a54744:	eac0      	jalrc	v0
48a54746:	1064      	b	48a54810 <volumebar_msg_deal+0x1fc>
                    }
                }
                break;
48a54748:	9941      	lw	v0,4(s1)

                case EVENT_VOLUME_DEC:
                //参数值递减
                if (cur_one->value > cur_one->min)
48a5474a:	9961      	lw	v1,4(s1)
48a5474c:	8a84      	lh	a0,8(v0)
48a5474e:	8b41      	lh	v0,2(v1)
48a54750:	ea82      	slt	v0,a0
48a54752:	605e      	bteqz	48a54810 <volumebar_msg_deal+0x1fc>
48a54754:	99a1      	lw	a1,4(s1)
                {
                    cur_one->value -= cur_one->step;
48a54756:	9941      	lw	v0,4(s1)
48a54758:	9961      	lw	v1,4(s1)
48a5475a:	aa84      	lhu	a0,8(v0)
48a5475c:	ab43      	lhu	v0,6(v1)
48a5475e:	e44b      	subu	v0,a0,v0
48a54760:	cd44      	sh	v0,8(a1)
48a54762:	9970      	lw	v1,64(s1)
                    param_com->draw_mode = PARAMBOX_DRAW_VALUE;
48a54764:	6a01      	li	v0,1
48a54766:	c344      	sb	v0,4(v1)
48a54768:	f040 a148 	lbu	v0,72(s1)

                    if ((mode == SET_VOLUME_LIMIT) || (mode == SET_VOLUME_VALUE))
48a5476c:	7201      	cmpi	v0,1
48a5476e:	6758      	move	v0,t8
48a54770:	5a01      	sltiu	v0,1
48a54772:	6103      	btnez	48a5477a <volumebar_msg_deal+0x166>
48a54774:	f040 a148 	lbu	v0,72(s1)
48a54778:	2a4b      	bnez	v0,48a54810 <volumebar_msg_deal+0x1fc>
48a5477a:	9941      	lw	v0,4(s1)
                    {
                        com_set_sound_volume((uint8) (cur_one->value));
48a5477c:	aa44      	lhu	v0,8(v0)
48a5477e:	ea11      	zeb	v0
48a54780:	6782      	move	a0,v0
48a54782:	b22c      	lw	v0,48a54830 <volumebar_msg_deal+0x21c>
48a54784:	eac0      	jalrc	v0
48a54786:	1044      	b	48a54810 <volumebar_msg_deal+0x1fc>
                    }
                }
                break;
48a54788:	f7ef 6a0f 	li	v0,32751

                case EVENT_VOLUME_CONFIRM:
                //确定，退出音量设置
                result = RESULT_CONFIRM;
48a5478c:	ea4b      	neg	v0
48a5478e:	c954      	sh	v0,40(s1)
48a54790:	103f      	b	48a54810 <volumebar_msg_deal+0x1fc>
                break;
48a54792:	f7ef 6a0c 	li	v0,32748

                case EVENT_VOLUME_CANCEL:
                //取消，退出音量设置
                result = RESULT_REDRAW;
48a54796:	ea4b      	neg	v0
48a54798:	c954      	sh	v0,40(s1)
48a5479a:	103a      	b	48a54810 <volumebar_msg_deal+0x1fc>
                break;
48a5479c:	a948      	lhu	v0,16(s1)

                default:
                result = com_message_box(gui_event);
48a5479e:	6782      	move	a0,v0
48a547a0:	b226      	lw	v0,48a54838 <volumebar_msg_deal+0x224>
48a547a2:	eac0      	jalrc	v0
48a547a4:	c954      	sh	v0,40(s1)
48a547a6:	a974      	lhu	v1,40(s1)
                if (result == RESULT_REDRAW)
48a547a8:	f010 6a14 	li	v0,32788
48a547ac:	ea6e      	xor	v0,v1
48a547ae:	5a01      	sltiu	v0,1
48a547b0:	602f      	bteqz	48a54810 <volumebar_msg_deal+0x1fc>
48a547b2:	9970      	lw	v1,64(s1)
                {
                    param_com->draw_mode = PARAMBOX_DRAW_ALL;
48a547b4:	6a03      	li	v0,3
48a547b6:	c344      	sb	v0,4(v1)
48a547b8:	9973      	lw	v1,76(s1)
                    *pprogress_draw_mode = PROGRESS_DRAW_ALL;
48a547ba:	6a06      	li	v0,6
48a547bc:	c340      	sb	v0,0(v1)
48a547be:	b320      	lw	v1,48a5483c <volumebar_msg_deal+0x228>
                    volume_enter_forbidden = 0xff;
48a547c0:	6a01      	li	v0,1
48a547c2:	ea4b      	neg	v0
48a547c4:	c340      	sb	v0,0(v1)
48a547c6:	6a00      	li	v0,0
                    result = RESULT_NULL;//不退出控件
48a547c8:	c954      	sh	v0,40(s1)
48a547ca:	1022      	b	48a54810 <volumebar_msg_deal+0x1fc>
                }
                break;
48a547cc:	4147      	addiu	v0,s1,7
            }
        }
    }
    else
    {
        //到此，gui消息队列已经处理完毕
        //处理ap私有消息和系统消息
        if (get_app_msg(&private_msg) == TRUE)
48a547ce:	4a11      	addiu	v0,17
48a547d0:	6782      	move	a0,v0
48a547d2:	b21c      	lw	v0,48a54840 <volumebar_msg_deal+0x22c>
48a547d4:	eac0      	jalrc	v0
48a547d6:	7201      	cmpi	v0,1
48a547d8:	6758      	move	v0,t8
48a547da:	5a01      	sltiu	v0,1
48a547dc:	6019      	bteqz	48a54810 <volumebar_msg_deal+0x1fc>
48a547de:	b21a      	lw	v0,48a54844 <volumebar_msg_deal+0x230>
        {
            result = g_this_app_msg_dispatch(&private_msg);
48a547e0:	4167      	addiu	v1,s1,7
48a547e2:	4b11      	addiu	v1,17
48a547e4:	9a40      	lw	v0,0(v0)
48a547e6:	6783      	move	a0,v1
48a547e8:	eac0      	jalrc	v0
48a547ea:	c954      	sh	v0,40(s1)
48a547ec:	a974      	lhu	v1,40(s1)
            if (result == RESULT_REDRAW)
48a547ee:	f010 6a14 	li	v0,32788
48a547f2:	ea6e      	xor	v0,v1
48a547f4:	5a01      	sltiu	v0,1
48a547f6:	600c      	bteqz	48a54810 <volumebar_msg_deal+0x1fc>
48a547f8:	9970      	lw	v1,64(s1)
            {
                param_com->draw_mode = PARAMBOX_DRAW_ALL;
48a547fa:	6a03      	li	v0,3
48a547fc:	c344      	sb	v0,4(v1)
48a547fe:	9973      	lw	v1,76(s1)
                *pprogress_draw_mode = PROGRESS_DRAW_ALL;
48a54800:	6a06      	li	v0,6
48a54802:	c340      	sb	v0,0(v1)
48a54804:	b30e      	lw	v1,48a5483c <volumebar_msg_deal+0x228>
                volume_enter_forbidden = 0xff;
48a54806:	6a01      	li	v0,1
48a54808:	ea4b      	neg	v0
48a5480a:	c340      	sb	v0,0(v1)
48a5480c:	6a00      	li	v0,0
                result = RESULT_NULL;//不退出控件
48a5480e:	c954      	sh	v0,40(s1)
48a54810:	a954      	lhu	v0,40(s1)
            }
        }
    }

    return result;
48a54812:	651a      	move	t8,v0
48a54814:	6758      	move	v0,t8
}
48a54816:	65b9      	move	sp,s1
48a54818:	6458      	restore	64,ra,s1
48a5481a:	e8a0      	jrc	ra
48a5481c:	66d5      	0x66d5
48a5481e:	bfc1      	lwu	a2,4(a3)
48a54820:	46f5      	daddiu	a3,a2,5
48a54822:	4845      	addiu	s0,69
48a54824:	4730      	daddiu	s1,a3,0
48a54826:	4855      	addiu	s0,85
48a54828:	475c      	daddiu	v0,a3,-4
48a5482a:	4855      	addiu	s0,85
48a5482c:	47ad      	addiu	a1,a3,-3
48a5482e:	4855      	addiu	s0,85
48a54830:	4761      	addiu	v1,a3,1
48a54832:	486d      	addiu	s0,109
48a54834:	5a48      	sltiu	v0,72
48a54836:	9fc1      	lw	a2,4(a3)
48a54838:	4601      	addiu	s0,a2,1
48a5483a:	48bd      	addiu	s0,-67
48a5483c:	5b96      	sltiu	v1,150
48a5483e:	9fc1      	lw	a2,4(a3)
48a54840:	6741      	move	v0,at
48a54842:	bfc1      	lwu	a2,4(a3)
48a54844:	a1f8      	lbu	a3,24(s1)
48a54846:	9fc1      	lw	a2,4(a3)

48a54848 <ui_set_parameter_volume>:
48a54848:	64d6      	save	48,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *    参数设置控件控制流主函数，是参数设置控件的外部接口
 * \param[in]    style_id ui editor工具设计的参数设置控件模板
 * \param[in]    param_com 指向参数设置控件初始化结构体变量，是上层对参数设置控件的控制命令或参数
 * \param[in]    mode 设置模式， SET_VOLUME_VALUE 表示设置实际音量， SET_VOLUME_LIMIT
 *               表示设置音量限制值，SET_VOLUME_ALARM 专用于 alarm 应用设置 alarm 音量
 * \param[out]   none
 * \return       app_result_e
 * \retval           RESULT_CONFIRM 确定音量设置返回
 * \retval           RESULT_REDRAW 取消音量设置退出，对于音量限制将不保存结果（调节音量时 4 秒钟没
 *                                  操作会自动返回 RESULT_REDRAW）
 * \retval           other 收到返回值不为 RESULT_NULL 应用消息返回，见 app_result_e 定义
 * \note
 *******************************************************************************/
app_result_e ui_set_parameter_volume(uint16 style_id, param_com_data_t *param_com, uint8 mode)
{
48a5484a:	0104      	addiu	s1,sp,16
48a5484c:	6764      	move	v1,a0
48a5484e:	d9a9      	sw	a1,36(s1)
48a54850:	6746      	move	v0,a2
48a54852:	c970      	sh	v1,32(s1)
48a54854:	f020 c148 	sb	v0,40(s1)
48a54858:	9949      	lw	v0,36(s1)
    parambox_private_t *private_data;
    style_infor_t style_infor;
    app_result_e result;
    int8 timeup_id;//设置音量超时返回定时器
    progress_draw_mode_e progress_draw_mode;

    private_data = param_com->private_data;
48a5485a:	9a40      	lw	v0,0(v0)
48a5485c:	d940      	sw	v0,0(s1)
48a5485e:	a950      	lhu	v0,32(s1)
    style_infor.style_id = style_id;
48a54860:	c944      	sh	v0,8(s1)
48a54862:	6a01      	li	v0,1
    style_infor.type = UI_COM;
48a54864:	c14a      	sb	v0,10(s1)
48a54866:	9980      	lw	a0,0(s1)

    //进入后，获取默认参数
    private_data->old = private_data->active = 0;
48a54868:	9960      	lw	v1,0(s1)
48a5486a:	6a00      	li	v0,0
48a5486c:	c347      	sb	v0,7(v1)
48a5486e:	6a00      	li	v0,0
48a54870:	c448      	sb	v0,8(a0)
48a54872:	b53b      	lw	a1,48a5495c <ui_set_parameter_volume+0x114>
    volume_value_last = private_data->items[private_data->active].value;//递增递减前音量值为 last 值
48a54874:	9980      	lw	a0,0(s1)
48a54876:	9940      	lw	v0,0(s1)
48a54878:	a267      	lbu	v1,7(v0)
48a5487a:	6743      	move	v0,v1
48a5487c:	3244      	sll	v0,1
48a5487e:	e269      	addu	v0,v1
48a54880:	334c      	sll	v1,v0,3
48a54882:	9c43      	lw	v0,12(a0)
48a54884:	e349      	addu	v0,v1,v0
48a54886:	aa44      	lhu	v0,8(v0)
48a54888:	cd40      	sh	v0,0(a1)
48a5488a:	f020 a148 	lbu	v0,40(s1)

    if (mode == SET_VOLUME_VALUE)
48a5488e:	2a0e      	bnez	v0,48a548ac <ui_set_parameter_volume+0x64>
48a54890:	b234      	lw	v0,48a54960 <ui_set_parameter_volume+0x118>
    {
        //过滤掉当前按键后续动作，保证只响应一次音量调节
        com_filter_key_hold();
48a54892:	eac0      	jalrc	v0
48a54894:	b334      	lw	v1,48a54960 <ui_set_parameter_volume+0x118>

        //设置 4 秒定时器
        g_vol_time_up_flag = FALSE;
48a54896:	6a00      	li	v0,0
48a54898:	c340      	sb	v0,0(v1)
48a5489a:	f7a1 6a00 	li	v0,4000
        timeup_id = set_app_timer(APP_TIMER_ATTRB_UI, 4000, timeup_func_proc);
48a5489e:	b333      	lw	v1,48a54968 <ui_set_parameter_volume+0x120>
48a548a0:	6c00      	li	a0,0
48a548a2:	67a2      	move	a1,v0
48a548a4:	67c3      	move	a2,v1
48a548a6:	b232      	lw	v0,48a5496c <ui_set_parameter_volume+0x124>
48a548a8:	eac0      	jalrc	v0
48a548aa:	c152      	sb	v0,18(s1)
48a548ac:	9969      	lw	v1,36(s1)
    }

    //初始化
    param_com->draw_mode = PARAMBOX_DRAW_ALL;
48a548ae:	6a03      	li	v0,3
48a548b0:	c344      	sb	v0,4(v1)
48a548b2:	b330      	lw	v1,48a54970 <ui_set_parameter_volume+0x128>
    volume_enter_forbidden = 0xff;
48a548b4:	6a01      	li	v0,1
48a548b6:	ea4b      	neg	v0
48a548b8:	c340      	sb	v0,0(v1)
48a548ba:	6a06      	li	v0,6
    progress_draw_mode = PROGRESS_DRAW_ALL;
48a548bc:	c153      	sb	v0,19(s1)
48a548be:	f020 a148 	lbu	v0,40(s1)

    //进入设置参数消息循环
    while (1)
    {
        //设置音量超时返回
        if ((mode == SET_VOLUME_VALUE) && (g_vol_time_up_flag == TRUE))
48a548c2:	2a0b      	bnez	v0,48a548da <ui_set_parameter_volume+0x92>
48a548c4:	b228      	lw	v0,48a54964 <ui_set_parameter_volume+0x11c>
48a548c6:	a240      	lbu	v0,0(v0)
48a548c8:	7201      	cmpi	v0,1
48a548ca:	6758      	move	v0,t8
48a548cc:	5a01      	sltiu	v0,1
48a548ce:	6005      	bteqz	48a548da <ui_set_parameter_volume+0x92>
48a548d0:	f7ef 6a0c 	li	v0,32748
        {
            result = RESULT_REDRAW;
48a548d4:	ea4b      	neg	v0
48a548d6:	c948      	sh	v0,16(s1)
48a548d8:	1034      	b	48a54942 <ui_set_parameter_volume+0xfa>
            break;
48a548da:	9949      	lw	v0,36(s1)
        }

        if (param_com->draw_mode != PARAMBOX_DRAW_NULL)
48a548dc:	a244      	lbu	v0,4(v0)
48a548de:	221b      	beqz	v0,48a54916 <ui_set_parameter_volume+0xce>
48a548e0:	4147      	addiu	v0,s1,7
        {
            //显示音量条UI
            show_volumebar_ui(&style_infor, private_data, mode, progress_draw_mode);
48a548e2:	4241      	addiu	v0,v0,1
48a548e4:	9960      	lw	v1,0(s1)
48a548e6:	f020 a1c8 	lbu	a2,40(s1)
48a548ea:	a1f3      	lbu	a3,19(s1)
48a548ec:	6782      	move	a0,v0
48a548ee:	67a3      	move	a1,v1
48a548f0:	b221      	lw	v0,48a54974 <ui_set_parameter_volume+0x12c>
48a548f2:	eac0      	jalrc	v0
48a548f4:	b51a      	lw	a1,48a54958 <ui_set_parameter_volume+0x110>
            //更新last值
            volume_value_last = private_data->items[private_data->active].value;
48a548f6:	9980      	lw	a0,0(s1)
48a548f8:	9940      	lw	v0,0(s1)
48a548fa:	a267      	lbu	v1,7(v0)
48a548fc:	6743      	move	v0,v1
48a548fe:	3244      	sll	v0,1
48a54900:	e269      	addu	v0,v1
48a54902:	334c      	sll	v1,v0,3
48a54904:	9c43      	lw	v0,12(a0)
48a54906:	e349      	addu	v0,v1,v0
48a54908:	aa44      	lhu	v0,8(v0)
48a5490a:	cd40      	sh	v0,0(a1)
48a5490c:	9969      	lw	v1,36(s1)
            param_com->draw_mode = PARAMBOX_DRAW_NULL;
48a5490e:	6a00      	li	v0,0
48a54910:	c344      	sb	v0,4(v1)
48a54912:	6a01      	li	v0,1
            progress_draw_mode = PROGRESS_DRAW_PROGRESS;
48a54914:	c153      	sb	v0,19(s1)
48a54916:	9949      	lw	v0,36(s1)
        }

        result = volumebar_msg_deal(param_com, timeup_id, mode, &progress_draw_mode);
48a54918:	8172      	lb	v1,18(s1)
48a5491a:	f020 a1c8 	lbu	a2,40(s1)
48a5491e:	41e7      	addiu	a3,s1,7
48a54920:	4f0c      	addiu	a3,12
48a54922:	6782      	move	a0,v0
48a54924:	67a3      	move	a1,v1
48a54926:	1931 5185 	jal	48a54614 <volumebar_msg_deal>
48a5492a:	6500      	nop
48a5492c:	c948      	sh	v0,16(s1)
48a5492e:	a948      	lhu	v0,16(s1)
        if (result != RESULT_NULL)
48a54930:	2201      	beqz	v0,48a54934 <ui_set_parameter_volume+0xec>
48a54932:	1007      	b	48a54942 <ui_set_parameter_volume+0xfa>
        {
            break;
48a54934:	6c01      	li	a0,1
        }

        //挂起10ms，多任务调度
        sys_os_time_dly(1);
48a54936:	6d00      	li	a1,0
48a54938:	6e00      	li	a2,0
48a5493a:	6f31      	li	a3,49
48a5493c:	b20f      	lw	v0,48a54978 <ui_set_parameter_volume+0x130>
48a5493e:	eac0      	jalrc	v0
48a54940:	17be      	b	48a548be <ui_set_parameter_volume+0x76>
48a54942:	f020 a148 	lbu	v0,40(s1)
    }

    if (mode == SET_VOLUME_VALUE)
48a54946:	2a04      	bnez	v0,48a54950 <ui_set_parameter_volume+0x108>
48a54948:	8152      	lb	v0,18(s1)
    {
        kill_app_timer(timeup_id);
48a5494a:	6782      	move	a0,v0
48a5494c:	b20c      	lw	v0,48a5497c <ui_set_parameter_volume+0x134>
48a5494e:	eac0      	jalrc	v0
48a54950:	a948      	lhu	v0,16(s1)
    }
    return result;
48a54952:	651a      	move	t8,v0
48a54954:	6758      	move	v0,t8
}
48a54956:	65b9      	move	sp,s1
48a54958:	6454      	restore	32,ra,s1
48a5495a:	e8a0      	jrc	ra
48a5495c:	5b94      	sltiu	v1,148
48a5495e:	9fc1      	lw	a2,4(a3)
48a54960:	487d      	addiu	s0,125
48a54962:	4869      	addiu	s0,105
48a54964:	5b97      	sltiu	v1,151
48a54966:	9fc1      	lw	a2,4(a3)
48a54968:	4601      	addiu	s0,a2,1
48a5496a:	48a5      	addiu	s0,-91
48a5496c:	4601      	addiu	s0,a2,1
48a5496e:	4845      	addiu	s0,69
48a54970:	5b96      	sltiu	v1,150
48a54972:	9fc1      	lw	a2,4(a3)
48a54974:	4651      	daddiu	v0,a2,1
48a54976:	48a9      	addiu	s0,-87
48a54978:	640d      	restore	104
48a5497a:	bfc1      	lwu	a2,4(a3)
48a5497c:	473d      	daddiu	s1,a3,-3
48a5497e:	4845      	addiu	s0,69

48a54980 <gui_volumebar>:
48a54980:	64da      	save	80,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *    音量设置控件，设置音量值或音量限制值。
 * \param[in]    volume 当前音量值指针
 * \param[in]    limit 音量限制值指针
 * \param[in]    mode 设置模式， SET_VOLUME_VALUE 表示设置实际音量， SET_VOLUME_LIMIT
 *               表示设置音量限制值，SET_VOLUME_ALARM 专用于 alarm 应用设置 alarm 音量
 * \param[out]   volume 返回设置好的音量值
 * \return       app_result_e（同 ui_set_parameter_volume 一致）
 * \retval           RESULT_CONFIRM 确定音量（限制）设置返回
 * \retval           RESULT_REDRAW 取消音量设置退出，对于音量限制将不保存结果
 * \retval           other 收到返回值不为 RESULT_NULL 应用消息返回，见 app_result_e 定义
 * \note
 *******************************************************************************/
app_result_e gui_volumebar(uint8 *volume, uint8 *limit, uint8 mode)
{
48a54982:	0104      	addiu	s1,sp,16
48a54984:	d990      	sw	a0,64(s1)
48a54986:	d9b1      	sw	a1,68(s1)
48a54988:	6746      	move	v0,a2
48a5498a:	f040 c148 	sb	v0,72(s1)
48a5498e:	f0c3 6a03 	li	v0,6339
    param_com_data_t param_com;
    parambox_private_t param_private;
    parambox_one_t param_volume;
    app_result_e result;
    uint8 tag_backup;
    uint8 mode_backup, icon_backup;
    //gui_direct_e direct_bk;

    //draw bg
    ui_set_backgd_color(Color_BACKCOLOR_def);//清为全黑屏
48a54992:	6782      	move	a0,v0
48a54994:	6d00      	li	a1,0
48a54996:	6e00      	li	a2,0
48a54998:	6f14      	li	a3,20
48a5499a:	b260      	lw	v0,48a54b18 <gui_volumebar+0x198>
48a5499c:	eac0      	jalrc	v0
48a5499e:	6c00      	li	a0,0
    ui_clear_screen(NULL);
48a549a0:	6d00      	li	a1,0
48a549a2:	6e00      	li	a2,0
48a549a4:	6f12      	li	a3,18
48a549a6:	b25d      	lw	v0,48a54b18 <gui_volumebar+0x198>
48a549a8:	eac0      	jalrc	v0
48a549aa:	1931 52d1 	jal	48a54b44 <get_app_timer_tag>

    tag_backup = get_app_timer_tag();
48a549ae:	6500      	nop
48a549b0:	f020 c152 	sb	v0,50(s1)
48a549b4:	6c8d      	li	a0,141
    change_app_timer_tag(APP_TIEMR_TAG_VOLUME);
48a549b6:	1931 52cb 	jal	48a54b2c <change_app_timer_tag>
48a549ba:	6500      	nop
48a549bc:	4147      	addiu	v0,s1,7

    //direct_bk = com_get_gui_direction();

    //com_set_gui_direction(GUI_DIRECT_NORMAL);

    gui_get_headbar_mode(&mode_backup, &icon_backup);
48a549be:	4a2c      	addiu	v0,44
48a549c0:	4167      	addiu	v1,s1,7
48a549c2:	4b2d      	addiu	v1,45
48a549c4:	6782      	move	a0,v0
48a549c6:	67a3      	move	a1,v1
48a549c8:	b255      	lw	v0,48a54b1c <gui_volumebar+0x19c>
48a549ca:	eac0      	jalrc	v0
48a549cc:	f040 a148 	lbu	v0,72(s1)
    if (mode == SET_VOLUME_VALUE)
48a549d0:	2a07      	bnez	v0,48a549e0 <gui_volumebar+0x60>
48a549d2:	b254      	lw	v0,48a54b20 <gui_volumebar+0x1a0>
    {
        gui_set_headbar_mode(HEADBAR_MODE_NULL, this_headbar_icon_id);
48a549d4:	a240      	lbu	v0,0(v0)
48a549d6:	6c00      	li	a0,0
48a549d8:	67a2      	move	a1,v0
48a549da:	b253      	lw	v0,48a54b24 <gui_volumebar+0x1a4>
48a549dc:	eac0      	jalrc	v0
48a549de:	1006      	b	48a549ec <gui_volumebar+0x6c>
48a549e0:	b250      	lw	v0,48a54b20 <gui_volumebar+0x1a0>
    }
    else//音量限制设置，同普通参数设置一样
    {
        gui_set_headbar_mode(HEADBAR_MODE_NORMAL, this_headbar_icon_id);
48a549e2:	a240      	lbu	v0,0(v0)
48a549e4:	6c01      	li	a0,1
48a549e6:	67a2      	move	a1,v0
48a549e8:	b24f      	lw	v0,48a54b24 <gui_volumebar+0x1a4>
48a549ea:	eac0      	jalrc	v0
48a549ec:	6a01      	li	v0,1
    }

    param_volume.unit_id = V_U16_INVALID;
48a549ee:	ea4b      	neg	v0
48a549f0:	c94c      	sh	v0,24(s1)
48a549f2:	6a00      	li	v0,0
    param_volume.min = 0;
48a549f4:	c94d      	sh	v0,26(s1)
48a549f6:	6a1f      	li	v0,31
    param_volume.max = VOLUME_VALUE_MAX;
48a549f8:	c94e      	sh	v0,28(s1)
48a549fa:	6a01      	li	v0,1
    param_volume.step = 1;
48a549fc:	c94f      	sh	v0,30(s1)
48a549fe:	9951      	lw	v0,68(s1)

    if ((int16) (*limit) < (int16) (*volume))
48a54a00:	9970      	lw	v1,64(s1)
48a54a02:	a280      	lbu	a0,0(v0)
48a54a04:	a340      	lbu	v0,0(v1)
48a54a06:	ec43      	sltu	a0,v0
48a54a08:	6004      	bteqz	48a54a12 <gui_volumebar+0x92>
48a54a0a:	9950      	lw	v0,64(s1)
    {
        (int16) (*volume) = (int16) (*limit);
48a54a0c:	9971      	lw	v1,68(s1)
48a54a0e:	a360      	lbu	v1,0(v1)
48a54a10:	c260      	sb	v1,0(v0)
48a54a12:	f040 a148 	lbu	v0,72(s1)
    }

    if (mode == SET_VOLUME_LIMIT)
48a54a16:	7201      	cmpi	v0,1
48a54a18:	6758      	move	v0,t8
48a54a1a:	5a01      	sltiu	v0,1
48a54a1c:	6004      	bteqz	48a54a26 <gui_volumebar+0xa6>
48a54a1e:	9951      	lw	v0,68(s1)
    {
        param_volume.value = (int16) (*limit);
48a54a20:	a240      	lbu	v0,0(v0)
48a54a22:	c950      	sh	v0,32(s1)
48a54a24:	1003      	b	48a54a2c <gui_volumebar+0xac>
48a54a26:	9950      	lw	v0,64(s1)
    }
    else
    {
        param_volume.value = (int16) (*volume);
48a54a28:	a240      	lbu	v0,0(v0)
48a54a2a:	c950      	sh	v0,32(s1)
48a54a2c:	6a00      	li	v0,0
    }
    param_volume.value_str = NULL;
48a54a2e:	d949      	sw	v0,36(s1)
48a54a30:	6a00      	li	v0,0
    param_volume.cycle = FALSE;
48a54a32:	f020 c142 	sb	v0,34(s1)
48a54a36:	6a02      	li	v0,2
    param_volume.max_number = 2;
48a54a38:	f020 c143 	sb	v0,35(s1)
48a54a3c:	6a00      	li	v0,0
    param_volume.adjust_func = NULL;
48a54a3e:	d94a      	sw	v0,40(s1)
48a54a40:	6a01      	li	v0,1

    param_private.back_id = -1;
48a54a42:	ea4b      	neg	v0
48a54a44:	c944      	sh	v0,8(s1)
48a54a46:	6a01      	li	v0,1
    param_private.icon_id = V_U16_INVALID;
48a54a48:	ea4b      	neg	v0
48a54a4a:	c945      	sh	v0,10(s1)
48a54a4c:	6a01      	li	v0,1
    param_private.title_id = V_U16_INVALID;
48a54a4e:	ea4b      	neg	v0
48a54a50:	c946      	sh	v0,12(s1)
48a54a52:	6a01      	li	v0,1
    param_private.param_cnt = 1;
48a54a54:	c14e      	sb	v0,14(s1)
48a54a56:	6a00      	li	v0,0
    param_private.active = 0;
48a54a58:	c14f      	sb	v0,15(s1)
48a54a5a:	6a00      	li	v0,0
    param_private.old = 0;
48a54a5c:	c150      	sb	v0,16(s1)
48a54a5e:	4147      	addiu	v0,s1,7
    param_private.items = &param_volume;
48a54a60:	4a11      	addiu	v0,17
48a54a62:	d945      	sw	v0,20(s1)
48a54a64:	6a00      	li	v0,0
    param_private.sign_flag = 0;
48a54a66:	c151      	sb	v0,17(s1)
48a54a68:	4147      	addiu	v0,s1,7

    param_com.private_data = &param_private;
48a54a6a:	4241      	addiu	v0,v0,1
48a54a6c:	d940      	sw	v0,0(s1)
48a54a6e:	f00a 6a00 	li	v0,20480

    result = ui_set_parameter_volume(VOLUMEPROGRESSBAR, &param_com, mode);
48a54a72:	f040 a168 	lbu	v1,72(s1)
48a54a76:	6782      	move	a0,v0
48a54a78:	67b1      	move	a1,s1
48a54a7a:	67c3      	move	a2,v1
48a54a7c:	1931 5212 	jal	48a54848 <ui_set_parameter_volume>
48a54a80:	6500      	nop
48a54a82:	c958      	sh	v0,48(s1)
48a54a84:	f040 a148 	lbu	v0,72(s1)
    if (mode == SET_VOLUME_VALUE)
48a54a88:	2a04      	bnez	v0,48a54a92 <gui_volumebar+0x112>
48a54a8a:	9970      	lw	v1,64(s1)
    {
        *volume = (uint8) param_volume.value;
48a54a8c:	a950      	lhu	v0,32(s1)
48a54a8e:	c340      	sb	v0,0(v1)
48a54a90:	102f      	b	48a54af0 <gui_volumebar+0x170>
48a54a92:	f040 a148 	lbu	v0,72(s1)
    }
    else if (mode == SET_VOLUME_ALARM)
48a54a96:	7202      	cmpi	v0,2
48a54a98:	6758      	move	v0,t8
48a54a9a:	5a01      	sltiu	v0,1
48a54a9c:	600a      	bteqz	48a54ab2 <gui_volumebar+0x132>
48a54a9e:	a978      	lhu	v1,48(s1)
    {
        if (result == RESULT_CONFIRM)
48a54aa0:	f010 6a11 	li	v0,32785
48a54aa4:	ea6e      	xor	v0,v1
48a54aa6:	5a01      	sltiu	v0,1
48a54aa8:	6023      	bteqz	48a54af0 <gui_volumebar+0x170>
48a54aaa:	9970      	lw	v1,64(s1)
        {
            *volume = (uint8) param_volume.value;
48a54aac:	a950      	lhu	v0,32(s1)
48a54aae:	c340      	sb	v0,0(v1)
48a54ab0:	101f      	b	48a54af0 <gui_volumebar+0x170>
48a54ab2:	a978      	lhu	v1,48(s1)
        }
    }
    else//音量限制
    {
        if (result == RESULT_CONFIRM)
48a54ab4:	f010 6a11 	li	v0,32785
48a54ab8:	ea6e      	xor	v0,v1
48a54aba:	5a01      	sltiu	v0,1
48a54abc:	6014      	bteqz	48a54ae6 <gui_volumebar+0x166>
48a54abe:	9971      	lw	v1,68(s1)
        {
            *limit = (uint8) param_volume.value;
48a54ac0:	a950      	lhu	v0,32(s1)
48a54ac2:	c340      	sb	v0,0(v1)
48a54ac4:	9950      	lw	v0,64(s1)
            if (*volume > (uint8) param_volume.value)
48a54ac6:	a970      	lhu	v1,32(s1)
48a54ac8:	a280      	lbu	a0,0(v0)
48a54aca:	6743      	move	v0,v1
48a54acc:	ea11      	zeb	v0
48a54ace:	ea83      	sltu	v0,a0
48a54ad0:	6004      	bteqz	48a54ada <gui_volumebar+0x15a>
48a54ad2:	9970      	lw	v1,64(s1)
            {
                *volume = (uint8) param_volume.value;
48a54ad4:	a950      	lhu	v0,32(s1)
48a54ad6:	c340      	sb	v0,0(v1)
48a54ad8:	100b      	b	48a54af0 <gui_volumebar+0x170>
48a54ada:	9950      	lw	v0,64(s1)
            }
            else
            {
                com_set_sound_volume(*volume);
48a54adc:	a240      	lbu	v0,0(v0)
48a54ade:	6782      	move	a0,v0
48a54ae0:	b212      	lw	v0,48a54b28 <gui_volumebar+0x1a8>
48a54ae2:	eac0      	jalrc	v0
48a54ae4:	1005      	b	48a54af0 <gui_volumebar+0x170>
48a54ae6:	9950      	lw	v0,64(s1)
            }
        }
        else
        {
            com_set_sound_volume(*volume);
48a54ae8:	a240      	lbu	v0,0(v0)
48a54aea:	6782      	move	a0,v0
48a54aec:	b20f      	lw	v0,48a54b28 <gui_volumebar+0x1a8>
48a54aee:	eac0      	jalrc	v0
48a54af0:	f020 a152 	lbu	v0,50(s1)
        }
    }

    //com_set_gui_direction(direct_bk);
    change_app_timer_tag(tag_backup);
48a54af4:	6782      	move	a0,v0
48a54af6:	1931 52cb 	jal	48a54b2c <change_app_timer_tag>
48a54afa:	6500      	nop
48a54afc:	f020 a153 	lbu	v0,51(s1)
    gui_set_headbar_mode(mode_backup, icon_backup);
48a54b00:	f020 a174 	lbu	v1,52(s1)
48a54b04:	6782      	move	a0,v0
48a54b06:	67a3      	move	a1,v1
48a54b08:	b207      	lw	v0,48a54b24 <gui_volumebar+0x1a4>
48a54b0a:	eac0      	jalrc	v0
48a54b0c:	a958      	lhu	v0,48(s1)
    return result;
48a54b0e:	651a      	move	t8,v0
48a54b10:	6758      	move	v0,t8
}
48a54b12:	65b9      	move	sp,s1
48a54b14:	6458      	restore	64,ra,s1
48a54b16:	e8a0      	jrc	ra
48a54b18:	6bb1      	li	v1,177
48a54b1a:	bfc1      	lwu	a2,4(a3)
48a54b1c:	4695      	daddiu	a0,a2,5
48a54b1e:	4885      	addiu	s0,-123
48a54b20:	5bac      	sltiu	v1,172
48a54b22:	9fc1      	lw	a2,4(a3)
48a54b24:	4601      	addiu	s0,a2,1
48a54b26:	4885      	addiu	s0,-123
48a54b28:	4761      	addiu	v1,a3,1
48a54b2a:	486d      	addiu	s0,109

48a54b2c <change_app_timer_tag>:
48a54b2c:	6491      	save	8,s1
48a54b2e:	673d      	move	s1,sp
48a54b30:	6744      	move	v0,a0
48a54b32:	c148      	sb	v0,8(s1)
48a54b34:	b303      	lw	v1,48a54b40 <change_app_timer_tag+0x14>
48a54b36:	a148      	lbu	v0,8(s1)
48a54b38:	c340      	sb	v0,0(v1)
48a54b3a:	65b9      	move	sp,s1
48a54b3c:	6411      	restore	8,s1
48a54b3e:	e8a0      	jrc	ra
48a54b40:	a200      	lbu	s0,0(v0)
48a54b42:	9fc1      	lw	a2,4(a3)

48a54b44 <get_app_timer_tag>:
48a54b44:	6491      	save	8,s1
48a54b46:	673d      	move	s1,sp
48a54b48:	b204      	lw	v0,48a54b58 <get_app_timer_tag+0x14>
48a54b4a:	a240      	lbu	v0,0(v0)
48a54b4c:	651a      	move	t8,v0
48a54b4e:	6758      	move	v0,t8
48a54b50:	65b9      	move	sp,s1
48a54b52:	6411      	restore	8,s1
48a54b54:	e8a0      	jrc	ra
48a54b56:	0000      	addiu	s0,sp,0
48a54b58:	a200      	lbu	s0,0(v0)
48a54b5a:	9fc1      	lw	a2,4(a3)
	...
Disassembly of section BANK_UI_1_42:

48a94600 <show_volume_extra>:
48a94600:	64d6      	save	48,ra,s1
#include "common_ui.h"

//显示音量条除了进度条外的其他小图标
void show_volume_extra(uint16 style_id, uint16 pic_id, uint16 offset)
{
48a94602:	0104      	addiu	s1,sp,16
48a94604:	6744      	move	v0,a0
48a94606:	6765      	move	v1,a1
48a94608:	6786      	move	a0,a2
48a9460a:	c950      	sh	v0,32(s1)
48a9460c:	c972      	sh	v1,36(s1)
48a9460e:	c994      	sh	a0,40(s1)
48a94610:	a950      	lhu	v0,32(s1)
    style_infor_t temp_style_infor;
    region_t pic_region;
    uint16 x, y;

    temp_style_infor.style_id = style_id;
48a94612:	c940      	sh	v0,0(s1)
48a94614:	6a01      	li	v0,1
    temp_style_infor.type = UI_COM;
48a94616:	c142      	sb	v0,2(s1)
48a94618:	4147      	addiu	v0,s1,7
    ui_get_picbox_attrb(&temp_style_infor, &pic_region, 0);
48a9461a:	4241      	addiu	v0,v0,1
48a9461c:	6791      	move	a0,s1
48a9461e:	67a2      	move	a1,v0
48a94620:	6e00      	li	a2,0
48a94622:	6f0d      	li	a3,13
48a94624:	b20a      	lw	v0,48a9464c <show_volume_extra+0x4c>
48a94626:	eac0      	jalrc	v0
48a94628:	a964      	lhu	v1,8(s1)

    /*x = pic_region.x;
     y = pic_region.y - offset;*/
    x = pic_region.x + offset;
48a9462a:	a954      	lhu	v0,40(s1)
48a9462c:	e349      	addu	v0,v1,v0
48a9462e:	c948      	sh	v0,16(s1)
48a94630:	a945      	lhu	v0,10(s1)
    y = pic_region.y;
48a94632:	c949      	sh	v0,18(s1)
48a94634:	a952      	lhu	v0,36(s1)
    ui_show_pic(pic_id, x, y);
48a94636:	a968      	lhu	v1,16(s1)
48a94638:	a9c9      	lhu	a2,18(s1)
48a9463a:	6782      	move	a0,v0
48a9463c:	67a3      	move	a1,v1
48a9463e:	6f1f      	li	a3,31
48a94640:	b203      	lw	v0,48a9464c <show_volume_extra+0x4c>
48a94642:	eac0      	jalrc	v0
48a94644:	65b9      	move	sp,s1
}
48a94646:	6454      	restore	32,ra,s1
48a94648:	e8a0      	jrc	ra
48a9464a:	0000      	addiu	s0,sp,0
48a9464c:	6bb1      	li	v1,177
48a9464e:	bfc1      	lwu	a2,4(a3)

48a94650 <show_volumebar_ui>:
48a94650:	64db      	save	88,ra,s1

//显示音量调UI
void show_volumebar_ui(style_infor_t *style_infor, parambox_private_t *private_data, uint8 mode,
        progress_draw_mode_e progress_draw_mode)
{
48a94652:	0104      	addiu	s1,sp,16
48a94654:	d992      	sw	a0,72(s1)
48a94656:	d9b3      	sw	a1,76(s1)
48a94658:	6746      	move	v0,a2
48a9465a:	6767      	move	v1,a3
48a9465c:	f040 c150 	sb	v0,80(s1)
48a94660:	f040 c174 	sb	v1,84(s1)
48a94664:	9993      	lw	a0,76(s1)
    parambox_one_t *cur_one = &(private_data->items[private_data->active]);
48a94666:	9953      	lw	v0,76(s1)
48a94668:	a267      	lbu	v1,7(v0)
48a9466a:	6743      	move	v0,v1
48a9466c:	3244      	sll	v0,1
48a9466e:	e269      	addu	v0,v1
48a94670:	334c      	sll	v1,v0,3
48a94672:	9c43      	lw	v0,12(a0)
48a94674:	e269      	addu	v0,v1
48a94676:	d940      	sw	v0,0(s1)
48a94678:	9940      	lw	v0,0(s1)
    uint16 total = (uint16) (cur_one->max - cur_one->min);
48a9467a:	9960      	lw	v1,0(s1)
48a9467c:	aa82      	lhu	a0,4(v0)
48a9467e:	ab41      	lhu	v0,2(v1)
48a94680:	e44b      	subu	v0,a0,v0
48a94682:	c942      	sh	v0,4(s1)
48a94684:	9940      	lw	v0,0(s1)
    uint16 current = (uint16) (cur_one->value - cur_one->min);
48a94686:	9960      	lw	v1,0(s1)
48a94688:	aa84      	lhu	a0,8(v0)
48a9468a:	ab41      	lhu	v0,2(v1)
48a9468c:	e44b      	subu	v0,a0,v0
48a9468e:	c943      	sh	v0,6(s1)
48a94690:	b29b      	lw	v0,48a948fc <show_volumebar_ui+0x2ac>
    //uint16 last_v = (uint16)(value_last - cur_one->min);
    uint16 limit = (uint16) (sys_comval->volume_limit - cur_one->min);
48a94692:	9a40      	lw	v0,0(v0)
48a94694:	a26f      	lbu	v1,15(v0)
48a94696:	9940      	lw	v0,0(s1)
48a94698:	aa41      	lhu	v0,2(v0)
48a9469a:	e34b      	subu	v0,v1,v0
48a9469c:	c944      	sh	v0,8(s1)
48a9469e:	6a00      	li	v0,0
    volume_processbar_param attrb_data;
    style_infor_t temp_style_infor;
    progressbar_private_t vol_progress;
    textbox_private_t textbox_data;
    picbox_private_t volumebar_speaker_pic;
    uint8 cur_value_str_arr[3] =
48a946a0:	c95c      	sh	v0,56(s1)
48a946a2:	6a00      	li	v0,0
48a946a4:	f020 c15a 	sb	v0,58(s1)
48a946a8:	6a01      	li	v0,1
    { 0 };

    temp_style_infor.type = UI_COM;
48a946aa:	c152      	sb	v0,18(s1)
48a946ac:	b295      	lw	v0,48a94900 <show_volumebar_ui+0x2b0>

    if (volume_enter_forbidden == 0xff)//初始化进入
48a946ae:	a240      	lbu	v0,0(v0)
48a946b0:	72ff      	cmpi	v0,255
48a946b2:	6758      	move	v0,t8
48a946b4:	5a01      	sltiu	v0,1
48a946b6:	6016      	bteqz	48a946e4 <show_volumebar_ui+0x94>
48a946b8:	f002 6a15 	li	v0,4117
    {
        //显示左右箭头
        temp_style_infor.style_id = VOLUMEBAR_LEFT;
48a946bc:	c948      	sh	v0,16(s1)
48a946be:	4147      	addiu	v0,s1,7
        ui_show_picbox(&temp_style_infor, NULL);
48a946c0:	4a09      	addiu	v0,9
48a946c2:	6782      	move	a0,v0
48a946c4:	6d00      	li	a1,0
48a946c6:	6e00      	li	a2,0
48a946c8:	6f02      	li	a3,2
48a946ca:	b28f      	lw	v0,48a94904 <show_volumebar_ui+0x2b4>
48a946cc:	eac0      	jalrc	v0
48a946ce:	f002 6a16 	li	v0,4118
        temp_style_infor.style_id = VOLUMEBAR_RIGHT;
48a946d2:	c948      	sh	v0,16(s1)
48a946d4:	4147      	addiu	v0,s1,7
        ui_show_picbox(&temp_style_infor, NULL);
48a946d6:	4a09      	addiu	v0,9
48a946d8:	6782      	move	a0,v0
48a946da:	6d00      	li	a1,0
48a946dc:	6e00      	li	a2,0
48a946de:	6f02      	li	a3,2
48a946e0:	b289      	lw	v0,48a94904 <show_volumebar_ui+0x2b4>
48a946e2:	eac0      	jalrc	v0
48a946e4:	6a60      	li	v0,96
    }

    //获取processbar UI参数
    temp_style_infor.style_id = VOLUME_PROCESSBAR_PARAM;
48a946e6:	c948      	sh	v0,16(s1)
48a946e8:	4147      	addiu	v0,s1,7
    //temp_style_infor.type = UI_COM;
    ui_load_attributebox(&temp_style_infor, &attrb_data, sizeof(volume_processbar_param));
48a946ea:	4a09      	addiu	v0,9
48a946ec:	4167      	addiu	v1,s1,7
48a946ee:	4363      	addiu	v1,v1,3
48a946f0:	6782      	move	a0,v0
48a946f2:	67a3      	move	a1,v1
48a946f4:	6e02      	li	a2,2
48a946f6:	6f07      	li	a3,7
48a946f8:	b283      	lw	v0,48a94904 <show_volumebar_ui+0x2b4>
48a946fa:	eac0      	jalrc	v0
48a946fc:	b281      	lw	v0,48a948fc <show_volumebar_ui+0x2ac>

    //清除旧痕迹
    // show_volume_extra(VOLUMEBAR_CURRENT_CLEAR, P_VOLUME_CURRENT_CLEAR, (last_v * attrb_data.slider_length) / total);

    //显示喇叭和音量值
    if (((volume_enter_forbidden == 0xff) //初始化进入
48a946fe:	a240      	lbu	v0,0(v0)
48a94700:	72ff      	cmpi	v0,255
48a94702:	6778      	move	v1,t8
48a94704:	5b01      	sltiu	v1,1
48a94706:	6019      	bteqz	48a9473a <show_volumebar_ui+0xea>
48a94708:	f040 a150 	lbu	v0,80(s1)
48a9470c:	7201      	cmpi	v0,1
48a9470e:	6758      	move	v0,t8
48a94710:	5a01      	sltiu	v0,1
48a94712:	6107      	btnez	48a94722 <show_volumebar_ui+0xd2>
48a94714:	9940      	lw	v0,0(s1)
48a94716:	8a64      	lh	v1,8(v0)
48a94718:	b279      	lw	v0,48a948fc <show_volumebar_ui+0x2ac>
48a9471a:	9a40      	lw	v0,0(v0)
48a9471c:	a24f      	lbu	v0,15(v0)
48a9471e:	eb42      	slt	v1,v0
48a94720:	6132      	btnez	48a94786 <show_volumebar_ui+0x136>
48a94722:	f040 a150 	lbu	v0,80(s1)
48a94726:	7201      	cmpi	v0,1
48a94728:	6778      	move	v1,t8
48a9472a:	5b01      	sltiu	v1,1
48a9472c:	6006      	bteqz	48a9473a <show_volumebar_ui+0xea>
48a9472e:	9940      	lw	v0,0(s1)
48a94730:	9960      	lw	v1,0(s1)
48a94732:	8a84      	lh	a0,8(v0)
48a94734:	8b42      	lh	v0,4(v1)
48a94736:	ec42      	slt	a0,v0
48a94738:	6126      	btnez	48a94786 <show_volumebar_ui+0x136>
48a9473a:	f040 a150 	lbu	v0,80(s1)
48a9473e:	7201      	cmpi	v0,1
48a94740:	6758      	move	v0,t8
48a94742:	5a01      	sltiu	v0,1
48a94744:	610d      	btnez	48a94760 <show_volumebar_ui+0x110>
48a94746:	b26f      	lw	v0,48a94900 <show_volumebar_ui+0x2b0>
48a94748:	a240      	lbu	v0,0(v0)
48a9474a:	7201      	cmpi	v0,1
48a9474c:	6778      	move	v1,t8
48a9474e:	5b01      	sltiu	v1,1
48a94750:	6007      	bteqz	48a94760 <show_volumebar_ui+0x110>
48a94752:	9940      	lw	v0,0(s1)
48a94754:	8a64      	lh	v1,8(v0)
48a94756:	b26a      	lw	v0,48a948fc <show_volumebar_ui+0x2ac>
48a94758:	9a40      	lw	v0,0(v0)
48a9475a:	a24f      	lbu	v0,15(v0)
48a9475c:	eb42      	slt	v1,v0
48a9475e:	6113      	btnez	48a94786 <show_volumebar_ui+0x136>
48a94760:	f040 a150 	lbu	v0,80(s1)
48a94764:	7201      	cmpi	v0,1
48a94766:	6758      	move	v0,t8
48a94768:	5a01      	sltiu	v0,1
48a9476a:	6023      	bteqz	48a947b2 <show_volumebar_ui+0x162>
48a9476c:	b265      	lw	v0,48a94900 <show_volumebar_ui+0x2b0>
48a9476e:	a240      	lbu	v0,0(v0)
48a94770:	7201      	cmpi	v0,1
48a94772:	6778      	move	v1,t8
48a94774:	5b01      	sltiu	v1,1
48a94776:	601d      	bteqz	48a947b2 <show_volumebar_ui+0x162>
48a94778:	9940      	lw	v0,0(s1)
48a9477a:	9960      	lw	v1,0(s1)
48a9477c:	8a84      	lh	a0,8(v0)
48a9477e:	8b42      	lh	v0,4(v1)
48a94780:	ec42      	slt	a0,v0
48a94782:	6101      	btnez	48a94786 <show_volumebar_ui+0x136>
48a94784:	1016      	b	48a947b2 <show_volumebar_ui+0x162>
48a94786:	f002 6a14 	li	v0,4116
            && (((mode != SET_VOLUME_LIMIT) && (cur_one->value < sys_comval->volume_limit)) || ((mode
                    == SET_VOLUME_LIMIT) && (cur_one->value < cur_one->max)))) || (((mode != SET_VOLUME_LIMIT)
            && (volume_enter_forbidden == 1) && (cur_one->value < sys_comval->volume_limit)) || ((mode
            == SET_VOLUME_LIMIT) && (volume_enter_forbidden == 1) && (cur_one->value < cur_one->max))))
    {
        /*temp_style_infor.style_id = VOLUMEBAR_SILENT_CLEAR;
         temp_style_infor.type = UI_COM;
         ui_show_picbox(&temp_style_infor, NULL);*/

        temp_style_infor.style_id = VOLUMEBAR_SPEAKER;
48a9478a:	c948      	sh	v0,16(s1)
48a9478c:	6a01      	li	v0,1
        volumebar_speaker_pic.pic_id = V_U16_INVALID;
48a9478e:	ea4b      	neg	v0
48a94790:	c958      	sh	v0,48(s1)
48a94792:	6a00      	li	v0,0
        volumebar_speaker_pic.frame_id = 0;
48a94794:	f020 c152 	sb	v0,50(s1)
48a94798:	4147      	addiu	v0,s1,7
        ui_show_picbox(&temp_style_infor, &volumebar_speaker_pic);
48a9479a:	4a09      	addiu	v0,9
48a9479c:	4167      	addiu	v1,s1,7
48a9479e:	4b29      	addiu	v1,41
48a947a0:	6782      	move	a0,v0
48a947a2:	67a3      	move	a1,v1
48a947a4:	6e00      	li	a2,0
48a947a6:	6f02      	li	a3,2
48a947a8:	b257      	lw	v0,48a94904 <show_volumebar_ui+0x2b4>
48a947aa:	eac0      	jalrc	v0
48a947ac:	b355      	lw	v1,48a948fc <show_volumebar_ui+0x2ac>
        volume_enter_forbidden = 0;
48a947ae:	6a00      	li	v0,0
48a947b0:	c340      	sb	v0,0(v1)
48a947b2:	a943      	lhu	v0,6(s1)
    }

    libc_itoa(current, cur_value_str_arr, 2);
48a947b4:	4167      	addiu	v1,s1,7
48a947b6:	4b31      	addiu	v1,49
48a947b8:	6782      	move	a0,v0
48a947ba:	67a3      	move	a1,v1
48a947bc:	6e02      	li	a2,2
48a947be:	6f0a      	li	a3,10
48a947c0:	b252      	lw	v0,48a94908 <show_volumebar_ui+0x2b8>
48a947c2:	eac0      	jalrc	v0
48a947c4:	f004 6a02 	li	v0,8194
    temp_style_infor.style_id = CURRENT_VOLUME_VALUE;
48a947c8:	c948      	sh	v0,16(s1)
48a947ca:	6a7b      	li	v0,123
    //temp_style_infor.type = UI_COM;
    textbox_data.lang_id = ANSIDATAAUTO;
48a947cc:	f020 c142 	sb	v0,34(s1)
48a947d0:	4147      	addiu	v0,s1,7
    textbox_data.str_value = cur_value_str_arr;
48a947d2:	4a31      	addiu	v0,49
48a947d4:	d949      	sw	v0,36(s1)
48a947d6:	6a01      	li	v0,1
    textbox_data.str_id = -1;
48a947d8:	ea4b      	neg	v0
48a947da:	c950      	sh	v0,32(s1)
48a947dc:	4147      	addiu	v0,s1,7
    ui_show_textbox((void*) &temp_style_infor, (void*) &textbox_data, TEXTBOX_DRAW_NORMAL);
48a947de:	4a09      	addiu	v0,9
48a947e0:	4167      	addiu	v1,s1,7
48a947e2:	4b19      	addiu	v1,25
48a947e4:	6782      	move	a0,v0
48a947e6:	67a3      	move	a1,v1
48a947e8:	6e01      	li	a2,1
48a947ea:	6f03      	li	a3,3
48a947ec:	b246      	lw	v0,48a94904 <show_volumebar_ui+0x2b4>
48a947ee:	eac0      	jalrc	v0
48a947f0:	a943      	lhu	v0,6(s1)

    //显示进度条
    //ui_show_sliderbar(style_infor, private_data, (uint32)draw_mode);
    vol_progress.value = current;
48a947f2:	d946      	sw	v0,24(s1)
48a947f4:	a942      	lhu	v0,4(s1)
    vol_progress.total = total;
48a947f6:	d947      	sw	v0,28(s1)
48a947f8:	9952      	lw	v0,72(s1)
    ui_show_progressbar(style_infor, &vol_progress, progress_draw_mode);
48a947fa:	4167      	addiu	v1,s1,7
48a947fc:	4b11      	addiu	v1,17
48a947fe:	f040 a1d4 	lbu	a2,84(s1)
48a94802:	6782      	move	a0,v0
48a94804:	67a3      	move	a1,v1
48a94806:	6f06      	li	a3,6
48a94808:	b23f      	lw	v0,48a94904 <show_volumebar_ui+0x2b4>
48a9480a:	eac0      	jalrc	v0
48a9480c:	f002 6c11 	li	a0,4113

    //音量调节UI细节绘制，绘制音量实线和虚线
    //显示音量限制线
    //libc_print("lim",limit,2);//2015-11-14
    show_volume_extra(VOLUMEBAR_LIMIT, P_VOLUME_LIMIT_LINE, (limit * attrb_data.processbar_length) / total);
48a94810:	f090 6d07 	li	a1,32903
48a94814:	a964      	lhu	v1,8(s1)
48a94816:	a945      	lhu	v0,10(s1)
48a94818:	eb58      	mult	v1,v0
48a9481a:	a942      	lhu	v0,4(s1)
48a9481c:	eb12      	mflo	v1
48a9481e:	eb5a      	div	zero,v1,v0
48a94820:	2a01      	bnez	v0,48a94824 <show_volumebar_ui+0x1d4>
48a94822:	e8e5      	break	7
48a94824:	ea12      	mflo	v0
48a94826:	ea31      	zeh	v0
48a94828:	67c2      	move	a2,v0
48a9482a:	1951 5180 	jal	48a94600 <show_volume_extra>
48a9482e:	6500      	nop
48a94830:	b234      	lw	v0,48a94900 <show_volumebar_ui+0x2b0>
    //显示当前值
    //show_volume_extra(VOLUMEBAR_CURRENT, P_VOLUME_CURRENT_LINE, (current * attrb_data.slider_length) / total);

    //显示音量禁止图标
    if (((volume_enter_forbidden == 0xff) //初始化进入
48a94832:	a240      	lbu	v0,0(v0)
48a94834:	72ff      	cmpi	v0,255
48a94836:	6758      	move	v0,t8
48a94838:	5a01      	sltiu	v0,1
48a9483a:	601a      	bteqz	48a94870 <show_volumebar_ui+0x220>
48a9483c:	f040 a150 	lbu	v0,80(s1)
48a94840:	7201      	cmpi	v0,1
48a94842:	6778      	move	v1,t8
48a94844:	5b01      	sltiu	v1,1
48a94846:	6107      	btnez	48a94856 <show_volumebar_ui+0x206>
48a94848:	9940      	lw	v0,0(s1)
48a9484a:	8a64      	lh	v1,8(v0)
48a9484c:	b22c      	lw	v0,48a948fc <show_volumebar_ui+0x2ac>
48a9484e:	9a40      	lw	v0,0(v0)
48a94850:	a24f      	lbu	v0,15(v0)
48a94852:	eb42      	slt	v1,v0
48a94854:	602e      	bteqz	48a948b2 <show_volumebar_ui+0x262>
48a94856:	f040 a150 	lbu	v0,80(s1)
48a9485a:	7201      	cmpi	v0,1
48a9485c:	6758      	move	v0,t8
48a9485e:	5a01      	sltiu	v0,1
48a94860:	6007      	bteqz	48a94870 <show_volumebar_ui+0x220>
48a94862:	9940      	lw	v0,0(s1)
48a94864:	9960      	lw	v1,0(s1)
48a94866:	8a84      	lh	a0,8(v0)
48a94868:	8b42      	lh	v0,4(v1)
48a9486a:	ea8e      	xor	v0,a0
48a9486c:	5a01      	sltiu	v0,1
48a9486e:	6121      	btnez	48a948b2 <show_volumebar_ui+0x262>
48a94870:	f040 a150 	lbu	v0,80(s1)
48a94874:	7201      	cmpi	v0,1
48a94876:	6778      	move	v1,t8
48a94878:	5b01      	sltiu	v1,1
48a9487a:	610a      	btnez	48a94890 <show_volumebar_ui+0x240>
48a9487c:	b221      	lw	v0,48a94900 <show_volumebar_ui+0x2b0>
48a9487e:	a240      	lbu	v0,0(v0)
48a94880:	2a07      	bnez	v0,48a94890 <show_volumebar_ui+0x240>
48a94882:	9940      	lw	v0,0(s1)
48a94884:	8a64      	lh	v1,8(v0)
48a94886:	b21e      	lw	v0,48a948fc <show_volumebar_ui+0x2ac>
48a94888:	9a40      	lw	v0,0(v0)
48a9488a:	a24f      	lbu	v0,15(v0)
48a9488c:	eb42      	slt	v1,v0
48a9488e:	6011      	bteqz	48a948b2 <show_volumebar_ui+0x262>
48a94890:	f040 a150 	lbu	v0,80(s1)
48a94894:	7201      	cmpi	v0,1
48a94896:	6758      	move	v0,t8
48a94898:	5a01      	sltiu	v0,1
48a9489a:	602c      	bteqz	48a948f4 <show_volumebar_ui+0x2a4>
48a9489c:	b219      	lw	v0,48a94900 <show_volumebar_ui+0x2b0>
48a9489e:	a240      	lbu	v0,0(v0)
48a948a0:	2a29      	bnez	v0,48a948f4 <show_volumebar_ui+0x2a4>
48a948a2:	9940      	lw	v0,0(s1)
48a948a4:	9960      	lw	v1,0(s1)
48a948a6:	8a84      	lh	a0,8(v0)
48a948a8:	8b42      	lh	v0,4(v1)
48a948aa:	ea8e      	xor	v0,a0
48a948ac:	5a01      	sltiu	v0,1
48a948ae:	6101      	btnez	48a948b2 <show_volumebar_ui+0x262>
48a948b0:	1021      	b	48a948f4 <show_volumebar_ui+0x2a4>
48a948b2:	f002 6a14 	li	v0,4116
            && (((mode != SET_VOLUME_LIMIT) && (cur_one->value >= sys_comval->volume_limit)) || ((mode
                    == SET_VOLUME_LIMIT) && (cur_one->value == cur_one->max)))) || (((mode != SET_VOLUME_LIMIT)
            && (volume_enter_forbidden == 0) && (cur_one->value >= sys_comval->volume_limit)) || ((mode
            == SET_VOLUME_LIMIT) && (volume_enter_forbidden == 0) && (cur_one->value == cur_one->max))))
    {
        /*temp_style_infor.style_id = VOLUMEBAR_SILENT;
         ui_show_picbox(&temp_style_infor, NULL);*/
        temp_style_infor.style_id = VOLUMEBAR_SPEAKER;
48a948b6:	c948      	sh	v0,16(s1)
48a948b8:	6a01      	li	v0,1
        volumebar_speaker_pic.pic_id = V_U16_INVALID;
48a948ba:	ea4b      	neg	v0
48a948bc:	c958      	sh	v0,48(s1)
48a948be:	6a01      	li	v0,1
        volumebar_speaker_pic.frame_id = 1;
48a948c0:	f020 c152 	sb	v0,50(s1)
48a948c4:	4147      	addiu	v0,s1,7
        ui_show_picbox(&temp_style_infor, &volumebar_speaker_pic);
48a948c6:	4a09      	addiu	v0,9
48a948c8:	4167      	addiu	v1,s1,7
48a948ca:	4b29      	addiu	v1,41
48a948cc:	6782      	move	a0,v0
48a948ce:	67a3      	move	a1,v1
48a948d0:	6e00      	li	a2,0
48a948d2:	6f02      	li	a3,2
48a948d4:	b20c      	lw	v0,48a94904 <show_volumebar_ui+0x2b4>
48a948d6:	eac0      	jalrc	v0
48a948d8:	f004 6a02 	li	v0,8194

        temp_style_infor.style_id = CURRENT_VOLUME_VALUE;
48a948dc:	c948      	sh	v0,16(s1)
48a948de:	4147      	addiu	v0,s1,7
        ui_show_textbox((void*) &temp_style_infor, NULL, TEXTBOX_DRAW_NORMAL);
48a948e0:	4a09      	addiu	v0,9
48a948e2:	6782      	move	a0,v0
48a948e4:	6d00      	li	a1,0
48a948e6:	6e01      	li	a2,1
48a948e8:	6f03      	li	a3,3
48a948ea:	b207      	lw	v0,48a94904 <show_volumebar_ui+0x2b4>
48a948ec:	eac0      	jalrc	v0
48a948ee:	b305      	lw	v1,48a94900 <show_volumebar_ui+0x2b0>
        volume_enter_forbidden = 1;
48a948f0:	6a01      	li	v0,1
48a948f2:	c340      	sb	v0,0(v1)
48a948f4:	65b9      	move	sp,s1
    }
}
48a948f6:	6459      	restore	72,ra,s1
48a948f8:	e8a0      	jrc	ra
48a948fa:	0000      	addiu	s0,sp,0
48a948fc:	5a48      	sltiu	v0,72
48a948fe:	9fc1      	lw	a2,4(a3)
48a94900:	5b96      	sltiu	v1,150
48a94902:	9fc1      	lw	a2,4(a3)
48a94904:	6bb1      	li	v1,177
48a94906:	bfc1      	lwu	a2,4(a3)
48a94908:	6409      	restore	72
48a9490a:	bfc1      	lwu	a2,4(a3)
	...
Disassembly of section BANK_UI_1_43:

48ad4600 <dialog_msg_deal>:
48ad4600:	64d8      	save	64,ra,s1
{ 0, 0 } } } };

//dialog gui app msg deal
app_result_e dialog_msg_deal(dialog_com_data_t *dialog_com, dialog_private_t *dialog_private, bool any_key_flag)
{
48ad4602:	0104      	addiu	s1,sp,16
48ad4604:	d98c      	sw	a0,48(s1)
48ad4606:	d9ad      	sw	a1,52(s1)
48ad4608:	6746      	move	v0,a2
48ad460a:	f020 c158 	sb	v0,56(s1)
48ad460e:	6a00      	li	v0,0
    input_gui_msg_t input_msg;
    msg_apps_type_e gui_event;
    private_msg_t private_msg;
    app_result_e result = RESULT_NULL;
48ad4610:	c950      	sh	v0,32(s1)
48ad4612:	6791      	move	a0,s1

    //获取到 gui消息
    if (get_gui_msg(&input_msg) == TRUE)
48ad4614:	b25f      	lw	v0,48ad4790 <dialog_msg_deal+0x190>
48ad4616:	eac0      	jalrc	v0
48ad4618:	7201      	cmpi	v0,1
48ad461a:	6758      	move	v0,t8
48ad461c:	5a01      	sltiu	v0,1
48ad461e:	f080 6015 	bteqz	48ad474c <dialog_msg_deal+0x14c>
48ad4622:	f020 a158 	lbu	v0,56(s1)
    {
        //按任意按键退出的对话框模式
        if (any_key_flag == TRUE)
48ad4626:	7201      	cmpi	v0,1
48ad4628:	6758      	move	v0,t8
48ad462a:	5a01      	sltiu	v0,1
48ad462c:	600e      	bteqz	48ad464a <dialog_msg_deal+0x4a>
48ad462e:	a140      	lbu	v0,0(s1)
        {
            if ((INPUT_MSG_KEY == input_msg.type) || (INPUT_MSG_TOUCH == input_msg.type))
48ad4630:	2206      	beqz	v0,48ad463e <dialog_msg_deal+0x3e>
48ad4632:	a140      	lbu	v0,0(s1)
48ad4634:	7201      	cmpi	v0,1
48ad4636:	6758      	move	v0,t8
48ad4638:	5a01      	sltiu	v0,1
48ad463a:	6101      	btnez	48ad463e <dialog_msg_deal+0x3e>
48ad463c:	1006      	b	48ad464a <dialog_msg_deal+0x4a>
48ad463e:	f7ef 6a0c 	li	v0,32748
            {
                result = RESULT_REDRAW;
48ad4642:	ea4b      	neg	v0
48ad4644:	c950      	sh	v0,32(s1)
48ad4646:	b254      	lw	v0,48ad4794 <dialog_msg_deal+0x194>
                //启动过滤后续按键
                com_filter_key_hold();
48ad4648:	eac0      	jalrc	v0
48ad464a:	4147      	addiu	v0,s1,7
            }
        }

        //进行 gui消息映射
        if (com_key_mapping(&input_msg, &gui_event, dialog_key_map_list) == TRUE)
48ad464c:	4241      	addiu	v0,v0,1
48ad464e:	b353      	lw	v1,48ad4798 <dialog_msg_deal+0x198>
48ad4650:	6791      	move	a0,s1
48ad4652:	67a2      	move	a1,v0
48ad4654:	67c3      	move	a2,v1
48ad4656:	b252      	lw	v0,48ad479c <dialog_msg_deal+0x19c>
48ad4658:	eac0      	jalrc	v0
48ad465a:	7201      	cmpi	v0,1
48ad465c:	6758      	move	v0,t8
48ad465e:	5a01      	sltiu	v0,1
48ad4660:	f080 600f 	bteqz	48ad4782 <dialog_msg_deal+0x182>
48ad4664:	a944      	lhu	v0,8(s1)
        {
            switch (gui_event)
48ad4666:	d949      	sw	v0,36(s1)
48ad4668:	9949      	lw	v0,36(s1)
48ad466a:	f004 7202 	cmpi	v0,8194
48ad466e:	6758      	move	v0,t8
48ad4670:	5a01      	sltiu	v0,1
48ad4672:	6118      	btnez	48ad46a4 <dialog_msg_deal+0xa4>
48ad4674:	9949      	lw	v0,36(s1)
48ad4676:	f004 5203 	slti	v0,8195
48ad467a:	6007      	bteqz	48ad468a <dialog_msg_deal+0x8a>
48ad467c:	9949      	lw	v0,36(s1)
48ad467e:	f004 7201 	cmpi	v0,8193
48ad4682:	6758      	move	v0,t8
48ad4684:	5a01      	sltiu	v0,1
48ad4686:	6126      	btnez	48ad46d4 <dialog_msg_deal+0xd4>
48ad4688:	1050      	b	48ad472a <dialog_msg_deal+0x12a>
48ad468a:	9949      	lw	v0,36(s1)
48ad468c:	f004 7203 	cmpi	v0,8195
48ad4690:	6758      	move	v0,t8
48ad4692:	5a01      	sltiu	v0,1
48ad4694:	6135      	btnez	48ad4700 <dialog_msg_deal+0x100>
48ad4696:	9949      	lw	v0,36(s1)
48ad4698:	f004 7204 	cmpi	v0,8196
48ad469c:	6758      	move	v0,t8
48ad469e:	5a01      	sltiu	v0,1
48ad46a0:	613f      	btnez	48ad4720 <dialog_msg_deal+0x120>
48ad46a2:	1043      	b	48ad472a <dialog_msg_deal+0x12a>
48ad46a4:	996d      	lw	v1,52(s1)
            {
                case EVENT_DIALOG_NEXT_BUTTON:
                //选择下一个按钮选项
                dialog_private->old = dialog_private->active;
48ad46a6:	994d      	lw	v0,52(s1)
48ad46a8:	a24d      	lbu	v0,13(v0)
48ad46aa:	c34e      	sb	v0,14(v1)
48ad46ac:	994d      	lw	v0,52(s1)
                if (dialog_private->active < (dialog_private->button_cnt - 1))
48ad46ae:	a26d      	lbu	v1,13(v0)
48ad46b0:	994d      	lw	v0,52(s1)
48ad46b2:	a24c      	lbu	v0,12(v0)
48ad46b4:	424f      	addiu	v0,v0,-1
48ad46b6:	eb42      	slt	v1,v0
48ad46b8:	6006      	bteqz	48ad46c6 <dialog_msg_deal+0xc6>
48ad46ba:	996d      	lw	v1,52(s1)
                {
                    dialog_private->active++;
48ad46bc:	994d      	lw	v0,52(s1)
48ad46be:	a24d      	lbu	v0,13(v0)
48ad46c0:	4241      	addiu	v0,v0,1
48ad46c2:	c34d      	sb	v0,13(v1)
48ad46c4:	1003      	b	48ad46cc <dialog_msg_deal+0xcc>
48ad46c6:	996d      	lw	v1,52(s1)
                }
                else
                {
                    dialog_private->active = 0;
48ad46c8:	6a00      	li	v0,0
48ad46ca:	c34d      	sb	v0,13(v1)
48ad46cc:	996c      	lw	v1,48(s1)
                }
                dialog_com->draw_mode = DIALOG_DRAW_BUTTON;
48ad46ce:	6a01      	li	v0,1
48ad46d0:	c349      	sb	v0,9(v1)
48ad46d2:	1057      	b	48ad4782 <dialog_msg_deal+0x182>
                break;
48ad46d4:	996d      	lw	v1,52(s1)

                case EVENT_DIALOG_PREV_BUTTON:
                //选择上一个按钮选项
                dialog_private->old = dialog_private->active;
48ad46d6:	994d      	lw	v0,52(s1)
48ad46d8:	a24d      	lbu	v0,13(v0)
48ad46da:	c34e      	sb	v0,14(v1)
48ad46dc:	994d      	lw	v0,52(s1)
                if (dialog_private->active > 0)
48ad46de:	a24d      	lbu	v0,13(v0)
48ad46e0:	2206      	beqz	v0,48ad46ee <dialog_msg_deal+0xee>
48ad46e2:	996d      	lw	v1,52(s1)
                {
                    dialog_private->active--;
48ad46e4:	994d      	lw	v0,52(s1)
48ad46e6:	a24d      	lbu	v0,13(v0)
48ad46e8:	424f      	addiu	v0,v0,-1
48ad46ea:	c34d      	sb	v0,13(v1)
48ad46ec:	1005      	b	48ad46f8 <dialog_msg_deal+0xf8>
48ad46ee:	996d      	lw	v1,52(s1)
                }
                else
                {
                    dialog_private->active = dialog_private->button_cnt - 1;
48ad46f0:	994d      	lw	v0,52(s1)
48ad46f2:	a24c      	lbu	v0,12(v0)
48ad46f4:	424f      	addiu	v0,v0,-1
48ad46f6:	c34d      	sb	v0,13(v1)
48ad46f8:	996c      	lw	v1,48(s1)
                }
                dialog_com->draw_mode = DIALOG_DRAW_BUTTON;
48ad46fa:	6a01      	li	v0,1
48ad46fc:	c349      	sb	v0,9(v1)
48ad46fe:	1041      	b	48ad4782 <dialog_msg_deal+0x182>
                break;
48ad4700:	b528      	lw	a1,48ad47a0 <dialog_msg_deal+0x1a0>

                case EVENT_DIALOG_CONFIRM:
                //确定选项返回
                result = button_list[(uint8) dialog_com->button_type].buttons[dialog_private->active].result;
48ad4702:	994d      	lw	v0,52(s1)
48ad4704:	a26d      	lbu	v1,13(v0)
48ad4706:	994c      	lw	v0,48(s1)
48ad4708:	a281      	lbu	a0,1(v0)
48ad470a:	6743      	move	v0,v1
48ad470c:	3348      	sll	v1,v0,2
48ad470e:	6744      	move	v0,a0
48ad4710:	324c      	sll	v0,3
48ad4712:	e28b      	subu	v0,a0
48ad4714:	3244      	sll	v0,1
48ad4716:	e349      	addu	v0,v1,v0
48ad4718:	e2a9      	addu	v0,a1
48ad471a:	aa42      	lhu	v0,4(v0)
48ad471c:	c950      	sh	v0,32(s1)
48ad471e:	1031      	b	48ad4782 <dialog_msg_deal+0x182>
                break;
48ad4720:	f7ef 6a0c 	li	v0,32748

                case EVENT_DIALOG_CANCEL:
                //取消返回
                result = RESULT_REDRAW;
48ad4724:	ea4b      	neg	v0
48ad4726:	c950      	sh	v0,32(s1)
48ad4728:	102c      	b	48ad4782 <dialog_msg_deal+0x182>
                break;
48ad472a:	a944      	lhu	v0,8(s1)

                default:
                result = com_message_box(gui_event);
48ad472c:	6782      	move	a0,v0
48ad472e:	b21e      	lw	v0,48ad47a4 <dialog_msg_deal+0x1a4>
48ad4730:	eac0      	jalrc	v0
48ad4732:	c950      	sh	v0,32(s1)
48ad4734:	a970      	lhu	v1,32(s1)
                if (result == RESULT_REDRAW)
48ad4736:	f010 6a14 	li	v0,32788
48ad473a:	ea6e      	xor	v0,v1
48ad473c:	5a01      	sltiu	v0,1
48ad473e:	6021      	bteqz	48ad4782 <dialog_msg_deal+0x182>
48ad4740:	994c      	lw	v0,48(s1)
                {
                    dialog_com->draw_mode = DIALOG_DRAW_ALL;
48ad4742:	6b02      	li	v1,2
48ad4744:	c269      	sb	v1,9(v0)
48ad4746:	6a00      	li	v0,0
                    result = RESULT_NULL;//不退出控件
48ad4748:	c950      	sh	v0,32(s1)
48ad474a:	101b      	b	48ad4782 <dialog_msg_deal+0x182>
                }
                break;
48ad474c:	4147      	addiu	v0,s1,7
            }
        }
    }
    //到此，gui消息队列已经处理完毕，获取ap私有消息和系统消息（会先转换为私有消息再返回）并处理
    else
    {
        if (get_app_msg(&private_msg) == TRUE)
48ad474e:	4a09      	addiu	v0,9
48ad4750:	6782      	move	a0,v0
48ad4752:	b216      	lw	v0,48ad47a8 <dialog_msg_deal+0x1a8>
48ad4754:	eac0      	jalrc	v0
48ad4756:	7201      	cmpi	v0,1
48ad4758:	6758      	move	v0,t8
48ad475a:	5a01      	sltiu	v0,1
48ad475c:	6012      	bteqz	48ad4782 <dialog_msg_deal+0x182>
48ad475e:	b214      	lw	v0,48ad47ac <dialog_msg_deal+0x1ac>
        {
            result = g_this_app_msg_dispatch(&private_msg);
48ad4760:	4167      	addiu	v1,s1,7
48ad4762:	4b09      	addiu	v1,9
48ad4764:	9a40      	lw	v0,0(v0)
48ad4766:	6783      	move	a0,v1
48ad4768:	eac0      	jalrc	v0
48ad476a:	c950      	sh	v0,32(s1)
48ad476c:	a970      	lhu	v1,32(s1)
            if (result == RESULT_REDRAW)
48ad476e:	f010 6a14 	li	v0,32788
48ad4772:	ea6e      	xor	v0,v1
48ad4774:	5a01      	sltiu	v0,1
48ad4776:	6005      	bteqz	48ad4782 <dialog_msg_deal+0x182>
48ad4778:	994c      	lw	v0,48(s1)
            {
                dialog_com->draw_mode = DIALOG_DRAW_ALL;
48ad477a:	6b02      	li	v1,2
48ad477c:	c269      	sb	v1,9(v0)
48ad477e:	6a00      	li	v0,0
                result = RESULT_NULL;//不退出控件
48ad4780:	c950      	sh	v0,32(s1)
48ad4782:	a950      	lhu	v0,32(s1)
            }
        }
    }

    return result;
48ad4784:	651a      	move	t8,v0
48ad4786:	6758      	move	v0,t8
}
48ad4788:	65b9      	move	sp,s1
48ad478a:	6456      	restore	48,ra,s1
48ad478c:	e8a0      	jrc	ra
48ad478e:	0000      	addiu	s0,sp,0
48ad4790:	66d5      	0x66d5
48ad4792:	bfc1      	lwu	a2,4(a3)
48ad4794:	487d      	addiu	s0,125
48ad4796:	4869      	addiu	s0,105
48ad4798:	4618      	daddiu	s0,a2,-8
48ad479a:	4855      	addiu	s0,85
48ad479c:	47ad      	addiu	a1,a3,-3
48ad479e:	4855      	addiu	s0,85
48ad47a0:	4a88      	addiu	v0,-120
48ad47a2:	48ad      	addiu	s0,-83
48ad47a4:	4601      	addiu	s0,a2,1
48ad47a6:	48bd      	addiu	s0,-67
48ad47a8:	6741      	move	v0,at
48ad47aa:	bfc1      	lwu	a2,4(a3)
48ad47ac:	a1f8      	lbu	a3,24(s1)
48ad47ae:	9fc1      	lw	a2,4(a3)

48ad47b0 <gui_dialog>:
48ad47b0:	64d9      	save	72,ra,s1

/*! \cond COMMON_API */

/******************************************************************************/
/*!
 * \par  Description:
 *    对话框控件控制流实现。
 * \param[in]    style_id ui editor工具设计的对话框控件模板
 * \param[in]    dialog_com 指向对话框控件初始化结构体变量，是上层对对话框的控制命令或参数
 * \param[out]   none
 * \return       app_result_e
 * \retval           RESULT_DIALOG_XXX 选择了有效按键后返回，详细参见 app_result_e 定义
 * \retval           RESULT_REDRAW 无效返回，AP需要重绘UI
 * \retval           other 收到返回值不为 RESULT_NULL 应用消息返回，见 app_result_e 定义
 * \ingroup      controls
 * \par          exmaple code
 * \code
 dialog_com_data_t dialog_com;
 app_result_e result;

 dialog_com.dialog_type = DIALOG_BUTTON_INCLUDE;
 dialog_com.button_type = BUTTON_YESNO;
 dialog_com.icon_id = V_U16_INVALID;
 dialog_com.string_desc = &string_desc;
 dialog_com.active_default = 0;
 result = gui_dialog(DIALOG_ASK, &dialog_com);
 if(result == DIALOG_RESULT_YES)//选择 Yes 按钮，执行操作
 {

 }
 else if(result == RESULT_REDRAW)//取消或选择 No 按钮，返回重绘
 {

 }
 else//其他返回结果，需要做特殊处理
 {

 }
 * \endcode
 * \note
 *******************************************************************************/
app_result_e gui_dialog(uint16 style_id, dialog_com_data_t *dialog_com)
{
48ad47b2:	0104      	addiu	s1,sp,16
48ad47b4:	6744      	move	v0,a0
48ad47b6:	d9af      	sw	a1,60(s1)
48ad47b8:	c95c      	sh	v0,56(s1)
48ad47ba:	6a00      	li	v0,0
    dialog_private_t dialog_private;
    style_infor_t style_infor;
    app_result_e result = RESULT_NULL;
48ad47bc:	c94c      	sh	v0,24(s1)
48ad47be:	6a00      	li	v0,0
    uint32 ab_time;
    bool any_key_flag = FALSE;
48ad47c0:	f020 c140 	sb	v0,32(s1)
48ad47c4:	f0c3 6a03 	li	v0,6339
    uint8 tag_backup;
    uint8 mode_backup, icon_backup;

    //draw bg
    ui_set_backgd_color(Color_BACKCOLOR_def);
48ad47c8:	6782      	move	a0,v0
48ad47ca:	6d00      	li	a1,0
48ad47cc:	6e00      	li	a2,0
48ad47ce:	6f14      	li	a3,20
48ad47d0:	b284      	lw	v0,48ad49e0 <.LBE2+0xb8>
48ad47d2:	eac0      	jalrc	v0
48ad47d4:	6c00      	li	a0,0
    ui_clear_screen(NULL); //2015-10-30
48ad47d6:	6d00      	li	a1,0
48ad47d8:	6e00      	li	a2,0
48ad47da:	6f12      	li	a3,18
48ad47dc:	b281      	lw	v0,48ad49e0 <.LBE2+0xb8>
48ad47de:	eac0      	jalrc	v0
48ad47e0:	1971 5285 	jal	48ad4a14 <get_app_timer_tag>

    tag_backup = get_app_timer_tag();
48ad47e4:	6500      	nop
48ad47e6:	f020 c141 	sb	v0,33(s1)
48ad47ea:	6c83      	li	a0,131
    change_app_timer_tag(APP_TIEMR_TAG_DIALOG);
48ad47ec:	1971 527f 	jal	48ad49fc <change_app_timer_tag>
48ad47f0:	6500      	nop
48ad47f2:	4147      	addiu	v0,s1,7

    gui_get_headbar_mode(&mode_backup, &icon_backup);
48ad47f4:	4a1b      	addiu	v0,27
48ad47f6:	4167      	addiu	v1,s1,7
48ad47f8:	4b1c      	addiu	v1,28
48ad47fa:	6782      	move	a0,v0
48ad47fc:	67a3      	move	a1,v1
48ad47fe:	b27a      	lw	v0,48ad49e4 <.LBE2+0xbc>
48ad4800:	eac0      	jalrc	v0
48ad4802:	b27a      	lw	v0,48ad49e8 <.LBE2+0xc0>
    gui_set_headbar_mode(HEADBAR_MODE_NULL, this_headbar_icon_id);
48ad4804:	a240      	lbu	v0,0(v0)
48ad4806:	6c00      	li	a0,0
48ad4808:	67a2      	move	a1,v0
48ad480a:	b279      	lw	v0,48ad49ec <.LBE2+0xc4>
48ad480c:	eac0      	jalrc	v0
48ad480e:	994f      	lw	v0,60(s1)

    dialog_private.icon_id = dialog_com->icon_id;
48ad4810:	aa41      	lhu	v0,2(v0)
48ad4812:	c942      	sh	v0,4(s1)
48ad4814:	994f      	lw	v0,60(s1)
    dialog_private.string_desc = dialog_com->string_desc;
48ad4816:	9a41      	lw	v0,4(v0)
48ad4818:	d940      	sw	v0,0(s1)
48ad481a:	a95c      	lhu	v0,56(s1)

    style_infor.style_id = style_id;
48ad481c:	c948      	sh	v0,16(s1)
48ad481e:	6a01      	li	v0,1
    style_infor.type = UI_COM;
48ad4820:	c152      	sb	v0,18(s1)
48ad4822:	996f      	lw	v1,60(s1)

    dialog_com->draw_mode = DIALOG_DRAW_ALL;
48ad4824:	6a02      	li	v0,2
48ad4826:	c349      	sb	v0,9(v1)
48ad4828:	994f      	lw	v0,60(s1)

    //没有按键的对话框处理
    if (dialog_com->dialog_type != DIALOG_BUTTON_INCLUDE && dialog_com->dialog_type != DIALOG_BUTTON_INCLUDE_WAIT)
48ad482a:	a240      	lbu	v0,0(v0)
48ad482c:	224d      	beqz	v0,48ad48c8 <.LBB2>
48ad482e:	994f      	lw	v0,60(s1)
48ad4830:	a240      	lbu	v0,0(v0)
48ad4832:	7201      	cmpi	v0,1
48ad4834:	6758      	move	v0,t8
48ad4836:	5a01      	sltiu	v0,1
48ad4838:	6147      	btnez	48ad48c8 <.LBB2>
48ad483a:	6a00      	li	v0,0
    {
        //绘制dialogbox
        dialog_private.button_cnt = 0;
48ad483c:	c14c      	sb	v0,12(s1)
48ad483e:	4167      	addiu	v1,s1,7
        ui_show_dialogbox(&style_infor, &dialog_private, (uint32) dialog_com->draw_mode);
48ad4840:	4b09      	addiu	v1,9
48ad4842:	994f      	lw	v0,60(s1)
48ad4844:	a249      	lbu	v0,9(v0)
48ad4846:	6783      	move	a0,v1
48ad4848:	67b1      	move	a1,s1
48ad484a:	67c2      	move	a2,v0
48ad484c:	6f09      	li	a3,9
48ad484e:	b265      	lw	v0,48ad49e0 <.LBE2+0xb8>
48ad4850:	eac0      	jalrc	v0
48ad4852:	996f      	lw	v1,60(s1)
        dialog_com->draw_mode = DIALOG_DRAW_NULL;
48ad4854:	6a00      	li	v0,0
48ad4856:	c349      	sb	v0,9(v1)
48ad4858:	994f      	lw	v0,60(s1)
#ifdef PC
        UpdateMainWnd();
#endif
        //如果立即信息提示则马上退出
        if (dialog_com->dialog_type == DIALOG_INFOR_IMMEDIATE)
48ad485a:	a240      	lbu	v0,0(v0)
48ad485c:	7204      	cmpi	v0,4
48ad485e:	6758      	move	v0,t8
48ad4860:	5a01      	sltiu	v0,1
48ad4862:	6012      	bteqz	48ad4888 <gui_dialog+0xd8>
48ad4864:	f020 a141 	lbu	v0,33(s1)
        {
            change_app_timer_tag(tag_backup);
48ad4868:	6782      	move	a0,v0
48ad486a:	1971 527f 	jal	48ad49fc <change_app_timer_tag>
48ad486e:	6500      	nop
48ad4870:	f020 a142 	lbu	v0,34(s1)
            gui_set_headbar_mode(mode_backup, icon_backup);
48ad4874:	f020 a163 	lbu	v1,35(s1)
48ad4878:	6782      	move	a0,v0
48ad487a:	67a3      	move	a1,v1
48ad487c:	b25c      	lw	v0,48ad49ec <.LBE2+0xc4>
48ad487e:	eac0      	jalrc	v0
48ad4880:	f010 6a14 	li	v0,32788
            return RESULT_REDRAW;
48ad4884:	d94a      	sw	v0,40(s1)
48ad4886:	10a8      	b	48ad49d8 <.LBE2+0xb0>
48ad4888:	994f      	lw	v0,60(s1)
        }
        //按任意按键退出
        else if (dialog_com->dialog_type == DIALOG_BUTTON_ANYKEY)
48ad488a:	a240      	lbu	v0,0(v0)
48ad488c:	7202      	cmpi	v0,2
48ad488e:	6758      	move	v0,t8
48ad4890:	5a01      	sltiu	v0,1
48ad4892:	6004      	bteqz	48ad489c <gui_dialog+0xec>
48ad4894:	6a01      	li	v0,1
        {
            any_key_flag = TRUE;
48ad4896:	f020 c140 	sb	v0,32(s1)
48ad489a:	1046      	b	48ad4928 <.LBE2>
48ad489c:	6c04      	li	a0,4
        }
        //如果是需要等待的信息提示，则先等待2秒钟后退出
        else
        {
            com_app_sleep(4, NULL);
48ad489e:	6d00      	li	a1,0
48ad48a0:	b254      	lw	v0,48ad49f0 <.LBE2+0xc8>
48ad48a2:	eac0      	jalrc	v0
48ad48a4:	f020 a141 	lbu	v0,33(s1)
            change_app_timer_tag(tag_backup);
48ad48a8:	6782      	move	a0,v0
48ad48aa:	1971 527f 	jal	48ad49fc <change_app_timer_tag>
48ad48ae:	6500      	nop
48ad48b0:	f020 a142 	lbu	v0,34(s1)
            gui_set_headbar_mode(mode_backup, icon_backup);
48ad48b4:	f020 a163 	lbu	v1,35(s1)
48ad48b8:	6782      	move	a0,v0
48ad48ba:	67a3      	move	a1,v1
48ad48bc:	b24c      	lw	v0,48ad49ec <.LBE2+0xc4>
48ad48be:	eac0      	jalrc	v0
48ad48c0:	f010 6a14 	li	v0,32788
            return RESULT_REDRAW;
48ad48c4:	d94a      	sw	v0,40(s1)
48ad48c6:	1088      	b	48ad49d8 <.LBE2+0xb0>

48ad48c8 <.LBB2>:
48ad48c8:	b44b      	lw	a0,48ad49f4 <.LBE2+0xcc>
        }
    }
    //有按键的对话框处理，先初始化
    else
    {
        uint8 i;

        dialog_private.button_cnt = button_list[(uint8) dialog_com->button_type].button_cnt;
48ad48ca:	994f      	lw	v0,60(s1)
48ad48cc:	a261      	lbu	v1,1(v0)
48ad48ce:	6743      	move	v0,v1
48ad48d0:	324c      	sll	v0,3
48ad48d2:	e26b      	subu	v0,v1
48ad48d4:	3244      	sll	v0,1
48ad48d6:	e289      	addu	v0,a0
48ad48d8:	a240      	lbu	v0,0(v0)
48ad48da:	c14c      	sb	v0,12(s1)
48ad48dc:	6a00      	li	v0,0
        for (i = 0; i < dialog_private.button_cnt; i++)
48ad48de:	f020 c144 	sb	v0,36(s1)
48ad48e2:	a14c      	lbu	v0,12(s1)
48ad48e4:	f020 a164 	lbu	v1,36(s1)
48ad48e8:	eb43      	sltu	v1,v0
48ad48ea:	601a      	bteqz	48ad4920 <.LBB2+0x58>
48ad48ec:	f020 a144 	lbu	v0,36(s1)
        {
            dialog_private.buttons[i] = button_list[(uint8) dialog_com->button_type].buttons[i].str_id;
48ad48f0:	3344      	sll	v1,v0,1
48ad48f2:	6751      	move	v0,s1
48ad48f4:	e355      	addu	a1,v1,v0
48ad48f6:	b640      	lw	a2,48ad49f4 <.LBE2+0xcc>
48ad48f8:	f020 a164 	lbu	v1,36(s1)
48ad48fc:	994f      	lw	v0,60(s1)
48ad48fe:	a281      	lbu	a0,1(v0)
48ad4900:	6743      	move	v0,v1
48ad4902:	3348      	sll	v1,v0,2
48ad4904:	6744      	move	v0,a0
48ad4906:	324c      	sll	v0,3
48ad4908:	e28b      	subu	v0,a0
48ad490a:	3244      	sll	v0,1
48ad490c:	e349      	addu	v0,v1,v0
48ad490e:	e2c9      	addu	v0,a2
48ad4910:	aa41      	lhu	v0,2(v0)
48ad4912:	cd43      	sh	v0,6(a1)
48ad4914:	f020 a144 	lbu	v0,36(s1)
48ad4918:	4241      	addiu	v0,v0,1
48ad491a:	f020 c144 	sb	v0,36(s1)
48ad491e:	17e1      	b	48ad48e2 <.LBB2+0x1a>
48ad4920:	994f      	lw	v0,60(s1)
        }

        dialog_private.old = dialog_private.active = dialog_com->active_default;
48ad4922:	a248      	lbu	v0,8(v0)
48ad4924:	c14d      	sb	v0,13(s1)
48ad4926:	c14e      	sb	v0,14(s1)

48ad4928 <.LBE2>:
48ad4928:	994f      	lw	v0,60(s1)
    }
    //如果对话框为有按键超时等待
    if (dialog_com->dialog_type == DIALOG_BUTTON_INCLUDE_WAIT)
48ad492a:	a240      	lbu	v0,0(v0)
48ad492c:	7201      	cmpi	v0,1
48ad492e:	6758      	move	v0,t8
48ad4930:	5a01      	sltiu	v0,1
48ad4932:	6007      	bteqz	48ad4942 <.LBE2+0x1a>
48ad4934:	6c00      	li	a0,0
    {
        //获取当前据对时间
        ab_time = sys_get_ab_timer();
48ad4936:	6d00      	li	a1,0
48ad4938:	6e00      	li	a2,0
48ad493a:	6f1c      	li	a3,28
48ad493c:	b22f      	lw	v0,48ad49f8 <.LBE2+0xd0>
48ad493e:	eac0      	jalrc	v0
48ad4940:	d947      	sw	v0,28(s1)
48ad4942:	994f      	lw	v0,60(s1)
    }
    //进入对话框消息循环
    while (1)
    {
        //刷新dialogbox
        if (dialog_com->draw_mode != DIALOG_DRAW_NULL)
48ad4944:	a249      	lbu	v0,9(v0)
48ad4946:	220d      	beqz	v0,48ad4962 <.LBE2+0x3a>
48ad4948:	4167      	addiu	v1,s1,7
        {
            ui_show_dialogbox(&style_infor, &dialog_private, (uint32) dialog_com->draw_mode);
48ad494a:	4b09      	addiu	v1,9
48ad494c:	994f      	lw	v0,60(s1)
48ad494e:	a249      	lbu	v0,9(v0)
48ad4950:	6783      	move	a0,v1
48ad4952:	67b1      	move	a1,s1
48ad4954:	67c2      	move	a2,v0
48ad4956:	6f09      	li	a3,9
48ad4958:	b222      	lw	v0,48ad49e0 <.LBE2+0xb8>
48ad495a:	eac0      	jalrc	v0
48ad495c:	996f      	lw	v1,60(s1)
            dialog_com->draw_mode = DIALOG_DRAW_NULL;
48ad495e:	6a00      	li	v0,0
48ad4960:	c349      	sb	v0,9(v1)
48ad4962:	994f      	lw	v0,60(s1)
        }

        result = dialog_msg_deal(dialog_com, &dialog_private, any_key_flag);
48ad4964:	f020 a160 	lbu	v1,32(s1)
48ad4968:	6782      	move	a0,v0
48ad496a:	67b1      	move	a1,s1
48ad496c:	67c3      	move	a2,v1
48ad496e:	1971 5180 	jal	48ad4600 <dialog_msg_deal>
48ad4972:	6500      	nop
48ad4974:	c94c      	sh	v0,24(s1)
48ad4976:	a94c      	lhu	v0,24(s1)
        if (result != RESULT_NULL)
48ad4978:	2201      	beqz	v0,48ad497c <.LBE2+0x54>
48ad497a:	101e      	b	48ad49b8 <.LBE2+0x90>
        {
            break;
48ad497c:	994f      	lw	v0,60(s1)
        }
        //如果对话框为有按键超时等待
        if (dialog_com->dialog_type == DIALOG_BUTTON_INCLUDE_WAIT)
48ad497e:	a240      	lbu	v0,0(v0)
48ad4980:	7201      	cmpi	v0,1
48ad4982:	6758      	move	v0,t8
48ad4984:	5a01      	sltiu	v0,1
48ad4986:	6011      	bteqz	48ad49aa <.LBE2+0x82>
48ad4988:	6c00      	li	a0,0
        {
            //大于5s,超时退出
            if (sys_get_ab_timer() - ab_time >= 5000)
48ad498a:	6d00      	li	a1,0
48ad498c:	6e00      	li	a2,0
48ad498e:	6f1c      	li	a3,28
48ad4990:	b21a      	lw	v0,48ad49f8 <.LBE2+0xd0>
48ad4992:	eac0      	jalrc	v0
48ad4994:	6762      	move	v1,v0
48ad4996:	9947      	lw	v0,28(s1)
48ad4998:	e34b      	subu	v0,v1,v0
48ad499a:	f382 5a08 	sltiu	v0,5000
48ad499e:	6105      	btnez	48ad49aa <.LBE2+0x82>
48ad49a0:	f4ef 6a19 	li	v0,31993
            {
                result = RESULT_DIALOG_NO;
48ad49a4:	ea4b      	neg	v0
48ad49a6:	c94c      	sh	v0,24(s1)
48ad49a8:	1007      	b	48ad49b8 <.LBE2+0x90>
                break;
48ad49aa:	6c01      	li	a0,1
            }
        }

        //挂起10ms，多任务调度
        sys_os_time_dly(1);
48ad49ac:	6d00      	li	a1,0
48ad49ae:	6e00      	li	a2,0
48ad49b0:	6f31      	li	a3,49
48ad49b2:	b212      	lw	v0,48ad49f8 <.LBE2+0xd0>
48ad49b4:	eac0      	jalrc	v0
48ad49b6:	17c5      	b	48ad4942 <.LBE2+0x1a>
48ad49b8:	f020 a141 	lbu	v0,33(s1)
    }

    change_app_timer_tag(tag_backup);
48ad49bc:	6782      	move	a0,v0
48ad49be:	1971 527f 	jal	48ad49fc <change_app_timer_tag>
48ad49c2:	6500      	nop
48ad49c4:	f020 a142 	lbu	v0,34(s1)
    gui_set_headbar_mode(mode_backup, icon_backup);
48ad49c8:	f020 a163 	lbu	v1,35(s1)
48ad49cc:	6782      	move	a0,v0
48ad49ce:	67a3      	move	a1,v1
48ad49d0:	b207      	lw	v0,48ad49ec <.LBE2+0xc4>
48ad49d2:	eac0      	jalrc	v0
48ad49d4:	a94c      	lhu	v0,24(s1)
    return result;
48ad49d6:	d94a      	sw	v0,40(s1)
48ad49d8:	994a      	lw	v0,40(s1)
}
48ad49da:	65b9      	move	sp,s1
48ad49dc:	6457      	restore	56,ra,s1
48ad49de:	e8a0      	jrc	ra
48ad49e0:	6bb1      	li	v1,177
48ad49e2:	bfc1      	lwu	a2,4(a3)
48ad49e4:	4695      	daddiu	a0,a2,5
48ad49e6:	4885      	addiu	s0,-123
48ad49e8:	5bac      	sltiu	v1,172
48ad49ea:	9fc1      	lw	a2,4(a3)
48ad49ec:	4601      	addiu	s0,a2,1
48ad49ee:	4885      	addiu	s0,-123
48ad49f0:	46b5      	daddiu	a1,a2,5
48ad49f2:	48b5      	addiu	s0,-75
48ad49f4:	4a88      	addiu	v0,-120
48ad49f6:	48ad      	addiu	s0,-83
48ad49f8:	640d      	restore	104
48ad49fa:	bfc1      	lwu	a2,4(a3)

48ad49fc <change_app_timer_tag>:
48ad49fc:	6491      	save	8,s1
48ad49fe:	673d      	move	s1,sp
48ad4a00:	6744      	move	v0,a0
48ad4a02:	c148      	sb	v0,8(s1)
48ad4a04:	b303      	lw	v1,48ad4a10 <change_app_timer_tag+0x14>
48ad4a06:	a148      	lbu	v0,8(s1)
48ad4a08:	c340      	sb	v0,0(v1)
48ad4a0a:	65b9      	move	sp,s1
48ad4a0c:	6411      	restore	8,s1
48ad4a0e:	e8a0      	jrc	ra
48ad4a10:	a200      	lbu	s0,0(v0)
48ad4a12:	9fc1      	lw	a2,4(a3)

48ad4a14 <get_app_timer_tag>:
48ad4a14:	6491      	save	8,s1
48ad4a16:	673d      	move	s1,sp
48ad4a18:	b204      	lw	v0,48ad4a28 <get_app_timer_tag+0x14>
48ad4a1a:	a240      	lbu	v0,0(v0)
48ad4a1c:	651a      	move	t8,v0
48ad4a1e:	6758      	move	v0,t8
48ad4a20:	65b9      	move	sp,s1
48ad4a22:	6411      	restore	8,s1
48ad4a24:	e8a0      	jrc	ra
48ad4a26:	0000      	addiu	s0,sp,0
48ad4a28:	a200      	lbu	s0,0(v0)
48ad4a2a:	9fc1      	lw	a2,4(a3)

48ad4a2c <gui_dialog_msg>:
48ad4a2c:	64d7      	save	56,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *    消息提示型对话框控制流实现。
 * \param[in]    style_id ui editor工具设计的对话框控件模板
 * \param[in]    type 对话框类型，只能是 DIALOG_BUTTON_ANYKEY，DIALOG_INFOR_WAIT，
 *                     DIALOG_INFOR_IMMEDIATE 中的一种
 * \param[in]    str_id 多国语言字符串ID
 * \param[out]   none
 * \return       app_result_e
 * \retval           RESULT_DIALOG_XXX 选择了有效按键后返回，详细参见 app_result_e 定义
 * \retval           RESULT_REDRAW 无效返回，AP需要重绘UI
 * \retval           other 收到返回值不为 RESULT_NULL 应用消息返回，见 app_result_e 定义
 * \ingroup      controls
 * \par          exmaple code
 * \code
 app_result_e result;

 result = gui_dialog_msg(DIALOG_MSG, DIALOG_INFOR_IMMEDIATE, S_WAITING);//显示“请稍后…”
 if(result == RESULT_REDRAW)//显示正常结束返回，重绘UI
 {

 }
 else//其他返回结果，需要做特殊处理
 {

 }
 * \endcode
 * \note
 * \li  对话框类型只能是 DIALOG_BUTTON_ANYKEY，DIALOG_INFOR_WAIT，DIALOG_INFOR_IMMEDIATE
 *      中的一种，否则强制为 DIALOG_INFOR_WAIT。
 *******************************************************************************/
app_result_e gui_dialog_msg(uint16 style_id, dialog_type_e type, uint16 str_id)
{
48ad4a2e:	0104      	addiu	s1,sp,16
48ad4a30:	6744      	move	v0,a0
48ad4a32:	6765      	move	v1,a1
48ad4a34:	6786      	move	a0,a2
48ad4a36:	c954      	sh	v0,40(s1)
48ad4a38:	f020 c16c 	sb	v1,44(s1)
48ad4a3c:	c998      	sh	a0,48(s1)
48ad4a3e:	a958      	lhu	v0,48(s1)
    dialog_com_data_t dialog_param;
    string_desc_t str_desc;

    str_desc.data.id = str_id;
48ad4a40:	c948      	sh	v0,16(s1)
48ad4a42:	6a7e      	li	v0,126
    str_desc.language = UNICODEID;
48ad4a44:	c154      	sb	v0,20(s1)
48ad4a46:	f020 a14c 	lbu	v0,44(s1)

    //对话框类型 提示
    if (type == DIALOG_BUTTON_INCLUDE)
48ad4a4a:	2a03      	bnez	v0,48ad4a52 <gui_dialog_msg+0x26>
48ad4a4c:	6a03      	li	v0,3
    {
        type = DIALOG_INFOR_WAIT;
48ad4a4e:	f020 c14c 	sb	v0,44(s1)
48ad4a52:	f020 a14c 	lbu	v0,44(s1)
    }
    dialog_param.dialog_type = type;
48ad4a56:	c140      	sb	v0,0(s1)
48ad4a58:	6a01      	li	v0,1
    dialog_param.icon_id = -1;
48ad4a5a:	ea4b      	neg	v0
48ad4a5c:	c941      	sh	v0,2(s1)
48ad4a5e:	4147      	addiu	v0,s1,7
    //字符串
    dialog_param.string_desc = &str_desc;
48ad4a60:	4a09      	addiu	v0,9
48ad4a62:	d941      	sw	v0,4(s1)
48ad4a64:	6a05      	li	v0,5

    //按键类型
    dialog_param.button_type = BUTTON_NO_BUTTON;
48ad4a66:	c141      	sb	v0,1(s1)
48ad4a68:	a954      	lhu	v0,40(s1)

    //调用 gui_dialog 提示消息
    return gui_dialog(style_id, &dialog_param);
48ad4a6a:	6782      	move	a0,v0
48ad4a6c:	67b1      	move	a1,s1
48ad4a6e:	b206      	lw	v0,48ad4a84 <gui_dialog_msg+0x58>
48ad4a70:	eac0      	jalrc	v0
48ad4a72:	651a      	move	t8,v0
48ad4a74:	6758      	move	v0,t8
48ad4a76:	651a      	move	t8,v0
48ad4a78:	6758      	move	v0,t8
48ad4a7a:	651a      	move	t8,v0
48ad4a7c:	6758      	move	v0,t8
}
48ad4a7e:	65b9      	move	sp,s1
48ad4a80:	6455      	restore	40,ra,s1
48ad4a82:	e8a0      	jrc	ra
48ad4a84:	47b1      	daddiu	a1,a3,1
48ad4a86:	48ad      	addiu	s0,-83

48ad4a88 <button_list>:
48ad4a88:	0002 8007 8301 8004 8014 0000 0000 0003     ................
48ad4a98:	8003 8303 8008 8304 8005 8014 0002 8009     ................
48ad4aa8:	8306 8006 8307 0000 0000 0002 8009 8306     ................
48ad4ab8:	8006 8014 0000 0000 0002 8008 8304 8004     ................
48ad4ac8:	8014 0000 0000 0002 0000 0000 0000 0000     ................
	...
Disassembly of section BANK_UI_1_44:

48b14600 <timer_usb_handle>:
48b14600:	64d4      	save	32,ra,s1
const uint16 style_usb_time[5] =
{ USB_TIME_ONE, USB_TIME_TWO, USB_TIME_THREE, USB_TIME_FOUR, USB_TIME_FIVE };

void timer_usb_handle(void)
{
48b14602:	0104      	addiu	s1,sp,16
48b14604:	b30c      	lw	v1,48b14634 <timer_usb_handle+0x34>
    style_infor_t style_infor;

    style_infor.style_id = style_usb_time[g_usb_auto_select];
48b14606:	b20d      	lw	v0,48b14638 <timer_usb_handle+0x38>
48b14608:	a240      	lbu	v0,0(v0)
48b1460a:	ea11      	zeb	v0
48b1460c:	3244      	sll	v0,1
48b1460e:	e269      	addu	v0,v1
48b14610:	aa40      	lhu	v0,0(v0)
48b14612:	c940      	sh	v0,0(s1)
48b14614:	6a01      	li	v0,1
    style_infor.type = UI_COM;
48b14616:	c142      	sb	v0,2(s1)
48b14618:	6791      	move	a0,s1
    //显示计时界面
    ui_show_picbox(&style_infor, NULL);
48b1461a:	6d00      	li	a1,0
48b1461c:	6e00      	li	a2,0
48b1461e:	6f02      	li	a3,2
48b14620:	b207      	lw	v0,48b1463c <timer_usb_handle+0x3c>
48b14622:	eac0      	jalrc	v0
48b14624:	b305      	lw	v1,48b14634 <timer_usb_handle+0x34>
    g_usb_auto_select++;
48b14626:	b205      	lw	v0,48b14638 <timer_usb_handle+0x38>
48b14628:	a240      	lbu	v0,0(v0)
48b1462a:	4241      	addiu	v0,v0,1
48b1462c:	c340      	sb	v0,0(v1)
48b1462e:	65b9      	move	sp,s1
}
48b14630:	6452      	restore	16,ra,s1
48b14632:	e8a0      	jrc	ra
48b14634:	4b24      	addiu	v1,36
48b14636:	48b1      	addiu	s0,-79
48b14638:	5b91      	sltiu	v1,145
48b1463a:	9fc1      	lw	a2,4(a3)
48b1463c:	6bb1      	li	v1,177
48b1463e:	bfc1      	lwu	a2,4(a3)

48b14640 <clear_usb_time>:
48b14640:	64d4      	save	32,ra,s1

void clear_usb_time(void)
{
48b14642:	0104      	addiu	s1,sp,16
48b14644:	f002 6a0b 	li	v0,4107
    style_infor_t style_infor;

    style_infor.style_id = USB_TIME_CLEAR;
48b14648:	c940      	sh	v0,0(s1)
48b1464a:	6a01      	li	v0,1
    style_infor.type = UI_COM;
48b1464c:	c142      	sb	v0,2(s1)
48b1464e:	6791      	move	a0,s1
    //显示计时界面
    ui_show_picbox(&style_infor, NULL);
48b14650:	6d00      	li	a1,0
48b14652:	6e00      	li	a2,0
48b14654:	6f02      	li	a3,2
48b14656:	b203      	lw	v0,48b14660 <clear_usb_time+0x20>
48b14658:	eac0      	jalrc	v0
48b1465a:	65b9      	move	sp,s1
}
48b1465c:	6452      	restore	16,ra,s1
48b1465e:	e8a0      	jrc	ra
48b14660:	6bb1      	li	v1,177
48b14662:	bfc1      	lwu	a2,4(a3)

48b14664 <usbconnect_msg_deal>:
48b14664:	64d8      	save	64,ra,s1

//usbconnect gui app msg deal
app_result_e usbconnect_msg_deal(dialog_com_data_t *dialog_com, dialog_private_t *dialog_private)
{
48b14666:	0104      	addiu	s1,sp,16
48b14668:	d98c      	sw	a0,48(s1)
48b1466a:	d9ad      	sw	a1,52(s1)
48b1466c:	6a00      	li	v0,0
    input_gui_msg_t input_msg;
    msg_apps_type_e gui_event;
    private_msg_t private_msg;
    app_result_e result = RESULT_NULL;
48b1466e:	c950      	sh	v0,32(s1)
48b14670:	6791      	move	a0,s1

    //获取到 gui消息
    if (get_gui_msg(&input_msg) == TRUE)
48b14672:	b264      	lw	v0,48b14800 <usbconnect_msg_deal+0x19c>
48b14674:	eac0      	jalrc	v0
48b14676:	7201      	cmpi	v0,1
48b14678:	6758      	move	v0,t8
48b1467a:	5a01      	sltiu	v0,1
48b1467c:	f080 6004 	bteqz	48b14788 <usbconnect_msg_deal+0x124>
48b14680:	4147      	addiu	v0,s1,7
    {
        //进行 gui消息映射
        if (com_key_mapping(&input_msg, &gui_event, usbconnect_key_map_list) == TRUE)
48b14682:	4241      	addiu	v0,v0,1
48b14684:	b360      	lw	v1,48b14804 <usbconnect_msg_deal+0x1a0>
48b14686:	6791      	move	a0,s1
48b14688:	67a2      	move	a1,v0
48b1468a:	67c3      	move	a2,v1
48b1468c:	b25f      	lw	v0,48b14808 <usbconnect_msg_deal+0x1a4>
48b1468e:	eac0      	jalrc	v0
48b14690:	7201      	cmpi	v0,1
48b14692:	6758      	move	v0,t8
48b14694:	5a01      	sltiu	v0,1
48b14696:	f0a0 600d 	bteqz	48b147f4 <usbconnect_msg_deal+0x190>
48b1469a:	a944      	lhu	v0,8(s1)
        {
            switch (gui_event)
48b1469c:	d949      	sw	v0,36(s1)
48b1469e:	9949      	lw	v0,36(s1)
48b146a0:	f004 7202 	cmpi	v0,8194
48b146a4:	6758      	move	v0,t8
48b146a6:	5a01      	sltiu	v0,1
48b146a8:	6118      	btnez	48b146da <usbconnect_msg_deal+0x76>
48b146aa:	9949      	lw	v0,36(s1)
48b146ac:	f004 5203 	slti	v0,8195
48b146b0:	6007      	bteqz	48b146c0 <usbconnect_msg_deal+0x5c>
48b146b2:	9949      	lw	v0,36(s1)
48b146b4:	f004 7201 	cmpi	v0,8193
48b146b8:	6758      	move	v0,t8
48b146ba:	5a01      	sltiu	v0,1
48b146bc:	6131      	btnez	48b14720 <usbconnect_msg_deal+0xbc>
48b146be:	105e      	b	48b1477c <usbconnect_msg_deal+0x118>
48b146c0:	9949      	lw	v0,36(s1)
48b146c2:	f004 7203 	cmpi	v0,8195
48b146c6:	6758      	move	v0,t8
48b146c8:	5a01      	sltiu	v0,1
48b146ca:	614b      	btnez	48b14762 <usbconnect_msg_deal+0xfe>
48b146cc:	9949      	lw	v0,36(s1)
48b146ce:	f004 7204 	cmpi	v0,8196
48b146d2:	6758      	move	v0,t8
48b146d4:	5a01      	sltiu	v0,1
48b146d6:	614d      	btnez	48b14772 <usbconnect_msg_deal+0x10e>
48b146d8:	1051      	b	48b1477c <usbconnect_msg_deal+0x118>
48b146da:	996d      	lw	v1,52(s1)
            {
                case EVENT_DIALOG_NEXT_BUTTON:
                //选择下一个按钮选项
                dialog_private->old = dialog_private->active;
48b146dc:	994d      	lw	v0,52(s1)
48b146de:	a24d      	lbu	v0,13(v0)
48b146e0:	c34e      	sb	v0,14(v1)
48b146e2:	994d      	lw	v0,52(s1)
                if (dialog_private->active < (dialog_private->button_cnt - 1))
48b146e4:	a26d      	lbu	v1,13(v0)
48b146e6:	994d      	lw	v0,52(s1)
48b146e8:	a24c      	lbu	v0,12(v0)
48b146ea:	424f      	addiu	v0,v0,-1
48b146ec:	eb42      	slt	v1,v0
48b146ee:	6006      	bteqz	48b146fc <usbconnect_msg_deal+0x98>
48b146f0:	996d      	lw	v1,52(s1)
                {
                    dialog_private->active++;
48b146f2:	994d      	lw	v0,52(s1)
48b146f4:	a24d      	lbu	v0,13(v0)
48b146f6:	4241      	addiu	v0,v0,1
48b146f8:	c34d      	sb	v0,13(v1)
48b146fa:	1003      	b	48b14702 <usbconnect_msg_deal+0x9e>
48b146fc:	996d      	lw	v1,52(s1)
                }
                else
                {
                    dialog_private->active = 0;
48b146fe:	6a00      	li	v0,0
48b14700:	c34d      	sb	v0,13(v1)
48b14702:	996c      	lw	v1,48(s1)
                }
                dialog_com->draw_mode = DIALOG_DRAW_BUTTON;
48b14704:	6a01      	li	v0,1
48b14706:	c349      	sb	v0,9(v1)
48b14708:	1991 5190 	jal	48b14640 <clear_usb_time>

                //修改软定时器时间
                clear_usb_time();
48b1470c:	6500      	nop
48b1470e:	b340      	lw	v1,48b1480c <usbconnect_msg_deal+0x1a8>
                g_usb_auto_select = 0;
48b14710:	6a00      	li	v0,0
48b14712:	c340      	sb	v0,0(v1)
48b14714:	b23f      	lw	v0,48b14810 <usbconnect_msg_deal+0x1ac>
                restart_app_timer(g_usb_timer_id);
48b14716:	8240      	lb	v0,0(v0)
48b14718:	6782      	move	a0,v0
48b1471a:	b23f      	lw	v0,48b14814 <usbconnect_msg_deal+0x1b0>
48b1471c:	eac0      	jalrc	v0
48b1471e:	106a      	b	48b147f4 <usbconnect_msg_deal+0x190>
                break;
48b14720:	996d      	lw	v1,52(s1)

                case EVENT_DIALOG_PREV_BUTTON:
                //选择上一个按钮选项
                dialog_private->old = dialog_private->active;
48b14722:	994d      	lw	v0,52(s1)
48b14724:	a24d      	lbu	v0,13(v0)
48b14726:	c34e      	sb	v0,14(v1)
48b14728:	994d      	lw	v0,52(s1)
                if (dialog_private->active > 0)
48b1472a:	a24d      	lbu	v0,13(v0)
48b1472c:	2206      	beqz	v0,48b1473a <usbconnect_msg_deal+0xd6>
48b1472e:	996d      	lw	v1,52(s1)
                {
                    dialog_private->active--;
48b14730:	994d      	lw	v0,52(s1)
48b14732:	a24d      	lbu	v0,13(v0)
48b14734:	424f      	addiu	v0,v0,-1
48b14736:	c34d      	sb	v0,13(v1)
48b14738:	1005      	b	48b14744 <usbconnect_msg_deal+0xe0>
48b1473a:	996d      	lw	v1,52(s1)
                }
                else
                {
                    dialog_private->active = dialog_private->button_cnt - 1;
48b1473c:	994d      	lw	v0,52(s1)
48b1473e:	a24c      	lbu	v0,12(v0)
48b14740:	424f      	addiu	v0,v0,-1
48b14742:	c34d      	sb	v0,13(v1)
48b14744:	996c      	lw	v1,48(s1)
                }
                dialog_com->draw_mode = DIALOG_DRAW_BUTTON;
48b14746:	6a01      	li	v0,1
48b14748:	c349      	sb	v0,9(v1)
48b1474a:	1991 5190 	jal	48b14640 <clear_usb_time>

                //修改软定时器时间
                clear_usb_time();
48b1474e:	6500      	nop
48b14750:	b32f      	lw	v1,48b1480c <usbconnect_msg_deal+0x1a8>
                g_usb_auto_select = 0;
48b14752:	6a00      	li	v0,0
48b14754:	c340      	sb	v0,0(v1)
48b14756:	b22f      	lw	v0,48b14810 <usbconnect_msg_deal+0x1ac>
                restart_app_timer(g_usb_timer_id);
48b14758:	8240      	lb	v0,0(v0)
48b1475a:	6782      	move	a0,v0
48b1475c:	b22e      	lw	v0,48b14814 <usbconnect_msg_deal+0x1b0>
48b1475e:	eac0      	jalrc	v0
48b14760:	1049      	b	48b147f4 <usbconnect_msg_deal+0x190>
                break;
48b14762:	b32e      	lw	v1,48b14818 <usbconnect_msg_deal+0x1b4>

                case EVENT_DIALOG_CONFIRM:
                //确定选项返回
                result = usb_result[dialog_private->active];
48b14764:	994d      	lw	v0,52(s1)
48b14766:	a24d      	lbu	v0,13(v0)
48b14768:	3244      	sll	v0,1
48b1476a:	e269      	addu	v0,v1
48b1476c:	aa40      	lhu	v0,0(v0)
48b1476e:	c950      	sh	v0,32(s1)
48b14770:	1041      	b	48b147f4 <usbconnect_msg_deal+0x190>
                break;
48b14772:	f7ef 6a09 	li	v0,32745

                case EVENT_DIALOG_CANCEL:
                //取消返回，以默认方式连接--充电和播放
                result = RESULT_CHARGE_PLAY;
48b14776:	ea4b      	neg	v0
48b14778:	c950      	sh	v0,32(s1)
48b1477a:	103c      	b	48b147f4 <usbconnect_msg_deal+0x190>
                break;
48b1477c:	a944      	lhu	v0,8(s1)

                default:
                result = com_message_box(gui_event);
48b1477e:	6782      	move	a0,v0
48b14780:	b227      	lw	v0,48b1481c <usbconnect_msg_deal+0x1b8>
48b14782:	eac0      	jalrc	v0
48b14784:	c950      	sh	v0,32(s1)
48b14786:	1036      	b	48b147f4 <usbconnect_msg_deal+0x190>
                break;
48b14788:	4147      	addiu	v0,s1,7
            }
        }
    }
    //到此，gui消息队列已经处理完毕，获取ap私有消息和系统消息（会先转换为私有消息再返回）并处理
    else
    {
        if (get_app_msg(&private_msg) == TRUE)
48b1478a:	4a09      	addiu	v0,9
48b1478c:	6782      	move	a0,v0
48b1478e:	b225      	lw	v0,48b14820 <usbconnect_msg_deal+0x1bc>
48b14790:	eac0      	jalrc	v0
48b14792:	7201      	cmpi	v0,1
48b14794:	6758      	move	v0,t8
48b14796:	5a01      	sltiu	v0,1
48b14798:	602d      	bteqz	48b147f4 <usbconnect_msg_deal+0x190>
48b1479a:	b223      	lw	v0,48b14824 <usbconnect_msg_deal+0x1c0>
        {
            result = g_this_app_msg_dispatch(&private_msg);
48b1479c:	4167      	addiu	v1,s1,7
48b1479e:	4b09      	addiu	v1,9
48b147a0:	9a40      	lw	v0,0(v0)
48b147a2:	6783      	move	a0,v1
48b147a4:	eac0      	jalrc	v0
48b147a6:	c950      	sh	v0,32(s1)
48b147a8:	a970      	lhu	v1,32(s1)
            if (result == RESULT_REDRAW)
48b147aa:	f010 6a14 	li	v0,32788
48b147ae:	ea6e      	xor	v0,v1
48b147b0:	5a01      	sltiu	v0,1
48b147b2:	6006      	bteqz	48b147c0 <usbconnect_msg_deal+0x15c>
48b147b4:	994c      	lw	v0,48(s1)
            {
                dialog_com->draw_mode = DIALOG_DRAW_ALL;
48b147b6:	6b02      	li	v1,2
48b147b8:	c269      	sb	v1,9(v0)
48b147ba:	6a00      	li	v0,0
                result = RESULT_NULL;//不退出控件
48b147bc:	c950      	sh	v0,32(s1)
48b147be:	101a      	b	48b147f4 <usbconnect_msg_deal+0x190>
48b147c0:	a950      	lhu	v0,32(s1)
            }
            else if (result != RESULT_NULL)
48b147c2:	2218      	beqz	v0,48b147f4 <usbconnect_msg_deal+0x190>
48b147c4:	a970      	lhu	v1,32(s1)
            {
                if (result == RESULT_USB_UNSTICK)
48b147c6:	f010 6a18 	li	v0,32792
48b147ca:	ea6e      	xor	v0,v1
48b147cc:	5a01      	sltiu	v0,1
48b147ce:	6012      	bteqz	48b147f4 <usbconnect_msg_deal+0x190>
48b147d0:	f0c3 6a03 	li	v0,6339
                {
                	 ui_set_backgd_color(Color_BACKCOLOR_def);//清为全黑屏 //2015-12-30
48b147d4:	6782      	move	a0,v0
48b147d6:	6d00      	li	a1,0
48b147d8:	6e00      	li	a2,0
48b147da:	6f14      	li	a3,20
48b147dc:	b213      	lw	v0,48b14828 <usbconnect_msg_deal+0x1c4>
48b147de:	eac0      	jalrc	v0
48b147e0:	6c00      	li	a0,0
                    ui_clear_screen(NULL);
48b147e2:	6d00      	li	a1,0
48b147e4:	6e00      	li	a2,0
48b147e6:	6f12      	li	a3,18
48b147e8:	b210      	lw	v0,48b14828 <usbconnect_msg_deal+0x1c4>
48b147ea:	eac0      	jalrc	v0
48b147ec:	f7ef 6a0c 	li	v0,32748
                    result = RESULT_REDRAW;
48b147f0:	ea4b      	neg	v0
48b147f2:	c950      	sh	v0,32(s1)
48b147f4:	a950      	lhu	v0,32(s1)
                }
            }
            else
            {
                //do nothing for QAC
            }
        }
    }

    return result;
48b147f6:	651a      	move	t8,v0
48b147f8:	6758      	move	v0,t8
}
48b147fa:	65b9      	move	sp,s1
48b147fc:	6456      	restore	48,ra,s1
48b147fe:	e8a0      	jrc	ra
48b14800:	66d5      	0x66d5
48b14802:	bfc1      	lwu	a2,4(a3)
48b14804:	46f8      	daddiu	a3,a2,-8
48b14806:	4855      	addiu	s0,85
48b14808:	47ad      	addiu	a1,a3,-3
48b1480a:	4855      	addiu	s0,85
48b1480c:	5b91      	sltiu	v1,145
48b1480e:	9fc1      	lw	a2,4(a3)
48b14810:	5b92      	sltiu	v1,146
48b14812:	9fc1      	lw	a2,4(a3)
48b14814:	46f5      	daddiu	a3,a2,5
48b14816:	4845      	addiu	s0,69
48b14818:	4b20      	addiu	v1,32
48b1481a:	48b1      	addiu	s0,-79
48b1481c:	4601      	addiu	s0,a2,1
48b1481e:	48bd      	addiu	s0,-67
48b14820:	6741      	move	v0,at
48b14822:	bfc1      	lwu	a2,4(a3)
48b14824:	a1f8      	lbu	a3,24(s1)
48b14826:	9fc1      	lw	a2,4(a3)
48b14828:	6bb1      	li	v1,177
48b1482a:	bfc1      	lwu	a2,4(a3)

48b1482c <ui_dialog_usbconnect>:
48b1482c:	64d7      	save	56,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *    对话框控件控制流主函数，是对话框控件的外部接口
 * \param[in]    style_id ui editor工具设计的对话框控件模板
 * \param[in]    dialog_com 指向对话框控件初始化结构体变量，是上层对对话框的控制命令或参数
 * \param[out]   none
 * \return       app_result_e
 * \retval           RESULT_USB_TRANS 选择USB数据传输模式
 * \retval           RESULT_USB_PLAY 选择USB充电播放模式或者取消返回默认连接方式
 * \retval           RESULT_REDRAW 无效返回，AP需要重绘UI
 * \retval           other 收到返回值不为 RESULT_NULL 应用消息返回，见 app_result_e 定义
 * \note
 *******************************************************************************/
app_result_e ui_dialog_usbconnect(uint16 style_id, dialog_com_data_t *dialog_com)
{
48b1482e:	0104      	addiu	s1,sp,16
48b14830:	6744      	move	v0,a0
48b14832:	d9ab      	sw	a1,44(s1)
48b14834:	c954      	sh	v0,40(s1)
48b14836:	b337      	lw	v1,48b14910 <ui_dialog_usbconnect+0xe4>
    dialog_private_t dialog_private;
    style_infor_t style_infor;
    app_result_e result;
    uint8 i;

    //bank data 初始化
    g_usb_auto_select = 0;
48b14838:	6a00      	li	v0,0
48b1483a:	c340      	sb	v0,0(v1)
48b1483c:	b336      	lw	v1,48b14914 <ui_dialog_usbconnect+0xe8>

    usb_selecting_state = TRUE;
48b1483e:	6a01      	li	v0,1
48b14840:	c340      	sb	v0,0(v1)
48b14842:	994b      	lw	v0,44(s1)
    dialog_private.icon_id = dialog_com->icon_id;
48b14844:	aa41      	lhu	v0,2(v0)
48b14846:	c942      	sh	v0,4(s1)
48b14848:	994b      	lw	v0,44(s1)
    dialog_private.string_desc = dialog_com->string_desc;
48b1484a:	9a41      	lw	v0,4(v0)
48b1484c:	d940      	sw	v0,0(s1)
48b1484e:	a954      	lhu	v0,40(s1)

    style_infor.style_id = style_id;
48b14850:	c948      	sh	v0,16(s1)
48b14852:	6a01      	li	v0,1
    style_infor.type = UI_COM;
48b14854:	c152      	sb	v0,18(s1)
48b14856:	996b      	lw	v1,44(s1)

    dialog_com->draw_mode = DIALOG_DRAW_ALL;
48b14858:	6a02      	li	v0,2
48b1485a:	c349      	sb	v0,9(v1)
48b1485c:	6a02      	li	v0,2

    //替换按钮字符串
    dialog_private.button_cnt = USB_OPTION_COUNT;
48b1485e:	c14c      	sb	v0,12(s1)
48b14860:	6a00      	li	v0,0
    for (i = 0; i < dialog_private.button_cnt; i++)
48b14862:	c15a      	sb	v0,26(s1)
48b14864:	a14c      	lbu	v0,12(s1)
48b14866:	a17a      	lbu	v1,26(s1)
48b14868:	eb43      	sltu	v1,v0
48b1486a:	600e      	bteqz	48b14888 <ui_dialog_usbconnect+0x5c>
48b1486c:	a15a      	lbu	v0,26(s1)
    {
        dialog_private.buttons[i] = usb_buttons[i];
48b1486e:	3344      	sll	v1,v0,1
48b14870:	6751      	move	v0,s1
48b14872:	e351      	addu	a0,v1,v0
48b14874:	b329      	lw	v1,48b14918 <ui_dialog_usbconnect+0xec>
48b14876:	a15a      	lbu	v0,26(s1)
48b14878:	3244      	sll	v0,1
48b1487a:	e269      	addu	v0,v1
48b1487c:	aa40      	lhu	v0,0(v0)
48b1487e:	cc43      	sh	v0,6(a0)
48b14880:	a15a      	lbu	v0,26(s1)
48b14882:	4241      	addiu	v0,v0,1
48b14884:	c15a      	sb	v0,26(s1)
48b14886:	17ee      	b	48b14864 <ui_dialog_usbconnect+0x38>
48b14888:	994b      	lw	v0,44(s1)
    }
    dialog_private.old = dialog_private.active = dialog_com->active_default;
48b1488a:	a248      	lbu	v0,8(v0)
48b1488c:	c14d      	sb	v0,13(s1)
48b1488e:	c14e      	sb	v0,14(s1)
48b14890:	994b      	lw	v0,44(s1)

    //进入对话框消息循环
    while (1)
    {
        //刷新dialogbox
        if (dialog_com->draw_mode != DIALOG_DRAW_NULL)
48b14892:	a249      	lbu	v0,9(v0)
48b14894:	2216      	beqz	v0,48b148c2 <ui_dialog_usbconnect+0x96>
48b14896:	4167      	addiu	v1,s1,7
        {
            ui_show_dialogbox(&style_infor, &dialog_private, (uint32) dialog_com->draw_mode);
48b14898:	4b09      	addiu	v1,9
48b1489a:	994b      	lw	v0,44(s1)
48b1489c:	a249      	lbu	v0,9(v0)
48b1489e:	6783      	move	a0,v1
48b148a0:	67b1      	move	a1,s1
48b148a2:	67c2      	move	a2,v0
48b148a4:	6f09      	li	a3,9
48b148a6:	b21e      	lw	v0,48b1491c <ui_dialog_usbconnect+0xf0>
48b148a8:	eac0      	jalrc	v0
48b148aa:	994b      	lw	v0,44(s1)
            //初始时绘制 USB时间 背景图片
            if (dialog_com->draw_mode == DIALOG_DRAW_ALL)
48b148ac:	a249      	lbu	v0,9(v0)
48b148ae:	7202      	cmpi	v0,2
48b148b0:	6758      	move	v0,t8
48b148b2:	5a01      	sltiu	v0,1
48b148b4:	6003      	bteqz	48b148bc <ui_dialog_usbconnect+0x90>
48b148b6:	1991 5190 	jal	48b14640 <clear_usb_time>
            {
                clear_usb_time();
48b148ba:	6500      	nop
48b148bc:	996b      	lw	v1,44(s1)
            }

            dialog_com->draw_mode = DIALOG_DRAW_NULL;
48b148be:	6a00      	li	v0,0
48b148c0:	c349      	sb	v0,9(v1)
48b148c2:	b214      	lw	v0,48b14910 <ui_dialog_usbconnect+0xe4>
        }

        //已经5秒，选择当前激活项
        if (g_usb_auto_select == 5)
48b148c4:	a240      	lbu	v0,0(v0)
48b148c6:	7205      	cmpi	v0,5
48b148c8:	6758      	move	v0,t8
48b148ca:	5a01      	sltiu	v0,1
48b148cc:	6007      	bteqz	48b148dc <ui_dialog_usbconnect+0xb0>
48b148ce:	b315      	lw	v1,48b14920 <ui_dialog_usbconnect+0xf4>
        {
            //确定选项返回
            result = usb_result[dialog_private.active];
48b148d0:	a14d      	lbu	v0,13(s1)
48b148d2:	3244      	sll	v0,1
48b148d4:	e269      	addu	v0,v1
48b148d6:	aa40      	lhu	v0,0(v0)
48b148d8:	c94c      	sh	v0,24(s1)
48b148da:	1011      	b	48b148fe <ui_dialog_usbconnect+0xd2>
            break;
48b148dc:	994b      	lw	v0,44(s1)
        }

        result = usbconnect_msg_deal(dialog_com, &dialog_private);
48b148de:	6782      	move	a0,v0
48b148e0:	67b1      	move	a1,s1
48b148e2:	1991 5199 	jal	48b14664 <usbconnect_msg_deal>
48b148e6:	6500      	nop
48b148e8:	c94c      	sh	v0,24(s1)
48b148ea:	a94c      	lhu	v0,24(s1)
        if (result != RESULT_NULL)
48b148ec:	2201      	beqz	v0,48b148f0 <ui_dialog_usbconnect+0xc4>
48b148ee:	1007      	b	48b148fe <ui_dialog_usbconnect+0xd2>
        {
            break;
48b148f0:	6c01      	li	a0,1
        }

        //挂起10ms，多任务调度
        sys_os_time_dly(1);
48b148f2:	6d00      	li	a1,0
48b148f4:	6e00      	li	a2,0
48b148f6:	6f31      	li	a3,49
48b148f8:	b20b      	lw	v0,48b14924 <ui_dialog_usbconnect+0xf8>
48b148fa:	eac0      	jalrc	v0
48b148fc:	17c9      	b	48b14890 <ui_dialog_usbconnect+0x64>
48b148fe:	b306      	lw	v1,48b14914 <ui_dialog_usbconnect+0xe8>
    }

    usb_selecting_state = FALSE;
48b14900:	6a00      	li	v0,0
48b14902:	c340      	sb	v0,0(v1)
48b14904:	a94c      	lhu	v0,24(s1)
    return result;
48b14906:	651a      	move	t8,v0
48b14908:	6758      	move	v0,t8
}
48b1490a:	65b9      	move	sp,s1
48b1490c:	6455      	restore	40,ra,s1
48b1490e:	e8a0      	jrc	ra
48b14910:	5b91      	sltiu	v1,145
48b14912:	9fc1      	lw	a2,4(a3)
48b14914:	5b90      	sltiu	v1,144
48b14916:	9fc1      	lw	a2,4(a3)
48b14918:	4b1c      	addiu	v1,28
48b1491a:	48b1      	addiu	s0,-79
48b1491c:	6bb1      	li	v1,177
48b1491e:	bfc1      	lwu	a2,4(a3)
48b14920:	4b20      	addiu	v1,32
48b14922:	48b1      	addiu	s0,-79
48b14924:	640d      	restore	104
48b14926:	bfc1      	lwu	a2,4(a3)

48b14928 <gui_usbconnect>:
48b14928:	64db      	save	88,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *    usb选项对话框
 * \param[in]    none
 * \param[out]   none
 * \return       app_result_e（同 ui_dialog_usbconnect 一致）
 * \retval           RESULT_APP_QUIT 选择USB数据传输模式，退出当前前台AP
 * \retval           RESULT_USB_TRANS 在config ap中，选择USB数据传输模式，只适用于 config ap
 * \retval           RESULT_REDRAW 选择USB充电播放模式 或 无效返回，AP需要重绘UI
 * \retval           other 收到返回值不为 RESULT_NULL 应用消息返回，见 app_result_e 定义
 * \note
 *******************************************************************************/
app_result_e gui_usbconnect(void)
{
48b1492a:	0104      	addiu	s1,sp,16
48b1492c:	1991 52c1 	jal	48b14b04 <get_app_timer_tag>
    dialog_com_data_t dialog_com;
    string_desc_t string_desc;
    private_msg_t private_msg;
    app_result_e result;
    uint8 tag_backup;
    uint8 mode_backup, icon_backup;
    gui_direct_e direct_bk;

    tag_backup = get_app_timer_tag();
48b14930:	6500      	nop
48b14932:	f020 c152 	sb	v0,50(s1)
48b14936:	6c8c      	li	a0,140
    change_app_timer_tag(APP_TIEMR_TAG_USBCN);
48b14938:	1991 52bb 	jal	48b14aec <change_app_timer_tag>
48b1493c:	6500      	nop
48b1493e:	b25c      	lw	v0,48b14aac <.LBE2+0x78>

    direct_bk = com_get_gui_direction();
48b14940:	eac0      	jalrc	v0
48b14942:	f020 c155 	sb	v0,53(s1)
48b14946:	6c00      	li	a0,0
    com_set_gui_direction(GUI_DIRECT_NORMAL);
48b14948:	b25a      	lw	v0,48b14ab0 <.LBE2+0x7c>
48b1494a:	eac0      	jalrc	v0
48b1494c:	4147      	addiu	v0,s1,7

    gui_get_headbar_mode(&mode_backup, &icon_backup);
48b1494e:	4a2c      	addiu	v0,44
48b14950:	4167      	addiu	v1,s1,7
48b14952:	4b2d      	addiu	v1,45
48b14954:	6782      	move	a0,v0
48b14956:	67a3      	move	a1,v1
48b14958:	b257      	lw	v0,48b14ab4 <.LBE2+0x80>
48b1495a:	eac0      	jalrc	v0
48b1495c:	b257      	lw	v0,48b14ab4 <.LBE2+0x80>
    gui_set_headbar_mode(HEADBAR_MODE_NULL, this_headbar_icon_id);
48b1495e:	a240      	lbu	v0,0(v0)
48b14960:	6c00      	li	a0,0
48b14962:	67a2      	move	a1,v0
48b14964:	b256      	lw	v0,48b14abc <.LBE2+0x88>
48b14966:	eac0      	jalrc	v0
48b14968:	b356      	lw	v1,48b14abc <.LBE2+0x88>

    //初始化控制变量，并创建软定时器
    g_usb_auto_select = 0;
48b1496a:	6a00      	li	v0,0
48b1496c:	c340      	sb	v0,0(v1)
48b1496e:	f3e0 6a08 	li	v0,1000
    g_usb_timer_id = set_app_timer(APP_TIMER_ATTRB_UI, 1000, timer_usb_handle);
48b14972:	b355      	lw	v1,48b14ac4 <.LBE2+0x90>
48b14974:	6c00      	li	a0,0
48b14976:	67a2      	move	a1,v0
48b14978:	67c3      	move	a2,v1
48b1497a:	b254      	lw	v0,48b14ac8 <.LBE2+0x94>
48b1497c:	eac0      	jalrc	v0
48b1497e:	6762      	move	v1,v0
48b14980:	b253      	lw	v0,48b14acc <.LBE2+0x98>
48b14982:	c260      	sb	v1,0(v0)
48b14984:	f7ef 6a13 	li	v0,32755

    //显示usb选项对话框，选择连接模式
    string_desc.data.id = S_CHOOSE_LINK_MODE;
48b14988:	ea4b      	neg	v0
48b1498a:	c948      	sh	v0,16(s1)
48b1498c:	6a7e      	li	v0,126
    string_desc.language = UNICODEID;
48b1498e:	c154      	sb	v0,20(s1)
48b14990:	6a00      	li	v0,0
    dialog_com.dialog_type = DIALOG_BUTTON_INCLUDE;
48b14992:	c140      	sb	v0,0(s1)
48b14994:	6a03      	li	v0,3
    dialog_com.button_type = BUTTON_YESNO;
48b14996:	c141      	sb	v0,1(s1)
48b14998:	6a01      	li	v0,1
    dialog_com.icon_id = V_U16_INVALID;
48b1499a:	ea4b      	neg	v0
48b1499c:	c941      	sh	v0,2(s1)
48b1499e:	4147      	addiu	v0,s1,7
    dialog_com.string_desc = &string_desc;
48b149a0:	4a09      	addiu	v0,9
48b149a2:	d941      	sw	v0,4(s1)
48b149a4:	6a00      	li	v0,0
    dialog_com.active_default = 0;//默认选择 “充电与传输”
48b149a6:	c148      	sb	v0,8(s1)
48b149a8:	f0c3 6a03 	li	v0,6339

    //draw bg
    ui_set_backgd_color(Color_BACKCOLOR_def);//清为全黑屏 //2015-11-09hjh
48b149ac:	6782      	move	a0,v0
48b149ae:	6d00      	li	a1,0
48b149b0:	6e00      	li	a2,0
48b149b2:	6f14      	li	a3,20
48b149b4:	b247      	lw	v0,48b14ad0 <.LBE2+0x9c>
48b149b6:	eac0      	jalrc	v0
48b149b8:	6c00      	li	a0,0
    ui_clear_screen(NULL); //2015-11-09
48b149ba:	6d00      	li	a1,0
48b149bc:	6e00      	li	a2,0
48b149be:	6f12      	li	a3,18
48b149c0:	b244      	lw	v0,48b14ad0 <.LBE2+0x9c>
48b149c2:	eac0      	jalrc	v0
48b149c4:	f010 6a02 	li	v0,32770

    result = ui_dialog_usbconnect(DIALOG_USB, &dialog_com);
48b149c8:	6782      	move	a0,v0
48b149ca:	67b1      	move	a1,s1
48b149cc:	1991 520b 	jal	48b1482c <ui_dialog_usbconnect>
48b149d0:	6500      	nop
48b149d2:	c958      	sh	v0,48(s1)
48b149d4:	a978      	lhu	v1,48(s1)
    if (result == RESULT_USB_TRANS)//选择USB数据传输模式
48b149d6:	f010 6a16 	li	v0,32790
48b149da:	ea6e      	xor	v0,v1
48b149dc:	5a01      	sltiu	v0,1
48b149de:	602a      	bteqz	48b14a34 <.LBE2>
48b149e0:	b23d      	lw	v0,48b14ad4 <.LBE2+0xa0>
    {
        if (g_this_app_info->app_id != APP_ID_CONFIG)//不在开机应用中
48b149e2:	9a40      	lw	v0,0(v0)
48b149e4:	a241      	lbu	v0,1(v0)
48b149e6:	720b      	cmpi	v0,11
48b149e8:	6758      	move	v0,t8
48b149ea:	5a01      	sltiu	v0,1
48b149ec:	6141      	btnez	48b14a70 <.LBE2+0x3c>

48b149ee <.LBB2>:
48b149ee:	f200 6a05 	li	v0,517
        {
            //usb选择数据传输模式，通知 manager ap 进入Udisk 数据传输
            msg_apps_t msg;

            //给 manager AP 发送 MSG_USB_TRANS 异步消息，由 manager ap控制进入 Udisk ap
            msg.type = MSG_USB_TRANS;
48b149f2:	d94e      	sw	v0,56(s1)
48b149f4:	4147      	addiu	v0,s1,7
            send_async_msg(APP_ID_MANAGER, &msg);
48b149f6:	4a31      	addiu	v0,49
48b149f8:	6c08      	li	a0,8
48b149fa:	67a2      	move	a1,v0
48b149fc:	b237      	lw	v0,48b14ad8 <.LBE2+0xa4>
48b149fe:	eac0      	jalrc	v0
48b14a00:	6c01      	li	a0,1

            //等待AP退出消息 MSG_APP_QUIT ，再返回 RESULT_APP_QUIT，应用直接退出
            while (1)
            {
                //挂起10ms，多任务调度
                sys_os_time_dly(1);
48b14a02:	6d00      	li	a1,0
48b14a04:	6e00      	li	a2,0
48b14a06:	6f31      	li	a3,49
48b14a08:	b235      	lw	v0,48b14adc <.LBE2+0xa8>
48b14a0a:	eac0      	jalrc	v0
48b14a0c:	4147      	addiu	v0,s1,7
                if ((get_app_msg(&private_msg) == TRUE) && (private_msg.msg.type == MSG_APP_QUIT))
48b14a0e:	4a19      	addiu	v0,25
48b14a10:	6782      	move	a0,v0
48b14a12:	b234      	lw	v0,48b14ae0 <.LBE2+0xac>
48b14a14:	eac0      	jalrc	v0
48b14a16:	7201      	cmpi	v0,1
48b14a18:	6758      	move	v0,t8
48b14a1a:	5a01      	sltiu	v0,1
48b14a1c:	60f1      	bteqz	48b14a00 <.LBB2+0x12>
48b14a1e:	9948      	lw	v0,32(s1)
48b14a20:	f100 7202 	cmpi	v0,258
48b14a24:	6758      	move	v0,t8
48b14a26:	5a01      	sltiu	v0,1
48b14a28:	60eb      	bteqz	48b14a00 <.LBB2+0x12>
48b14a2a:	f7ef 6a0b 	li	v0,32747
                {
                    result = RESULT_APP_QUIT;
48b14a2e:	ea4b      	neg	v0
48b14a30:	c958      	sh	v0,48(s1)
48b14a32:	101e      	b	48b14a70 <.LBE2+0x3c>

48b14a34 <.LBE2>:
                    break;
48b14a34:	a978      	lhu	v1,48(s1)
                }
            }
        }
    }
    else if (result == RESULT_CHARGE_PLAY)//选择USB充电播放模式
48b14a36:	f010 6a17 	li	v0,32791
48b14a3a:	ea6e      	xor	v0,v1
48b14a3c:	5a01      	sltiu	v0,1
48b14a3e:	6018      	bteqz	48b14a70 <.LBE2+0x3c>
48b14a40:	6c00      	li	a0,0
    {
        //usb选择充电播放模式，开启充电，返回原先界面
        key_chargeset(CHARGE_START, 0, 0);
48b14a42:	6d00      	li	a1,0
48b14a44:	6e00      	li	a2,0
48b14a46:	6f01      	li	a3,1
48b14a48:	b227      	lw	v0,48b14ae4 <.LBE2+0xb0>
48b14a4a:	eac0      	jalrc	v0
48b14a4c:	f0c3 6a03 	li	v0,6339
        ui_set_backgd_color(Color_BACKCOLOR_def);//清为全黑屏 //2015-12-30
48b14a50:	6782      	move	a0,v0
48b14a52:	6d00      	li	a1,0
48b14a54:	6e00      	li	a2,0
48b14a56:	6f14      	li	a3,20
48b14a58:	b21e      	lw	v0,48b14ad0 <.LBE2+0x9c>
48b14a5a:	eac0      	jalrc	v0
48b14a5c:	6c00      	li	a0,0
        ui_clear_screen(NULL);  //2016-05-30 by Aidon_ZH
48b14a5e:	6d00      	li	a1,0
48b14a60:	6e00      	li	a2,0
48b14a62:	6f12      	li	a3,18
48b14a64:	b21b      	lw	v0,48b14ad0 <.LBE2+0x9c>
48b14a66:	eac0      	jalrc	v0
48b14a68:	f7ef 6a0c 	li	v0,32748

        result = RESULT_REDRAW;
48b14a6c:	ea4b      	neg	v0
48b14a6e:	c958      	sh	v0,48(s1)
48b14a70:	b217      	lw	v0,48b14acc <.LBE2+0x98>
    }
    else
    {
        //do nothing for QAC
    }

    //销毁软定时器
    kill_app_timer(g_usb_timer_id);
48b14a72:	8240      	lb	v0,0(v0)
48b14a74:	6782      	move	a0,v0
48b14a76:	b21d      	lw	v0,48b14ae8 <.LBE2+0xb4>
48b14a78:	eac0      	jalrc	v0
48b14a7a:	f020 a155 	lbu	v0,53(s1)

    com_set_gui_direction(direct_bk);
48b14a7e:	6782      	move	a0,v0
48b14a80:	b20c      	lw	v0,48b14ab0 <.LBE2+0x7c>
48b14a82:	eac0      	jalrc	v0
48b14a84:	f020 a152 	lbu	v0,50(s1)
    change_app_timer_tag(tag_backup);
48b14a88:	6782      	move	a0,v0
48b14a8a:	1991 52bb 	jal	48b14aec <change_app_timer_tag>
48b14a8e:	6500      	nop
48b14a90:	f020 a153 	lbu	v0,51(s1)
    gui_set_headbar_mode(mode_backup, icon_backup);
48b14a94:	f020 a174 	lbu	v1,52(s1)
48b14a98:	6782      	move	a0,v0
48b14a9a:	67a3      	move	a1,v1
48b14a9c:	b208      	lw	v0,48b14abc <.LBE2+0x88>
48b14a9e:	eac0      	jalrc	v0
48b14aa0:	a958      	lhu	v0,48(s1)

    return result;
48b14aa2:	651a      	move	t8,v0
48b14aa4:	6758      	move	v0,t8
}
48b14aa6:	65b9      	move	sp,s1
48b14aa8:	6459      	restore	72,ra,s1
48b14aaa:	e8a0      	jrc	ra
48b14aac:	4679      	daddiu	v1,a2,-7
48b14aae:	48b5      	addiu	s0,-75
48b14ab0:	463d      	daddiu	s1,a2,-3
48b14ab2:	48b5      	addiu	s0,-75
48b14ab4:	4695      	daddiu	a0,a2,5
48b14ab6:	4885      	addiu	s0,-123
48b14ab8:	5bac      	sltiu	v1,172
48b14aba:	9fc1      	lw	a2,4(a3)
48b14abc:	4601      	addiu	s0,a2,1
48b14abe:	4885      	addiu	s0,-123
48b14ac0:	5b91      	sltiu	v1,145
48b14ac2:	9fc1      	lw	a2,4(a3)
48b14ac4:	4601      	addiu	s0,a2,1
48b14ac6:	48b1      	addiu	s0,-79
48b14ac8:	4601      	addiu	s0,a2,1
48b14aca:	4845      	addiu	s0,69
48b14acc:	5b92      	sltiu	v1,146
48b14ace:	9fc1      	lw	a2,4(a3)
48b14ad0:	6bb1      	li	v1,177
48b14ad2:	bfc1      	lwu	a2,4(a3)
48b14ad4:	a1f0      	lbu	a3,16(s1)
48b14ad6:	9fc1      	lw	a2,4(a3)
48b14ad8:	4759      	daddiu	v0,a3,-7
48b14ada:	4849      	addiu	s0,73
48b14adc:	640d      	restore	104
48b14ade:	bfc1      	lwu	a2,4(a3)
48b14ae0:	6741      	move	v0,at
48b14ae2:	bfc1      	lwu	a2,4(a3)
48b14ae4:	6405      	restore	40
48b14ae6:	bfc1      	lwu	a2,4(a3)
48b14ae8:	473d      	daddiu	s1,a3,-3
48b14aea:	4845      	addiu	s0,69

48b14aec <change_app_timer_tag>:
48b14aec:	6491      	save	8,s1
48b14aee:	673d      	move	s1,sp
48b14af0:	6744      	move	v0,a0
48b14af2:	c148      	sb	v0,8(s1)
48b14af4:	b303      	lw	v1,48b14b00 <change_app_timer_tag+0x14>
48b14af6:	a148      	lbu	v0,8(s1)
48b14af8:	c340      	sb	v0,0(v1)
48b14afa:	65b9      	move	sp,s1
48b14afc:	6411      	restore	8,s1
48b14afe:	e8a0      	jrc	ra
48b14b00:	a200      	lbu	s0,0(v0)
48b14b02:	9fc1      	lw	a2,4(a3)

48b14b04 <get_app_timer_tag>:
48b14b04:	6491      	save	8,s1
48b14b06:	673d      	move	s1,sp
48b14b08:	b204      	lw	v0,48b14b18 <get_app_timer_tag+0x14>
48b14b0a:	a240      	lbu	v0,0(v0)
48b14b0c:	651a      	move	t8,v0
48b14b0e:	6758      	move	v0,t8
48b14b10:	65b9      	move	sp,s1
48b14b12:	6411      	restore	8,s1
48b14b14:	e8a0      	jrc	ra
48b14b16:	0000      	addiu	s0,sp,0
48b14b18:	a200      	lbu	s0,0(v0)
48b14b1a:	9fc1      	lw	a2,4(a3)

48b14b1c <usb_buttons>:
48b14b1c:	8021 8020                                   !. .

48b14b20 <usb_result>:
48b14b20:	8016 8017                                   ....

48b14b24 <style_usb_time>:
48b14b24:	100c 100d 100e 100f 1010 0000 0000 0000     ................
	...
Disassembly of section BANK_UI_1_45:

48b54600 <com_set_contrast>:
48b54600:	64d4      	save	32,ra,s1
 * \ingroup      misc_func
 * \note 
*******************************************************************************/
void com_set_contrast(uint8 lightness)
{
48b54602:	0104      	addiu	s1,sp,16
48b54604:	6744      	move	v0,a0
48b54606:	c150      	sb	v0,16(s1)
48b54608:	a150      	lbu	v0,16(s1)
    uint8 map_value;
    
    if(lightness > VALUE_LIGHTNESS_MAX)
48b5460a:	5a0c      	sltiu	v0,12
48b5460c:	6103      	btnez	48b54614 <com_set_contrast+0x14>
48b5460e:	6a00      	li	v0,0
    {
        map_value = 0;
48b54610:	c140      	sb	v0,0(s1)
48b54612:	1005      	b	48b5461e <com_set_contrast+0x1e>
48b54614:	b308      	lw	v1,48b54634 <com_set_contrast+0x34>
    }
    else
    {
        map_value = lightness_map_data[lightness];
48b54616:	a150      	lbu	v0,16(s1)
48b54618:	e349      	addu	v0,v1,v0
48b5461a:	a240      	lbu	v0,0(v0)
48b5461c:	c140      	sb	v0,0(s1)
48b5461e:	a140      	lbu	v0,0(s1)
    }
    
    lcd_set_contrast(map_value);
48b54620:	6782      	move	a0,v0
48b54622:	6d00      	li	a1,0
48b54624:	6e00      	li	a2,0
48b54626:	6f01      	li	a3,1
48b54628:	b204      	lw	v0,48b54638 <com_set_contrast+0x38>
48b5462a:	eac0      	jalrc	v0
48b5462c:	65b9      	move	sp,s1
}
48b5462e:	6452      	restore	16,ra,s1
48b54630:	e8a0      	jrc	ra
48b54632:	0000      	addiu	s0,sp,0
48b54634:	46a8      	addiu	a1,a2,-8
48b54636:	48b5      	addiu	s0,-75
48b54638:	6bad      	li	v1,173
48b5463a:	bfc1      	lwu	a2,4(a3)

48b5463c <com_set_gui_direction>:
48b5463c:	64d3      	save	24,ra,s1

/******************************************************************************/
/*!                    
 * \par  Description:
 *    设置 GUI 显示方向（小机正向竖向或旋转方向横向）。
 * \param[in]    direct UI 显示方向，见 gui_direct_e 定义
 * \param[out]   none 
 * \return       none
 * \ingroup      misc_func
 * \note 
*******************************************************************************/
void com_set_gui_direction(gui_direct_e direct)
{
48b5463e:	0104      	addiu	s1,sp,16
48b54640:	6744      	move	v0,a0
48b54642:	c148      	sb	v0,8(s1)
48b54644:	b30b      	lw	v1,48b54670 <com_set_gui_direction+0x34>
    g_gui_direct = direct;
48b54646:	a148      	lbu	v0,8(s1)
48b54648:	c340      	sb	v0,0(v1)
48b5464a:	b20a      	lw	v0,48b54670 <com_set_gui_direction+0x34>
    if(g_gui_direct == GUI_DIRECT_NORMAL)
48b5464c:	a240      	lbu	v0,0(v0)
48b5464e:	2a07      	bnez	v0,48b5465e <com_set_gui_direction+0x22>
48b54650:	6c00      	li	a0,0
    {
        ui_set_screen_direction(0);
48b54652:	6d00      	li	a1,0
48b54654:	6e00      	li	a2,0
48b54656:	6f1e      	li	a3,30
48b54658:	b207      	lw	v0,48b54674 <com_set_gui_direction+0x38>
48b5465a:	eac0      	jalrc	v0
48b5465c:	1006      	b	48b5466a <com_set_gui_direction+0x2e>
48b5465e:	6c01      	li	a0,1
    }
    else
    {
        ui_set_screen_direction(1);
48b54660:	6d00      	li	a1,0
48b54662:	6e00      	li	a2,0
48b54664:	6f1e      	li	a3,30
48b54666:	b204      	lw	v0,48b54674 <com_set_gui_direction+0x38>
48b54668:	eac0      	jalrc	v0
48b5466a:	65b9      	move	sp,s1
    }
}
48b5466c:	6451      	restore	8,ra,s1
48b5466e:	e8a0      	jrc	ra
48b54670:	5a4e      	sltiu	v0,78
48b54672:	9fc1      	lw	a2,4(a3)
48b54674:	6bb1      	li	v1,177
48b54676:	bfc1      	lwu	a2,4(a3)

48b54678 <com_get_gui_direction>:
48b54678:	6491      	save	8,s1

/******************************************************************************/
/*!                    
 * \par  Description:
 *    获取 GUI 显示方向（小机正向竖向或旋转方向横向）。
 * \param[in]    none
 * \param[out]   none 
 * \return       gui_direct_e
 * \retval           返回 GUI 显示方向，见 gui_direct_e 定义。
 * \ingroup      misc_func
 * \note 
*******************************************************************************/
gui_direct_e com_get_gui_direction(void)
{
48b5467a:	673d      	move	s1,sp
48b5467c:	b204      	lw	v0,48b5468c <com_get_gui_direction+0x14>
    return g_gui_direct;
48b5467e:	a240      	lbu	v0,0(v0)
48b54680:	651a      	move	t8,v0
48b54682:	6758      	move	v0,t8
}
48b54684:	65b9      	move	sp,s1
48b54686:	6411      	restore	8,s1
48b54688:	e8a0      	jrc	ra
48b5468a:	0000      	addiu	s0,sp,0
48b5468c:	5a4e      	sltiu	v0,78
48b5468e:	9fc1      	lw	a2,4(a3)

48b54690 <com_set_sys_comval>:
48b54690:	6491      	save	8,s1

/******************************************************************************/
/*!                    
 * \par  Description:
 *    设置 sys_comval 指针，以便 common 访问系统配置项。
 * \param[in]    comval 全局系统公共变量指针
 * \param[out]   none 
 * \return       none
 * \ingroup      misc_func
 * \note 
 * \li  前台应用在进入时必须调用该接口，否则 common 模块将无法正常运行。
*******************************************************************************/
void com_set_sys_comval(comval_t *comval)
{
48b54692:	673d      	move	s1,sp
48b54694:	d982      	sw	a0,8(s1)
48b54696:	b304      	lw	v1,48b546a4 <com_set_sys_comval+0x14>
    sys_comval = comval;
48b54698:	9942      	lw	v0,8(s1)
48b5469a:	db40      	sw	v0,0(v1)
48b5469c:	65b9      	move	sp,s1
}
48b5469e:	6411      	restore	8,s1
48b546a0:	e8a0      	jrc	ra
48b546a2:	0000      	addiu	s0,sp,0
48b546a4:	5a48      	sltiu	v0,72
48b546a6:	9fc1      	lw	a2,4(a3)

48b546a8 <lightness_map_data>:
48b546a8:	0201 0403 0605 0807 0b09 0f0d               ............

48b546b4 <com_app_sleep>:
48b546b4:	64d6      	save	48,ra,s1
 * \li  如果用户不想接收到 gui 快捷事件时退出睡眠，可以把该快捷按键添加到 key_map_list 中，
 *      但映射结果必须是 MSG_NULL。
*******************************************************************************/
app_result_e com_app_sleep(uint32 sleep_timer, const key_map_t *key_map_list)
{
48b546b6:	0104      	addiu	s1,sp,16
48b546b8:	d988      	sw	a0,32(s1)
48b546ba:	d9a9      	sw	a1,36(s1)
48b546bc:	9948      	lw	v0,32(s1)
    input_gui_msg_t input_msg;
    msg_apps_type_e gui_event;
    uint32 sleep_500ms_timer;
    
    //计算 10ms 计时器
    sleep_500ms_timer = sleep_timer;
48b546be:	d943      	sw	v0,12(s1)
48b546c0:	9943      	lw	v0,12(s1)
    if(sleep_500ms_timer == 0)
48b546c2:	2a03      	bnez	v0,48b546ca <com_app_sleep+0x16>
48b546c4:	6a00      	li	v0,0
    {
        return RESULT_NULL;
48b546c6:	d944      	sw	v0,16(s1)
48b546c8:	102a      	b	48b5471e <com_app_sleep+0x6a>
48b546ca:	6791      	move	a0,s1
    }
    while (1)
    {
        //获取gui消息
        while(get_gui_msg(&input_msg) == TRUE)//有gui消息
48b546cc:	b217      	lw	v0,48b54728 <com_app_sleep+0x74>
48b546ce:	eac0      	jalrc	v0
48b546d0:	7201      	cmpi	v0,1
48b546d2:	6758      	move	v0,t8
48b546d4:	5a01      	sltiu	v0,1
48b546d6:	6016      	bteqz	48b54704 <com_app_sleep+0x50>
48b546d8:	9949      	lw	v0,36(s1)
        {
            if(key_map_list != NULL)//有按键映射表，就按键映射表进行映射处理
48b546da:	220f      	beqz	v0,48b546fa <com_app_sleep+0x46>
48b546dc:	4147      	addiu	v0,s1,7
            {
                //进行按键映射
                if(com_key_mapping(&input_msg, &gui_event, key_map_list) == TRUE)
48b546de:	4241      	addiu	v0,v0,1
48b546e0:	9969      	lw	v1,36(s1)
48b546e2:	6791      	move	a0,s1
48b546e4:	67a2      	move	a1,v0
48b546e6:	67c3      	move	a2,v1
48b546e8:	b211      	lw	v0,48b5472c <com_app_sleep+0x78>
48b546ea:	eac0      	jalrc	v0
48b546ec:	7201      	cmpi	v0,1
48b546ee:	6758      	move	v0,t8
48b546f0:	5a01      	sltiu	v0,1
48b546f2:	60eb      	bteqz	48b546ca <com_app_sleep+0x16>
48b546f4:	a944      	lhu	v0,8(s1)
                {
                    return gui_event;
48b546f6:	d944      	sw	v0,16(s1)
48b546f8:	1012      	b	48b5471e <com_app_sleep+0x6a>
48b546fa:	b20e      	lw	v0,48b54730 <com_app_sleep+0x7c>
                }
            }
            else//按任意按键返回
            {
                //启动过滤后续按键
                com_filter_key_hold();
48b546fc:	eac0      	jalrc	v0
48b546fe:	6a00      	li	v0,0
                return RESULT_NULL;
48b54700:	d944      	sw	v0,16(s1)
48b54702:	100d      	b	48b5471e <com_app_sleep+0x6a>
48b54704:	6c32      	li	a0,50
            }
        }
               
        //挂起10ms，多任务调度
        sys_os_time_dly(50);
48b54706:	6d00      	li	a1,0
48b54708:	6e00      	li	a2,0
48b5470a:	6f31      	li	a3,49
48b5470c:	b20a      	lw	v0,48b54734 <com_app_sleep+0x80>
48b5470e:	eac0      	jalrc	v0
48b54710:	9943      	lw	v0,12(s1)
        
        //睡眠时间计时器递减
        sleep_500ms_timer--;
48b54712:	424f      	addiu	v0,v0,-1
48b54714:	d943      	sw	v0,12(s1)
48b54716:	9943      	lw	v0,12(s1)
        //睡眠时间已到，退出
        if(sleep_500ms_timer == 0)
48b54718:	2ad8      	bnez	v0,48b546ca <com_app_sleep+0x16>
48b5471a:	6a00      	li	v0,0
        {
            return RESULT_NULL;
48b5471c:	d944      	sw	v0,16(s1)
48b5471e:	9944      	lw	v0,16(s1)
        }
    }
}
48b54720:	65b9      	move	sp,s1
48b54722:	6454      	restore	32,ra,s1
48b54724:	e8a0      	jrc	ra
48b54726:	0000      	addiu	s0,sp,0
48b54728:	66d5      	0x66d5
48b5472a:	bfc1      	lwu	a2,4(a3)
48b5472c:	47ad      	addiu	a1,a3,-3
48b5472e:	4855      	addiu	s0,85
48b54730:	487d      	addiu	s0,125
48b54732:	4869      	addiu	s0,105
48b54734:	640d      	restore	104
48b54736:	bfc1      	lwu	a2,4(a3)

48b54738 <sys_timer_init>:
48b54738:	64d4      	save	32,ra,s1
 * \li  除了 config.app，前台应用在进入时必须调用该接口，否则背光，屏保，省电关机，
 *      定时关机，状态栏更新，等等功能将无法使用。
 *******************************************************************************/
void sys_timer_init(void)
{
48b5473a:	0104      	addiu	s1,sp,16
48b5473c:	19b1 51fe 	jal	48b547f8 <get_app_timer_tag>
    uint8 tag_backup;

    //电池及其充电检测处理 
    tag_backup = get_app_timer_tag();
48b54740:	6500      	nop
48b54742:	c140      	sb	v0,0(s1)
48b54744:	6cff      	li	a0,255
    change_app_timer_tag(APP_TIMER_TAG_SYS);
48b54746:	19b1 51f8 	jal	48b547e0 <change_app_timer_tag>
48b5474a:	6500      	nop
48b5474c:	f1e0 6a14 	li	v0,500
    sys_counter_timer_id = set_app_timer(APP_TIMER_ATTRB_CONTROL, 500, sys_counter_handle);
48b54750:	b31b      	lw	v1,48b547bc <sys_timer_init+0x84>
48b54752:	6c01      	li	a0,1
48b54754:	67a2      	move	a1,v0
48b54756:	67c3      	move	a2,v1
48b54758:	b21a      	lw	v0,48b547c0 <sys_timer_init+0x88>
48b5475a:	eac0      	jalrc	v0
48b5475c:	6762      	move	v1,v0
48b5475e:	b21a      	lw	v0,48b547c4 <sys_timer_init+0x8c>
48b54760:	c260      	sb	v1,0(v0)
48b54762:	a140      	lbu	v0,0(s1)
    change_app_timer_tag(tag_backup);
48b54764:	6782      	move	a0,v0
48b54766:	19b1 51f8 	jal	48b547e0 <change_app_timer_tag>
48b5476a:	6500      	nop
48b5476c:	19b1 51fe 	jal	48b547f8 <get_app_timer_tag>
    
    tag_backup = get_app_timer_tag();
48b54770:	6500      	nop
48b54772:	c140      	sb	v0,0(s1)
48b54774:	6cff      	li	a0,255
    change_app_timer_tag(APP_TIMER_TAG_SYS);
48b54776:	19b1 51f8 	jal	48b547e0 <change_app_timer_tag>
48b5477a:	6500      	nop
48b5477c:	f1e0 6a14 	li	v0,500
    sys_status_timer_id = set_app_timer(APP_TIMER_ATTRB_UI , 500, sys_status_handle);
48b54780:	b312      	lw	v1,48b547c8 <sys_timer_init+0x90>
48b54782:	6c00      	li	a0,0
48b54784:	67a2      	move	a1,v0
48b54786:	67c3      	move	a2,v1
48b54788:	b20e      	lw	v0,48b547c0 <sys_timer_init+0x88>
48b5478a:	eac0      	jalrc	v0
48b5478c:	6762      	move	v1,v0
48b5478e:	b210      	lw	v0,48b547cc <sys_timer_init+0x94>
48b54790:	c260      	sb	v1,0(v0)
48b54792:	a140      	lbu	v0,0(s1)
    change_app_timer_tag(tag_backup);
48b54794:	6782      	move	a0,v0
48b54796:	19b1 51f8 	jal	48b547e0 <change_app_timer_tag>
48b5479a:	6500      	nop
48b5479c:	b20d      	lw	v0,48b547d0 <sys_timer_init+0x98>

    /*tag_backup = get_app_timer_tag();
    change_app_timer_tag(APP_TIMER_TAG_SYS);
    peripheral_detect_timer_id = set_app_timer(APP_TIMER_ATTRB_CONTROL, PER_DETECT_PERIOD, peripheral_detect_handle);
     change_app_timer_tag(tag_backup);*/

    com_battery_charge_deal();
48b5479e:	eac0      	jalrc	v0
48b547a0:	b20d      	lw	v0,48b547d0 <sys_timer_init+0x98>
    peripheral_detect_handle();
48b547a2:	eac0      	jalrc	v0
48b547a4:	b20a      	lw	v0,48b547c8 <sys_timer_init+0x90>
    
    stop_app_timer(sys_status_timer_id);//默认不显示 status，通过 gui_set_headbar_mode 开关
48b547a6:	8240      	lb	v0,0(v0)
48b547a8:	6782      	move	a0,v0
48b547aa:	b20c      	lw	v0,48b547d8 <sys_timer_init+0xa0>
48b547ac:	eac0      	jalrc	v0
48b547ae:	b30c      	lw	v1,48b547dc <sys_timer_init+0xa4>
    g_sys_counter.battery_counter = 100;//强制读取充电状态和电池电量
48b547b0:	6a64      	li	v0,100
48b547b2:	cb43      	sh	v0,6(v1)
48b547b4:	65b9      	move	sp,s1
    
    
}
48b547b6:	6452      	restore	16,ra,s1
48b547b8:	e8a0      	jrc	ra
48b547ba:	0000      	addiu	s0,sp,0
48b547bc:	4601      	addiu	s0,a2,1
48b547be:	48b9      	addiu	s0,-71
48b547c0:	4601      	addiu	s0,a2,1
48b547c2:	4845      	addiu	s0,69
48b547c4:	5a4c      	sltiu	v0,76
48b547c6:	9fc1      	lw	a2,4(a3)
48b547c8:	4881      	addiu	s0,-127
48b547ca:	48b9      	addiu	s0,-71
48b547cc:	5a4d      	sltiu	v0,77
48b547ce:	9fc1      	lw	a2,4(a3)
48b547d0:	4939      	addiu	s1,57
48b547d2:	48b9      	addiu	s0,-71
48b547d4:	48d1      	addiu	s0,-47
48b547d6:	48b9      	addiu	s0,-71
48b547d8:	46c5      	addiu	a2,a2,5
48b547da:	4845      	addiu	s0,69
48b547dc:	a180      	lbu	a0,0(s1)
48b547de:	9fc1      	lw	a2,4(a3)

48b547e0 <change_app_timer_tag>:
48b547e0:	6491      	save	8,s1
48b547e2:	673d      	move	s1,sp
48b547e4:	6744      	move	v0,a0
48b547e6:	c148      	sb	v0,8(s1)
48b547e8:	b303      	lw	v1,48b547f4 <change_app_timer_tag+0x14>
48b547ea:	a148      	lbu	v0,8(s1)
48b547ec:	c340      	sb	v0,0(v1)
48b547ee:	65b9      	move	sp,s1
48b547f0:	6411      	restore	8,s1
48b547f2:	e8a0      	jrc	ra
48b547f4:	a200      	lbu	s0,0(v0)
48b547f6:	9fc1      	lw	a2,4(a3)

48b547f8 <get_app_timer_tag>:
48b547f8:	6491      	save	8,s1
48b547fa:	673d      	move	s1,sp
48b547fc:	b204      	lw	v0,48b5480c <get_app_timer_tag+0x14>
48b547fe:	a240      	lbu	v0,0(v0)
48b54800:	651a      	move	t8,v0
48b54802:	6758      	move	v0,t8
48b54804:	65b9      	move	sp,s1
48b54806:	6411      	restore	8,s1
48b54808:	e8a0      	jrc	ra
48b5480a:	0000      	addiu	s0,sp,0
48b5480c:	a200      	lbu	s0,0(v0)
48b5480e:	9fc1      	lw	a2,4(a3)

48b54810 <sys_timer_exit>:
48b54810:	64d3      	save	24,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *    删除系统计时软定时器和 headbar 周期更新软定时器，由前台应用退出应用时调用。
 * \param[in]    none
 * \param[out]   none
 * \return       none
 * \ingroup      misc_func
 * \note
 * \li  退出应用时，需要调用 sys_counter_exit，以删除 sys_counter_init 创建的软定时器。
 *******************************************************************************/
void sys_timer_exit(void)
{
48b54812:	0104      	addiu	s1,sp,16
48b54814:	b207      	lw	v0,48b54830 <sys_timer_exit+0x20>

    kill_app_timer(sys_counter_timer_id);
48b54816:	8240      	lb	v0,0(v0)
48b54818:	6782      	move	a0,v0
48b5481a:	b207      	lw	v0,48b54834 <sys_timer_exit+0x24>
48b5481c:	eac0      	jalrc	v0
48b5481e:	b207      	lw	v0,48b54838 <sys_timer_exit+0x28>

    //kill_app_timer(peripheral_detect_timer_id);

    kill_app_timer(sys_status_timer_id);    
48b54820:	8240      	lb	v0,0(v0)
48b54822:	6782      	move	a0,v0
48b54824:	b204      	lw	v0,48b54834 <sys_timer_exit+0x24>
48b54826:	eac0      	jalrc	v0
48b54828:	65b9      	move	sp,s1
}
48b5482a:	6451      	restore	8,ra,s1
48b5482c:	e8a0      	jrc	ra
48b5482e:	0000      	addiu	s0,sp,0
48b54830:	5a4c      	sltiu	v0,76
48b54832:	9fc1      	lw	a2,4(a3)
48b54834:	473d      	daddiu	s1,a3,-3
48b54836:	4845      	addiu	s0,69
48b54838:	5a4d      	sltiu	v0,77
48b5483a:	9fc1      	lw	a2,4(a3)
	...
Disassembly of section BANK_UI_1_46:

48b94600 <sys_counter_handle>:
48b94600:	64fa      	save	80,ra,s0-s1
48b94602:	b094      	lw	s0,48b94850 <sys_counter_handle+0x250>
48b94604:	98a0      	lw	a1,0(s0)
48b94606:	a566      	lbu	v1,6(a1)
48b94608:	a505      	lbu	s0,5(a1)
48b9460a:	d308      	sw	v1,32(sp)
48b9460c:	a587      	lbu	a0,7(a1)
48b9460e:	d409      	sw	a0,36(sp)
48b94610:	a5e9      	lbu	a3,9(a1)
48b94612:	d70a      	sw	a3,40(sp)
48b94614:	a5c8      	lbu	a2,8(a1)
48b94616:	d60b      	sw	a2,44(sp)
48b94618:	a564      	lbu	v1,4(a1)
48b9461a:	d30c      	sw	v1,48(sp)
48b9461c:	a592      	lbu	a0,18(a1)
48b9461e:	d40d      	sw	a0,52(sp)
48b94620:	a553      	lbu	v0,19(a1)
48b94622:	d20e      	sw	v0,56(sp)
48b94624:	2004      	beqz	s0,48b9462e <sys_counter_handle+0x2e>
48b94626:	b18c      	lw	s1,48b94854 <sys_counter_handle+0x254>
48b94628:	a189      	lbu	a0,9(s1)
48b9462a:	f0a0 2412 	beqz	a0,48b94792 <sys_counter_handle+0x192>
48b9462e:	9208      	lw	v0,32(sp)
48b94630:	2203      	beqz	v0,48b94638 <sys_counter_handle+0x38>
48b94632:	950c      	lw	a1,48(sp)
48b94634:	f080 2d12 	bnez	a1,48b9475c <sys_counter_handle+0x15c>
48b94638:	950d      	lw	a1,52(sp)
48b9463a:	2504      	beqz	a1,48b94644 <sys_counter_handle+0x44>
48b9463c:	b686      	lw	a2,48b94854 <sys_counter_handle+0x254>
48b9463e:	a649      	lbu	v0,9(a2)
48b94640:	7201      	cmpi	v0,1
48b94642:	6076      	bteqz	48b94730 <sys_counter_handle+0x130>
48b94644:	960e      	lw	a2,56(sp)
48b94646:	2604      	beqz	a2,48b94650 <sys_counter_handle+0x50>
48b94648:	b383      	lw	v1,48b94854 <sys_counter_handle+0x254>
48b9464a:	a34a      	lbu	v0,10(v1)
48b9464c:	7201      	cmpi	v0,1
48b9464e:	6052      	bteqz	48b946f4 <sys_counter_handle+0xf4>
48b94650:	b487      	lw	a0,48b9486c <sys_counter_handle+0x26c>
48b94652:	a462      	lbu	v1,2(a0)
48b94654:	7301      	cmpi	v1,1
48b94656:	6045      	bteqz	48b946e2 <sys_counter_handle+0xe2>
48b94658:	a443      	lbu	v0,3(a0)
48b9465a:	7201      	cmpi	v0,1
48b9465c:	6042      	bteqz	48b946e2 <sys_counter_handle+0xe2>
48b9465e:	9609      	lw	a2,36(sp)
48b94660:	2607      	beqz	a2,48b94670 <sys_counter_handle+0x70>
48b94662:	b37d      	lw	v1,48b94854 <sys_counter_handle+0x254>
48b94664:	a34d      	lbu	v0,13(v1)
48b94666:	2a04      	bnez	v0,48b94670 <sys_counter_handle+0x70>
48b94668:	a3e1      	lbu	a3,1(v1)
48b9466a:	7701      	cmpi	a3,1
48b9466c:	f0c0 6102 	btnez	48b947f4 <sys_counter_handle+0x1f4>
48b94670:	930a      	lw	v1,40(sp)
48b94672:	2309      	beqz	v1,48b94686 <sys_counter_handle+0x86>
48b94674:	a4a8      	lbu	a1,8(a0)
48b94676:	ed6e      	xor	a1,v1
48b94678:	f0c0 2d0f 	bnez	a1,48b9481a <sys_counter_handle+0x21a>
48b9467c:	b776      	lw	a3,48b94854 <sys_counter_handle+0x254>
48b9467e:	a7cd      	lbu	a2,13(a3)
48b94680:	f080 261b 	beqz	a2,48b947ba <sys_counter_handle+0x1ba>
48b94684:	b47a      	lw	a0,48b9486c <sys_counter_handle+0x26c>
48b94686:	a4e2      	lbu	a3,2(a0)
48b94688:	7701      	cmpi	a3,1
48b9468a:	6003      	bteqz	48b94692 <sys_counter_handle+0x92>
48b9468c:	a4c3      	lbu	a2,3(a0)
48b9468e:	7601      	cmpi	a2,1
48b94690:	6107      	btnez	48b946a0 <sys_counter_handle+0xa0>
48b94692:	b371      	lw	v1,48b94854 <sys_counter_handle+0x254>
48b94694:	a381      	lbu	a0,1(v1)
48b94696:	7401      	cmpi	a0,1
48b94698:	6003      	bteqz	48b946a0 <sys_counter_handle+0xa0>
48b9469a:	a362      	lbu	v1,2(v1)
48b9469c:	f080 230a 	beqz	v1,48b947b4 <sys_counter_handle+0x1b4>
48b946a0:	930b      	lw	v1,44(sp)
48b946a2:	2311      	beqz	v1,48b946c6 <sys_counter_handle+0xc6>
48b946a4:	b36c      	lw	v1,48b94854 <sys_counter_handle+0x254>
48b946a6:	a3aa      	lbu	a1,10(v1)
48b946a8:	2d0e      	bnez	a1,48b946c6 <sys_counter_handle+0xc6>
48b946aa:	a3e1      	lbu	a3,1(v1)
48b946ac:	7701      	cmpi	a3,1
48b946ae:	610b      	btnez	48b946c6 <sys_counter_handle+0xc6>
48b946b0:	a3c2      	lbu	a2,2(v1)
48b946b2:	2e09      	bnez	a2,48b946c6 <sys_counter_handle+0xc6>
48b946b4:	b269      	lw	v0,48b94858 <sys_counter_handle+0x258>
48b946b6:	940b      	lw	a0,44(sp)
48b946b8:	aaa2      	lhu	a1,4(v0)
48b946ba:	4561      	addiu	v1,a1,1
48b946bc:	ca62      	sh	v1,4(v0)
48b946be:	eb31      	zeh	v1
48b946c0:	eb83      	sltu	v1,a0
48b946c2:	f0a0 601b 	bteqz	48b9483c <sys_counter_handle+0x23c>
48b946c6:	b26e      	lw	v0,48b9487c <sys_counter_handle+0x27c>
48b946c8:	eac0      	jalrc	v0
48b946ca:	b463      	lw	a0,48b94854 <sys_counter_handle+0x254>
48b946cc:	67fd      	move	a3,sp
48b946ce:	b568      	lw	a1,48b9486c <sys_counter_handle+0x26c>
48b946d0:	a461      	lbu	v1,1(a0)
48b946d2:	a4c2      	lbu	a2,2(a0)
48b946d4:	f020 a748 	lbu	v0,40(a3)
48b946d8:	c562      	sb	v1,2(a1)
48b946da:	c5c3      	sb	a2,3(a1)
48b946dc:	c548      	sb	v0,8(a1)
48b946de:	647a      	restore	80,ra,s0-s1
48b946e0:	e8a0      	jrc	ra
48b946e2:	b35d      	lw	v1,48b94854 <sys_counter_handle+0x254>
48b946e4:	a3e1      	lbu	a3,1(v1)
48b946e6:	7701      	cmpi	a3,1
48b946e8:	60ba      	bteqz	48b9465e <sys_counter_handle+0x5e>
48b946ea:	a362      	lbu	v1,2(v1)
48b946ec:	2bb8      	bnez	v1,48b9465e <sys_counter_handle+0x5e>
48b946ee:	b55b      	lw	a1,48b94858 <sys_counter_handle+0x258>
48b946f0:	cd64      	sh	v1,8(a1)
48b946f2:	17b5      	b	48b9465e <sys_counter_handle+0x5e>
48b946f4:	b55d      	lw	a1,48b94868 <sys_counter_handle+0x268>
48b946f6:	a5e0      	lbu	a3,0(a1)
48b946f8:	7703      	cmpi	a3,3
48b946fa:	60aa      	bteqz	48b94650 <sys_counter_handle+0x50>
48b946fc:	a389      	lbu	a0,9(v1)
48b946fe:	7402      	cmpi	a0,2
48b94700:	60a7      	bteqz	48b94650 <sys_counter_handle+0x50>
48b94702:	b256      	lw	v0,48b94858 <sys_counter_handle+0x258>
48b94704:	940e      	lw	a0,56(sp)
48b94706:	aa61      	lhu	v1,2(v0)
48b94708:	3690      	sll	a2,a0,4
48b9470a:	4361      	addiu	v1,v1,1
48b9470c:	e697      	subu	a1,a2,a0
48b9470e:	9708      	lw	a3,32(sp)
48b94710:	ca61      	sh	v1,2(v0)
48b94712:	32ac      	sll	v0,a1,3
48b94714:	eb31      	zeh	v1
48b94716:	e759      	addu	a2,a3,v0
48b94718:	ebc2      	slt	v1,a2
48b9471a:	619a      	btnez	48b94650 <sys_counter_handle+0x50>
48b9471c:	b551      	lw	a1,48b94860 <sys_counter_handle+0x260>
48b9471e:	6cff      	li	a0,255
48b94720:	44c6      	addiu	a2,a0,6
48b94722:	9de0      	lw	a3,0(a1)
48b94724:	d604      	sw	a2,16(sp)
48b94726:	a781      	lbu	a0,1(a3)
48b94728:	b24f      	lw	v0,48b94864 <sys_counter_handle+0x264>
48b9472a:	ea40      	jalr	v0
48b9472c:	0504      	addiu	a1,sp,16
48b9472e:	1790      	b	48b94650 <sys_counter_handle+0x50>
48b94730:	970c      	lw	a3,48(sp)
48b94732:	2f88      	bnez	a3,48b94644 <sys_counter_handle+0x44>
48b94734:	b649      	lw	a2,48b94858 <sys_counter_handle+0x258>
48b94736:	940d      	lw	a0,52(sp)
48b94738:	ae40      	lhu	v0,0(a2)
48b9473a:	e08d      	addu	v1,s0,a0
48b9473c:	42a1      	addiu	a1,v0,1
48b9473e:	cea0      	sh	a1,0(a2)
48b94740:	ed31      	zeh	a1
48b94742:	ed62      	slt	a1,v1
48b94744:	f77f 611e 	btnez	48b94644 <sys_counter_handle+0x44>
48b94748:	b346      	lw	v1,48b94860 <sys_counter_handle+0x260>
48b9474a:	6cff      	li	a0,255
48b9474c:	44a6      	addiu	a1,a0,6
48b9474e:	9be0      	lw	a3,0(v1)
48b94750:	d504      	sw	a1,16(sp)
48b94752:	a781      	lbu	a0,1(a3)
48b94754:	b244      	lw	v0,48b94864 <sys_counter_handle+0x264>
48b94756:	ea40      	jalr	v0
48b94758:	0504      	addiu	a1,sp,16
48b9475a:	1774      	b	48b94644 <sys_counter_handle+0x44>
48b9475c:	b33e      	lw	v1,48b94854 <sys_counter_handle+0x254>
48b9475e:	a3ca      	lbu	a2,10(v1)
48b94760:	f77f 2e0a 	bnez	a2,48b94638 <sys_counter_handle+0x38>
48b94764:	a3e2      	lbu	a3,2(v1)
48b94766:	7702      	cmpi	a3,2
48b94768:	f77f 6006 	bteqz	48b94638 <sys_counter_handle+0x38>
48b9476c:	b23b      	lw	v0,48b94858 <sys_counter_handle+0x258>
48b9476e:	9408      	lw	a0,32(sp)
48b94770:	aaa1      	lhu	a1,2(v0)
48b94772:	4561      	addiu	v1,a1,1
48b94774:	ca61      	sh	v1,2(v0)
48b94776:	eb31      	zeh	v1
48b94778:	eb83      	sltu	v1,a0
48b9477a:	f75f 611d 	btnez	48b94638 <sys_counter_handle+0x38>
48b9477e:	b739      	lw	a3,48b94860 <sys_counter_handle+0x260>
48b94780:	6bff      	li	v1,255
48b94782:	4385      	addiu	a0,v1,5
48b94784:	9fc0      	lw	a2,0(a3)
48b94786:	d404      	sw	a0,16(sp)
48b94788:	a681      	lbu	a0,1(a2)
48b9478a:	b237      	lw	v0,48b94864 <sys_counter_handle+0x264>
48b9478c:	ea40      	jalr	v0
48b9478e:	0504      	addiu	a1,sp,16
48b94790:	1753      	b	48b94638 <sys_counter_handle+0x38>
48b94792:	a142      	lbu	v0,2(s1)
48b94794:	7202      	cmpi	v0,2
48b94796:	f75f 600a 	bteqz	48b9462e <sys_counter_handle+0x2e>
48b9479a:	b630      	lw	a2,48b94858 <sys_counter_handle+0x258>
48b9479c:	aee0      	lhu	a3,0(a2)
48b9479e:	47a1      	addiu	a1,a3,1
48b947a0:	cea0      	sh	a1,0(a2)
48b947a2:	ed31      	zeh	a1
48b947a4:	ed03      	sltu	a1,s0
48b947a6:	f75f 6102 	btnez	48b9462e <sys_counter_handle+0x2e>
48b947aa:	b32d      	lw	v1,48b9485c <sys_counter_handle+0x25c>
48b947ac:	ebc0      	jalrc	v1
48b947ae:	6c01      	li	a0,1
48b947b0:	c189      	sb	a0,9(s1)
48b947b2:	173d      	b	48b9462e <sys_counter_handle+0x2e>
48b947b4:	b229      	lw	v0,48b94858 <sys_counter_handle+0x258>
48b947b6:	ca62      	sh	v1,4(v0)
48b947b8:	1773      	b	48b946a0 <sys_counter_handle+0xa0>
48b947ba:	b22f      	lw	v0,48b94874 <sys_counter_handle+0x274>
48b947bc:	67a6      	move	a1,a2
48b947be:	0406      	addiu	a0,sp,24
48b947c0:	ea40      	jalr	v0
48b947c2:	6f24      	li	a3,36
48b947c4:	675d      	move	v0,sp
48b947c6:	b52d      	lw	a1,48b94878 <sys_counter_handle+0x278>
48b947c8:	a29a      	lbu	a0,26(v0)
48b947ca:	a560      	lbu	v1,0(a1)
48b947cc:	67c4      	move	a2,a0
48b947ce:	ee11      	zeb	a2
48b947d0:	ee6e      	xor	a2,v1
48b947d2:	f75f 2617 	beqz	a2,48b94684 <sys_counter_handle+0x84>
48b947d6:	b321      	lw	v1,48b94858 <sys_counter_handle+0x258>
48b947d8:	c580      	sb	a0,0(a1)
48b947da:	ab45      	lhu	v0,10(v1)
48b947dc:	2205      	beqz	v0,48b947e8 <sys_counter_handle+0x1e8>
48b947de:	428f      	addiu	a0,v0,-1
48b947e0:	cb85      	sh	a0,10(v1)
48b947e2:	ec31      	zeh	a0
48b947e4:	f75f 2c0e 	bnez	a0,48b94684 <sys_counter_handle+0x84>
48b947e8:	6d84      	li	a1,132
48b947ea:	b222      	lw	v0,48b94870 <sys_counter_handle+0x270>
48b947ec:	d504      	sw	a1,16(sp)
48b947ee:	ea40      	jalr	v0
48b947f0:	0404      	addiu	a0,sp,16
48b947f2:	1748      	b	48b94684 <sys_counter_handle+0x84>
48b947f4:	a3a2      	lbu	a1,2(v1)
48b947f6:	f73f 2d1b 	bnez	a1,48b94670 <sys_counter_handle+0x70>
48b947fa:	b218      	lw	v0,48b94858 <sys_counter_handle+0x258>
48b947fc:	9609      	lw	a2,36(sp)
48b947fe:	aae4      	lhu	a3,8(v0)
48b94800:	4761      	addiu	v1,a3,1
48b94802:	ca64      	sh	v1,8(v0)
48b94804:	eb31      	zeh	v1
48b94806:	ebc3      	sltu	v1,a2
48b94808:	f73f 6112 	btnez	48b94670 <sys_counter_handle+0x70>
48b9480c:	6c84      	li	a0,132
48b9480e:	b219      	lw	v0,48b94870 <sys_counter_handle+0x270>
48b94810:	d404      	sw	a0,16(sp)
48b94812:	ea40      	jalr	v0
48b94814:	0404      	addiu	a0,sp,16
48b94816:	b416      	lw	a0,48b9486c <sys_counter_handle+0x26c>
48b94818:	172b      	b	48b94670 <sys_counter_handle+0x70>
48b9481a:	6d00      	li	a1,0
48b9481c:	b216      	lw	v0,48b94874 <sys_counter_handle+0x274>
48b9481e:	67c5      	move	a2,a1
48b94820:	0406      	addiu	a0,sp,24
48b94822:	ea40      	jalr	v0
48b94824:	6f24      	li	a3,36
48b94826:	677d      	move	v1,sp
48b94828:	940a      	lw	a0,40(sp)
48b9482a:	a3da      	lbu	a2,26(v1)
48b9482c:	b513      	lw	a1,48b94878 <sys_counter_handle+0x278>
48b9482e:	3290      	sll	v0,a0,4
48b94830:	c5c0      	sb	a2,0(a1)
48b94832:	e29f      	subu	a3,v0,a0
48b94834:	b609      	lw	a2,48b94858 <sys_counter_handle+0x258>
48b94836:	33e8      	sll	v1,a3,2
48b94838:	ce65      	sh	v1,10(a2)
48b9483a:	1720      	b	48b9467c <sys_counter_handle+0x7c>
48b9483c:	b609      	lw	a2,48b94860 <sys_counter_handle+0x260>
48b9483e:	6bff      	li	v1,255
48b94840:	4384      	addiu	a0,v1,4
48b94842:	9ee0      	lw	a3,0(a2)
48b94844:	d404      	sw	a0,16(sp)
48b94846:	a781      	lbu	a0,1(a3)
48b94848:	b207      	lw	v0,48b94864 <sys_counter_handle+0x264>
48b9484a:	ea40      	jalr	v0
48b9484c:	0504      	addiu	a1,sp,16
48b9484e:	173b      	b	48b946c6 <sys_counter_handle+0xc6>
48b94850:	5a48      	sltiu	v0,72
48b94852:	9fc1      	lw	a2,4(a3)
48b94854:	a1b8      	lbu	a1,24(s1)
48b94856:	9fc1      	lw	a2,4(a3)
48b94858:	a180      	lbu	a0,0(s1)
48b9485a:	9fc1      	lw	a2,4(a3)
48b9485c:	4601      	addiu	s0,a2,1
48b9485e:	48b5      	addiu	s0,-75
48b94860:	a1f0      	lbu	a3,16(s1)
48b94862:	9fc1      	lw	a2,4(a3)
48b94864:	4759      	daddiu	v0,a3,-7
48b94866:	4849      	addiu	s0,73
48b94868:	5bb8      	sltiu	v1,184
48b9486a:	9fc1      	lw	a2,4(a3)
48b9486c:	a1d0      	lbu	a2,16(s1)
48b9486e:	9fc1      	lw	a2,4(a3)
48b94870:	47b1      	daddiu	a1,a3,1
48b94872:	4849      	addiu	s0,73
48b94874:	640d      	restore	104
48b94876:	bfc1      	lwu	a2,4(a3)
48b94878:	a1e5      	lbu	a3,5(s1)
48b9487a:	9fc1      	lw	a2,4(a3)
48b9487c:	4939      	addiu	s1,57
48b9487e:	48b9      	addiu	s0,-71

48b94880 <sys_status_handle>:
48b94880:	64e3      	save	24,ra,s0
48b94882:	b20f      	lw	v0,48b948bc <sys_status_handle+0x3c>
48b94884:	6b01      	li	v1,1
48b94886:	a24f      	lbu	v0,15(v0)
48b94888:	7203      	cmpi	v0,3
48b9488a:	6003      	bteqz	48b94892 <sys_status_handle+0x12>
48b9488c:	7202      	cmpi	v0,2
48b9488e:	6110      	btnez	48b948b0 <sys_status_handle+0x30>
48b94890:	6b05      	li	v1,5
48b94892:	b40c      	lw	a0,48b948c0 <sys_status_handle+0x40>
48b94894:	c460      	sb	v1,0(a0)
48b94896:	b00c      	lw	s0,48b948c4 <sys_status_handle+0x44>
48b94898:	a080      	lbu	a0,0(s0)
48b9489a:	2c06      	bnez	a0,48b948a8 <sys_status_handle+0x28>
48b9489c:	b20b      	lw	v0,48b948c8 <sys_status_handle+0x48>
48b9489e:	eac0      	jalrc	v0
48b948a0:	6f02      	li	a3,2
48b948a2:	c0e0      	sb	a3,0(s0)
48b948a4:	6463      	restore	24,ra,s0
48b948a6:	e8a0      	jrc	ra
48b948a8:	b309      	lw	v1,48b948c8 <sys_status_handle+0x48>
48b948aa:	ebc0      	jalrc	v1
48b948ac:	6463      	restore	24,ra,s0
48b948ae:	e8a0      	jrc	ra
48b948b0:	b304      	lw	v1,48b948bc <sys_status_handle+0x3c>
48b948b2:	a3c0      	lbu	a2,0(v1)
48b948b4:	46a1      	addiu	a1,a2,1
48b948b6:	c3a0      	sb	a1,0(v1)
48b948b8:	17ee      	b	48b94896 <sys_status_handle+0x16>
48b948ba:	0000      	addiu	s0,sp,0
48b948bc:	a1b8      	lbu	a1,24(s1)
48b948be:	9fc1      	lw	a2,4(a3)
48b948c0:	5b98      	sltiu	v1,152
48b948c2:	9fc1      	lw	a2,4(a3)
48b948c4:	5b9c      	sltiu	v1,156
48b948c6:	9fc1      	lw	a2,4(a3)
48b948c8:	46bd      	daddiu	a1,a2,-3
48b948ca:	4885      	addiu	s0,-123
48b948cc:	4a61      	addiu	v0,97
48b948ce:	48b9      	addiu	s0,-71

48b948d0 <peripheral_detect_handle>:
48b948d0:	e8a0      	jrc	ra
48b948d2:	6500      	nop

48b948d4 <com_battery_charge_change_deal>:
48b948d4:	6492      	save	16,s1

//充电与电量发生改变时需要处理
//返回TRUE表示处理完毕，本次检测处理已OK；返回FALSE表示继续后续计时处理
void com_battery_charge_change_deal(uint8 cur_charge_state, uint8 cur_bat_val)
{
48b948d6:	673d      	move	s1,sp
48b948d8:	6744      	move	v0,a0
48b948da:	6765      	move	v1,a1
48b948dc:	c150      	sb	v0,16(s1)
48b948de:	c174      	sb	v1,20(s1)
48b948e0:	a150      	lbu	v0,16(s1)
    uint16 msg;

    if (cur_charge_state == BAT_NORMAL)
48b948e2:	2a0f      	bnez	v0,48b94902 <com_battery_charge_change_deal+0x2e>
48b948e4:	a154      	lbu	v0,20(s1)
    {
        if (cur_bat_val <= 0)
48b948e6:	2a1b      	bnez	v0,48b9491e <com_battery_charge_change_deal+0x4a>
48b948e8:	b212      	lw	v0,48b94930 <com_battery_charge_change_deal+0x5c>
        {
            if ((g_app_info_state.charge_state != BAT_NORMAL)
48b948ea:	a24f      	lbu	v0,15(v0)
48b948ec:	2a06      	bnez	v0,48b948fa <com_battery_charge_change_deal+0x26>
48b948ee:	b211      	lw	v0,48b94930 <com_battery_charge_change_deal+0x5c>
48b948f0:	a270      	lbu	v1,16(v0)
48b948f2:	a154      	lbu	v0,20(s1)
48b948f4:	ea63      	sltu	v0,v1
48b948f6:	6101      	btnez	48b948fa <com_battery_charge_change_deal+0x26>
48b948f8:	1012      	b	48b9491e <com_battery_charge_change_deal+0x4a>
48b948fa:	b30f      	lw	v1,48b94934 <com_battery_charge_change_deal+0x60>
                    || (g_app_info_state.bat_value > cur_bat_val))
            {
                g_sys_counter.bat_low_cnt = 0;
48b948fc:	6a00      	li	v0,0
48b948fe:	cb47      	sh	v0,14(v1)
48b94900:	100e      	b	48b9491e <com_battery_charge_change_deal+0x4a>
48b94902:	a150      	lbu	v0,16(s1)

       /*          _BAT_PRINTD_INFO_INT("bat lower0:",g_sys_counter.bat_low_cnt);
                //检测到低电，广播低电消息
                msg = MSG_LOW_POWER;
                sys_mq_send(MQ_ID_SYS, &msg);
*/
            }
        }
    }
    else if (cur_charge_state == BAT_FULL)
48b94904:	7202      	cmpi	v0,2
48b94906:	6758      	move	v0,t8
48b94908:	5a01      	sltiu	v0,1
48b9490a:	6009      	bteqz	48b9491e <com_battery_charge_change_deal+0x4a>
48b9490c:	b209      	lw	v0,48b94930 <com_battery_charge_change_deal+0x5c>
    {
        if (g_app_info_state.charge_state != BAT_FULL)
48b9490e:	a24f      	lbu	v0,15(v0)
48b94910:	7202      	cmpi	v0,2
48b94912:	6758      	move	v0,t8
48b94914:	5a01      	sltiu	v0,1
48b94916:	6103      	btnez	48b9491e <com_battery_charge_change_deal+0x4a>
48b94918:	b307      	lw	v1,48b94934 <com_battery_charge_change_deal+0x60>
        {
            g_sys_counter.charge_full_cnt = 0;
48b9491a:	6a00      	li	v0,0
48b9491c:	cb46      	sh	v0,12(v1)
48b9491e:	b305      	lw	v1,48b94930 <com_battery_charge_change_deal+0x5c>
        }
    }
    else
    {
        ; //nothing for QAC
    }

    g_app_info_state.charge_state = cur_charge_state;
48b94920:	a150      	lbu	v0,16(s1)
48b94922:	c34f      	sb	v0,15(v1)
48b94924:	b303      	lw	v1,48b94930 <com_battery_charge_change_deal+0x5c>
    g_app_info_state.bat_value = cur_bat_val;
48b94926:	a154      	lbu	v0,20(s1)
48b94928:	c350      	sb	v0,16(v1)
48b9492a:	65b9      	move	sp,s1
}
48b9492c:	6412      	restore	16,s1
48b9492e:	e8a0      	jrc	ra
48b94930:	a1b8      	lbu	a1,24(s1)
48b94932:	9fc1      	lw	a2,4(a3)
48b94934:	a180      	lbu	a0,0(s1)
48b94936:	9fc1      	lw	a2,4(a3)

48b94938 <com_battery_charge_deal>:
48b94938:	64d4      	save	32,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *  处理跟电量有关功能，显显示充电标志，检测低压(<3.6V为低压)等
 * \param[in]    none
 * \param[out]   none
 * \return       none
 * \ingroup
 * \note
 *******************************************************************************/
void com_battery_charge_deal(void)
{
48b9493a:	0104      	addiu	s1,sp,16
48b9493c:	4144      	addiu	v0,s1,4
    uint16 msg;
    uint8 tmp_battery_value; //当前电池电量
    battery_status_e tmp_charge_state; //当前充电状态，分无充电，正在充电，充电已满，无电池
    uint8 real_charge_value;
    int8 volume_limit;

    tmp_charge_state = key_chargeget(&real_charge_value);
48b9493e:	6782      	move	a0,v0
48b94940:	6d00      	li	a1,0
48b94942:	6e00      	li	a2,0
48b94944:	6f00      	li	a3,0
48b94946:	b243      	lw	v0,48b94a50 <com_battery_charge_deal+0x118>
48b94948:	eac0      	jalrc	v0
48b9494a:	c143      	sb	v0,3(s1)
48b9494c:	a144      	lbu	v0,4(s1)
//    _BAT_PRINTD_INFO_INT("charge state:",tmp_charge_state);
//    _BAT_PRINTD_INFO_INT("charge value:",real_charge_value);
    if (real_charge_value < BATTERY_GRADE_MAX)
48b9494e:	5a05      	sltiu	v0,5
48b94950:	6003      	bteqz	48b94958 <com_battery_charge_deal+0x20>
48b94952:	a144      	lbu	v0,4(s1)
    {
        tmp_battery_value = real_charge_value;
48b94954:	c142      	sb	v0,2(s1)
48b94956:	1002      	b	48b9495c <com_battery_charge_deal+0x24>
48b94958:	6a05      	li	v0,5
    }
    else
    {
        tmp_battery_value = BATTERY_GRADE_MAX;
48b9495a:	c142      	sb	v0,2(s1)
48b9495c:	a143      	lbu	v0,3(s1)
    }

    if (tmp_charge_state == BAT_CHECKING)
48b9495e:	7204      	cmpi	v0,4
48b94960:	6758      	move	v0,t8
48b94962:	5a01      	sltiu	v0,1
48b94964:	6004      	bteqz	48b9496e <com_battery_charge_deal+0x36>
48b94966:	6a00      	li	v0,0
//    if ((tmp_charge_state == BAT_CHECKING) || (tmp_charge_state == BAT_NO_EXIST))
    {
        tmp_charge_state = BAT_NORMAL;
48b94968:	c143      	sb	v0,3(s1)
48b9496a:	6a05      	li	v0,5
        tmp_battery_value = BATTERY_GRADE_MAX;
48b9496c:	c142      	sb	v0,2(s1)
48b9496e:	b23a      	lw	v0,48b94a54 <com_battery_charge_deal+0x11c>
    }

    //需要过滤电池供电时电池电量不稳定的情况，只允许电池电量往下跌，不允许往上涨
    if ((g_app_info_state.charge_state == BAT_NORMAL) && (tmp_charge_state == BAT_NORMAL) && (tmp_battery_value
48b94970:	a24f      	lbu	v0,15(v0)
48b94972:	2a0a      	bnez	v0,48b94988 <com_battery_charge_deal+0x50>
48b94974:	a143      	lbu	v0,3(s1)
48b94976:	2a08      	bnez	v0,48b94988 <com_battery_charge_deal+0x50>
48b94978:	b237      	lw	v0,48b94a54 <com_battery_charge_deal+0x11c>
48b9497a:	a270      	lbu	v1,16(v0)
48b9497c:	a142      	lbu	v0,2(s1)
48b9497e:	eb43      	sltu	v1,v0
48b94980:	6003      	bteqz	48b94988 <com_battery_charge_deal+0x50>
48b94982:	b235      	lw	v0,48b94a54 <com_battery_charge_deal+0x11c>
            > g_app_info_state.bat_value))
    {
        tmp_battery_value = g_app_info_state.bat_value;
48b94984:	a250      	lbu	v0,16(v0)
48b94986:	c142      	sb	v0,2(s1)
48b94988:	b233      	lw	v0,48b94a54 <com_battery_charge_deal+0x11c>

    }

    if ((g_app_info_state.charge_state != tmp_charge_state) || (g_app_info_state.bat_value != tmp_battery_value))
48b9498a:	a26f      	lbu	v1,15(v0)
48b9498c:	a143      	lbu	v0,3(s1)
48b9498e:	ea6e      	xor	v0,v1
48b94990:	5a01      	sltiu	v0,1
48b94992:	6007      	bteqz	48b949a2 <com_battery_charge_deal+0x6a>
48b94994:	b230      	lw	v0,48b94a54 <com_battery_charge_deal+0x11c>
48b94996:	a270      	lbu	v1,16(v0)
48b94998:	a142      	lbu	v0,2(s1)
48b9499a:	ea6e      	xor	v0,v1
48b9499c:	5a01      	sltiu	v0,1
48b9499e:	6001      	bteqz	48b949a2 <com_battery_charge_deal+0x6a>
48b949a0:	1008      	b	48b949b2 <com_battery_charge_deal+0x7a>
48b949a2:	a143      	lbu	v0,3(s1)
    {
        com_battery_charge_change_deal(tmp_charge_state, tmp_battery_value);
48b949a4:	a162      	lbu	v1,2(s1)
48b949a6:	6782      	move	a0,v0
48b949a8:	67a3      	move	a1,v1
48b949aa:	19d1 5235 	jal	48b948d4 <com_battery_charge_change_deal>
48b949ae:	6500      	nop
48b949b0:	104b      	b	48b94a48 <com_battery_charge_deal+0x110>
        return;
48b949b2:	b229      	lw	v0,48b94a54 <com_battery_charge_deal+0x11c>
    }

    if ((g_app_info_state.charge_state == BAT_NORMAL) && (g_app_info_state.bat_value == 0))
48b949b4:	a24f      	lbu	v0,15(v0)
48b949b6:	2a18      	bnez	v0,48b949e8 <com_battery_charge_deal+0xb0>
48b949b8:	b227      	lw	v0,48b94a54 <com_battery_charge_deal+0x11c>
48b949ba:	a250      	lbu	v0,16(v0)
48b949bc:	2a15      	bnez	v0,48b949e8 <com_battery_charge_deal+0xb0>
48b949be:	b327      	lw	v1,48b94a58 <com_battery_charge_deal+0x120>
    {
        g_sys_counter.bat_low_cnt++;
48b949c0:	b226      	lw	v0,48b94a58 <com_battery_charge_deal+0x120>
48b949c2:	aa47      	lhu	v0,14(v0)
48b949c4:	4241      	addiu	v0,v0,1
48b949c6:	cb47      	sh	v0,14(v1)
48b949c8:	b224      	lw	v0,48b94a58 <com_battery_charge_deal+0x120>
        if (g_sys_counter.bat_low_cnt >= 120)
48b949ca:	aa47      	lhu	v0,14(v0)
48b949cc:	5a78      	sltiu	v0,120
48b949ce:	613c      	btnez	48b94a48 <com_battery_charge_deal+0x110>
48b949d0:	b322      	lw	v1,48b94a58 <com_battery_charge_deal+0x120>
        {
            g_sys_counter.bat_low_cnt = 0;
48b949d2:	6a00      	li	v0,0
48b949d4:	cb47      	sh	v0,14(v1)
48b949d6:	6a82      	li	v0,130

    //        _BAT_PRINTD_INFO_INT("bat lower1:",g_app_info_state.bat_value );
            //检测到低电，广播低电消息
            msg = MSG_LOW_POWER;
48b949d8:	c940      	sh	v0,0(s1)
48b949da:	6c05      	li	a0,5
            sys_mq_send(MQ_ID_SYS, &msg);
48b949dc:	67b1      	move	a1,s1
48b949de:	6e00      	li	a2,0
48b949e0:	6f18      	li	a3,24
48b949e2:	b21f      	lw	v0,48b94a5c <com_battery_charge_deal+0x124>
48b949e4:	eac0      	jalrc	v0
48b949e6:	1030      	b	48b94a48 <com_battery_charge_deal+0x110>
48b949e8:	b21b      	lw	v0,48b94a54 <com_battery_charge_deal+0x11c>
        }
    }
    else if (g_app_info_state.charge_state == BAT_FULL)
48b949ea:	a24f      	lbu	v0,15(v0)
48b949ec:	7202      	cmpi	v0,2
48b949ee:	6758      	move	v0,t8
48b949f0:	5a01      	sltiu	v0,1
48b949f2:	6027      	bteqz	48b94a42 <com_battery_charge_deal+0x10a>
48b949f4:	b319      	lw	v1,48b94a58 <com_battery_charge_deal+0x120>
    {
        g_sys_counter.charge_full_cnt++;
48b949f6:	b219      	lw	v0,48b94a58 <com_battery_charge_deal+0x120>
48b949f8:	aa46      	lhu	v0,12(v0)
48b949fa:	4241      	addiu	v0,v0,1
48b949fc:	cb46      	sh	v0,12(v1)
48b949fe:	b217      	lw	v0,48b94a58 <com_battery_charge_deal+0x120>
        if (g_sys_counter.charge_full_cnt == 8)//充满约4秒，检测电压是否满
48b94a00:	aa46      	lhu	v0,12(v0)
48b94a02:	7208      	cmpi	v0,8
48b94a04:	6758      	move	v0,t8
48b94a06:	5a01      	sltiu	v0,1
48b94a08:	600c      	bteqz	48b94a22 <com_battery_charge_deal+0xea>
48b94a0a:	a144      	lbu	v0,4(s1)
        {
            if (real_charge_value < (BATTERY_GRADE_MAX ))
48b94a0c:	5a05      	sltiu	v0,5
48b94a0e:	6009      	bteqz	48b94a22 <com_battery_charge_deal+0xea>
48b94a10:	b212      	lw	v0,48b94a58 <com_battery_charge_deal+0x120>
            {
                g_sys_counter.charge_full_cnt = 0;
48b94a12:	6b00      	li	v1,0
48b94a14:	ca66      	sh	v1,12(v0)
48b94a16:	6c00      	li	a0,0
                key_chargeset(0, 0, 0);//打开充电，用上一次参数
48b94a18:	6d00      	li	a1,0
48b94a1a:	6e00      	li	a2,0
48b94a1c:	6f01      	li	a3,1
48b94a1e:	b20d      	lw	v0,48b94a50 <com_battery_charge_deal+0x118>
48b94a20:	eac0      	jalrc	v0
48b94a22:	b20e      	lw	v0,48b94a58 <com_battery_charge_deal+0x120>
            }
        }
        if (g_sys_counter.charge_full_cnt >= 120)
48b94a24:	aa46      	lhu	v0,12(v0)
48b94a26:	5a78      	sltiu	v0,120
48b94a28:	610f      	btnez	48b94a48 <com_battery_charge_deal+0x110>
48b94a2a:	b30c      	lw	v1,48b94a58 <com_battery_charge_deal+0x120>
        {
            g_sys_counter.charge_full_cnt = 0;
48b94a2c:	6a00      	li	v0,0
48b94a2e:	cb46      	sh	v0,12(v1)
48b94a30:	6af2      	li	v0,242

            //充电已满
            msg = MSG_FULL_CHARGE;
48b94a32:	c940      	sh	v0,0(s1)
48b94a34:	6c05      	li	a0,5
            sys_mq_send(MQ_ID_SYS, &msg);
48b94a36:	67b1      	move	a1,s1
48b94a38:	6e00      	li	a2,0
48b94a3a:	6f18      	li	a3,24
48b94a3c:	b208      	lw	v0,48b94a5c <com_battery_charge_deal+0x124>
48b94a3e:	eac0      	jalrc	v0
48b94a40:	1003      	b	48b94a48 <com_battery_charge_deal+0x110>
48b94a42:	b306      	lw	v1,48b94a58 <com_battery_charge_deal+0x120>
        }
    }
    else
    {
        g_sys_counter.bat_low_cnt= 0;
48b94a44:	6a00      	li	v0,0
48b94a46:	cb47      	sh	v0,14(v1)
48b94a48:	65b9      	move	sp,s1
        ; //nothing for QAC
    }
}
48b94a4a:	6452      	restore	16,ra,s1
48b94a4c:	e8a0      	jrc	ra
48b94a4e:	0000      	addiu	s0,sp,0
48b94a50:	6405      	restore	40
48b94a52:	bfc1      	lwu	a2,4(a3)
48b94a54:	a1b8      	lbu	a1,24(s1)
48b94a56:	9fc1      	lw	a2,4(a3)
48b94a58:	a180      	lbu	a0,0(s1)
48b94a5a:	9fc1      	lw	a2,4(a3)
48b94a5c:	640d      	restore	104
48b94a5e:	bfc1      	lwu	a2,4(a3)

48b94a60 <gui_headbar_handle>:
48b94a60:	64e4      	save	32,ra,s0
48b94a62:	b42c      	lw	a0,48b94b10 <.LBE4+0x56>
48b94a64:	6800      	li	s0,0
48b94a66:	ac43      	lhu	v0,6(a0)
48b94a68:	f7ff 721f 	cmpi	v0,65535
48b94a6c:	600f      	bteqz	48b94a8c <gui_headbar_handle+0x2c>
48b94a6e:	b32a      	lw	v1,48b94b14 <.LBE4+0x5a>
48b94a70:	a3cf      	lbu	a2,15(v1)
48b94a72:	46af      	addiu	a1,a2,-1
48b94a74:	ed11      	zeb	a1
48b94a76:	5d02      	sltiu	a1,2
48b94a78:	6105      	btnez	48b94a84 <gui_headbar_handle+0x24>
48b94a7a:	b228      	lw	v0,48b94b18 <.LBE4+0x5e>
48b94a7c:	a3f0      	lbu	a3,16(v1)
48b94a7e:	a260      	lbu	v1,0(v0)
48b94a80:	ef6e      	xor	a3,v1
48b94a82:	2704      	beqz	a3,48b94a8c <gui_headbar_handle+0x2c>
48b94a84:	6801      	li	s0,1
48b94a86:	282d      	bnez	s0,48b94ae2 <.LBE4+0x28>
48b94a88:	6464      	restore	32,ra,s0
48b94a8a:	e8a0      	jrc	ra
48b94a8c:	aca1      	lhu	a1,2(a0)
48b94a8e:	f7ff 751f 	cmpi	a1,65535
48b94a92:	611a      	btnez	48b94ac8 <.LBE4+0xe>
48b94a94:	ac62      	lhu	v1,4(a0)
48b94a96:	f7ff 731f 	cmpi	v1,65535
48b94a9a:	612b      	btnez	48b94af2 <.LBE4+0x38>
48b94a9c:	acc4      	lhu	a2,8(a0)
48b94a9e:	f7ff 761f 	cmpi	a2,65535
48b94aa2:	6006      	bteqz	48b94ab0 <.LBE2+0xa>

48b94aa4 <.LBB2>:
48b94aa4:	b21c      	lw	v0,48b94b14 <.LBE4+0x5a>

48b94aa6 <.LBE2>:
48b94aa6:	b522      	lw	a1,48b94b2c <.LBE4+0x72>
48b94aa8:	a26d      	lbu	v1,13(v0)
48b94aaa:	a5e5      	lbu	a3,5(a1)
48b94aac:	ef6e      	xor	a3,v1
48b94aae:	2fea      	bnez	a3,48b94a84 <gui_headbar_handle+0x24>
48b94ab0:	acc5      	lhu	a2,10(a0)
48b94ab2:	f7ff 761f 	cmpi	a2,65535
48b94ab6:	60e7      	bteqz	48b94a86 <gui_headbar_handle+0x26>

48b94ab8 <.LBB4>:
48b94ab8:	b517      	lw	a1,48b94b14 <.LBE4+0x5a>

48b94aba <.LBE4>:
48b94aba:	b31d      	lw	v1,48b94b2c <.LBE4+0x72>
48b94abc:	a5eb      	lbu	a3,11(a1)
48b94abe:	a384      	lbu	a0,4(v1)
48b94ac0:	ecee      	xor	a0,a3
48b94ac2:	24e1      	beqz	a0,48b94a86 <gui_headbar_handle+0x26>
48b94ac4:	6801      	li	s0,1
48b94ac6:	17df      	b	48b94a86 <gui_headbar_handle+0x26>
48b94ac8:	b713      	lw	a3,48b94b14 <.LBE4+0x5a>
48b94aca:	6b07      	li	v1,7
48b94acc:	a7c4      	lbu	a2,4(a3)
48b94ace:	7601      	cmpi	a2,1
48b94ad0:	610d      	btnez	48b94aec <.LBE4+0x32>
48b94ad2:	730b      	cmpi	v1,11
48b94ad4:	60df      	bteqz	48b94a94 <gui_headbar_handle+0x34>
48b94ad6:	b613      	lw	a2,48b94b20 <.LBE4+0x66>
48b94ad8:	a6a0      	lbu	a1,0(a2)
48b94ada:	ed6e      	xor	a1,v1
48b94adc:	25db      	beqz	a1,48b94a94 <gui_headbar_handle+0x34>
48b94ade:	6801      	li	s0,1
48b94ae0:	17d2      	b	48b94a86 <gui_headbar_handle+0x26>
48b94ae2:	b214      	lw	v0,48b94b30 <.LBE4+0x76>
48b94ae4:	ea40      	jalr	v0
48b94ae6:	6c02      	li	a0,2
48b94ae8:	6464      	restore	32,ra,s0
48b94aea:	e8a0      	jrc	ra
48b94aec:	b20c      	lw	v0,48b94b18 <.LBE4+0x5e>
48b94aee:	a260      	lbu	v1,0(v0)
48b94af0:	17f0      	b	48b94ad2 <.LBE4+0x18>
48b94af2:	6d00      	li	a1,0
48b94af4:	b20c      	lw	v0,48b94b24 <.LBE4+0x6a>
48b94af6:	0404      	addiu	a0,sp,16
48b94af8:	67c5      	move	a2,a1
48b94afa:	ea40      	jalr	v0
48b94afc:	6f24      	li	a3,36
48b94afe:	b20b      	lw	v0,48b94b28 <.LBE4+0x6e>
48b94b00:	67bd      	move	a1,sp
48b94b02:	a591      	lbu	a0,17(a1)
48b94b04:	a2e0      	lbu	a3,0(v0)
48b94b06:	ecee      	xor	a0,a3
48b94b08:	2cbd      	bnez	a0,48b94a84 <gui_headbar_handle+0x24>
48b94b0a:	b402      	lw	a0,48b94b10 <.LBE4+0x56>
48b94b0c:	17c7      	b	48b94a9c <gui_headbar_handle+0x3c>
48b94b0e:	0000      	addiu	s0,sp,0
48b94b10:	5ba0      	sltiu	v1,160
48b94b12:	9fc1      	lw	a2,4(a3)
48b94b14:	a1b8      	lbu	a1,24(s1)
48b94b16:	9fc1      	lw	a2,4(a3)
48b94b18:	5b9b      	sltiu	v1,155
48b94b1a:	9fc1      	lw	a2,4(a3)
48b94b1c:	5bac      	sltiu	v1,172
48b94b1e:	9fc1      	lw	a2,4(a3)
48b94b20:	5b99      	sltiu	v1,153
48b94b22:	9fc1      	lw	a2,4(a3)
48b94b24:	640d      	restore	104
48b94b26:	bfc1      	lwu	a2,4(a3)
48b94b28:	5b9a      	sltiu	v1,154
48b94b2a:	9fc1      	lw	a2,4(a3)
48b94b2c:	a1d0      	lbu	a2,16(s1)
48b94b2e:	9fc1      	lw	a2,4(a3)
48b94b30:	46bd      	daddiu	a1,a2,-3
48b94b32:	4885      	addiu	s0,-123
	...
Disassembly of section BANK_UI_1_47:

48bd4600 <com_message_box>:
48bd4600:	64da      	save	80,ra,s1
 * \li  如果用户要对某个 gui 快捷事件或系统消息进行特殊处理，那么应该在 gui 事件分发
 *      或应用私有消息分发的 case 分支中抢先处理掉。
*******************************************************************************/
app_result_e com_message_box(msg_apps_type_e msg_type)
{
48bd4602:	0104      	addiu	s1,sp,16
48bd4604:	6744      	move	v0,a0
48bd4606:	f040 c940 	sh	v0,64(s1)
48bd460a:	6a00      	li	v0,0
    app_result_e result = RESULT_NULL;
48bd460c:	c940      	sh	v0,0(s1)
48bd460e:	f040 a940 	lhu	v0,64(s1)

    switch(msg_type)
48bd4612:	d94c      	sw	v0,48(s1)
48bd4614:	994c      	lw	v0,48(s1)
48bd4616:	72a0      	cmpi	v0,160
48bd4618:	6758      	move	v0,t8
48bd461a:	5a01      	sltiu	v0,1
48bd461c:	f1e0 610c 	btnez	48bd49f8 <.LBE4+0x2c>
48bd4620:	994c      	lw	v0,48(s1)
48bd4622:	52a1      	slti	v0,161
48bd4624:	6042      	bteqz	48bd46aa <com_message_box+0xaa>
48bd4626:	994c      	lw	v0,48(s1)
48bd4628:	7224      	cmpi	v0,36
48bd462a:	6758      	move	v0,t8
48bd462c:	5a01      	sltiu	v0,1
48bd462e:	f0a0 610f 	btnez	48bd4790 <com_message_box+0x190>
48bd4632:	994c      	lw	v0,48(s1)
48bd4634:	5225      	slti	v0,37
48bd4636:	601c      	bteqz	48bd4670 <com_message_box+0x70>
48bd4638:	994c      	lw	v0,48(s1)
48bd463a:	7221      	cmpi	v0,33
48bd463c:	6758      	move	v0,t8
48bd463e:	5a01      	sltiu	v0,1
48bd4640:	f080 6100 	btnez	48bd4744 <com_message_box+0x144>
48bd4644:	994c      	lw	v0,48(s1)
48bd4646:	5222      	slti	v0,34
48bd4648:	6006      	bteqz	48bd4656 <com_message_box+0x56>
48bd464a:	994c      	lw	v0,48(s1)
48bd464c:	7220      	cmpi	v0,32
48bd464e:	6758      	move	v0,t8
48bd4650:	5a01      	sltiu	v0,1
48bd4652:	616b      	btnez	48bd472a <com_message_box+0x12a>
48bd4654:	11ff      	b	48bd4a54 <.LBE4+0x88>
48bd4656:	994c      	lw	v0,48(s1)
48bd4658:	7222      	cmpi	v0,34
48bd465a:	6758      	move	v0,t8
48bd465c:	5a01      	sltiu	v0,1
48bd465e:	f080 610d 	btnez	48bd477c <com_message_box+0x17c>
48bd4662:	994c      	lw	v0,48(s1)
48bd4664:	7223      	cmpi	v0,35
48bd4666:	6758      	move	v0,t8
48bd4668:	5a01      	sltiu	v0,1
48bd466a:	f080 610c 	btnez	48bd4786 <com_message_box+0x186>
48bd466e:	11f2      	b	48bd4a54 <.LBE4+0x88>
48bd4670:	994c      	lw	v0,48(s1)
48bd4672:	7282      	cmpi	v0,130
48bd4674:	6758      	move	v0,t8
48bd4676:	5a01      	sltiu	v0,1
48bd4678:	f100 610a 	btnez	48bd4890 <.LBB3>
48bd467c:	994c      	lw	v0,48(s1)
48bd467e:	5283      	slti	v0,131
48bd4680:	6007      	bteqz	48bd4690 <com_message_box+0x90>
48bd4682:	994c      	lw	v0,48(s1)
48bd4684:	7225      	cmpi	v0,37
48bd4686:	6758      	move	v0,t8
48bd4688:	5a01      	sltiu	v0,1
48bd468a:	f080 6106 	btnez	48bd479a <com_message_box+0x19a>
48bd468e:	11e2      	b	48bd4a54 <.LBE4+0x88>
48bd4690:	994c      	lw	v0,48(s1)
48bd4692:	7290      	cmpi	v0,144
48bd4694:	6758      	move	v0,t8
48bd4696:	5a01      	sltiu	v0,1
48bd4698:	f180 6119 	btnez	48bd49ce <.LBE4+0x2>
48bd469c:	994c      	lw	v0,48(s1)
48bd469e:	7291      	cmpi	v0,145
48bd46a0:	6758      	move	v0,t8
48bd46a2:	5a01      	sltiu	v0,1
48bd46a4:	f180 611a 	btnez	48bd49dc <.LBE4+0x10>
48bd46a8:	11d5      	b	48bd4a54 <.LBE4+0x88>
48bd46aa:	994c      	lw	v0,48(s1)
48bd46ac:	f100 7202 	cmpi	v0,258
48bd46b0:	6758      	move	v0,t8
48bd46b2:	5a01      	sltiu	v0,1
48bd46b4:	f1c0 610a 	btnez	48bd4a4c <.LBE4+0x80>
48bd46b8:	994c      	lw	v0,48(s1)
48bd46ba:	f100 5203 	slti	v0,259
48bd46be:	601d      	bteqz	48bd46fa <com_message_box+0xfa>
48bd46c0:	994c      	lw	v0,48(s1)
48bd46c2:	72f0      	cmpi	v0,240
48bd46c4:	6758      	move	v0,t8
48bd46c6:	5a01      	sltiu	v0,1
48bd46c8:	f1a0 6104 	btnez	48bd4a14 <.LBE4+0x48>
48bd46cc:	994c      	lw	v0,48(s1)
48bd46ce:	52f1      	slti	v0,241
48bd46d0:	6007      	bteqz	48bd46e0 <com_message_box+0xe0>
48bd46d2:	994c      	lw	v0,48(s1)
48bd46d4:	72a1      	cmpi	v0,161
48bd46d6:	6758      	move	v0,t8
48bd46d8:	5a01      	sltiu	v0,1
48bd46da:	f180 6117 	btnez	48bd4a0c <.LBE4+0x40>
48bd46de:	11ba      	b	48bd4a54 <.LBE4+0x88>
48bd46e0:	994c      	lw	v0,48(s1)
48bd46e2:	72f1      	cmpi	v0,241
48bd46e4:	6758      	move	v0,t8
48bd46e6:	5a01      	sltiu	v0,1
48bd46e8:	f180 6118 	btnez	48bd4a1c <.LBE4+0x50>
48bd46ec:	994c      	lw	v0,48(s1)
48bd46ee:	72f2      	cmpi	v0,242
48bd46f0:	6758      	move	v0,t8
48bd46f2:	5a01      	sltiu	v0,1
48bd46f4:	f120 6103 	btnez	48bd493e <.LBB4>
48bd46f8:	11ad      	b	48bd4a54 <.LBE4+0x88>
48bd46fa:	994c      	lw	v0,48(s1)
48bd46fc:	f100 7204 	cmpi	v0,260
48bd4700:	6758      	move	v0,t8
48bd4702:	5a01      	sltiu	v0,1
48bd4704:	614e      	btnez	48bd47a2 <com_message_box+0x1a2>
48bd4706:	994c      	lw	v0,48(s1)
48bd4708:	f100 5204 	slti	v0,260
48bd470c:	f080 610c 	btnez	48bd4828 <.LBB2>
48bd4710:	994c      	lw	v0,48(s1)
48bd4712:	f100 7205 	cmpi	v0,261
48bd4716:	6758      	move	v0,t8
48bd4718:	5a01      	sltiu	v0,1
48bd471a:	614a      	btnez	48bd47b0 <com_message_box+0x1b0>
48bd471c:	994c      	lw	v0,48(s1)
48bd471e:	f100 7206 	cmpi	v0,262
48bd4722:	6758      	move	v0,t8
48bd4724:	5a01      	sltiu	v0,1
48bd4726:	616c      	btnez	48bd4800 <com_message_box+0x200>
48bd4728:	1195      	b	48bd4a54 <.LBE4+0x88>
48bd472a:	b2ce      	lw	v0,48bd4a60 <.LBE4+0x94>
    {
    /************************** 快捷键处理 ******************************/
    /* 长按 RETURN 键返回 mainmenu 应用事件 */
    case EVENT_RETURN_MAINMENU:
        {
            //在非 mainmenu AP响应
            if(g_this_app_info->app_id != APP_ID_MAINMENU)
48bd472c:	9a40      	lw	v0,0(v0)
48bd472e:	a241      	lbu	v0,1(v0)
48bd4730:	7209      	cmpi	v0,9
48bd4732:	6758      	move	v0,t8
48bd4734:	5a01      	sltiu	v0,1
48bd4736:	f180 610d 	btnez	48bd4a54 <.LBE4+0x88>
48bd473a:	f7ef 6a1a 	li	v0,32762
            {
                //退出当前AP，回到 MainMenu AP
                result = RESULT_MAIN_APP;
48bd473e:	ea4b      	neg	v0
48bd4740:	c940      	sh	v0,0(s1)
48bd4742:	1188      	b	48bd4a54 <.LBE4+0x88>
            }
        }
        break;
48bd4744:	b2c8      	lw	v0,48bd4a64 <.LBE4+0x98>

    /* 按下 VOL+ 或 VOL- 进入音量调节界面事件 */
    case EVENT_ENTER_VOLUMEBAR:
        {
            result = gui_volumebar(&sys_comval->volume_current, &sys_comval->volume_limit, SET_VOLUME_VALUE);
48bd4746:	9a40      	lw	v0,0(v0)
48bd4748:	6762      	move	v1,v0
48bd474a:	4b10      	addiu	v1,16
48bd474c:	b2c6      	lw	v0,48bd4a64 <.LBE4+0x98>
48bd474e:	9a40      	lw	v0,0(v0)
48bd4750:	4a0f      	addiu	v0,15
48bd4752:	6783      	move	a0,v1
48bd4754:	67a2      	move	a1,v0
48bd4756:	6e00      	li	a2,0
48bd4758:	b2c4      	lw	v0,48bd4a68 <.LBE4+0x9c>
48bd475a:	eac0      	jalrc	v0
48bd475c:	c940      	sh	v0,0(s1)
48bd475e:	f0c3 6a03 	li	v0,6339
            //draw bg  避免各个应用条用时 去清屏
            ui_set_backgd_color(Color_BACKCOLOR_def);//清为全黑屏 //2015-12-30
48bd4762:	6782      	move	a0,v0
48bd4764:	6d00      	li	a1,0
48bd4766:	6e00      	li	a2,0
48bd4768:	6f14      	li	a3,20
48bd476a:	b2c1      	lw	v0,48bd4a6c <.LBE4+0xa0>
48bd476c:	eac0      	jalrc	v0
48bd476e:	6c00      	li	a0,0
            ui_clear_screen(NULL);  //2015-12-30  by shenlei
48bd4770:	6d00      	li	a1,0
48bd4772:	6e00      	li	a2,0
48bd4774:	6f12      	li	a3,18
48bd4776:	b2be      	lw	v0,48bd4a6c <.LBE4+0xa0>
48bd4778:	eac0      	jalrc	v0
48bd477a:	116c      	b	48bd4a54 <.LBE4+0x88>
        }
        break;
48bd477c:	6c01      	li	a0,1

    /* 拨动 LOCK 键到常关，进入按键锁处理事件 */
    case EVENT_ENTER_KEYLOCK:
        {
            result = gui_keylock(TRUE);
48bd477e:	b2bd      	lw	v0,48bd4a70 <.LBE4+0xa4>
48bd4780:	eac0      	jalrc	v0
48bd4782:	c940      	sh	v0,0(s1)
48bd4784:	1167      	b	48bd4a54 <.LBE4+0x88>
        }
        break;
48bd4786:	6c01      	li	a0,1

    /* 拨动 LOCK 键到常关，进入按键锁处理事件 */
    case EVENT_ENTER_KEYLOCK_UN:
        {
            result = gui_keylock(TRUE);
48bd4788:	b2ba      	lw	v0,48bd4a70 <.LBE4+0xa4>
48bd478a:	eac0      	jalrc	v0
48bd478c:	c940      	sh	v0,0(s1)
48bd478e:	1162      	b	48bd4a54 <.LBE4+0x88>
        }
        break;
48bd4790:	6c00      	li	a0,0

    /*! 按键锁住状态下，按任意按键进入按键锁保持事件 */
    case EVENT_ENTER_KEYLOCK_HOLD:
        {
            result = gui_keylock(FALSE);
48bd4792:	b2b8      	lw	v0,48bd4a70 <.LBE4+0xa4>
48bd4794:	eac0      	jalrc	v0
48bd4796:	c940      	sh	v0,0(s1)
48bd4798:	115d      	b	48bd4a54 <.LBE4+0x88>
        }
        break;
48bd479a:	b2b7      	lw	v0,48bd4a74 <.LBE4+0xa8>

    /* 长按 PLAY 键进入关机请求确认事件 */
    case EVENT_ENTER_SHUTOFF_ASK:
        {
            result = gui_shut_off();
48bd479c:	eac0      	jalrc	v0
48bd479e:	c940      	sh	v0,0(s1)
48bd47a0:	1159      	b	48bd4a54 <.LBE4+0x88>
        }
        break;
48bd47a2:	b2b1      	lw	v0,48bd4a64 <.LBE4+0x98>

    /************************** 系统消息处理 ******************************/
    /* 进入屏幕保护事件 */
    case MSG_APP_ENTER_SCREEN_SAVE:
        {
            gui_screen_save_enter(sys_comval->screen_saver_mode);
48bd47a4:	9a40      	lw	v0,0(v0)
48bd47a6:	a244      	lbu	v0,4(v0)
48bd47a8:	6782      	move	a0,v0
48bd47aa:	b2b4      	lw	v0,48bd4a78 <.LBE4+0xac>
48bd47ac:	eac0      	jalrc	v0
48bd47ae:	1152      	b	48bd4a54 <.LBE4+0x88>
        }
        break;
48bd47b0:	19f1 52ba 	jal	48bd4ae8 <get_screensave_state>

    /* 进入屏幕保护事件，关掉背光 */
    case MSG_APP_ENTER_SCREEN_SAVE2:
        {
            if(get_screensave_state() == TRUE)
48bd47b4:	6500      	nop
48bd47b6:	7201      	cmpi	v0,1
48bd47b8:	6758      	move	v0,t8
48bd47ba:	5a01      	sltiu	v0,1
48bd47bc:	601d      	bteqz	48bd47f8 <com_message_box+0x1f8>
48bd47be:	6c00      	li	a0,0
            {
                //关掉背光灯，关掉背光前先清屏，效果更好
                ui_set_backgd_color(0x0000);//清为全黑屏
48bd47c0:	6d00      	li	a1,0
48bd47c2:	6e00      	li	a2,0
48bd47c4:	6f14      	li	a3,20
48bd47c6:	b2aa      	lw	v0,48bd4a6c <.LBE4+0xa0>
48bd47c8:	eac0      	jalrc	v0
48bd47ca:	6c00      	li	a0,0
                ui_clear_screen(NULL);
48bd47cc:	6d00      	li	a1,0
48bd47ce:	6e00      	li	a2,0
48bd47d0:	6f12      	li	a3,18
48bd47d2:	b2a7      	lw	v0,48bd4a6c <.LBE4+0xa0>
48bd47d4:	eac0      	jalrc	v0
48bd47d6:	6c00      	li	a0,0
                lcd_backlight_on_off(FALSE);
48bd47d8:	6d00      	li	a1,0
48bd47da:	6e00      	li	a2,0
48bd47dc:	6f04      	li	a3,4
48bd47de:	b2a8      	lw	v0,48bd4a7c <.LBE4+0xb0>
48bd47e0:	eac0      	jalrc	v0
48bd47e2:	6c00      	li	a0,0
                lcd_standby_screen(FALSE);
48bd47e4:	6d00      	li	a1,0
48bd47e6:	6e00      	li	a2,0
48bd47e8:	6f03      	li	a3,3
48bd47ea:	b2a5      	lw	v0,48bd4a7c <.LBE4+0xb0>
48bd47ec:	eac0      	jalrc	v0
48bd47ee:	6c02      	li	a0,2
                change_backlight_state(BACKLIGHT_STATE_OFF);
48bd47f0:	19f1 52b4 	jal	48bd4ad0 <change_backlight_state>
48bd47f4:	6500      	nop
48bd47f6:	112e      	b	48bd4a54 <.LBE4+0x88>
48bd47f8:	6c03      	li	a0,3

                //调低频率为 3M
                //g_ss_clk_backup = (uint8)sys_adjust_clk(FREQ_3M, 0);
                //g_ss_clk_backup = sys_adjust_clk(3, 0);
            }
            else
            {
                gui_screen_save_enter(SCRREN_SCREEN_OFF);
48bd47fa:	b2a0      	lw	v0,48bd4a78 <.LBE4+0xac>
48bd47fc:	eac0      	jalrc	v0
48bd47fe:	112a      	b	48bd4a54 <.LBE4+0x88>
            }
        }
        break;
48bd4800:	b2a0      	lw	v0,48bd4a80 <.LBE4+0xb4>

    /* 进入屏幕保护事件 */
    case MSG_APP_EXIT_SCREEN_SAVE:
        {
            result = gui_screen_save_exit();
48bd4802:	eac0      	jalrc	v0
48bd4804:	c940      	sh	v0,0(s1)
48bd4806:	b2a0      	lw	v0,48bd4a84 <.LBE4+0xb8>
            com_filter_key_hold();//过滤后续按键
48bd4808:	eac0      	jalrc	v0
48bd480a:	f0c3 6a03 	li	v0,6339

            //draw bg  避免各个应用调用时 去清屏
            ui_set_backgd_color(Color_BACKCOLOR_def);//清屏
48bd480e:	6782      	move	a0,v0
48bd4810:	6d00      	li	a1,0
48bd4812:	6e00      	li	a2,0
48bd4814:	6f14      	li	a3,20
48bd4816:	b296      	lw	v0,48bd4a6c <.LBE4+0xa0>
48bd4818:	eac0      	jalrc	v0
48bd481a:	6c00      	li	a0,0
            ui_clear_screen(NULL); 
48bd481c:	6d00      	li	a1,0
48bd481e:	6e00      	li	a2,0
48bd4820:	6f12      	li	a3,18
48bd4822:	b293      	lw	v0,48bd4a6c <.LBE4+0xa0>
48bd4824:	eac0      	jalrc	v0
48bd4826:	1116      	b	48bd4a54 <.LBE4+0x88>

48bd4828 <.LBB2>:
        }
        break;
48bd4828:	b298      	lw	v0,48bd4a88 <.LBE4+0xbc>

    /* 回到正在播放界面 */
    case MSG_APP_BACKTO_PLAYING:
        {
            msg_apps_t msg;

            if(g_ss_delay_flag == TRUE)//delay退出屏保
48bd482a:	a240      	lbu	v0,0(v0)
48bd482c:	7201      	cmpi	v0,1
48bd482e:	6758      	move	v0,t8
48bd4830:	5a01      	sltiu	v0,1
48bd4832:	6005      	bteqz	48bd483e <.LBB2+0x16>
48bd4834:	b293      	lw	v0,48bd4a80 <.LBE4+0xb4>
            {
                gui_screen_save_exit();
48bd4836:	eac0      	jalrc	v0
48bd4838:	b394      	lw	v1,48bd4a84 <.LBE4+0xb8>
                g_ss_delay_flag = FALSE;
48bd483a:	6a00      	li	v0,0
48bd483c:	c340      	sb	v0,0(v1)
48bd483e:	19f1 52ae 	jal	48bd4ab8 <get_engine_type>
            }

            if (get_engine_type() == ENGINE_MUSIC)
48bd4842:	6500      	nop
48bd4844:	7201      	cmpi	v0,1
48bd4846:	6758      	move	v0,t8
48bd4848:	5a01      	sltiu	v0,1
48bd484a:	6008      	bteqz	48bd485c <.LBB2+0x34>
48bd484c:	b285      	lw	v0,48bd4a60 <.LBE4+0x94>
            {
                if(g_this_app_info->app_id == APP_ID_MUSIC)
48bd484e:	9a40      	lw	v0,0(v0)
48bd4850:	a241      	lbu	v0,1(v0)
48bd4852:	2a01      	bnez	v0,48bd4856 <.LBB2+0x2e>
48bd4854:	10ff      	b	48bd4a54 <.LBE4+0x88>
                {
                    break;//异常，在 music 应用中应该处理该消息
48bd4856:	6a00      	li	v0,0
                }
                msg.content.data[0] = APP_ID_MUSIC;
48bd4858:	c14c      	sb	v0,12(s1)
48bd485a:	100a      	b	48bd4870 <.LBB2+0x48>
48bd485c:	b281      	lw	v0,48bd4a60 <.LBE4+0x94>
            }
            else
            {
                if(g_this_app_info->app_id == APP_ID_RADIO)
48bd485e:	9a40      	lw	v0,0(v0)
48bd4860:	a241      	lbu	v0,1(v0)
48bd4862:	7203      	cmpi	v0,3
48bd4864:	6758      	move	v0,t8
48bd4866:	5a01      	sltiu	v0,1
48bd4868:	6001      	bteqz	48bd486c <.LBB2+0x44>
48bd486a:	10f4      	b	48bd4a54 <.LBE4+0x88>
                {
                    break;//异常，在 radio 应用中应该处理该消息
48bd486c:	6a03      	li	v0,3
                }
                msg.content.data[0] = APP_ID_RADIO;
48bd486e:	c14c      	sb	v0,12(s1)
48bd4870:	6a10      	li	v0,16
            }
            msg.content.data[1] = PARAM_BACKTO_PLAYING;
48bd4872:	c14d      	sb	v0,13(s1)
48bd4874:	f200 6a01 	li	v0,513
            msg.type = MSG_CREAT_APP;
48bd4878:	d942      	sw	v0,8(s1)
48bd487a:	4147      	addiu	v0,s1,7
            send_async_msg(APP_ID_MANAGER, &msg);
48bd487c:	4241      	addiu	v0,v0,1
48bd487e:	6c08      	li	a0,8
48bd4880:	67a2      	move	a1,v0
48bd4882:	b283      	lw	v0,48bd4a8c <.LBE4+0xc0>
48bd4884:	eac0      	jalrc	v0
48bd4886:	f7ef 6a0b 	li	v0,32747

            result = RESULT_APP_QUIT;
48bd488a:	ea4b      	neg	v0
48bd488c:	c940      	sh	v0,0(s1)

48bd488e <.LBE2>:
48bd488e:	10e2      	b	48bd4a54 <.LBE4+0x88>

48bd4890 <.LBB3>:
        }
        break;
48bd4890:	f0c3 6a03 	li	v0,6339

    /* 系统低电消息 */
    case MSG_LOW_POWER:
        {
            private_msg_t private_msg;
            msg_apps_t msg;
            style_infor_t style_infor;

            //显示低电图标
            /*style_infor.style_id = LOW_POWER_BG;
            style_infor.type = UI_COM;
            ui_show_picbox(&style_infor, NULL);*/
            ui_set_backgd_color(Color_BACKCOLOR_def);
48bd4894:	6782      	move	a0,v0
48bd4896:	6d00      	li	a1,0
48bd4898:	6e00      	li	a2,0
48bd489a:	6f14      	li	a3,20
48bd489c:	b274      	lw	v0,48bd4a6c <.LBE4+0xa0>
48bd489e:	eac0      	jalrc	v0
48bd48a0:	6c00      	li	a0,0
            ui_clear_screen(NULL);
48bd48a2:	6d00      	li	a1,0
48bd48a4:	6e00      	li	a2,0
48bd48a6:	6f12      	li	a3,18
48bd48a8:	b271      	lw	v0,48bd4a6c <.LBE4+0xa0>
48bd48aa:	eac0      	jalrc	v0
48bd48ac:	6a01      	li	v0,1
            style_infor.type = UI_COM;
48bd48ae:	f020 c14a 	sb	v0,42(s1)
48bd48b2:	f002 6a04 	li	v0,4100

            style_infor.style_id = LOW_POWER_BATTERY;
48bd48b6:	c954      	sh	v0,40(s1)
48bd48b8:	4147      	addiu	v0,s1,7
            ui_show_picbox(&style_infor, NULL);
48bd48ba:	4a21      	addiu	v0,33
48bd48bc:	6782      	move	a0,v0
48bd48be:	6d00      	li	a1,0
48bd48c0:	6e00      	li	a2,0
48bd48c2:	6f02      	li	a3,2
48bd48c4:	b26a      	lw	v0,48bd4a6c <.LBE4+0xa0>
48bd48c6:	eac0      	jalrc	v0
48bd48c8:	f002 6a05 	li	v0,4101

            style_infor.style_id = LOW_POWER_ICON;
48bd48cc:	c954      	sh	v0,40(s1)
48bd48ce:	4147      	addiu	v0,s1,7
            ui_show_picbox(&style_infor, NULL);
48bd48d0:	4a21      	addiu	v0,33
48bd48d2:	6782      	move	a0,v0
48bd48d4:	6d00      	li	a1,0
48bd48d6:	6e00      	li	a2,0
48bd48d8:	6f02      	li	a3,2
48bd48da:	b265      	lw	v0,48bd4a6c <.LBE4+0xa0>
48bd48dc:	eac0      	jalrc	v0
48bd48de:	f004 6a01 	li	v0,8193

            //显示低电字符串
            style_infor.style_id = LOW_POWER_TEXT;
48bd48e2:	c954      	sh	v0,40(s1)
48bd48e4:	4147      	addiu	v0,s1,7
            ui_show_textbox(&style_infor, NULL, TEXTBOX_DRAW_NORMAL);
48bd48e6:	4a21      	addiu	v0,33
48bd48e8:	6782      	move	a0,v0
48bd48ea:	6d00      	li	a1,0
48bd48ec:	6e01      	li	a2,1
48bd48ee:	6f03      	li	a3,3
48bd48f0:	b25f      	lw	v0,48bd4a6c <.LBE4+0xa0>
48bd48f2:	eac0      	jalrc	v0
48bd48f4:	6c04      	li	a0,4

            //等待2秒钟
            com_app_sleep(4, NULL);
48bd48f6:	6d00      	li	a1,0
48bd48f8:	b266      	lw	v0,48bd4a90 <.LBE4+0xc4>
48bd48fa:	eac0      	jalrc	v0
48bd48fc:	6a84      	li	v0,132

            //广播关机消息
            msg.type = MSG_POWER_OFF;
48bd48fe:	d948      	sw	v0,32(s1)
48bd4900:	4147      	addiu	v0,s1,7
            broadcast_msg(&msg);
48bd4902:	4a19      	addiu	v0,25
48bd4904:	6782      	move	a0,v0
48bd4906:	b264      	lw	v0,48bd4a94 <.LBE4+0xc8>
48bd4908:	eac0      	jalrc	v0
48bd490a:	6c01      	li	a0,1
            //等待AP退出消息 MSG_APP_QUIT ，再返回 RESULT_APP_QUIT，应用直接退出
            while(1)
            {
                //挂起10ms，多任务调度
                sys_os_time_dly(1);
48bd490c:	6d00      	li	a1,0
48bd490e:	6e00      	li	a2,0
48bd4910:	6f31      	li	a3,49
48bd4912:	b262      	lw	v0,48bd4a98 <.LBE4+0xcc>
48bd4914:	eac0      	jalrc	v0
48bd4916:	4147      	addiu	v0,s1,7
                if((get_app_msg(&private_msg) == TRUE) && (private_msg.msg.type == MSG_APP_QUIT))
48bd4918:	4a09      	addiu	v0,9
48bd491a:	6782      	move	a0,v0
48bd491c:	b260      	lw	v0,48bd4a9c <.LBE4+0xd0>
48bd491e:	eac0      	jalrc	v0
48bd4920:	7201      	cmpi	v0,1
48bd4922:	6758      	move	v0,t8
48bd4924:	5a01      	sltiu	v0,1
48bd4926:	60f1      	bteqz	48bd490a <.LBB3+0x7a>
48bd4928:	9944      	lw	v0,16(s1)
48bd492a:	f100 7202 	cmpi	v0,258
48bd492e:	6758      	move	v0,t8
48bd4930:	5a01      	sltiu	v0,1
48bd4932:	60eb      	bteqz	48bd490a <.LBB3+0x7a>
48bd4934:	f7ef 6a0b 	li	v0,32747
                {
                    result = RESULT_APP_QUIT;
48bd4938:	ea4b      	neg	v0
48bd493a:	c940      	sh	v0,0(s1)
48bd493c:	108b      	b	48bd4a54 <.LBE4+0x88>

48bd493e <.LBB4>:
                    break;
48bd493e:	f0c3 6a03 	li	v0,6339
                }
            }
        }
        break;

    /* 充电已满消息 */
    case MSG_FULL_CHARGE:
        {
            style_infor_t style_infor;

            //显示低电图标
            /*style_infor.style_id = FULL_CHARGE_BG;
            style_infor.type = UI_COM;
            ui_show_picbox(&style_infor, NULL);*/
            ui_set_backgd_color(Color_BACKCOLOR_def);
48bd4942:	6782      	move	a0,v0
48bd4944:	6d00      	li	a1,0
48bd4946:	6e00      	li	a2,0
48bd4948:	6f14      	li	a3,20
48bd494a:	b249      	lw	v0,48bd4a6c <.LBE4+0xa0>
48bd494c:	eac0      	jalrc	v0
48bd494e:	6c00      	li	a0,0
            ui_clear_screen(NULL);
48bd4950:	6d00      	li	a1,0
48bd4952:	6e00      	li	a2,0
48bd4954:	6f12      	li	a3,18
48bd4956:	b246      	lw	v0,48bd4a6c <.LBE4+0xa0>
48bd4958:	eac0      	jalrc	v0
48bd495a:	6a01      	li	v0,1
            
            style_infor.type = UI_COM;
48bd495c:	c152      	sb	v0,18(s1)
48bd495e:	f002 6a07 	li	v0,4103
            style_infor.style_id = FULL_CHARGE_BATTERY;
48bd4962:	c948      	sh	v0,16(s1)
48bd4964:	4147      	addiu	v0,s1,7
            ui_show_picbox(&style_infor, NULL);
48bd4966:	4a09      	addiu	v0,9
48bd4968:	6782      	move	a0,v0
48bd496a:	6d00      	li	a1,0
48bd496c:	6e00      	li	a2,0
48bd496e:	6f02      	li	a3,2
48bd4970:	b23f      	lw	v0,48bd4a6c <.LBE4+0xa0>
48bd4972:	eac0      	jalrc	v0
48bd4974:	f002 6a06 	li	v0,4102

            style_infor.style_id = FULL_CHARGE_ICON;
48bd4978:	c948      	sh	v0,16(s1)
48bd497a:	4147      	addiu	v0,s1,7
            ui_show_picbox(&style_infor, NULL);
48bd497c:	4a09      	addiu	v0,9
48bd497e:	6782      	move	a0,v0
48bd4980:	6d00      	li	a1,0
48bd4982:	6e00      	li	a2,0
48bd4984:	6f02      	li	a3,2
48bd4986:	b23a      	lw	v0,48bd4a6c <.LBE4+0xa0>
48bd4988:	eac0      	jalrc	v0
48bd498a:	f004 6a00 	li	v0,8192

            //显示低电字符串
            style_infor.style_id = FULL_CHARGE_TEXT;
48bd498e:	c948      	sh	v0,16(s1)
48bd4990:	4147      	addiu	v0,s1,7
            ui_show_textbox(&style_infor, NULL, TEXTBOX_DRAW_NORMAL);
48bd4992:	4a09      	addiu	v0,9
48bd4994:	6782      	move	a0,v0
48bd4996:	6d00      	li	a1,0
48bd4998:	6e01      	li	a2,1
48bd499a:	6f03      	li	a3,3
48bd499c:	b234      	lw	v0,48bd4a6c <.LBE4+0xa0>
48bd499e:	eac0      	jalrc	v0
48bd49a0:	6c04      	li	a0,4

            //等待2秒钟
            com_app_sleep(4, NULL);
48bd49a2:	6d00      	li	a1,0
48bd49a4:	b23b      	lw	v0,48bd4a90 <.LBE4+0xc4>
48bd49a6:	eac0      	jalrc	v0
48bd49a8:	f0c3 6a03 	li	v0,6339
            
            //draw bg  避免各个应用调用时 去清屏
            ui_set_backgd_color(Color_BACKCOLOR_def);//清屏
48bd49ac:	6782      	move	a0,v0
48bd49ae:	6d00      	li	a1,0
48bd49b0:	6e00      	li	a2,0
48bd49b2:	6f14      	li	a3,20
48bd49b4:	b22e      	lw	v0,48bd4a6c <.LBE4+0xa0>
48bd49b6:	eac0      	jalrc	v0
48bd49b8:	6c00      	li	a0,0
            ui_clear_screen(NULL); 
48bd49ba:	6d00      	li	a1,0
48bd49bc:	6e00      	li	a2,0
48bd49be:	6f12      	li	a3,18
48bd49c0:	b22b      	lw	v0,48bd4a6c <.LBE4+0xa0>
48bd49c2:	eac0      	jalrc	v0
48bd49c4:	f7ef 6a0c 	li	v0,32748
            result = RESULT_REDRAW;
48bd49c8:	ea4b      	neg	v0
48bd49ca:	c940      	sh	v0,0(s1)

48bd49cc <.LBE4>:
48bd49cc:	1043      	b	48bd4a54 <.LBE4+0x88>
        }
        break;
48bd49ce:	b235      	lw	v0,48bd4aa0 <.LBE4+0xd4>

    /* 卡插入消息 */
    case MSG_SD_IN:
        {
            //不做处理，在使用时再加载相关驱动
        }
        break;

    /* 卡拔出消息*/
    case MSG_SD_OUT:
        {
            //如果正在使用卡，提示卡拔出
        }
        break;

    /* U盘插入*/
    case MSG_UH_IN:
        {
            //不做处理，在使用时再加载相关驱动
        }
        break;

    /* U盘拔出*/
    case MSG_UH_OUT:
        {
            //如果正在使用U 盘，提示U 盘拔出
        }
        break;

    /* USB B线插入消息 */
    case MSG_USB_STICK:
        {
            //显示 USB 选项对话框
            result = gui_usbconnect();
48bd49d0:	eac0      	jalrc	v0
48bd49d2:	c940      	sh	v0,0(s1)
48bd49d4:	b334      	lw	v1,48bd4aa4 <.LBE4+0xd8>

            g_sys_counter.battery_counter = 100;//强制读取充电状态和电池电量
48bd49d6:	6a64      	li	v0,100
48bd49d8:	cb43      	sh	v0,6(v1)
48bd49da:	103c      	b	48bd4a54 <.LBE4+0x88>
        }
        break;
48bd49dc:	b233      	lw	v0,48bd4aa8 <.LBE4+0xdc>

    /* USB B线拔出消息 */
    case MSG_USB_UNSTICK:
        {
            //只在USB选项对话框中，或者非 udisk 应用充电播放中响应（在USB传输连接下由udisk 应用自己处理）
            //如果在USB选项对话框中
            if(usb_selecting_state == TRUE)
48bd49de:	a240      	lbu	v0,0(v0)
48bd49e0:	7201      	cmpi	v0,1
48bd49e2:	6758      	move	v0,t8
48bd49e4:	5a01      	sltiu	v0,1
48bd49e6:	6004      	bteqz	48bd49f0 <.LBE4+0x24>
48bd49e8:	f7ef 6a08 	li	v0,32744
            {
                //返回 RESULT_USB_UNSTICK 即可（ui_usbconnect 将 RESULT_USB_UNSTICK 转为 RESULT_REDRAW 后退出对话框）
                result = RESULT_USB_UNSTICK;
48bd49ec:	ea4b      	neg	v0
48bd49ee:	c940      	sh	v0,0(s1)
48bd49f0:	b32d      	lw	v1,48bd4aa4 <.LBE4+0xd8>
            }

            g_sys_counter.battery_counter = 100;//强制读取充电状态和电池电量
48bd49f2:	6a64      	li	v0,100
48bd49f4:	cb43      	sh	v0,6(v1)
48bd49f6:	102e      	b	48bd4a54 <.LBE4+0x88>
        }
        break;
48bd49f8:	6c00      	li	a0,0

    /* 充电器 ADAPTOR 插入消息 */
    case MSG_ADAPTOR_IN:
        {
            //开启充电，但不进入充电UI
            key_chargeset(CHARGE_START, 0, 0);
48bd49fa:	6d00      	li	a1,0
48bd49fc:	6e00      	li	a2,0
48bd49fe:	6f01      	li	a3,1
48bd4a00:	b22b      	lw	v0,48bd4aac <.LBE4+0xe0>
48bd4a02:	eac0      	jalrc	v0
48bd4a04:	b328      	lw	v1,48bd4aa0 <.LBE4+0xd4>

            g_sys_counter.battery_counter = 100;//强制读取充电状态和电池电量
48bd4a06:	6a64      	li	v0,100
48bd4a08:	cb43      	sh	v0,6(v1)
48bd4a0a:	1024      	b	48bd4a54 <.LBE4+0x88>
        }
        break;
48bd4a0c:	b326      	lw	v1,48bd4aa4 <.LBE4+0xd8>

    /* 充电器 ADAPTOR 拔出消息 */
    case MSG_ADAPTOR_OUT:
        {
            g_sys_counter.battery_counter = 100;//强制读取充电状态和电池电量
48bd4a0e:	6a64      	li	v0,100
48bd4a10:	cb43      	sh	v0,6(v1)
48bd4a12:	1020      	b	48bd4a54 <.LBE4+0x88>
        }
        break;
48bd4a14:	6c01      	li	a0,1

    /* RTC定时闹钟消息 */
/*    case MSG_RTCALARM:
        {
            //由tools 处理
            msg_apps_t msg;

            result = com_alarm_msg_dispatch();
            if(result == RESULT_ALARMFM)
            {
                if(g_this_app_info->app_id == APP_ID_RADIO)
                {
                    break;
                }
                msg.content.data[0] = APP_ID_RADIO;
            }
            else if(result == RESULT_FMRECORD)
            {
                if(g_this_app_info->app_id == APP_ID_RECORD)
                {
                    break;
                }
                msg.content.data[0] = APP_ID_RECORD;
            }
            else if(result == RESULT_ALARM)
            {
                msg.content.data[0] = APP_ID_ALARM;
            }
            else
            {
                break;
            }
            msg.type = MSG_CREAT_APP; //给process manager发送创建其它进程消息
            msg.content.data[1] = (uint8) PARAM_FROM_ALARM;
            send_async_msg(APP_ID_MANAGER, &msg);

            result = RESULT_APP_QUIT;
        }
        break;*/

    /* 耳机（天线）插入消息 */
    case MSG_EARPHONE_IN:
        {
            deal_antenna_detect(TRUE);
48bd4a16:	b227      	lw	v0,48bd4ab0 <.LBE4+0xe4>
48bd4a18:	eac0      	jalrc	v0
48bd4a1a:	101c      	b	48bd4a54 <.LBE4+0x88>
        }
        break;
48bd4a1c:	6c00      	li	a0,0

    /* 耳机（天线）拔出消息 */
    case MSG_EARPHONE_OUT:
        {
            deal_antenna_detect(FALSE);
48bd4a1e:	b225      	lw	v0,48bd4ab0 <.LBE4+0xe4>
48bd4a20:	eac0      	jalrc	v0
48bd4a22:	b210      	lw	v0,48bd4a60 <.LBE4+0x94>
            if(g_this_app_info->app_id == APP_ID_RADIO)//只对 RADIO 进行提示
48bd4a24:	9a40      	lw	v0,0(v0)
48bd4a26:	a241      	lbu	v0,1(v0)
48bd4a28:	7203      	cmpi	v0,3
48bd4a2a:	6758      	move	v0,t8
48bd4a2c:	5a01      	sltiu	v0,1
48bd4a2e:	6012      	bteqz	48bd4a54 <.LBE4+0x88>
48bd4a30:	f010 6a00 	li	v0,32768
            {
                gui_dialog_msg (DIALOG_MSG, DIALOG_INFOR_WAIT, S_EARPHONE_OUT);
48bd4a34:	f010 6b18 	li	v1,32792
48bd4a38:	6782      	move	a0,v0
48bd4a3a:	6d03      	li	a1,3
48bd4a3c:	67c3      	move	a2,v1
48bd4a3e:	b21e      	lw	v0,48bd4ab4 <.LBE4+0xe8>
48bd4a40:	eac0      	jalrc	v0
48bd4a42:	f7ef 6a0c 	li	v0,32748
                result = RESULT_REDRAW;
48bd4a46:	ea4b      	neg	v0
48bd4a48:	c940      	sh	v0,0(s1)
48bd4a4a:	1004      	b	48bd4a54 <.LBE4+0x88>
            }
        }
        break;
48bd4a4c:	f7ef 6a0b 	li	v0,32747

    /************************** 特殊应用私有消息处理 ******************************/
    case MSG_APP_QUIT:
        {
            result = RESULT_APP_QUIT;
48bd4a50:	ea4b      	neg	v0
48bd4a52:	c940      	sh	v0,0(s1)
48bd4a54:	a940      	lhu	v0,0(s1)
        }
        break;

    default:
        break;
    }

    return result;
48bd4a56:	651a      	move	t8,v0
48bd4a58:	6758      	move	v0,t8
}
48bd4a5a:	65b9      	move	sp,s1
48bd4a5c:	6458      	restore	64,ra,s1
48bd4a5e:	e8a0      	jrc	ra
48bd4a60:	a1f0      	lbu	a3,16(s1)
48bd4a62:	9fc1      	lw	a2,4(a3)
48bd4a64:	5a48      	sltiu	v0,72
48bd4a66:	9fc1      	lw	a2,4(a3)
48bd4a68:	4981      	addiu	s1,-127
48bd4a6a:	48a5      	addiu	s0,-91
48bd4a6c:	6bb1      	li	v1,177
48bd4a6e:	bfc1      	lwu	a2,4(a3)
48bd4a70:	4715      	daddiu	s0,a3,5
48bd4a72:	4891      	addiu	s0,-111
48bd4a74:	465d      	daddiu	v0,a2,-3
48bd4a76:	4895      	addiu	s0,-107
48bd4a78:	4601      	addiu	s0,a2,1
48bd4a7a:	4899      	addiu	s0,-103
48bd4a7c:	6bad      	li	v1,173
48bd4a7e:	bfc1      	lwu	a2,4(a3)
48bd4a80:	4815      	addiu	s0,21
48bd4a82:	4899      	addiu	s0,-103
48bd4a84:	487d      	addiu	s0,125
48bd4a86:	4869      	addiu	s0,105
48bd4a88:	5bbd      	sltiu	v1,189
48bd4a8a:	9fc1      	lw	a2,4(a3)
48bd4a8c:	4759      	daddiu	v0,a3,-7
48bd4a8e:	4849      	addiu	s0,73
48bd4a90:	46b5      	daddiu	a1,a2,5
48bd4a92:	48b5      	addiu	s0,-75
48bd4a94:	47b1      	daddiu	a1,a3,1
48bd4a96:	4849      	addiu	s0,73
48bd4a98:	640d      	restore	104
48bd4a9a:	bfc1      	lwu	a2,4(a3)
48bd4a9c:	6741      	move	v0,at
48bd4a9e:	bfc1      	lwu	a2,4(a3)
48bd4aa0:	4929      	addiu	s1,41
48bd4aa2:	48b1      	addiu	s0,-79
48bd4aa4:	a180      	lbu	a0,0(s1)
48bd4aa6:	9fc1      	lw	a2,4(a3)
48bd4aa8:	5b90      	sltiu	v1,144
48bd4aaa:	9fc1      	lw	a2,4(a3)
48bd4aac:	6405      	restore	40
48bd4aae:	bfc1      	lwu	a2,4(a3)
48bd4ab0:	465d      	daddiu	v0,a2,-3
48bd4ab2:	48c9      	addiu	s0,-55
48bd4ab4:	4a2d      	addiu	v0,45
48bd4ab6:	48ad      	addiu	s0,-83

48bd4ab8 <get_engine_type>:
48bd4ab8:	6491      	save	8,s1
48bd4aba:	673d      	move	s1,sp
48bd4abc:	b204      	lw	v0,48bd4acc <get_engine_type+0x14>
48bd4abe:	a240      	lbu	v0,0(v0)
48bd4ac0:	651a      	move	t8,v0
48bd4ac2:	6758      	move	v0,t8
48bd4ac4:	65b9      	move	sp,s1
48bd4ac6:	6411      	restore	8,s1
48bd4ac8:	e8a0      	jrc	ra
48bd4aca:	0000      	addiu	s0,sp,0
48bd4acc:	a1b8      	lbu	a1,24(s1)
48bd4ace:	9fc1      	lw	a2,4(a3)

48bd4ad0 <change_backlight_state>:
48bd4ad0:	6491      	save	8,s1
48bd4ad2:	673d      	move	s1,sp
48bd4ad4:	6744      	move	v0,a0
48bd4ad6:	c148      	sb	v0,8(s1)
48bd4ad8:	b303      	lw	v1,48bd4ae4 <change_backlight_state+0x14>
48bd4ada:	a148      	lbu	v0,8(s1)
48bd4adc:	c349      	sb	v0,9(v1)
48bd4ade:	65b9      	move	sp,s1
48bd4ae0:	6411      	restore	8,s1
48bd4ae2:	e8a0      	jrc	ra
48bd4ae4:	a1b8      	lbu	a1,24(s1)
48bd4ae6:	9fc1      	lw	a2,4(a3)

48bd4ae8 <get_screensave_state>:
48bd4ae8:	6491      	save	8,s1
48bd4aea:	673d      	move	s1,sp
48bd4aec:	b204      	lw	v0,48bd4afc <get_screensave_state+0x14>
48bd4aee:	a24a      	lbu	v0,10(v0)
48bd4af0:	651a      	move	t8,v0
48bd4af2:	6758      	move	v0,t8
48bd4af4:	65b9      	move	sp,s1
48bd4af6:	6411      	restore	8,s1
48bd4af8:	e8a0      	jrc	ra
48bd4afa:	0000      	addiu	s0,sp,0
48bd4afc:	a1b8      	lbu	a1,24(s1)
48bd4afe:	9fc1      	lw	a2,4(a3)
	...
Disassembly of section BANK_UI_1_48:

48c14600 <com_alarm_msg_dispatch>:
48c14600:	f020 64d2 	save	272,ra,s1
 * \ingroup      misc_func
 * \note
*******************************************************************************/
app_result_e com_alarm_msg_dispatch(void)
{
48c14604:	0104      	addiu	s1,sp,16
48c14606:	6a00      	li	v0,0
    alarm_vars_t  temp_alarm_val;
    uint8 flag;
    int result = 0;
48c14608:	f0e0 d944 	sw	v0,228(s1)
48c1460c:	f405 6a00 	li	v0,11264
    
    //sys_vm_read(&g_alarm_temp, VM_ALARM, sizeof(alarm_alarm_t));
    //sys_vm_read(&g_aufm_temp, VM_AP_DSC, sizeof(g_aufm_temp));
    sys_vm_read(&temp_alarm_val, VM_AP_ALARM, sizeof(alarm_vars_t));
48c14610:	6791      	move	a0,s1
48c14612:	67a2      	move	a1,v0
48c14614:	6edc      	li	a2,220
48c14616:	6f12      	li	a3,18
48c14618:	b25f      	lw	v0,48c14794 <.LBE2+0xa4>
48c1461a:	eac0      	jalrc	v0
48c1461c:	a940      	lhu	v0,0(s1)
    /*如果没有设置闹钟和自动FM录音功能，返回*/
    if(temp_alarm_val.magic != VRAM_MAGIC(VM_AP_ALARM))
48c1461e:	f5aa 720a 	cmpi	v0,21930
48c14622:	6758      	move	v0,t8
48c14624:	5a01      	sltiu	v0,1
48c14626:	6104      	btnez	48c14630 <com_alarm_msg_dispatch+0x30>
48c14628:	6a00      	li	v0,0
    {
        return RESULT_NULL;
48c1462a:	f0e0 d950 	sw	v0,240(s1)
48c1462e:	10ac      	b	48c14788 <.LBE2+0x98>
48c14630:	b25a      	lw	v0,48c14798 <.LBE2+0xa8>
    }
    libc_memcpy(&g_alarm_temp, &temp_alarm_val.g_alarm, sizeof(alarm_alarm_t));
48c14632:	4164      	addiu	v1,s1,4
48c14634:	6782      	move	a0,v0
48c14636:	67a3      	move	a1,v1
48c14638:	6ebc      	li	a2,188
48c1463a:	6f00      	li	a3,0
48c1463c:	b258      	lw	v0,48c1479c <.LBE2+0xac>
48c1463e:	eac0      	jalrc	v0
48c14640:	b258      	lw	v0,48c1479c <.LBE2+0xac>
    libc_memcpy(&g_aufm_temp, &temp_alarm_val.g_aufm, sizeof(alarm_fm_t));
48c14642:	f0c0 4160 	addiu	v1,s1,192
48c14646:	6782      	move	a0,v0
48c14648:	67a3      	move	a1,v1
48c1464a:	6e18      	li	a2,24
48c1464c:	6f00      	li	a3,0
48c1464e:	b254      	lw	v0,48c1479c <.LBE2+0xac>
48c14650:	eac0      	jalrc	v0
48c14652:	b254      	lw	v0,48c147a0 <.LBE2+0xb0>
    
    if((g_aufm_temp.enable == 0) && (g_alarm_temp.enable == 0))
48c14654:	a240      	lbu	v0,0(v0)
48c14656:	2a07      	bnez	v0,48c14666 <com_alarm_msg_dispatch+0x66>
48c14658:	b250      	lw	v0,48c14798 <.LBE2+0xa8>
48c1465a:	a240      	lbu	v0,0(v0)
48c1465c:	2a04      	bnez	v0,48c14666 <com_alarm_msg_dispatch+0x66>
48c1465e:	6a00      	li	v0,0
    {
        return RESULT_NULL;
48c14660:	f0e0 d950 	sw	v0,240(s1)
48c14664:	1091      	b	48c14788 <.LBE2+0x98>
48c14666:	a142      	lbu	v0,2(s1)
    }

    if (temp_alarm_val.timer_flag == 0)
48c14668:	2a44      	bnez	v0,48c146f2 <.LBE2+0x2>
48c1466a:	b24e      	lw	v0,48c147a0 <.LBE2+0xb0>
    {
        result = ap_fmautorecord_init(&g_aufm_temp);
48c1466c:	6782      	move	a0,v0
48c1466e:	1a11 51eb 	jal	48c147ac <ap_fmautorecord_init>
48c14672:	6500      	nop
48c14674:	f0e0 d944 	sw	v0,228(s1)
48c14678:	f0e0 9964 	lw	v1,228(s1)
        if (result == RESULT_ALARMFM)
48c1467c:	f411 6a09 	li	v0,35849
48c14680:	ea6e      	xor	v0,v1
48c14682:	5a01      	sltiu	v0,1
48c14684:	6047      	bteqz	48c14714 <.LBE2+0x24>
48c14686:	f0c0 a157 	lbu	v0,215(s1)
        {
            if (temp_alarm_val.g_aufm.fmrec_enable == 1)
48c1468a:	7201      	cmpi	v0,1
48c1468c:	6758      	move	v0,t8
48c1468e:	5a01      	sltiu	v0,1
48c14690:	6004      	bteqz	48c1469a <com_alarm_msg_dispatch+0x9a>
48c14692:	f411 6a0a 	li	v0,35850
            {
                result = RESULT_FMRECORD;
48c14696:	f0e0 d944 	sw	v0,228(s1)
48c1469a:	b240      	lw	v0,48c14798 <.LBE2+0xa8>
            }
            //snooze闹铃被漏报的情况
            if(g_alarm_temp.alarm_count != 0)//Snooze标志
48c1469c:	f0a0 a259 	lbu	v0,185(v0)
48c146a0:	2239      	beqz	v0,48c14714 <.LBE2+0x24>

48c146a2 <.LBB2>:
48c146a2:	f0e0 4148 	addiu	v0,s1,232
            {
                time_t time_tmp;
                sys_get_time(&time_tmp);  //获取系统时间
48c146a6:	6782      	move	a0,v0
48c146a8:	6d00      	li	a1,0
48c146aa:	6e00      	li	a2,0
48c146ac:	6f24      	li	a3,36
48c146ae:	b23a      	lw	v0,48c14794 <.LBE2+0xa4>
48c146b0:	eac0      	jalrc	v0
48c146b2:	f0e0 a168 	lbu	v1,232(s1)
                if((time_tmp.hour*60 + time_tmp.minute + 6) > 
48c146b6:	6743      	move	v0,v1
48c146b8:	3250      	sll	v0,4
48c146ba:	e26b      	subu	v0,v1
48c146bc:	3348      	sll	v1,v0,2
48c146be:	f0e0 a149 	lbu	v0,233(s1)
48c146c2:	e349      	addu	v0,v1,v0
48c146c4:	4286      	addiu	a0,v0,6
48c146c6:	f0c0 a178 	lbu	v1,216(s1)
48c146ca:	6743      	move	v0,v1
48c146cc:	3250      	sll	v0,4
48c146ce:	e26b      	subu	v0,v1
48c146d0:	3348      	sll	v1,v0,2
48c146d2:	f0c0 a159 	lbu	v0,217(s1)
48c146d6:	e349      	addu	v0,v1,v0
48c146d8:	ea82      	slt	v0,a0
48c146da:	601c      	bteqz	48c14714 <.LBE2+0x24>
48c146dc:	6a01      	li	v0,1
                    (temp_alarm_val.snooze_time.hour*60 + temp_alarm_val.snooze_time.minute) )
                {
                    //将snooze时间设入
                    temp_alarm_val.timer_flag = 1;
48c146de:	c142      	sb	v0,2(s1)
48c146e0:	f0d0 4148 	addiu	v0,s1,216
                    sys_set_alarm_time(&temp_alarm_val.snooze_time);
48c146e4:	6782      	move	a0,v0
48c146e6:	6d00      	li	a1,0
48c146e8:	6e00      	li	a2,0
48c146ea:	6f27      	li	a3,39
48c146ec:	b22a      	lw	v0,48c14794 <.LBE2+0xa4>
48c146ee:	eac0      	jalrc	v0

48c146f0 <.LBE2>:
48c146f0:	1011      	b	48c14714 <.LBE2+0x24>
48c146f2:	a142      	lbu	v0,2(s1)
                }
            }
        }
    }
    else if (temp_alarm_val.timer_flag == 1)
48c146f4:	7201      	cmpi	v0,1
48c146f6:	6758      	move	v0,t8
48c146f8:	5a01      	sltiu	v0,1
48c146fa:	6008      	bteqz	48c1470c <.LBE2+0x1c>
48c146fc:	b227      	lw	v0,48c14798 <.LBE2+0xa8>
    {
        result = ap_alarm_init(&g_alarm_temp);
48c146fe:	6782      	move	a0,v0
48c14700:	1a11 5220 	jal	48c14880 <ap_alarm_init>
48c14704:	6500      	nop
48c14706:	f0e0 d944 	sw	v0,228(s1)
48c1470a:	1004      	b	48c14714 <.LBE2+0x24>
48c1470c:	6a00      	li	v0,0
    }
    else
    {
        return RESULT_NULL;
48c1470e:	f0e0 d950 	sw	v0,240(s1)
48c14712:	103a      	b	48c14788 <.LBE2+0x98>
48c14714:	b223      	lw	v0,48c147a0 <.LBE2+0xb0>
    }
    //决定NEXT闹铃
    flag = (uint8)CompareAndSet_timer_flag(&g_aufm_temp, &g_alarm_temp);
48c14716:	b321      	lw	v1,48c14798 <.LBE2+0xa8>
48c14718:	6782      	move	a0,v0
48c1471a:	67a3      	move	a1,v1
48c1471c:	1a11 5248 	jal	48c14920 <CompareAndSet_timer_flag>
48c14720:	6500      	nop
48c14722:	f0e0 c140 	sb	v0,224(s1)
48c14726:	f0e0 a140 	lbu	v0,224(s1)
    if (flag == 1)
48c1472a:	7201      	cmpi	v0,1
48c1472c:	6758      	move	v0,t8
48c1472e:	5a01      	sltiu	v0,1
48c14730:	600a      	bteqz	48c14746 <.LBE2+0x56>
48c14732:	6a00      	li	v0,0
    {
        temp_alarm_val.timer_flag = 0;
48c14734:	c142      	sb	v0,2(s1)
48c14736:	b21c      	lw	v0,48c147a4 <.LBE2+0xb4>
        sys_set_alarm_time(&g_aufm_temp.start_time);
48c14738:	6782      	move	a0,v0
48c1473a:	6d00      	li	a1,0
48c1473c:	6e00      	li	a2,0
48c1473e:	6f27      	li	a3,39
48c14740:	b215      	lw	v0,48c14794 <.LBE2+0xa4>
48c14742:	eac0      	jalrc	v0
48c14744:	1014      	b	48c1476e <.LBE2+0x7e>
48c14746:	f0e0 a140 	lbu	v0,224(s1)
    }
    else if (flag == 2)
48c1474a:	7202      	cmpi	v0,2
48c1474c:	6758      	move	v0,t8
48c1474e:	5a01      	sltiu	v0,1
48c14750:	600a      	bteqz	48c14766 <.LBE2+0x76>
48c14752:	6a01      	li	v0,1
    {
        temp_alarm_val.timer_flag = 1;
48c14754:	c142      	sb	v0,2(s1)
48c14756:	b215      	lw	v0,48c147a8 <.LBE2+0xb8>
        sys_set_alarm_time(&g_alarm_temp.start_time);
48c14758:	6782      	move	a0,v0
48c1475a:	6d00      	li	a1,0
48c1475c:	6e00      	li	a2,0
48c1475e:	6f27      	li	a3,39
48c14760:	b20d      	lw	v0,48c14794 <.LBE2+0xa4>
48c14762:	eac0      	jalrc	v0
48c14764:	1004      	b	48c1476e <.LBE2+0x7e>
48c14766:	6a00      	li	v0,0
    }
    else
    {
        return RESULT_NULL;
48c14768:	f0e0 d950 	sw	v0,240(s1)
48c1476c:	100d      	b	48c14788 <.LBE2+0x98>
48c1476e:	f405 6a00 	li	v0,11264
    }
    //将VM重新写回
    sys_vm_write(&temp_alarm_val, VM_AP_ALARM, sizeof(alarm_vars_t));
48c14772:	6791      	move	a0,s1
48c14774:	67a2      	move	a1,v0
48c14776:	6edc      	li	a2,220
48c14778:	6f13      	li	a3,19
48c1477a:	b207      	lw	v0,48c14794 <.LBE2+0xa4>
48c1477c:	eac0      	jalrc	v0
48c1477e:	f0e0 9944 	lw	v0,228(s1)

    return result;
48c14782:	ea31      	zeh	v0
48c14784:	f0e0 d950 	sw	v0,240(s1)
48c14788:	f0e0 9950 	lw	v0,240(s1)
}
48c1478c:	65b9      	move	sp,s1
48c1478e:	f020 6450 	restore	256,ra,s1
48c14792:	e8a0      	jrc	ra
48c14794:	640d      	restore	104
48c14796:	bfc1      	lwu	a2,4(a3)
48c14798:	44f4      	daddiu	a3,a0,4
48c1479a:	4841      	addiu	s0,65
48c1479c:	6409      	restore	72
48c1479e:	bfc1      	lwu	a2,4(a3)
48c147a0:	45b0      	daddiu	a1,a1,0
48c147a2:	4841      	addiu	s0,65
48c147a4:	45b1      	daddiu	a1,a1,1
48c147a6:	4841      	addiu	s0,65
48c147a8:	44f5      	daddiu	a3,a0,5
48c147aa:	4841      	addiu	s0,65

48c147ac <ap_fmautorecord_init>:
48c147ac:	64d7      	save	56,ra,s1

/*! \endcond */

/*! \cond */

/******************************************************************************/
/*!
 * \par  Description:
 *    根据cycle标志判定是否发出RESULT_ALARMFM消息
 * \param[in]    alarm_fm_t *aufm_temp
 * \param[out]   none
 * \return       app_result_e
 * \retval           RESULT_ALARMFM 自动FM消息
 * \retval           RESULT_NULL 空消息
 * \ingroup      misc_func
 * \note
*******************************************************************************/
app_result_e ap_fmautorecord_init(alarm_fm_t *aufm_temp)
{
48c147ae:	0104      	addiu	s1,sp,16
48c147b0:	d98a      	sw	a0,40(s1)
48c147b2:	6a00      	li	v0,0
    uint8 startCol = 0;
48c147b4:	c140      	sb	v0,0(s1)
48c147b6:	b230      	lw	v0,48c14874 <.LBE3+0x92>
    date_t t_data;
    //snooze闹铃被误报的情况
    if(g_alarm_temp.alarm_count != 0)//Snooze标志
48c147b8:	f0a0 a259 	lbu	v0,185(v0)
48c147bc:	2212      	beqz	v0,48c147e2 <.LBE3>

48c147be <.LBB3>:
48c147be:	4147      	addiu	v0,s1,7
    {
        time_t time_tmp;
        sys_get_time(&time_tmp);  //获取当前系统时间
48c147c0:	4a09      	addiu	v0,9
48c147c2:	6782      	move	a0,v0
48c147c4:	6d00      	li	a1,0
48c147c6:	6e00      	li	a2,0
48c147c8:	6f24      	li	a3,36
48c147ca:	b22c      	lw	v0,48c14878 <.LBE3+0x96>
48c147cc:	eac0      	jalrc	v0
48c147ce:	b22c      	lw	v0,48c1487c <.LBE3+0x9a>
        if(g_aufm_temp.start_time.minute != time_tmp.minute)
48c147d0:	a262      	lbu	v1,2(v0)
48c147d2:	a151      	lbu	v0,17(s1)
48c147d4:	ea6e      	xor	v0,v1
48c147d6:	5a01      	sltiu	v0,1
48c147d8:	6104      	btnez	48c147e2 <.LBE3>
48c147da:	f411 6a08 	li	v0,35848
        {
            return RESULT_ALARM;
48c147de:	d946      	sw	v0,24(s1)
48c147e0:	1045      	b	48c1486c <.LBE3+0x8a>

48c147e2 <.LBE3>:
48c147e2:	4147      	addiu	v0,s1,7
        }
    }
    
    sys_get_date(&t_data);
48c147e4:	4241      	addiu	v0,v0,1
48c147e6:	6782      	move	a0,v0
48c147e8:	6d00      	li	a1,0
48c147ea:	6e00      	li	a2,0
48c147ec:	6f26      	li	a3,38
48c147ee:	b223      	lw	v0,48c14878 <.LBE3+0x96>
48c147f0:	eac0      	jalrc	v0
48c147f2:	994a      	lw	v0,40(s1)
    if (aufm_temp->cycle_flag == 0) //循环--单次
48c147f4:	a247      	lbu	v0,7(v0)
48c147f6:	2a16      	bnez	v0,48c14824 <.LBE3+0x42>
48c147f8:	994a      	lw	v0,40(s1)
    {
        if ((aufm_temp->cycle.one_time.year == t_data.year) &&
48c147fa:	aa64      	lhu	v1,8(v0)
48c147fc:	a944      	lhu	v0,8(s1)
48c147fe:	ea6e      	xor	v0,v1
48c14800:	5a01      	sltiu	v0,1
48c14802:	6032      	bteqz	48c14868 <.LBE3+0x86>
48c14804:	994a      	lw	v0,40(s1)
48c14806:	a26a      	lbu	v1,10(v0)
48c14808:	a14a      	lbu	v0,10(s1)
48c1480a:	ea6e      	xor	v0,v1
48c1480c:	5a01      	sltiu	v0,1
48c1480e:	602c      	bteqz	48c14868 <.LBE3+0x86>
48c14810:	994a      	lw	v0,40(s1)
48c14812:	a26b      	lbu	v1,11(v0)
48c14814:	a14b      	lbu	v0,11(s1)
48c14816:	ea6e      	xor	v0,v1
48c14818:	5a01      	sltiu	v0,1
48c1481a:	6026      	bteqz	48c14868 <.LBE3+0x86>
48c1481c:	f411 6a09 	li	v0,35849
            (aufm_temp->cycle.one_time.month == t_data.month) &&
            (aufm_temp->cycle.one_time.day == t_data.day))
        {
            return RESULT_ALARMFM;
48c14820:	d946      	sw	v0,24(s1)
48c14822:	1024      	b	48c1486c <.LBE3+0x8a>
48c14824:	994a      	lw	v0,40(s1)
        }
    }
    else if (aufm_temp->cycle_flag == 1) //循环--每天
48c14826:	a247      	lbu	v0,7(v0)
48c14828:	7201      	cmpi	v0,1
48c1482a:	6758      	move	v0,t8
48c1482c:	5a01      	sltiu	v0,1
48c1482e:	6004      	bteqz	48c14838 <.LBE3+0x56>
48c14830:	f411 6a09 	li	v0,35849
    {
        return RESULT_ALARMFM;
48c14834:	d946      	sw	v0,24(s1)
48c14836:	101a      	b	48c1486c <.LBE3+0x8a>
48c14838:	994a      	lw	v0,40(s1)
    }
    else if (aufm_temp->cycle_flag == 2) //循环--按星期
48c1483a:	a247      	lbu	v0,7(v0)
48c1483c:	7202      	cmpi	v0,2
48c1483e:	6758      	move	v0,t8
48c14840:	5a01      	sltiu	v0,1
48c14842:	6012      	bteqz	48c14868 <.LBE3+0x86>
48c14844:	a944      	lhu	v0,8(s1)
    {
        startCol = __get_weekofday(t_data.year, t_data.month, t_data.day);
48c14846:	a16a      	lbu	v1,10(s1)
48c14848:	a1cb      	lbu	a2,11(s1)
48c1484a:	6782      	move	a0,v0
48c1484c:	67a3      	move	a1,v1
48c1484e:	1a31 5180 	jal	48c54600 <__get_weekofday>
48c14852:	6500      	nop
48c14854:	c140      	sb	v0,0(s1)
48c14856:	a140      	lbu	v0,0(s1)
        if ((startCol > 0) && (startCol < 6)) //工作日
48c14858:	2207      	beqz	v0,48c14868 <.LBE3+0x86>
48c1485a:	a140      	lbu	v0,0(s1)
48c1485c:	5a06      	sltiu	v0,6
48c1485e:	6004      	bteqz	48c14868 <.LBE3+0x86>
48c14860:	f411 6a09 	li	v0,35849
        {
            return RESULT_ALARMFM;
48c14864:	d946      	sw	v0,24(s1)
48c14866:	1002      	b	48c1486c <.LBE3+0x8a>
48c14868:	6a00      	li	v0,0
        }
    }
    else
    {
        //do nothing for QAC
    }
    
    return RESULT_NULL;
48c1486a:	d946      	sw	v0,24(s1)
48c1486c:	9946      	lw	v0,24(s1)
}
48c1486e:	65b9      	move	sp,s1
48c14870:	6455      	restore	40,ra,s1
48c14872:	e8a0      	jrc	ra
48c14874:	44f4      	daddiu	a3,a0,4
48c14876:	4841      	addiu	s0,65
48c14878:	640d      	restore	104
48c1487a:	bfc1      	lwu	a2,4(a3)
48c1487c:	45b0      	daddiu	a1,a1,0
48c1487e:	4841      	addiu	s0,65

48c14880 <ap_alarm_init>:
48c14880:	64d6      	save	48,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *    根据cycle标志判定是否发出RESULT_ALARM消息
 * \param[in]    alarm_fm_t *aufm_temp
 * \param[out]   none
 * \return       app_result_e
 * \retval           RESULT_ALARM alarm消息
 * \retval           RESULT_NULL 空消息
 * \ingroup      misc_func
 * \note
*******************************************************************************/
app_result_e ap_alarm_init(alarm_alarm_t *alarm_temp)
{
48c14882:	0104      	addiu	s1,sp,16
48c14884:	d988      	sw	a0,32(s1)
48c14886:	6a00      	li	v0,0
    uint8 startCol = 0;
48c14888:	c140      	sb	v0,0(s1)
48c1488a:	4147      	addiu	v0,s1,7
    date_t t_data;
    sys_get_date(&t_data);
48c1488c:	4241      	addiu	v0,v0,1
48c1488e:	6782      	move	a0,v0
48c14890:	6d00      	li	a1,0
48c14892:	6e00      	li	a2,0
48c14894:	6f26      	li	a3,38
48c14896:	b222      	lw	v0,48c1491c <ap_alarm_init+0x9c>
48c14898:	eac0      	jalrc	v0
48c1489a:	9948      	lw	v0,32(s1)
    if (alarm_temp->cycle_flag == 0) //循环--单次
48c1489c:	a244      	lbu	v0,4(v0)
48c1489e:	2a16      	bnez	v0,48c148cc <ap_alarm_init+0x4c>
48c148a0:	9948      	lw	v0,32(s1)
    {
        if ((alarm_temp->cycle.one_time.year == t_data.year) &&
48c148a2:	aa63      	lhu	v1,6(v0)
48c148a4:	a944      	lhu	v0,8(s1)
48c148a6:	ea6e      	xor	v0,v1
48c148a8:	5a01      	sltiu	v0,1
48c148aa:	6032      	bteqz	48c14910 <ap_alarm_init+0x90>
48c148ac:	9948      	lw	v0,32(s1)
48c148ae:	a268      	lbu	v1,8(v0)
48c148b0:	a14a      	lbu	v0,10(s1)
48c148b2:	ea6e      	xor	v0,v1
48c148b4:	5a01      	sltiu	v0,1
48c148b6:	602c      	bteqz	48c14910 <ap_alarm_init+0x90>
48c148b8:	9948      	lw	v0,32(s1)
48c148ba:	a269      	lbu	v1,9(v0)
48c148bc:	a14b      	lbu	v0,11(s1)
48c148be:	ea6e      	xor	v0,v1
48c148c0:	5a01      	sltiu	v0,1
48c148c2:	6026      	bteqz	48c14910 <ap_alarm_init+0x90>
48c148c4:	f411 6a08 	li	v0,35848
            (alarm_temp->cycle.one_time.month == t_data.month) &&
            (alarm_temp->cycle.one_time.day == t_data.day))
        {
            return RESULT_ALARM;
48c148c8:	d944      	sw	v0,16(s1)
48c148ca:	1024      	b	48c14914 <ap_alarm_init+0x94>
48c148cc:	9948      	lw	v0,32(s1)
        }
    }
    else if (alarm_temp->cycle_flag == 1) //循环--每天
48c148ce:	a244      	lbu	v0,4(v0)
48c148d0:	7201      	cmpi	v0,1
48c148d2:	6758      	move	v0,t8
48c148d4:	5a01      	sltiu	v0,1
48c148d6:	6004      	bteqz	48c148e0 <ap_alarm_init+0x60>
48c148d8:	f411 6a08 	li	v0,35848
    {
        return RESULT_ALARM;
48c148dc:	d944      	sw	v0,16(s1)
48c148de:	101a      	b	48c14914 <ap_alarm_init+0x94>
48c148e0:	9948      	lw	v0,32(s1)
    }
    else if (alarm_temp->cycle_flag == 2) //循环--按星期
48c148e2:	a244      	lbu	v0,4(v0)
48c148e4:	7202      	cmpi	v0,2
48c148e6:	6758      	move	v0,t8
48c148e8:	5a01      	sltiu	v0,1
48c148ea:	6012      	bteqz	48c14910 <ap_alarm_init+0x90>
48c148ec:	a944      	lhu	v0,8(s1)
    {
        startCol = __get_weekofday(t_data.year, t_data.month, t_data.day);
48c148ee:	a16a      	lbu	v1,10(s1)
48c148f0:	a1cb      	lbu	a2,11(s1)
48c148f2:	6782      	move	a0,v0
48c148f4:	67a3      	move	a1,v1
48c148f6:	1a31 5180 	jal	48c54600 <__get_weekofday>
48c148fa:	6500      	nop
48c148fc:	c140      	sb	v0,0(s1)
48c148fe:	a140      	lbu	v0,0(s1)
        if ((startCol > 0) && (startCol < 6)) //工作日
48c14900:	2207      	beqz	v0,48c14910 <ap_alarm_init+0x90>
48c14902:	a140      	lbu	v0,0(s1)
48c14904:	5a06      	sltiu	v0,6
48c14906:	6004      	bteqz	48c14910 <ap_alarm_init+0x90>
48c14908:	f411 6a08 	li	v0,35848
        {
            return RESULT_ALARM;
48c1490c:	d944      	sw	v0,16(s1)
48c1490e:	1002      	b	48c14914 <ap_alarm_init+0x94>
48c14910:	6a00      	li	v0,0
        }
    }
    else
    {
        //do nothing for QAC
    }
    
    return RESULT_NULL;
48c14912:	d944      	sw	v0,16(s1)
48c14914:	9944      	lw	v0,16(s1)
}
48c14916:	65b9      	move	sp,s1
48c14918:	6454      	restore	32,ra,s1
48c1491a:	e8a0      	jrc	ra
48c1491c:	640d      	restore	104
48c1491e:	bfc1      	lwu	a2,4(a3)

48c14920 <CompareAndSet_timer_flag>:
48c14920:	64d6      	save	48,ra,s1


/******************************************************************************/
/*!
 * \par  Description:
 *    根据enable_flag、及几组alarm的时间先后,返回
 * \param[in]    1 -- aufm
 * \param[in]    2 -- alarm
 * \param[out]   none
 * \return       app_result_e
 * \retval           1 -- aufm
 * \retval           2 -- alarm
 * \retval           0 -- error
 * \retval           4 -- 时间相同
 * \ingroup      misc_func
 * \note
*******************************************************************************/
uint8 CompareAndSet_timer_flag(alarm_fm_t *aufm_temp, alarm_alarm_t *g_alarm)
{
48c14922:	0104      	addiu	s1,sp,16
48c14924:	d988      	sw	a0,32(s1)
48c14926:	d9a9      	sw	a1,36(s1)
48c14928:	4147      	addiu	v0,s1,7
    uint8 result;
    time_t time_1;
    sys_get_time(&time_1);  //获取当前系统时间
48c1492a:	4241      	addiu	v0,v0,1
48c1492c:	6782      	move	a0,v0
48c1492e:	6d00      	li	a1,0
48c14930:	6e00      	li	a2,0
48c14932:	6f24      	li	a3,36
48c14934:	b21d      	lw	v0,48c149a8 <CompareAndSet_timer_flag+0x88>
48c14936:	eac0      	jalrc	v0
48c14938:	a14a      	lbu	v0,10(s1)
    time_1.second ++;  //仅为简化比较
48c1493a:	4241      	addiu	v0,v0,1
48c1493c:	c14a      	sb	v0,10(s1)
48c1493e:	9948      	lw	v0,32(s1)

    if((aufm_temp->enable == 1) && (g_alarm->enable == 1))
48c14940:	a240      	lbu	v0,0(v0)
48c14942:	7201      	cmpi	v0,1
48c14944:	6758      	move	v0,t8
48c14946:	5a01      	sltiu	v0,1
48c14948:	6016      	bteqz	48c14976 <CompareAndSet_timer_flag+0x56>
48c1494a:	9949      	lw	v0,36(s1)
48c1494c:	a240      	lbu	v0,0(v0)
48c1494e:	7201      	cmpi	v0,1
48c14950:	6758      	move	v0,t8
48c14952:	5a01      	sltiu	v0,1
48c14954:	6010      	bteqz	48c14976 <CompareAndSet_timer_flag+0x56>
48c14956:	4167      	addiu	v1,s1,7
    {
        result = compare_curtime(&time_1, &aufm_temp->start_time, &g_alarm->start_time, /*NULL,*/ 3);
48c14958:	4361      	addiu	v1,v1,1
48c1495a:	9948      	lw	v0,32(s1)
48c1495c:	42a1      	addiu	a1,v0,1
48c1495e:	9949      	lw	v0,36(s1)
48c14960:	4241      	addiu	v0,v0,1
48c14962:	6783      	move	a0,v1
48c14964:	67c2      	move	a2,v0
48c14966:	6f03      	li	a3,3
48c14968:	1a31 51af 	jal	48c546bc <compare_curtime>
48c1496c:	6500      	nop
48c1496e:	c140      	sb	v0,0(s1)
48c14970:	a140      	lbu	v0,0(s1)
        return result;
48c14972:	d944      	sw	v0,16(s1)
48c14974:	1014      	b	48c1499e <CompareAndSet_timer_flag+0x7e>
48c14976:	9948      	lw	v0,32(s1)
    }
    if (aufm_temp->enable == 1)
48c14978:	a240      	lbu	v0,0(v0)
48c1497a:	7201      	cmpi	v0,1
48c1497c:	6758      	move	v0,t8
48c1497e:	5a01      	sltiu	v0,1
48c14980:	6003      	bteqz	48c14988 <CompareAndSet_timer_flag+0x68>
48c14982:	6a01      	li	v0,1
    {
        return 1;
48c14984:	d944      	sw	v0,16(s1)
48c14986:	100b      	b	48c1499e <CompareAndSet_timer_flag+0x7e>
48c14988:	9949      	lw	v0,36(s1)
    }
    if (g_alarm->enable == 1)
48c1498a:	a240      	lbu	v0,0(v0)
48c1498c:	7201      	cmpi	v0,1
48c1498e:	6758      	move	v0,t8
48c14990:	5a01      	sltiu	v0,1
48c14992:	6003      	bteqz	48c1499a <CompareAndSet_timer_flag+0x7a>
48c14994:	6a02      	li	v0,2
    {
        return 2;
48c14996:	d944      	sw	v0,16(s1)
48c14998:	1002      	b	48c1499e <CompareAndSet_timer_flag+0x7e>
48c1499a:	6a00      	li	v0,0
    }
    return 0;
48c1499c:	d944      	sw	v0,16(s1)
48c1499e:	9944      	lw	v0,16(s1)
}
48c149a0:	65b9      	move	sp,s1
48c149a2:	6454      	restore	32,ra,s1
48c149a4:	e8a0      	jrc	ra
48c149a6:	0000      	addiu	s0,sp,0
48c149a8:	640d      	restore	104
48c149aa:	bfc1      	lwu	a2,4(a3)

48c149ac <set_timer_msg>:
48c149ac:	64d4      	save	32,ra,s1


/******************************************************************************/
/*!
 * \par  Description:
 *    通过比较几组闹铃的时间先后、及优先级，设置alarm时间。
 * \param[in]    alarm_fm_t *aufm_temp
 * \param[in]    alarm_alarm_t *alarm_temp
 * \param[in]    uint8 *timer_flag
 * \param[out]   none
 * \return       uint8 *timer_flag
 * \retval           0 -- aufm
 * \retval           1 -- alarm
 * \retval           3 -- error
 * \ingroup      misc_func
 * \note         设置alarm时间时调用
*******************************************************************************/
void set_timer_msg(alarm_fm_t *aufm_temp, alarm_alarm_t *alarm_temp, uint8 *timer_flag)
{
48c149ae:	0104      	addiu	s1,sp,16
48c149b0:	d984      	sw	a0,16(s1)
48c149b2:	d9a5      	sw	a1,20(s1)
48c149b4:	d9c6      	sw	a2,24(s1)
48c149b6:	9944      	lw	v0,16(s1)
    uint8 flag;
    flag = (uint8)CompareAndSet_timer_flag(aufm_temp, alarm_temp);
48c149b8:	9965      	lw	v1,20(s1)
48c149ba:	6782      	move	a0,v0
48c149bc:	67a3      	move	a1,v1
48c149be:	1a11 5248 	jal	48c14920 <CompareAndSet_timer_flag>
48c149c2:	6500      	nop
48c149c4:	c140      	sb	v0,0(s1)
48c149c6:	a140      	lbu	v0,0(s1)
    switch(flag)
48c149c8:	d941      	sw	v0,4(s1)
48c149ca:	9941      	lw	v0,4(s1)
48c149cc:	7202      	cmpi	v0,2
48c149ce:	6758      	move	v0,t8
48c149d0:	5a01      	sltiu	v0,1
48c149d2:	6121      	btnez	48c14a16 <set_timer_msg+0x6a>
48c149d4:	9941      	lw	v0,4(s1)
48c149d6:	5203      	slti	v0,3
48c149d8:	6006      	bteqz	48c149e6 <set_timer_msg+0x3a>
48c149da:	9941      	lw	v0,4(s1)
48c149dc:	7201      	cmpi	v0,1
48c149de:	6758      	move	v0,t8
48c149e0:	5a01      	sltiu	v0,1
48c149e2:	6107      	btnez	48c149f2 <set_timer_msg+0x46>
48c149e4:	1042      	b	48c14a6a <set_timer_msg+0xbe>
48c149e6:	9941      	lw	v0,4(s1)
48c149e8:	7204      	cmpi	v0,4
48c149ea:	6758      	move	v0,t8
48c149ec:	5a01      	sltiu	v0,1
48c149ee:	6125      	btnez	48c14a3a <set_timer_msg+0x8e>
48c149f0:	103c      	b	48c14a6a <set_timer_msg+0xbe>
48c149f2:	9944      	lw	v0,16(s1)
    {
    case 1:
        if(aufm_temp->enable == 1)
48c149f4:	a240      	lbu	v0,0(v0)
48c149f6:	7201      	cmpi	v0,1
48c149f8:	6758      	move	v0,t8
48c149fa:	5a01      	sltiu	v0,1
48c149fc:	6039      	bteqz	48c14a70 <set_timer_msg+0xc4>
48c149fe:	9944      	lw	v0,16(s1)
        {
            sys_set_alarm_time(&aufm_temp->start_time);
48c14a00:	4241      	addiu	v0,v0,1
48c14a02:	6782      	move	a0,v0
48c14a04:	6d00      	li	a1,0
48c14a06:	6e00      	li	a2,0
48c14a08:	6f27      	li	a3,39
48c14a0a:	b21c      	lw	v0,48c14a78 <set_timer_msg+0xcc>
48c14a0c:	eac0      	jalrc	v0
48c14a0e:	9966      	lw	v1,24(s1)
            *timer_flag = 0;
48c14a10:	6a00      	li	v0,0
48c14a12:	c340      	sb	v0,0(v1)
48c14a14:	102d      	b	48c14a70 <set_timer_msg+0xc4>
        }
        break;
48c14a16:	9945      	lw	v0,20(s1)
        
    case 2:
        if(alarm_temp->enable == 1)
48c14a18:	a240      	lbu	v0,0(v0)
48c14a1a:	7201      	cmpi	v0,1
48c14a1c:	6758      	move	v0,t8
48c14a1e:	5a01      	sltiu	v0,1
48c14a20:	6027      	bteqz	48c14a70 <set_timer_msg+0xc4>
48c14a22:	9945      	lw	v0,20(s1)
        {
            sys_set_alarm_time(&alarm_temp->start_time);
48c14a24:	4241      	addiu	v0,v0,1
48c14a26:	6782      	move	a0,v0
48c14a28:	6d00      	li	a1,0
48c14a2a:	6e00      	li	a2,0
48c14a2c:	6f27      	li	a3,39
48c14a2e:	b213      	lw	v0,48c14a78 <set_timer_msg+0xcc>
48c14a30:	eac0      	jalrc	v0
48c14a32:	9966      	lw	v1,24(s1)
            *timer_flag = 1;
48c14a34:	6a01      	li	v0,1
48c14a36:	c340      	sb	v0,0(v1)
48c14a38:	101b      	b	48c14a70 <set_timer_msg+0xc4>
        }
        break;
48c14a3a:	9944      	lw	v0,16(s1)
        
    case 4:  //相同时据优先级
        if((aufm_temp->enable == 1) && (alarm_temp->enable == 1))
48c14a3c:	a240      	lbu	v0,0(v0)
48c14a3e:	7201      	cmpi	v0,1
48c14a40:	6758      	move	v0,t8
48c14a42:	5a01      	sltiu	v0,1
48c14a44:	6015      	bteqz	48c14a70 <set_timer_msg+0xc4>
48c14a46:	9945      	lw	v0,20(s1)
48c14a48:	a240      	lbu	v0,0(v0)
48c14a4a:	7201      	cmpi	v0,1
48c14a4c:	6758      	move	v0,t8
48c14a4e:	5a01      	sltiu	v0,1
48c14a50:	600f      	bteqz	48c14a70 <set_timer_msg+0xc4>
48c14a52:	9944      	lw	v0,16(s1)
        {
            sys_set_alarm_time(&aufm_temp->start_time);
48c14a54:	4241      	addiu	v0,v0,1
48c14a56:	6782      	move	a0,v0
48c14a58:	6d00      	li	a1,0
48c14a5a:	6e00      	li	a2,0
48c14a5c:	6f27      	li	a3,39
48c14a5e:	b207      	lw	v0,48c14a78 <set_timer_msg+0xcc>
48c14a60:	eac0      	jalrc	v0
48c14a62:	9966      	lw	v1,24(s1)
            *timer_flag = 0;
48c14a64:	6a00      	li	v0,0
48c14a66:	c340      	sb	v0,0(v1)
48c14a68:	1003      	b	48c14a70 <set_timer_msg+0xc4>
        }
        break;
48c14a6a:	9966      	lw	v1,24(s1)
        
    case 0:
    default:
        *timer_flag = 3;
48c14a6c:	6a03      	li	v0,3
48c14a6e:	c340      	sb	v0,0(v1)
48c14a70:	65b9      	move	sp,s1
        break;
    }//end of switch
}
48c14a72:	6452      	restore	16,ra,s1
48c14a74:	e8a0      	jrc	ra
48c14a76:	0000      	addiu	s0,sp,0
48c14a78:	640d      	restore	104
48c14a7a:	bfc1      	lwu	a2,4(a3)
	...
Disassembly of section BANK_UI_1_49:

48c54600 <__get_weekofday>:
48c54600:	6492      	save	16,s1
 * \ingroup      
 * \note
 *******************************************************************************/
uint8 __get_weekofday(uint16 y, uint8 m, uint8 d)
{
48c54602:	673d      	move	s1,sp
48c54604:	6744      	move	v0,a0
48c54606:	6765      	move	v1,a1
48c54608:	6786      	move	a0,a2
48c5460a:	c948      	sh	v0,16(s1)
48c5460c:	c174      	sb	v1,20(s1)
48c5460e:	c198      	sb	a0,24(s1)
48c54610:	a154      	lbu	v0,20(s1)
    int8 wk; //星期
    uint8 ic; //年份的前两位
    uint8 ir; //年份的后两位

    if (m < 3)
48c54612:	5a03      	sltiu	v0,3
48c54614:	6006      	bteqz	48c54622 <__get_weekofday+0x22>
48c54616:	a154      	lbu	v0,20(s1)
    {
        m += 12;
48c54618:	4a0c      	addiu	v0,12
48c5461a:	c154      	sb	v0,20(s1)
48c5461c:	a948      	lhu	v0,16(s1)
        y--;
48c5461e:	424f      	addiu	v0,v0,-1
48c54620:	c948      	sh	v0,16(s1)
48c54622:	a968      	lhu	v1,16(s1)
    }
    ic = (uint8) (y / 100);
48c54624:	b224      	lw	v0,48c546b4 <__get_weekofday+0xb4>
48c54626:	eb59      	multu	v1,v0
48c54628:	eb10      	mfhi	v1
48c5462a:	3276      	srl	v0,v1,5
48c5462c:	c141      	sb	v0,1(s1)
48c5462e:	a988      	lhu	a0,16(s1)
    ir = (uint8) (y % 100);
48c54630:	b221      	lw	v0,48c546b4 <__get_weekofday+0xb4>
48c54632:	ec59      	multu	a0,v0
48c54634:	ea10      	mfhi	v0
48c54636:	3356      	srl	v1,v0,5
48c54638:	6743      	move	v0,v1
48c5463a:	3244      	sll	v0,1
48c5463c:	e269      	addu	v0,v1
48c5463e:	324c      	sll	v0,3
48c54640:	e269      	addu	v0,v1
48c54642:	3248      	sll	v0,2
48c54644:	e44b      	subu	v0,a0,v0
48c54646:	c142      	sb	v0,2(s1)
48c54648:	a141      	lbu	v0,1(s1)
    //Taylor's formula
    wk = (int8)((ic / 4) + ir + (ir / 4) + (26 * (m + 1)) / 10 - 2 * ic + d - 1); // 避免负数
48c5464a:	324a      	srl	v0,2
48c5464c:	6762      	move	v1,v0
48c5464e:	a142      	lbu	v0,2(s1)
48c54650:	e34d      	addu	v1,v0
48c54652:	a142      	lbu	v0,2(s1)
48c54654:	324a      	srl	v0,2
48c54656:	e355      	addu	a1,v1,v0
48c54658:	a174      	lbu	v1,20(s1)
48c5465a:	6743      	move	v0,v1
48c5465c:	3244      	sll	v0,1
48c5465e:	e269      	addu	v0,v1
48c54660:	3248      	sll	v0,2
48c54662:	e269      	addu	v0,v1
48c54664:	3244      	sll	v0,1
48c54666:	6782      	move	a0,v0
48c54668:	4c1a      	addiu	a0,26
48c5466a:	b214      	lw	v0,48c546b8 <__get_weekofday+0xb8>
48c5466c:	ec58      	mult	a0,v0
48c5466e:	ea10      	mfhi	v0
48c54670:	334b      	sra	v1,v0,2
48c54672:	f7c0 3283 	sra	v0,a0,31
48c54676:	e34b      	subu	v0,v1,v0
48c54678:	6765      	move	v1,a1
48c5467a:	e34d      	addu	v1,v0
48c5467c:	a141      	lbu	v0,1(s1)
48c5467e:	3244      	sll	v0,1
48c54680:	e34b      	subu	v0,v1,v0
48c54682:	6762      	move	v1,v0
48c54684:	a158      	lbu	v0,24(s1)
48c54686:	e349      	addu	v0,v1,v0
48c54688:	424f      	addiu	v0,v0,-1
48c5468a:	c140      	sb	v0,0(s1)
48c5468c:	8140      	lb	v0,0(s1)
    while (wk >= 7) //矫正结果
48c5468e:	5207      	slti	v0,7
48c54690:	6104      	btnez	48c5469a <__get_weekofday+0x9a>
48c54692:	a140      	lbu	v0,0(s1)
    {
        wk -= 7;
48c54694:	4249      	addiu	v0,v0,-7
48c54696:	c140      	sb	v0,0(s1)
48c54698:	17f9      	b	48c5468c <__get_weekofday+0x8c>
48c5469a:	8140      	lb	v0,0(s1)
    }
    while (wk < 0)
48c5469c:	5200      	slti	v0,0
48c5469e:	6004      	bteqz	48c546a8 <__get_weekofday+0xa8>
48c546a0:	a140      	lbu	v0,0(s1)
    {
        wk += 7;
48c546a2:	4247      	addiu	v0,v0,7
48c546a4:	c140      	sb	v0,0(s1)
48c546a6:	17f9      	b	48c5469a <__get_weekofday+0x9a>
48c546a8:	a140      	lbu	v0,0(s1)
    }
    return wk;
48c546aa:	651a      	move	t8,v0
48c546ac:	6758      	move	v0,t8
}
48c546ae:	65b9      	move	sp,s1
48c546b0:	6412      	restore	16,s1
48c546b2:	e8a0      	jrc	ra
48c546b4:	851f      	lb	s0,31(a1)
48c546b6:	51eb      	slti	s1,235
48c546b8:	6667      	0x6667
48c546ba:	6666      	0x6666

48c546bc <compare_curtime>:
48c546bc:	6498      	save	64,s1


/******************************************************************************/
/*!
 * \par  Description:
 *    比较 cur_time、time1、time2、time3的时间先后顺序
 * \param[in]    time_t *Cur_T
 * \param[in]    time_t *timer1
 * \param[in]    time_t *timer2
 * \param[in]    uint8 num
 * \param[out]   none
 * \return       uint8 result
 * \ingroup      
 * \note
 *******************************************************************************/
uint8 compare_curtime(time_t *Cur_T, time_t *timer1, time_t *timer2, /*time_t *timer3,*/ uint8 num)
{
48c546be:	673d      	move	s1,sp
48c546c0:	d990      	sw	a0,64(s1)
48c546c2:	d9b1      	sw	a1,68(s1)
48c546c4:	d9d2      	sw	a2,72(s1)
48c546c6:	6747      	move	v0,a3
48c546c8:	f040 c14c 	sb	v0,76(s1)
48c546cc:	6a00      	li	v0,0
    uint32 time_n[4], ser_n[4], i, j, temp_min, temp_i;
    uint8 same_time_flag = 0;
48c546ce:	f020 c150 	sb	v0,48(s1)
48c546d2:	9950      	lw	v0,64(s1)
    time_n[0] = (Cur_T->hour) *60*60 + Cur_T->minute*60 + Cur_T->second;    //cur_time
48c546d4:	a260      	lbu	v1,0(v0)
48c546d6:	6743      	move	v0,v1
48c546d8:	324c      	sll	v0,3
48c546da:	e26b      	subu	v0,v1
48c546dc:	3254      	sll	v0,5
48c546de:	e269      	addu	v0,v1
48c546e0:	3450      	sll	a0,v0,4
48c546e2:	9950      	lw	v0,64(s1)
48c546e4:	a261      	lbu	v1,1(v0)
48c546e6:	6743      	move	v0,v1
48c546e8:	3250      	sll	v0,4
48c546ea:	e26b      	subu	v0,v1
48c546ec:	3248      	sll	v0,2
48c546ee:	e44d      	addu	v1,a0,v0
48c546f0:	9950      	lw	v0,64(s1)
48c546f2:	a242      	lbu	v0,2(v0)
48c546f4:	e349      	addu	v0,v1,v0
48c546f6:	d940      	sw	v0,0(s1)
48c546f8:	9951      	lw	v0,68(s1)
    time_n[1] = (timer1->hour) *60*60 + timer1->minute*60; //FM_time
48c546fa:	a260      	lbu	v1,0(v0)
48c546fc:	6743      	move	v0,v1
48c546fe:	324c      	sll	v0,3
48c54700:	e26b      	subu	v0,v1
48c54702:	3254      	sll	v0,5
48c54704:	e269      	addu	v0,v1
48c54706:	3450      	sll	a0,v0,4
48c54708:	9951      	lw	v0,68(s1)
48c5470a:	a261      	lbu	v1,1(v0)
48c5470c:	6743      	move	v0,v1
48c5470e:	3250      	sll	v0,4
48c54710:	e26b      	subu	v0,v1
48c54712:	3248      	sll	v0,2
48c54714:	e449      	addu	v0,a0,v0
48c54716:	d941      	sw	v0,4(s1)
48c54718:	9952      	lw	v0,72(s1)
    time_n[2] = (timer2->hour) *60*60 + timer2->minute*60; //alarm1_time
48c5471a:	a260      	lbu	v1,0(v0)
48c5471c:	6743      	move	v0,v1
48c5471e:	324c      	sll	v0,3
48c54720:	e26b      	subu	v0,v1
48c54722:	3254      	sll	v0,5
48c54724:	e269      	addu	v0,v1
48c54726:	3450      	sll	a0,v0,4
48c54728:	9952      	lw	v0,72(s1)
48c5472a:	a261      	lbu	v1,1(v0)
48c5472c:	6743      	move	v0,v1
48c5472e:	3250      	sll	v0,4
48c54730:	e26b      	subu	v0,v1
48c54732:	3248      	sll	v0,2
48c54734:	e449      	addu	v0,a0,v0
48c54736:	d942      	sw	v0,8(s1)
48c54738:	f040 a14c 	lbu	v0,76(s1)
//    time_n[3] = (timer3->hour) * 60 + timer3->minute; //alarm2_time
    if (num > 4)
48c5473c:	5a05      	sltiu	v0,5
48c5473e:	6103      	btnez	48c54746 <compare_curtime+0x8a>
48c54740:	6a00      	li	v0,0
    {
        return 0;
48c54742:	d94d      	sw	v0,52(s1)
48c54744:	1092      	b	48c5486a <compare_curtime+0x1ae>
48c54746:	9961      	lw	v1,4(s1)
    }
    if (time_n[1] == time_n[2])
48c54748:	9942      	lw	v0,8(s1)
48c5474a:	ea6e      	xor	v0,v1
48c5474c:	5a01      	sltiu	v0,1
48c5474e:	6008      	bteqz	48c54760 <compare_curtime+0xa4>
48c54750:	6a01      	li	v0,1
    {
        same_time_flag = 1;
48c54752:	f020 c150 	sb	v0,48(s1)
48c54756:	f040 a14c 	lbu	v0,76(s1)
        num = num - 1;
48c5475a:	424f      	addiu	v0,v0,-1
48c5475c:	f040 c14c 	sb	v0,76(s1)
48c54760:	6a00      	li	v0,0
    }
    for (i = 0; i < num; i++)
48c54762:	d948      	sw	v0,32(s1)
48c54764:	f040 a14c 	lbu	v0,76(s1)
48c54768:	9968      	lw	v1,32(s1)
48c5476a:	eb43      	sltu	v1,v0
48c5476c:	6009      	bteqz	48c54780 <compare_curtime+0xc4>
48c5476e:	9948      	lw	v0,32(s1)
    {
        ser_n[i] = i;
48c54770:	3248      	sll	v0,2
48c54772:	e22d      	addu	v1,v0,s1
48c54774:	9948      	lw	v0,32(s1)
48c54776:	db44      	sw	v0,16(v1)
48c54778:	9948      	lw	v0,32(s1)
48c5477a:	4241      	addiu	v0,v0,1
48c5477c:	d948      	sw	v0,32(s1)
48c5477e:	17f2      	b	48c54764 <compare_curtime+0xa8>
48c54780:	6a00      	li	v0,0
    }
    for (j = 0; j < (num - 1); j++)
48c54782:	d949      	sw	v0,36(s1)
48c54784:	f040 a14c 	lbu	v0,76(s1)
48c54788:	426f      	addiu	v1,v0,-1
48c5478a:	9949      	lw	v0,36(s1)
48c5478c:	ea63      	sltu	v0,v1
48c5478e:	6040      	bteqz	48c54810 <compare_curtime+0x154>
48c54790:	6a00      	li	v0,0
    {
        for (i = 0; i < (num - 1 - j); i++)
48c54792:	d948      	sw	v0,32(s1)
48c54794:	f040 a16c 	lbu	v1,76(s1)
48c54798:	9949      	lw	v0,36(s1)
48c5479a:	e34b      	subu	v0,v1,v0
48c5479c:	426f      	addiu	v1,v0,-1
48c5479e:	9948      	lw	v0,32(s1)
48c547a0:	ea63      	sltu	v0,v1
48c547a2:	6032      	bteqz	48c54808 <compare_curtime+0x14c>
48c547a4:	9948      	lw	v0,32(s1)
        {
            if (time_n[i] > time_n[i + 1])
48c547a6:	3248      	sll	v0,2
48c547a8:	e22d      	addu	v1,v0,s1
48c547aa:	9948      	lw	v0,32(s1)
48c547ac:	3248      	sll	v0,2
48c547ae:	e229      	addu	v0,s1
48c547b0:	9b60      	lw	v1,0(v1)
48c547b2:	9a41      	lw	v0,4(v0)
48c547b4:	ea63      	sltu	v0,v1
48c547b6:	6024      	bteqz	48c54800 <compare_curtime+0x144>
48c547b8:	9948      	lw	v0,32(s1)
            {
                temp_min = time_n[i];
48c547ba:	3248      	sll	v0,2
48c547bc:	e229      	addu	v0,s1
48c547be:	9a40      	lw	v0,0(v0)
48c547c0:	d94a      	sw	v0,40(s1)
48c547c2:	9948      	lw	v0,32(s1)
                time_n[i] = time_n[i + 1];
48c547c4:	3248      	sll	v0,2
48c547c6:	e22d      	addu	v1,v0,s1
48c547c8:	9948      	lw	v0,32(s1)
48c547ca:	3248      	sll	v0,2
48c547cc:	e229      	addu	v0,s1
48c547ce:	9a41      	lw	v0,4(v0)
48c547d0:	db40      	sw	v0,0(v1)
48c547d2:	9948      	lw	v0,32(s1)
                time_n[i + 1] = temp_min;
48c547d4:	3248      	sll	v0,2
48c547d6:	e22d      	addu	v1,v0,s1
48c547d8:	994a      	lw	v0,40(s1)
48c547da:	db41      	sw	v0,4(v1)
48c547dc:	9948      	lw	v0,32(s1)
                temp_i = ser_n[i];
48c547de:	3248      	sll	v0,2
48c547e0:	e229      	addu	v0,s1
48c547e2:	9a44      	lw	v0,16(v0)
48c547e4:	d94b      	sw	v0,44(s1)
48c547e6:	9948      	lw	v0,32(s1)
                ser_n[i] = ser_n[i + 1];
48c547e8:	3248      	sll	v0,2
48c547ea:	e22d      	addu	v1,v0,s1
48c547ec:	9948      	lw	v0,32(s1)
48c547ee:	3248      	sll	v0,2
48c547f0:	e229      	addu	v0,s1
48c547f2:	9a45      	lw	v0,20(v0)
48c547f4:	db44      	sw	v0,16(v1)
48c547f6:	9948      	lw	v0,32(s1)
                ser_n[i + 1] = temp_i;
48c547f8:	3248      	sll	v0,2
48c547fa:	e22d      	addu	v1,v0,s1
48c547fc:	994b      	lw	v0,44(s1)
48c547fe:	db45      	sw	v0,20(v1)
48c54800:	9948      	lw	v0,32(s1)
48c54802:	4241      	addiu	v0,v0,1
48c54804:	d948      	sw	v0,32(s1)
48c54806:	17c6      	b	48c54794 <compare_curtime+0xd8>
48c54808:	9949      	lw	v0,36(s1)
48c5480a:	4241      	addiu	v0,v0,1
48c5480c:	d949      	sw	v0,36(s1)
48c5480e:	17ba      	b	48c54784 <compare_curtime+0xc8>
48c54810:	6a00      	li	v0,0
            }
        }
    }
    for (i = 0; i < num; i++)
48c54812:	d948      	sw	v0,32(s1)
48c54814:	f040 a14c 	lbu	v0,76(s1)
48c54818:	9968      	lw	v1,32(s1)
48c5481a:	eb43      	sltu	v1,v0
48c5481c:	6024      	bteqz	48c54866 <compare_curtime+0x1aa>
48c5481e:	9948      	lw	v0,32(s1)
    {
        if (ser_n[i] == 0)
48c54820:	3248      	sll	v0,2
48c54822:	e229      	addu	v0,s1
48c54824:	9a44      	lw	v0,16(v0)
48c54826:	2a1b      	bnez	v0,48c5485e <compare_curtime+0x1a2>
48c54828:	f040 a14c 	lbu	v0,76(s1)
        {
            if (i == (num - 1))
48c5482c:	426f      	addiu	v1,v0,-1
48c5482e:	9948      	lw	v0,32(s1)
48c54830:	ea6e      	xor	v0,v1
48c54832:	5a01      	sltiu	v0,1
48c54834:	6004      	bteqz	48c5483e <compare_curtime+0x182>
48c54836:	9944      	lw	v0,16(s1)
            {
                return ser_n[0];
48c54838:	ea11      	zeb	v0
48c5483a:	d94d      	sw	v0,52(s1)
48c5483c:	1016      	b	48c5486a <compare_curtime+0x1ae>
48c5483e:	f020 a150 	lbu	v0,48(s1)
            }
            else
            {
                if (same_time_flag == 1)
48c54842:	7201      	cmpi	v0,1
48c54844:	6758      	move	v0,t8
48c54846:	5a01      	sltiu	v0,1
48c54848:	6003      	bteqz	48c54850 <compare_curtime+0x194>
48c5484a:	6a04      	li	v0,4
                {
                    return 4;
48c5484c:	d94d      	sw	v0,52(s1)
48c5484e:	100d      	b	48c5486a <compare_curtime+0x1ae>
48c54850:	9948      	lw	v0,32(s1)
                }
                else
                {
                    return ser_n[i + 1];
48c54852:	3248      	sll	v0,2
48c54854:	e229      	addu	v0,s1
48c54856:	9a45      	lw	v0,20(v0)
48c54858:	ea11      	zeb	v0
48c5485a:	d94d      	sw	v0,52(s1)
48c5485c:	1006      	b	48c5486a <compare_curtime+0x1ae>
48c5485e:	9948      	lw	v0,32(s1)
48c54860:	4241      	addiu	v0,v0,1
48c54862:	d948      	sw	v0,32(s1)
48c54864:	17d7      	b	48c54814 <compare_curtime+0x158>
48c54866:	6a00      	li	v0,0
                }
            }

        }
    }
    return 0;
48c54868:	d94d      	sw	v0,52(s1)
48c5486a:	994d      	lw	v0,52(s1)
}
48c5486c:	65b9      	move	sp,s1
48c5486e:	6418      	restore	64,s1
48c54870:	e8a0      	jrc	ra
48c54872:	6500      	nop
	...
Disassembly of section BANK_UI_1_50:

48c94600 <fm_set_mute>:
48c94600:	64d6      	save	48,ra,s1
 * \note
 */
/*******************************************************************************/
bool fm_set_mute(uint8 mode)
{
48c94602:	0104      	addiu	s1,sp,16
48c94604:	6744      	move	v0,a0
48c94606:	f020 c140 	sb	v0,32(s1)
48c9460a:	6a01      	li	v0,1
    bool bret = TRUE;
48c9460c:	c140      	sb	v0,0(s1)
48c9460e:	f020 a140 	lbu	v0,32(s1)
    msg_apps_t msg;
    msg_reply_t msg_reply;

    msg.content.data[0] = mode;
48c94612:	c14c      	sb	v0,12(s1)
48c94614:	b210      	lw	v0,48c94654 <fm_set_mute+0x54>
    msg.content.data[1] = sys_comval->volume_current;
48c94616:	9a40      	lw	v0,0(v0)
48c94618:	a250      	lbu	v0,16(v0)
48c9461a:	c14d      	sb	v0,13(s1)
48c9461c:	f400 6a07 	li	v0,1031

    msg.type = MSG_FMENGINE_SETMUTE;
48c94620:	d942      	sw	v0,8(s1)
48c94622:	4147      	addiu	v0,s1,7
    //发送同步消息
    bret = send_sync_msg(APP_ID_FMENGINE, &msg, &msg_reply, 0);
48c94624:	4241      	addiu	v0,v0,1
48c94626:	4167      	addiu	v1,s1,7
48c94628:	4b09      	addiu	v1,9
48c9462a:	6c0e      	li	a0,14
48c9462c:	67a2      	move	a1,v0
48c9462e:	67c3      	move	a2,v1
48c94630:	6f00      	li	a3,0
48c94632:	b20a      	lw	v0,48c94658 <fm_set_mute+0x58>
48c94634:	eac0      	jalrc	v0
48c94636:	c140      	sb	v0,0(s1)
48c94638:	a150      	lbu	v0,16(s1)
    if (msg_reply.type == MSG_REPLY_FAILED)
48c9463a:	7202      	cmpi	v0,2
48c9463c:	6758      	move	v0,t8
48c9463e:	5a01      	sltiu	v0,1
48c94640:	6002      	bteqz	48c94646 <fm_set_mute+0x46>
48c94642:	6a00      	li	v0,0
    {
        bret = FALSE;
48c94644:	c140      	sb	v0,0(s1)
48c94646:	a140      	lbu	v0,0(s1)
    }
    return bret;
48c94648:	651a      	move	t8,v0
48c9464a:	6758      	move	v0,t8
}
48c9464c:	65b9      	move	sp,s1
48c9464e:	6454      	restore	32,ra,s1
48c94650:	e8a0      	jrc	ra
48c94652:	0000      	addiu	s0,sp,0
48c94654:	5a48      	sltiu	v0,72
48c94656:	9fc1      	lw	a2,4(a3)
48c94658:	4679      	daddiu	v1,a2,-7
48c9465a:	4849      	addiu	s0,73

48c9465c <deal_antenna_detect>:
48c9465c:	64d3      	save	24,ra,s1

/******************************************************************************/
/*!                    
 * \par  Description:
 *    耳机（天线）状态更改处理
 * \param[in]    in_out TRUE 表示检测到插入，FALSE 表示检测到拔出
 * \param[out]   none
 * \return       none
 * \note 
*******************************************************************************/
void deal_antenna_detect(bool in_out)
{
48c9465e:	0104      	addiu	s1,sp,16
48c94660:	6744      	move	v0,a0
48c94662:	c148      	sb	v0,8(s1)
48c94664:	b319      	lw	v1,48c946c8 <deal_antenna_detect+0x6c>
    //更改耳机（天线）状态
    g_app_info_state.antenna_state = in_out;
48c94666:	a148      	lbu	v0,8(s1)
48c94668:	c34e      	sb	v0,14(v1)
48c9466a:	1a51 51b6 	jal	48c946d8 <get_engine_type>
    
    if(get_engine_type() == ENGINE_RADIO)
48c9466e:	6500      	nop
48c94670:	7202      	cmpi	v0,2
48c94672:	6758      	move	v0,t8
48c94674:	5a01      	sltiu	v0,1
48c94676:	6025      	bteqz	48c946c2 <deal_antenna_detect+0x66>
48c94678:	b215      	lw	v0,48c946cc <deal_antenna_detect+0x70>
    {
        if(g_this_app_info->app_id == APP_ID_RECORD)//FM 录音中，直接操作 PA 音量
48c9467a:	9a40      	lw	v0,0(v0)
48c9467c:	a241      	lbu	v0,1(v0)
48c9467e:	7202      	cmpi	v0,2
48c94680:	6758      	move	v0,t8
48c94682:	5a01      	sltiu	v0,1
48c94684:	6013      	bteqz	48c946ac <deal_antenna_detect+0x50>
48c94686:	a148      	lbu	v0,8(s1)
        {
            if(in_out == FALSE)
48c94688:	2a07      	bnez	v0,48c94698 <deal_antenna_detect+0x3c>
48c9468a:	6c00      	li	a0,0
            {
                //静音
                set_pa_volume(0, 0);//需要进一步调试
48c9468c:	6d00      	li	a1,0
48c9468e:	6e00      	li	a2,0
48c94690:	6f02      	li	a3,2
48c94692:	b210      	lw	v0,48c946d0 <deal_antenna_detect+0x74>
48c94694:	eac0      	jalrc	v0
48c94696:	1015      	b	48c946c2 <deal_antenna_detect+0x66>
48c94698:	b20f      	lw	v0,48c946d4 <deal_antenna_detect+0x78>
            }
            else
            {
                //解除静音，设置为当前音量
                set_pa_volume(sys_comval->volume_current, 0);//需要进一步调试
48c9469a:	9a40      	lw	v0,0(v0)
48c9469c:	a250      	lbu	v0,16(v0)
48c9469e:	6782      	move	a0,v0
48c946a0:	6d00      	li	a1,0
48c946a2:	6e00      	li	a2,0
48c946a4:	6f02      	li	a3,2
48c946a6:	b20b      	lw	v0,48c946d0 <deal_antenna_detect+0x74>
48c946a8:	eac0      	jalrc	v0
48c946aa:	100b      	b	48c946c2 <deal_antenna_detect+0x66>
48c946ac:	a148      	lbu	v0,8(s1)
            }
        }
        else
        {
            if(in_out == FALSE)
48c946ae:	2a05      	bnez	v0,48c946ba <deal_antenna_detect+0x5e>
48c946b0:	6c01      	li	a0,1
            {
                //耳机拔出, 静音
                fm_set_mute(1);  
48c946b2:	1a51 5180 	jal	48c94600 <fm_set_mute>
48c946b6:	6500      	nop
48c946b8:	1004      	b	48c946c2 <deal_antenna_detect+0x66>
48c946ba:	6c00      	li	a0,0
            }
            else
            {
                //耳机插入, 解除静音
                fm_set_mute(0);
48c946bc:	1a51 5180 	jal	48c94600 <fm_set_mute>
48c946c0:	6500      	nop
48c946c2:	65b9      	move	sp,s1
            }
        }
    }  
}
48c946c4:	6451      	restore	8,ra,s1
48c946c6:	e8a0      	jrc	ra
48c946c8:	a1b8      	lbu	a1,24(s1)
48c946ca:	9fc1      	lw	a2,4(a3)
48c946cc:	a1f0      	lbu	a3,16(s1)
48c946ce:	9fc1      	lw	a2,4(a3)
48c946d0:	6401      	restore	8
48c946d2:	bfc1      	lwu	a2,4(a3)
48c946d4:	5a48      	sltiu	v0,72
48c946d6:	9fc1      	lw	a2,4(a3)

48c946d8 <get_engine_type>:
48c946d8:	6491      	save	8,s1
48c946da:	673d      	move	s1,sp
48c946dc:	b204      	lw	v0,48c946ec <get_engine_type+0x14>
48c946de:	a240      	lbu	v0,0(v0)
48c946e0:	651a      	move	t8,v0
48c946e2:	6758      	move	v0,t8
48c946e4:	65b9      	move	sp,s1
48c946e6:	6411      	restore	8,s1
48c946e8:	e8a0      	jrc	ra
48c946ea:	0000      	addiu	s0,sp,0
48c946ec:	a1b8      	lbu	a1,24(s1)
48c946ee:	9fc1      	lw	a2,4(a3)
	...
Disassembly of section BANK_UI_1_51:

48cd4600 <com_inner_load_mdrc_param>:
48cd4600:	64f7      	save	56,ra,s0-s1
*/

//加载mdrc参数
void com_inner_load_mdrc_param(dae_config_t *p_dae_cfg, bool aux_flag)
{
48cd4602:	0104      	addiu	s1,sp,16
48cd4604:	d98a      	sw	a0,40(s1)
48cd4606:	6745      	move	v0,a1
48cd4608:	f020 c14c 	sb	v0,44(s1)
48cd460c:	994a      	lw	v0,40(s1)
    uint16 config_id;
    uint8 i;

    if (p_dae_cfg->mdrc_enable == 0)
48cd460e:	a24c      	lbu	v0,12(v0)
48cd4610:	2a01      	bnez	v0,48cd4614 <com_inner_load_mdrc_param+0x14>
48cd4612:	1090      	b	48cd4734 <.LBE2+0x8>
    {
        return ;
48cd4614:	f020 a14c 	lbu	v0,44(s1)
    }

    if (aux_flag == TRUE)
48cd4618:	7201      	cmpi	v0,1
48cd461a:	6758      	move	v0,t8
48cd461c:	5a01      	sltiu	v0,1
48cd461e:	6009      	bteqz	48cd4632 <com_inner_load_mdrc_param+0x32>
48cd4620:	6a9f      	li	v0,159
    {
        config_id = DAE_MDRC_AUX_BANK0_SETTING;
48cd4622:	c940      	sh	v0,0(s1)
48cd4624:	990a      	lw	s0,40(s1)
        p_dae_cfg->limiter_threshold_diff = (int16) com_get_config_default(DAE_MDRC_AUX_LIMITER_TH_DIFF);
48cd4626:	6ca2      	li	a0,162
48cd4628:	b245      	lw	v0,48cd473c <.LBE2+0x10>
48cd462a:	eac0      	jalrc	v0
48cd462c:	f0e0 c842 	sh	v0,226(s0)
48cd4630:	1008      	b	48cd4642 <com_inner_load_mdrc_param+0x42>
48cd4632:	6a99      	li	v0,153
    }
    else
    {
        config_id = DAE_MDRC_BANK0_SETTING;
48cd4634:	c940      	sh	v0,0(s1)
48cd4636:	990a      	lw	s0,40(s1)
        p_dae_cfg->limiter_threshold_diff = (int16) com_get_config_default(DAE_MDRC_LIMITER_TH_DIFF);
48cd4638:	6c9c      	li	a0,156
48cd463a:	b241      	lw	v0,48cd473c <.LBE2+0x10>
48cd463c:	eac0      	jalrc	v0
48cd463e:	f0e0 c842 	sh	v0,226(s0)
48cd4642:	994a      	lw	v0,40(s1)
    }

    p_dae_cfg->limiter_enable = TRUE;
48cd4644:	6b01      	li	v1,1
48cd4646:	c26d      	sb	v1,13(v0)
48cd4648:	6a00      	li	v0,0
    
    for (i = 0; i < MAX_MDRC_SEG; i++)
48cd464a:	c142      	sb	v0,2(s1)
48cd464c:	a142      	lbu	v0,2(s1)
48cd464e:	5a03      	sltiu	v0,3
48cd4650:	6071      	bteqz	48cd4734 <.LBE2+0x8>

48cd4652 <.LBB2>:
48cd4652:	a162      	lbu	v1,2(s1)
    {
        mdrc_config_t tmp_mdrc_config;

        com_get_config_struct((uint16) (config_id + i), (uint8 *) &tmp_mdrc_config, \
48cd4654:	a940      	lhu	v0,0(s1)
48cd4656:	e349      	addu	v0,v1,v0
48cd4658:	ea31      	zeh	v0
48cd465a:	4167      	addiu	v1,s1,7
48cd465c:	4361      	addiu	v1,v1,1
48cd465e:	6782      	move	a0,v0
48cd4660:	67a3      	move	a1,v1
48cd4662:	6e0c      	li	a2,12
48cd4664:	b237      	lw	v0,48cd4740 <.LBE2+0x14>
48cd4666:	eac0      	jalrc	v0
48cd4668:	996a      	lw	v1,40(s1)
                sizeof(tmp_mdrc_config));

        p_dae_cfg->mdrc_bands[i].threshold = tmp_mdrc_config.mdrc_data.threshold;
48cd466a:	a142      	lbu	v0,2(s1)
48cd466c:	324c      	sll	v0,3
48cd466e:	e26d      	addu	v1,v0,v1
48cd4670:	a946      	lhu	v0,12(s1)
48cd4672:	f0a0 cb42 	sh	v0,162(v1)
48cd4676:	996a      	lw	v1,40(s1)
        p_dae_cfg->mdrc_bands[i].attack_time = tmp_mdrc_config.mdrc_data.attack_time;
48cd4678:	a142      	lbu	v0,2(s1)
48cd467a:	324c      	sll	v0,3
48cd467c:	e26d      	addu	v1,v0,v1
48cd467e:	a947      	lhu	v0,14(s1)
48cd4680:	f0a0 cb44 	sh	v0,164(v1)
48cd4684:	996a      	lw	v1,40(s1)
        p_dae_cfg->mdrc_bands[i].release_time = tmp_mdrc_config.mdrc_data.release_time;
48cd4686:	a142      	lbu	v0,2(s1)
48cd4688:	324c      	sll	v0,3
48cd468a:	e26d      	addu	v1,v0,v1
48cd468c:	a948      	lhu	v0,16(s1)
48cd468e:	f0a0 cb46 	sh	v0,166(v1)
48cd4692:	996a      	lw	v1,40(s1)
        p_dae_cfg->mdrc_bands[i].reserve = 0;
48cd4694:	a142      	lbu	v0,2(s1)
48cd4696:	324c      	sll	v0,3
48cd4698:	e26d      	addu	v1,v0,v1
48cd469a:	6a00      	li	v0,0
48cd469c:	f0a0 cb48 	sh	v0,168(v1)
48cd46a0:	994a      	lw	v0,40(s1)

        if ((p_dae_cfg->limiter_enable == 1)
48cd46a2:	a24d      	lbu	v0,13(v0)
48cd46a4:	7201      	cmpi	v0,1
48cd46a6:	6758      	move	v0,t8
48cd46a8:	5a01      	sltiu	v0,1
48cd46aa:	6016      	bteqz	48cd46d8 <.LBB2+0x86>
48cd46ac:	996a      	lw	v1,40(s1)
48cd46ae:	a142      	lbu	v0,2(s1)
48cd46b0:	324c      	sll	v0,3
48cd46b2:	e269      	addu	v0,v1
48cd46b4:	f0a0 8a62 	lh	v1,162(v0)
48cd46b8:	994a      	lw	v0,40(s1)
48cd46ba:	f0e0 8a42 	lh	v0,226(v0)
48cd46be:	ea4b      	neg	v0
48cd46c0:	ea62      	slt	v0,v1
48cd46c2:	600a      	bteqz	48cd46d8 <.LBB2+0x86>
48cd46c4:	996a      	lw	v1,40(s1)
                && (p_dae_cfg->mdrc_bands[i].threshold > (0 - p_dae_cfg->limiter_threshold_diff)))
        {
            p_dae_cfg->mdrc_bands[i].threshold = (0 - p_dae_cfg->limiter_threshold_diff);
48cd46c6:	a142      	lbu	v0,2(s1)
48cd46c8:	324c      	sll	v0,3
48cd46ca:	e26d      	addu	v1,v0,v1
48cd46cc:	994a      	lw	v0,40(s1)
48cd46ce:	f0e0 aa42 	lhu	v0,226(v0)
48cd46d2:	ea4b      	neg	v0
48cd46d4:	f0a0 cb42 	sh	v0,162(v1)
48cd46d8:	996a      	lw	v1,40(s1)
        }

        p_dae_cfg->mdrc_threshold_base[i] = p_dae_cfg->mdrc_bands[i].threshold;
48cd46da:	a142      	lbu	v0,2(s1)
48cd46dc:	3244      	sll	v0,1
48cd46de:	e271      	addu	a0,v0,v1
48cd46e0:	996a      	lw	v1,40(s1)
48cd46e2:	a142      	lbu	v0,2(s1)
48cd46e4:	324c      	sll	v0,3
48cd46e6:	e269      	addu	v0,v1
48cd46e8:	f0a0 aa42 	lhu	v0,162(v0)
48cd46ec:	f0e0 cc44 	sh	v0,228(a0)
48cd46f0:	996a      	lw	v1,40(s1)
        if (p_dae_cfg->mdrc_threshold_base[i] > p_dae_cfg->mdrc_threshold_base_max)
48cd46f2:	a142      	lbu	v0,2(s1)
48cd46f4:	3244      	sll	v0,1
48cd46f6:	e269      	addu	v0,v1
48cd46f8:	996a      	lw	v1,40(s1)
48cd46fa:	f0e0 8a84 	lh	a0,228(v0)
48cd46fe:	f0e0 8b4a 	lh	v0,234(v1)
48cd4702:	ea82      	slt	v0,a0
48cd4704:	6009      	bteqz	48cd4718 <.LBB2+0xc6>
48cd4706:	998a      	lw	a0,40(s1)
        {
            p_dae_cfg->mdrc_threshold_base_max = p_dae_cfg->mdrc_threshold_base[i];
48cd4708:	996a      	lw	v1,40(s1)
48cd470a:	a142      	lbu	v0,2(s1)
48cd470c:	3244      	sll	v0,1
48cd470e:	e269      	addu	v0,v1
48cd4710:	f0e0 aa44 	lhu	v0,228(v0)
48cd4714:	f0e0 cc4a 	sh	v0,234(a0)
48cd4718:	a142      	lbu	v0,2(s1)
        }

        if (i < (MAX_MDRC_SEG-1))
48cd471a:	5a02      	sltiu	v0,2
48cd471c:	6007      	bteqz	48cd472c <.LBE2>
48cd471e:	996a      	lw	v1,40(s1)
        {
            p_dae_cfg->mdrc_crossover_freq[i] = tmp_mdrc_config.mdrc_data.crossover_freq;
48cd4720:	a142      	lbu	v0,2(s1)
48cd4722:	3244      	sll	v0,1
48cd4724:	e26d      	addu	v1,v0,v1
48cd4726:	a949      	lhu	v0,18(s1)
48cd4728:	f080 cb5e 	sh	v0,158(v1)

48cd472c <.LBE2>:
48cd472c:	a142      	lbu	v0,2(s1)
48cd472e:	4241      	addiu	v0,v0,1
48cd4730:	c142      	sb	v0,2(s1)
48cd4732:	178c      	b	48cd464c <com_inner_load_mdrc_param+0x4c>
48cd4734:	65b9      	move	sp,s1
        }
    }

}
48cd4736:	6475      	restore	40,ra,s0-s1
48cd4738:	e8a0      	jrc	ra
48cd473a:	0000      	addiu	s0,sp,0
48cd473c:	46bd      	daddiu	a1,a2,-3
48cd473e:	4851      	addiu	s0,81
48cd4740:	464d      	addiu	v0,a2,-3
48cd4742:	4851      	addiu	s0,81

48cd4744 <com_load_mdrc_config>:
48cd4744:	64f5      	save	40,ra,s0-s1

//根据MDRC开关，AUX通道属性，可变信号通道属性等选择DAE配置参数
bool com_load_mdrc_config(dae_config_t *p_dae_cfg, bool load_bin)
{
48cd4746:	0104      	addiu	s1,sp,16
48cd4748:	d986      	sw	a0,24(s1)
48cd474a:	6745      	move	v0,a1
48cd474c:	c15c      	sb	v0,28(s1)
48cd474e:	9946      	lw	v0,24(s1)

    if (p_dae_cfg->enable == 0)
48cd4750:	a242      	lbu	v0,2(v0)
48cd4752:	2a03      	bnez	v0,48cd475a <com_load_mdrc_config+0x16>
48cd4754:	6a01      	li	v0,1
    {
        return TRUE;
48cd4756:	d940      	sw	v0,0(s1)
48cd4758:	103b      	b	48cd47d0 <com_load_mdrc_config+0x8c>
48cd475a:	9946      	lw	v0,24(s1)
    }

    if (p_dae_cfg->bypass == TRUE)
48cd475c:	a243      	lbu	v0,3(v0)
48cd475e:	7201      	cmpi	v0,1
48cd4760:	6758      	move	v0,t8
48cd4762:	5a01      	sltiu	v0,1
48cd4764:	6009      	bteqz	48cd4778 <com_load_mdrc_config+0x34>
48cd4766:	9966      	lw	v1,24(s1)
    {
        p_dae_cfg->equivalent_gain = 0;
48cd4768:	6a00      	li	v0,0
48cd476a:	c345      	sb	v0,5(v1)
48cd476c:	9966      	lw	v1,24(s1)
        p_dae_cfg->precut_ratio = 0;
48cd476e:	6a00      	li	v0,0
48cd4770:	c344      	sb	v0,4(v1)
48cd4772:	6a01      	li	v0,1
        return TRUE;
48cd4774:	d940      	sw	v0,0(s1)
48cd4776:	102c      	b	48cd47d0 <com_load_mdrc_config+0x8c>
48cd4778:	a15c      	lbu	v0,28(s1)
    }

    if (load_bin == TRUE)
48cd477a:	7201      	cmpi	v0,1
48cd477c:	6758      	move	v0,t8
48cd477e:	5a01      	sltiu	v0,1
48cd4780:	6017      	bteqz	48cd47b0 <com_load_mdrc_config+0x6c>
48cd4782:	9946      	lw	v0,24(s1)
    {
        if (p_dae_cfg->mdrc_enable == 1)
48cd4784:	a24c      	lbu	v0,12(v0)
48cd4786:	7201      	cmpi	v0,1
48cd4788:	6758      	move	v0,t8
48cd478a:	5a01      	sltiu	v0,1
48cd478c:	6009      	bteqz	48cd47a0 <com_load_mdrc_config+0x5c>
48cd478e:	9906      	lw	s0,24(s1)
        {
            p_dae_cfg->equivalent_gain = (uint8) com_get_config_default(DAE_EQUIVALENT_GAIN);
48cd4790:	6c84      	li	a0,132
48cd4792:	b212      	lw	v0,48cd47d8 <com_load_mdrc_config+0x94>
48cd4794:	eac0      	jalrc	v0
48cd4796:	c045      	sb	v0,5(s0)
48cd4798:	9966      	lw	v1,24(s1)
            p_dae_cfg->precut_ratio = 0;
48cd479a:	6a00      	li	v0,0
48cd479c:	c344      	sb	v0,4(v1)
48cd479e:	1008      	b	48cd47b0 <com_load_mdrc_config+0x6c>
48cd47a0:	9966      	lw	v1,24(s1)
        }
        else
        {
            p_dae_cfg->equivalent_gain = 0;
48cd47a2:	6a00      	li	v0,0
48cd47a4:	c345      	sb	v0,5(v1)
48cd47a6:	9906      	lw	s0,24(s1)
            p_dae_cfg->precut_ratio = (uint8) com_get_config_default(DAE_PRECUT_RATIO);
48cd47a8:	6c83      	li	a0,131
48cd47aa:	b20c      	lw	v0,48cd47d8 <com_load_mdrc_config+0x94>
48cd47ac:	eac0      	jalrc	v0
48cd47ae:	c044      	sb	v0,4(s0)
48cd47b0:	9966      	lw	v1,24(s1)
        }
    }
    p_dae_cfg->makeup_gain = 0;
48cd47b2:	6a00      	li	v0,0
48cd47b4:	c346      	sb	v0,6(v1)
48cd47b6:	a15c      	lbu	v0,28(s1)

    if (load_bin == TRUE)
48cd47b8:	7201      	cmpi	v0,1
48cd47ba:	6758      	move	v0,t8
48cd47bc:	5a01      	sltiu	v0,1
48cd47be:	6006      	bteqz	48cd47cc <com_load_mdrc_config+0x88>
48cd47c0:	9946      	lw	v0,24(s1)
    {
        com_inner_load_mdrc_param(p_dae_cfg, FALSE);
48cd47c2:	6782      	move	a0,v0
48cd47c4:	6d00      	li	a1,0
48cd47c6:	1a71 5180 	jal	48cd4600 <com_inner_load_mdrc_param>
48cd47ca:	6500      	nop
48cd47cc:	6a01      	li	v0,1
    }
    return TRUE;
48cd47ce:	d940      	sw	v0,0(s1)
48cd47d0:	9940      	lw	v0,0(s1)
}
48cd47d2:	65b9      	move	sp,s1
48cd47d4:	6473      	restore	24,ra,s0-s1
48cd47d6:	e8a0      	jrc	ra
48cd47d8:	46bd      	daddiu	a1,a2,-3
48cd47da:	4851      	addiu	s0,81

48cd47dc <com_reset_dae_config>:
48cd47dc:	64d3      	save	24,ra,s1

//每次开机都重新某些DAE配置项及参数
void com_reset_dae_config(comval_t *setting_comval , dae_config_t * p_dae_cfg)
{   
48cd47de:	0104      	addiu	s1,sp,16
48cd47e0:	d982      	sw	a0,8(s1)
48cd47e2:	d9a3      	sw	a1,12(s1)
48cd47e4:	9942      	lw	v0,8(s1)
    if(setting_comval->eq_enable == 1)
48cd47e6:	a255      	lbu	v0,21(v0)
48cd47e8:	7201      	cmpi	v0,1
48cd47ea:	6758      	move	v0,t8
48cd47ec:	5a01      	sltiu	v0,1
48cd47ee:	6007      	bteqz	48cd47fe <com_reset_dae_config+0x22>
48cd47f0:	9963      	lw	v1,12(s1)
    {
        p_dae_cfg->enable = TRUE;
48cd47f2:	6a01      	li	v0,1
48cd47f4:	c342      	sb	v0,2(v1)
48cd47f6:	9963      	lw	v1,12(s1)
        p_dae_cfg->bypass = FALSE;
48cd47f8:	6a00      	li	v0,0
48cd47fa:	c343      	sb	v0,3(v1)
48cd47fc:	1006      	b	48cd480a <com_reset_dae_config+0x2e>
48cd47fe:	9963      	lw	v1,12(s1)
    }
    else
    {
        p_dae_cfg->enable = FALSE;
48cd4800:	6a00      	li	v0,0
48cd4802:	c342      	sb	v0,2(v1)
48cd4804:	9963      	lw	v1,12(s1)
        p_dae_cfg->bypass = TRUE;        
48cd4806:	6a01      	li	v0,1
48cd4808:	c343      	sb	v0,3(v1)
48cd480a:	9943      	lw	v0,12(s1)
    }

    com_load_mdrc_config(p_dae_cfg, TRUE);
48cd480c:	6782      	move	a0,v0
48cd480e:	6d01      	li	a1,1
48cd4810:	1a71 51d1 	jal	48cd4744 <com_load_mdrc_config>
48cd4814:	6500      	nop
48cd4816:	9943      	lw	v0,12(s1)

    com_init_dae_config(p_dae_cfg);
48cd4818:	6782      	move	a0,v0
48cd481a:	b203      	lw	v0,48cd4824 <com_reset_dae_config+0x48>
48cd481c:	eac0      	jalrc	v0
48cd481e:	65b9      	move	sp,s1
    
}
48cd4820:	6451      	restore	8,ra,s1
48cd4822:	e8a0      	jrc	ra
48cd4824:	4829      	addiu	s0,41
48cd4826:	48cd      	addiu	s0,-51

48cd4828 <com_init_dae_config>:
48cd4828:	64d4      	save	32,ra,s1

//该接口仅仅在CONFIG开机时调用一次
//注：这里初始化后DAE配置参数还是不完全的，还需要设置物理音量之后才会完整有效
void com_init_dae_config(dae_config_t * p_dae_param)
{
48cd482a:	0104      	addiu	s1,sp,16
48cd482c:	d984      	sw	a0,16(s1)
48cd482e:	6cf0      	li	a0,240
    dae_config_t *p_dae_cfg;

    p_dae_cfg = sys_malloc(sizeof(dae_config_t));
48cd4830:	6d00      	li	a1,0
48cd4832:	6e00      	li	a2,0
48cd4834:	6f16      	li	a3,22
48cd4836:	b210      	lw	v0,48cd4874 <com_init_dae_config+0x4c>
48cd4838:	eac0      	jalrc	v0
48cd483a:	d940      	sw	v0,0(s1)
48cd483c:	9940      	lw	v0,0(s1)
    if (p_dae_cfg == NULL)
48cd483e:	2a01      	bnez	v0,48cd4842 <com_init_dae_config+0x1a>
48cd4840:	17ff      	b	48cd4840 <com_init_dae_config+0x18>
    {
        PRINT_ERR("dae_cfg malloc fail!!");
        while (1)
48cd4842:	9940      	lw	v0,0(s1)
        {
            ; //nothing for QAC
        }
    }

    libc_memcpy(p_dae_cfg, p_dae_param, sizeof(dae_config_t));
48cd4844:	9964      	lw	v1,16(s1)
48cd4846:	6782      	move	a0,v0
48cd4848:	67a3      	move	a1,v1
48cd484a:	6ef0      	li	a2,240
48cd484c:	6f00      	li	a3,0
48cd484e:	b20b      	lw	v0,48cd4878 <com_init_dae_config+0x50>
48cd4850:	eac0      	jalrc	v0
48cd4852:	9940      	lw	v0,0(s1)

    if (sys_shm_creat(SHARE_MEM_ID_DAECFG, p_dae_cfg, sizeof(dae_config_t)) == -1)
48cd4854:	6c03      	li	a0,3
48cd4856:	67a2      	move	a1,v0
48cd4858:	6ef0      	li	a2,240
48cd485a:	6f47      	li	a3,71
48cd485c:	b206      	lw	v0,48cd4874 <com_init_dae_config+0x4c>
48cd485e:	eac0      	jalrc	v0
48cd4860:	6762      	move	v1,v0
48cd4862:	6a01      	li	v0,1
48cd4864:	ea4b      	neg	v0
48cd4866:	ea6e      	xor	v0,v1
48cd4868:	5a01      	sltiu	v0,1
48cd486a:	6001      	bteqz	48cd486e <com_init_dae_config+0x46>
48cd486c:	17ff      	b	48cd486c <com_init_dae_config+0x44>
    {
        PRINT_ERR("dae_cfg shm create fail!!");
        while (1)
48cd486e:	65b9      	move	sp,s1
        {
            ; //nothing for QAC
        }
    }

//    setting_comval->dae_inited_flag = TRUE;
}
48cd4870:	6452      	restore	16,ra,s1
48cd4872:	e8a0      	jrc	ra
48cd4874:	640d      	restore	104
48cd4876:	bfc1      	lwu	a2,4(a3)
48cd4878:	6409      	restore	72
48cd487a:	bfc1      	lwu	a2,4(a3)
	...
Disassembly of section BANK_UI_1_52:

48d14600 <keytone_init_set>:
48d14600:	64f4      	save	32,ra,s0-s1
 * \note
 */
/*******************************************************************************/
void keytone_init_set(void)
{
48d14602:	b10b      	lw	s1,48d1462c <keytone_init_set+0x2c>
    //CHAN 0 -- URAM0 = 2KB
    //CHAN 1 -- PCMRAM2 = 4KB
    enable_dac(DAFIS_ASRC, g_keytone_infor.dac_chan);
48d14604:	b00b      	lw	s0,48d14630 <keytone_init_set+0x30>
48d14606:	a1a1      	lbu	a1,1(s1)
48d14608:	6c02      	li	a0,2
48d1460a:	6e00      	li	a2,0
48d1460c:	e840      	jalr	s0
48d1460e:	6f04      	li	a3,4
48d14610:	6c13      	li	a0,19
//    config_asrc((g_keytone_infor.dac_chan == DAF0_EN)? K_OUT0_U0 : K_OUT1_P2, g_keytone_infor.dac_chan);
    config_asrc(K_OUT1_P2, 2);
48d14612:	6d02      	li	a1,2
48d14614:	6e00      	li	a2,0
48d14616:	e840      	jalr	s0
48d14618:	6f0f      	li	a3,15
48d1461a:	a182      	lbu	a0,2(s1)
    set_asrc_rate(g_keytone_infor.dac_sample, g_keytone_infor.dac_chan, 5000);
48d1461c:	a1a1      	lbu	a1,1(s1)
48d1461e:	f382 6e08 	li	a2,5000
48d14622:	e840      	jalr	s0
48d14624:	6f11      	li	a3,17
48d14626:	6474      	restore	32,ra,s0-s1
48d14628:	e8a0      	jrc	ra
48d1462a:	0000      	addiu	s0,sp,0
48d1462c:	a1dc      	lbu	a2,28(s1)
48d1462e:	9fc1      	lw	a2,4(a3)
48d14630:	6401      	restore	8
48d14632:	bfc1      	lwu	a2,4(a3)

48d14634 <keytone_send_to_asrc>:
48d14634:	f004 64b2 	save	a0,16,s0-s1
}

void keytone_send_to_asrc(kt_play_info_t *p_kt_play_info)
{
48d14638:	ac24      	lhu	s1,8(a0)
    uint32 data_count = p_kt_play_info->kt_frame_size;
48d1463a:	6a00      	li	v0,0
    //temp use
    long long shift_use;
    //position to buffer
    uint32 buf_ptr = 0;
48d1463c:	d200      	sw	v0,0(sp)
48d1463e:	2151      	beqz	s1,48d146e2 <keytone_send_to_asrc+0xae>
    int16 chanel_data;
    uint32 check_ret;

    while (data_count > 0)
    {
        if (g_keytone_infor.dac_chan == DAF0_EN)
        {
            check_ret = act_readl(ASRC_OUT0_NUM);
        }
        else
        {
            check_ret = act_readl(ASRC_OUT1_NUM);
        }

        if (check_ret != 0)
        {
            chanel_data = *(int16 *) &g_bitstream_buffer[buf_ptr];
            shift_use = (long long) chanel_data * p_kt_play_info->kt_compact;
#pragma __PRQA_IGNORE_START__
            shift_use >>= 10;
#pragma __PRQA_IGNORE_END__
            shift_use <<= 16;
            if (shift_use > 0x7fffffff)
            {
                shift_use = 0x7fffffff;
            }
            if (shift_use < -0x7fffffff)
            {
                shift_use = -0x7fffffff;
            }

            if (g_keytone_infor.dac_chan == DAF0_EN)
            {
                (*(volatile int32 *) ASRC_OUT0_WFIFO) = shift_use;
                (*(volatile int32 *) ASRC_OUT0_WFIFO) = shift_use;
            }
            else
            {
                (*(volatile int32 *) ASRC_OUT1_WFIFO) = shift_use;
                (*(volatile int32 *) ASRC_OUT1_WFIFO) = shift_use;
            }
              
            //position move
            buf_ptr += 2;
            //data count sub
            data_count -= 2;
        }
        else
        {
            p_kt_play_info->kt_fill_flag = TRUE;
48d14640:	b52a      	lw	a1,48d146e8 <keytone_send_to_asrc+0xb4>
48d14642:	a561      	lbu	v1,1(a1)
48d14644:	653b      	move	t9,v1
48d14646:	2b03      	bnez	v1,48d1464e <keytone_send_to_asrc+0x1a>
48d14648:	b629      	lw	a2,48d146ec <keytone_send_to_asrc+0xb8>
48d1464a:	9e40      	lw	v0,0(a2)
48d1464c:	1002      	b	48d14652 <keytone_send_to_asrc+0x1e>
48d1464e:	b029      	lw	s0,48d146f0 <keytone_send_to_asrc+0xbc>
48d14650:	9840      	lw	v0,0(s0)
48d14652:	2243      	beqz	v0,48d146da <keytone_send_to_asrc+0xa6>
48d14654:	9700      	lw	a3,0(sp)
48d14656:	b028      	lw	s0,48d146f4 <keytone_send_to_asrc+0xc0>
48d14658:	9604      	lw	a2,16(sp)
48d1465a:	e715      	addu	a1,a3,s0
48d1465c:	8d40      	lh	v0,0(a1)
48d1465e:	6b00      	li	v1,0
48d14660:	6782      	move	a0,v0
48d14662:	f7c0 3543 	sra	a1,v0,31
48d14666:	9e43      	lw	v0,12(a2)
48d14668:	ec59      	multu	a0,v0
48d1466a:	ef10      	mfhi	a3
48d1466c:	ee12      	mflo	a2
48d1466e:	ec78      	mult	a0,v1
48d14670:	e812      	mflo	s0
48d14672:	eab8      	mult	v0,a1
48d14674:	e0f1      	addu	a0,s0,a3
48d14676:	eb12      	mflo	v1
48d14678:	30c2      	srl	s0,a2,8
48d1467a:	e47d      	addu	a3,a0,v1
48d1467c:	f580 35e0 	sll	a1,a3,22
48d14680:	340a      	srl	a0,s0,2
48d14682:	6705      	move	s0,a1
48d14684:	e88d      	or	s0,a0
48d14686:	32e3      	sra	v0,a3,8
48d14688:	334b      	sra	v1,v0,2
48d1468a:	3602      	srl	a2,s0,8
48d1468c:	34c2      	srl	a0,a2,8
48d1468e:	3560      	sll	a1,v1,8
48d14690:	32a0      	sll	v0,a1,8
48d14692:	67a4      	move	a1,a0
48d14694:	ed4d      	or	a1,v0
48d14696:	3700      	sll	a3,s0,8
48d14698:	5501      	slti	a1,1
48d1469a:	34e0      	sll	a0,a3,8
48d1469c:	6004      	bteqz	48d146a6 <keytone_send_to_asrc+0x72>
48d1469e:	2d06      	bnez	a1,48d146ac <keytone_send_to_asrc+0x78>
48d146a0:	b316      	lw	v1,48d146f8 <keytone_send_to_asrc+0xc4>
48d146a2:	eb83      	sltu	v1,a0
48d146a4:	6003      	bteqz	48d146ac <keytone_send_to_asrc+0x78>
48d146a6:	b417      	lw	a0,48d14700 <keytone_send_to_asrc+0xcc>
48d146a8:	b517      	lw	a1,48d14704 <keytone_send_to_asrc+0xd0>
48d146aa:	1003      	b	48d146b2 <keytone_send_to_asrc+0x7e>
48d146ac:	f7ff 551f 	slti	a1,-1
48d146b0:	6105      	btnez	48d146bc <keytone_send_to_asrc+0x88>
48d146b2:	eeaf      	not	a2,a1
48d146b4:	2e04      	bnez	a2,48d146be <keytone_send_to_asrc+0x8a>
48d146b6:	b215      	lw	v0,48d14708 <keytone_send_to_asrc+0xd4>
48d146b8:	ec43      	sltu	a0,v0
48d146ba:	6001      	bteqz	48d146be <keytone_send_to_asrc+0x8a>
48d146bc:	b415      	lw	a0,48d14710 <keytone_send_to_asrc+0xdc>
48d146be:	6719      	move	s0,t9
48d146c0:	2804      	bnez	s0,48d146ca <keytone_send_to_asrc+0x96>
48d146c2:	b516      	lw	a1,48d14718 <keytone_send_to_asrc+0xe4>
48d146c4:	dd80      	sw	a0,0(a1)
48d146c6:	dd80      	sw	a0,0(a1)
48d146c8:	1003      	b	48d146d0 <keytone_send_to_asrc+0x9c>
48d146ca:	b715      	lw	a3,48d1471c <keytone_send_to_asrc+0xe8>
48d146cc:	df80      	sw	a0,0(a3)
48d146ce:	df80      	sw	a0,0(a3)
48d146d0:	9300      	lw	v1,0(sp)
48d146d2:	412e      	addiu	s1,s1,-2
48d146d4:	4382      	addiu	a0,v1,2
48d146d6:	d400      	sw	a0,0(sp)
48d146d8:	17b2      	b	48d1463e <keytone_send_to_asrc+0xa>
48d146da:	9604      	lw	a2,16(sp)
48d146dc:	6a01      	li	v0,1
48d146de:	c64a      	sb	v0,10(a2)
48d146e0:	17ae      	b	48d1463e <keytone_send_to_asrc+0xa>
48d146e2:	6432      	restore	16,s0-s1
48d146e4:	e8a0      	jrc	ra
48d146e6:	0000      	addiu	s0,sp,0
48d146e8:	a1dc      	lbu	a2,28(s1)
48d146ea:	9fc1      	lw	a2,4(a3)
48d146ec:	003c      	addiu	s0,sp,240
48d146ee:	c016      	sb	s0,22(s0)
48d146f0:	006c      	addiu	s0,sp,432
48d146f2:	c016      	sb	s0,22(s0)
48d146f4:	49dc      	addiu	s1,-36
48d146f6:	48d1      	addiu	s0,-47
48d146f8:	ffff      	daddiu	a3,sp,124
48d146fa:	7fff      	sd	a3,248(a3)
48d146fc:	0000      	addiu	s0,sp,0
48d146fe:	0000      	addiu	s0,sp,0
48d14700:	ffff      	daddiu	a3,sp,124
48d14702:	7fff      	sd	a3,248(a3)
48d14704:	0000      	addiu	s0,sp,0
48d14706:	0000      	addiu	s0,sp,0
48d14708:	0001      	addiu	s0,sp,4
48d1470a:	8000      	lb	s0,0(s0)
48d1470c:	0000      	addiu	s0,sp,0
48d1470e:	0000      	addiu	s0,sp,0
48d14710:	0001      	addiu	s0,sp,4
48d14712:	8000      	lb	s0,0(s0)
48d14714:	ffff      	daddiu	a3,sp,124
48d14716:	ffff      	daddiu	a3,sp,124
48d14718:	0044      	addiu	s0,sp,272
48d1471a:	c016      	sb	s0,22(s0)
48d1471c:	0074      	addiu	s0,sp,464
48d1471e:	c016      	sb	s0,22(s0)

48d14720 <keytone_play_frame>:
48d14720:	64f5      	save	40,ra,s0-s1
        }
    }
}

/******************************************************************************/
/*!
 * \par  Description:
 * \int32 keytone_play_frame(void* null0, void* null1, void* null2)
 * \按键音播放
 * \param[in]    none
 * \param[out]   none
 * \return       bool the result
 * \retval           1 sucess
 * \retval           0 failed
 * \ingroup
 * \note
 */
/*******************************************************************************/
int32 keytone_play_frame(kt_play_info_t *p_kt_play_info)
{
48d14722:	6704      	move	s0,a0
48d14724:	a863      	lhu	v1,6(s0)
    //播放音频帧
    int32 play_ret;

    if (p_kt_play_info->kt_offset >= p_kt_play_info->kt_length)
48d14726:	ac82      	lhu	a0,4(a0)
48d14728:	6a01      	li	v0,1
    {
        return -1;
48d1472a:	ec63      	sltu	a0,v1
48d1472c:	ea4b      	neg	v0
48d1472e:	6037      	bteqz	48d1479e <.L24+0xe>
48d14730:	6c00      	li	a0,0
    }

    sys_os_sched_lock();
48d14732:	b31d      	lw	v1,48d147a4 <.L24+0x14>
48d14734:	67a4      	move	a1,a0
48d14736:	67c4      	move	a2,a0
48d14738:	eb40      	jalr	v1
48d1473a:	6f33      	li	a3,51
48d1473c:	a8c2      	lhu	a2,4(s0)

    //播放音频帧
    if (sys_sd_fseek(p_kt_play_info->kt_handle, 0, p_kt_play_info->kt_offset) == -1)
48d1473e:	9880      	lw	a0,0(s0)
48d14740:	b319      	lw	v1,48d147a4 <.L24+0x14>
48d14742:	6d00      	li	a1,0
48d14744:	eb40      	jalr	v1
48d14746:	6f0f      	li	a3,15
48d14748:	6f01      	li	a3,1
    {
        play_ret = -1;
48d1474a:	eeeb      	neg	a2,a3
48d1474c:	ed4f      	not	a1,v0
48d1474e:	d604      	sw	a2,16(sp)
48d14750:	251f      	beqz	a1,48d14790 <.L24>
48d14752:	b116      	lw	s1,48d147a8 <.L24+0x18>
        goto file_seek_fail;
    }
    //read frame data
    play_ret = sys_sd_fread(p_kt_play_info->kt_handle, g_bitstream_buffer, p_kt_play_info->kt_frame_size);
48d14754:	9880      	lw	a0,0(s0)
48d14756:	a8c4      	lhu	a2,8(s0)
48d14758:	b313      	lw	v1,48d147a4 <.L24+0x14>
48d1475a:	67b1      	move	a1,s1
48d1475c:	eb40      	jalr	v1
48d1475e:	6f11      	li	a3,17
48d14760:	d204      	sw	v0,16(sp)
48d14762:	ea4f      	not	v0

    if (play_ret != -1)
48d14764:	2215      	beqz	v0,48d14790 <.L24>
48d14766:	a842      	lhu	v0,4(s0)
    {
        if (p_kt_play_info->kt_offset == 0)
48d14768:	2a04      	bnez	v0,48d14772 <keytone_play_frame+0x52>
48d1476a:	c140      	sb	v0,0(s1)
        {//前4字节为文件长度，清为0
            g_bitstream_buffer[0] = 0;
48d1476c:	c141      	sb	v0,1(s1)
            g_bitstream_buffer[1] = 0;
48d1476e:	c142      	sb	v0,2(s1)
            g_bitstream_buffer[2] = 0;
48d14770:	c143      	sb	v0,3(s1)
            g_bitstream_buffer[3] = 0;
48d14772:	a842      	lhu	v0,4(s0)
        }

        //change data offset
        p_kt_play_info->kt_offset += (uint16) play_ret;
48d14774:	9404      	lw	a0,16(sp)
48d14776:	a8a4      	lhu	a1,8(s0)

        //file size
        if ((uint16) play_ret < p_kt_play_info->kt_frame_size)
48d14778:	e45d      	addu	a3,a0,v0
48d1477a:	679d      	move	a0,sp
48d1477c:	acc8      	lhu	a2,16(a0)
48d1477e:	c8e2      	sh	a3,4(s0)
48d14780:	ee31      	zeh	a2
48d14782:	eea3      	sltu	a2,a1
48d14784:	6002      	bteqz	48d1478a <keytone_play_frame+0x6a>
48d14786:	ac68      	lhu	v1,16(a0)
        {
            p_kt_play_info->kt_frame_size = (uint16) play_ret;
48d14788:	c864      	sh	v1,8(s0)
48d1478a:	1a91 518d 	jal	48d14634 <keytone_send_to_asrc>
        }

        //send data to asrc
        keytone_send_to_asrc(p_kt_play_info);
48d1478e:	6790      	move	a0,s0

48d14790 <.L24>:
48d14790:	6c00      	li	a0,0
    }

    file_seek_fail:
    sys_os_sched_unlock();
48d14792:	b205      	lw	v0,48d147a4 <.L24+0x14>
48d14794:	67a4      	move	a1,a0
48d14796:	67c4      	move	a2,a0
48d14798:	ea40      	jalr	v0
48d1479a:	6f34      	li	a3,52
48d1479c:	9204      	lw	v0,16(sp)

    return play_ret;
48d1479e:	6475      	restore	40,ra,s0-s1
}
48d147a0:	e8a0      	jrc	ra
48d147a2:	0000      	addiu	s0,sp,0
48d147a4:	640d      	restore	104
48d147a6:	bfc1      	lwu	a2,4(a3)
48d147a8:	49dc      	addiu	s1,-36
48d147aa:	48d1      	addiu	s0,-47

48d147ac <keytone_play_loop>:
48d147ac:	64e5      	save	40,ra,s0

void keytone_play_loop(void *param)
{
48d147ae:	677d      	move	v1,sp
    kt_play_info_t kt_play_info;
    int32 play_ret;

    g_keytone_infor.playing = TRUE;

    kt_play_info.kt_compact = 0x0fec; //固定系数
    kt_play_info.kt_fill_flag = FALSE;
48d147b0:	b636      	lw	a2,48d14888 <.L30+0x16>
48d147b2:	6c00      	li	a0,0
48d147b4:	c39a      	sb	a0,26(v1)
48d147b6:	b036      	lw	s0,48d1488c <.L30+0x1a>
    sys_os_sched_lock();
48d147b8:	6c00      	li	a0,0
48d147ba:	6f01      	li	a3,1
48d147bc:	f7e1 6d0c 	li	a1,4076
48d147c0:	c6e4      	sb	a3,4(a2)
48d147c2:	d507      	sw	a1,28(sp)
48d147c4:	67c4      	move	a2,a0
48d147c6:	67a4      	move	a1,a0
48d147c8:	e840      	jalr	s0
48d147ca:	6f33      	li	a3,51
48d147cc:	6d00      	li	a1,0
    kt_play_info.kt_handle = sys_sd_fopen(g_keytone_file);
48d147ce:	b431      	lw	a0,48d14890 <.L30+0x1e>
48d147d0:	67c5      	move	a2,a1
48d147d2:	e840      	jalr	s0
48d147d4:	6f0d      	li	a3,13
48d147d6:	6c00      	li	a0,0
    sys_os_sched_unlock();
48d147d8:	d204      	sw	v0,16(sp)
48d147da:	67a4      	move	a1,a0
48d147dc:	67c4      	move	a2,a0
48d147de:	e840      	jalr	s0
48d147e0:	6f34      	li	a3,52
48d147e2:	9204      	lw	v0,16(sp)
    if (kt_play_info.kt_handle == NULL)
48d147e4:	2246      	beqz	v0,48d14872 <.L30>
48d147e6:	1a91 5180 	jal	48d14600 <keytone_init_set>
    {
        //open fail
        goto fail_open;
    }

    //set hardware
    keytone_init_set();
48d147ea:	6500      	nop
48d147ec:	677d      	move	v1,sp

    kt_play_info.kt_frame_size = KEYTONE_FRAME_SIZE;
48d147ee:	f200 6c00 	li	a0,512
48d147f2:	cb8c      	sh	a0,24(v1)
48d147f4:	6d00      	li	a1,0
    sys_sd_fseek(kt_play_info.kt_handle, 0, 0);
48d147f6:	9404      	lw	a0,16(sp)
48d147f8:	67c5      	move	a2,a1
48d147fa:	e840      	jalr	s0
48d147fc:	6f0f      	li	a3,15
48d147fe:	9404      	lw	a0,16(sp)
    sys_sd_fread(kt_play_info.kt_handle, &(kt_play_info.kt_length), 2);
48d14800:	f000 0516 	addiu	a1,sp,22
48d14804:	6e02      	li	a2,2
48d14806:	e840      	jalr	s0
48d14808:	6f11      	li	a3,17
48d1480a:	6a00      	li	v0,0
    kt_play_info.kt_offset = 0;
48d1480c:	671d      	move	s0,sp
48d1480e:	c84a      	sh	v0,20(s0)
48d14810:	1a91 51c8 	jal	48d14720 <keytone_play_frame>

    while (1)
    {
        play_ret = keytone_play_frame(&kt_play_info);
48d14814:	0404      	addiu	a0,sp,16
48d14816:	ed4f      	not	a1,v0
        if (play_ret == -1)
48d14818:	250d      	beqz	a1,48d14834 <keytone_play_loop+0x88>
48d1481a:	677d      	move	v1,sp
        {
            break;
        }

        //ASRC OUT启动后才需要延时
        if (kt_play_info.kt_fill_flag == TRUE)
48d1481c:	a3da      	lbu	a2,26(v1)
48d1481e:	7601      	cmpi	a2,1
48d14820:	61f7      	btnez	48d14810 <keytone_play_loop+0x64>
48d14822:	6f00      	li	a3,0
        {
            kt_play_info.kt_fill_flag = FALSE;
48d14824:	6d00      	li	a1,0
            sys_os_time_dly(2);
48d14826:	b01a      	lw	s0,48d1488c <.L30+0x1a>
48d14828:	c3fa      	sb	a3,26(v1)
48d1482a:	6c02      	li	a0,2
48d1482c:	67c5      	move	a2,a1
48d1482e:	e840      	jalr	s0
48d14830:	6f31      	li	a3,49
48d14832:	17ee      	b	48d14810 <keytone_play_loop+0x64>
48d14834:	b215      	lw	v0,48d14888 <.L30+0x16>
48d14836:	b618      	lw	a2,48d14894 <.L30+0x22>
48d14838:	a261      	lbu	v1,1(v0)
48d1483a:	b418      	lw	a0,48d14898 <.L30+0x26>
48d1483c:	6d08      	li	a1,8
48d1483e:	2b04      	bnez	v1,48d14848 <keytone_play_loop+0x9c>
        }
    }
    //等待按键音播放结束
    while (1)
    {
        if (g_keytone_infor.dac_chan == DAF0_EN)
48d14840:	9e60      	lw	v1,0(a2)
        {
            if ((act_readl(ASRC_OUT0_IP) & (1 << ASRC_OUT0_IP_PCMFIFOEmpty)) != 0)
48d14842:	ebac      	and	v1,a1
48d14844:	23fd      	beqz	v1,48d14840 <keytone_play_loop+0x94>
48d14846:	1003      	b	48d1484e <keytone_play_loop+0xa2>
            {
                break;
48d14848:	9c00      	lw	s0,0(a0)
            }
        }
        else
        {
            if ((act_readl(ASRC_OUT1_IP) & (1 << ASRC_OUT1_IP_PCMFIFOEmpty)) != 0)
48d1484a:	e8ac      	and	s0,a1
48d1484c:	20f8      	beqz	s0,48d1483e <keytone_play_loop+0x92>
48d1484e:	6d00      	li	a1,0
            {
                break;
            }
        }

    //    sys_os_time_dly(1);
    }
    
    close_asrc(K_OUT1_P2);
48d14850:	b013      	lw	s0,48d1489c <.L30+0x2a>
48d14852:	67c5      	move	a2,a1
48d14854:	6c13      	li	a0,19
48d14856:	e840      	jalr	s0
48d14858:	6f10      	li	a3,16
48d1485a:	b50c      	lw	a1,48d14888 <.L30+0x16>

    //disable dac channel zero
    disable_dac(g_keytone_infor.dac_chan);
48d1485c:	6f05      	li	a3,5
48d1485e:	a581      	lbu	a0,1(a1)
48d14860:	6d00      	li	a1,0
48d14862:	e840      	jalr	s0
48d14864:	67c5      	move	a2,a1
48d14866:	6d00      	li	a1,0
    //close source file
    sys_sd_fclose(kt_play_info.kt_handle);
48d14868:	9404      	lw	a0,16(sp)
48d1486a:	b209      	lw	v0,48d1488c <.L30+0x1a>
48d1486c:	67c5      	move	a2,a1
48d1486e:	ea40      	jalr	v0
48d14870:	6f0e      	li	a3,14

48d14872 <.L30>:
48d14872:	b406      	lw	a0,48d14888 <.L30+0x16>

    fail_open:

    g_keytone_infor.playing = FALSE;
48d14874:	6e00      	li	a2,0
48d14876:	c4c4      	sb	a2,4(a0)
48d14878:	b20a      	lw	v0,48d148a0 <.L30+0x2e>

    libc_pthread_exit();
48d1487a:	6c00      	li	a0,0
48d1487c:	67a4      	move	a1,a0
48d1487e:	67c4      	move	a2,a0
48d14880:	ea40      	jalr	v0
48d14882:	6f0c      	li	a3,12
48d14884:	6465      	restore	40,ra,s0
48d14886:	e8a0      	jrc	ra
48d14888:	a1dc      	lbu	a2,28(s1)
48d1488a:	9fc1      	lw	a2,4(a3)
48d1488c:	640d      	restore	104
48d1488e:	bfc1      	lwu	a2,4(a3)
48d14890:	49d0      	addiu	s1,-48
48d14892:	48d1      	addiu	s0,-47
48d14894:	0050      	addiu	s0,sp,320
48d14896:	c016      	sb	s0,22(s0)
48d14898:	0080      	addiu	s0,sp,512
48d1489a:	c016      	sb	s0,22(s0)
48d1489c:	6401      	restore	8
48d1489e:	bfc1      	lwu	a2,4(a3)
48d148a0:	6409      	restore	72
48d148a2:	bfc1      	lwu	a2,4(a3)

48d148a4 <keytone_play_thread>:
48d148a4:	64c5      	save	40,ra
}

void keytone_play_thread(uint8 kt_id)
{
48d148a6:	ec11      	zeb	a0
48d148a8:	b609      	lw	a2,48d148cc <keytone_play_thread+0x28>
    //打开按键音线程
    pthread_ext_param_t param;

    //初始化创建线程的参数
    param.pthread_param.start_rtn = (void *) keytone_play_loop;
48d148aa:	b50a      	lw	a1,48d148d0 <keytone_play_thread+0x2c>
    param.pthread_param.arg = (void *) (uint32) kt_id;
    param.pthread_param.ptos = (void *) KEYTONE_PLAY_STK_POS;/*实际使用0x190*/
48d148ac:	d405      	sw	a0,20(sp)
48d148ae:	677d      	move	v1,sp
    param.stk_size = KEYTONE_PLAY_STK_SIZE;
48d148b0:	f280 6c00 	li	a0,640
48d148b4:	b208      	lw	v0,48d148d4 <keytone_play_thread+0x30>

    libc_pthread_create(&param, KEYTONE_PLAY_PRIO, CREATE_NOT_MAIN_THREAD);
48d148b6:	d604      	sw	a2,16(sp)
48d148b8:	d506      	sw	a1,24(sp)
48d148ba:	cb8e      	sh	a0,28(v1)
48d148bc:	6d04      	li	a1,4
48d148be:	0404      	addiu	a0,sp,16
48d148c0:	6eff      	li	a2,255
48d148c2:	ea40      	jalr	v0
48d148c4:	6f4a      	li	a3,74
48d148c6:	6445      	restore	40,ra
48d148c8:	e8a0      	jrc	ra
48d148ca:	0000      	addiu	s0,sp,0
48d148cc:	47ad      	addiu	a1,a3,-3
48d148ce:	48d1      	addiu	s0,-47
48d148d0:	cd00      	sh	s0,0(a1)
48d148d2:	9fc1      	lw	a2,4(a3)
48d148d4:	640d      	restore	104
48d148d6:	bfc1      	lwu	a2,4(a3)

48d148d8 <keytone_set_dac_chan>:
48d148d8:	64e3      	save	24,ra,s0
}

void keytone_set_dac_chan(dac_chenel_e dac_chan)
{
48d148da:	b30c      	lw	v1,48d14908 <keytone_set_dac_chan+0x30>
    if (dac_chan == g_keytone_infor.dac_chan)
48d148dc:	6704      	move	s0,a0
48d148de:	a341      	lbu	v0,1(v1)
48d148e0:	e811      	zeb	s0
48d148e2:	ea0e      	xor	v0,s0
48d148e4:	220e      	beqz	v0,48d14902 <keytone_set_dac_chan+0x2a>
48d148e6:	a344      	lbu	v0,4(v1)
    {
        return;
    }

    //等待按键音结束后才能切换dac通道
    while (g_keytone_infor.playing == TRUE)
    {
        sys_os_time_dly(1);
48d148e8:	7201      	cmpi	v0,1
48d148ea:	6109      	btnez	48d148fe <keytone_set_dac_chan+0x26>
48d148ec:	6d00      	li	a1,0
48d148ee:	b208      	lw	v0,48d1490c <keytone_set_dac_chan+0x34>
48d148f0:	6c01      	li	a0,1
48d148f2:	67c5      	move	a2,a1
48d148f4:	ea40      	jalr	v0
48d148f6:	6f31      	li	a3,49
48d148f8:	b304      	lw	v1,48d14908 <keytone_set_dac_chan+0x30>
48d148fa:	a344      	lbu	v0,4(v1)
48d148fc:	17f5      	b	48d148e8 <keytone_set_dac_chan+0x10>
48d148fe:	b403      	lw	a0,48d14908 <keytone_set_dac_chan+0x30>
    }

    g_keytone_infor.dac_chan = dac_chan;
48d14900:	c401      	sb	s0,1(a0)
48d14902:	6463      	restore	24,ra,s0
}
48d14904:	e8a0      	jrc	ra
48d14906:	0000      	addiu	s0,sp,0
48d14908:	a1dc      	lbu	a2,28(s1)
48d1490a:	9fc1      	lw	a2,4(a3)
48d1490c:	640d      	restore	104
48d1490e:	bfc1      	lwu	a2,4(a3)

48d14910 <keytone_set_dac_sample>:
48d14910:	b202      	lw	v0,48d14918 <keytone_set_dac_sample+0x8>


void keytone_set_dac_sample(uint8 dac_sample)
{
    g_keytone_infor.dac_sample = dac_sample;
48d14912:	e820      	jr	ra
48d14914:	c282      	sb	a0,2(v0)
48d14916:	0000      	addiu	s0,sp,0
48d14918:	a1dc      	lbu	a2,28(s1)
48d1491a:	9fc1      	lw	a2,4(a3)

48d1491c <keytone_fifo_out>:
48d1491c:	b50b      	lw	a1,48d14948 <keytone_fifo_out+0x2c>
}


void keytone_play_deal(void)
{
    uint8 kt_id;

    if (g_keytone_infor.playing == TRUE)
    {
        return;
    }

    kt_id = keytone_fifo_out();
    if (kt_id == 0xff)
    {
//        PRINT_WARNING("kt fifo out err!!");
        return;
    }

    keytone_play_thread(kt_id);

}


bool keytone_play(uint8 kt_id, uint8 mode)
{
    keytone_fifo_in(kt_id);
    keytone_play_deal();
    return TRUE;
}

void com_start_key_tone(uint8 mode)
{
    //按键音使能，才发出按键音
    if (sys_comval->key_tone == TRUE)
    {
        keytone_play(KEYTONE_KEYTONE, mode);
    }
}

uint8 keytone_fifo_out(void)
{
    uint8 kt_id, i;

    if (g_keytone_infor.count == 0)
48d1491e:	6bff      	li	v1,255
    {
        return -1;
48d14920:	a540      	lbu	v0,0(a1)
48d14922:	2210      	beqz	v0,48d14944 <keytone_fifo_out+0x28>
48d14924:	424f      	addiu	v0,v0,-1
    }

    kt_id = g_keytone_infor.kt_fifo[0];
    g_keytone_infor.count--;
48d14926:	c540      	sb	v0,0(a1)
48d14928:	ea11      	zeb	v0

    for (i = 0; i < g_keytone_infor.count; i++)
48d1492a:	a5e5      	lbu	a3,5(a1)
48d1492c:	6c00      	li	a0,0
48d1492e:	2209      	beqz	v0,48d14942 <keytone_fifo_out+0x26>
48d14930:	67c2      	move	a2,v0
48d14932:	e4ad      	addu	v1,a0,a1
    {
        g_keytone_infor.kt_fifo[i] = g_keytone_infor.kt_fifo[i + 1];
48d14934:	a346      	lbu	v0,6(v1)
48d14936:	c345      	sb	v0,5(v1)
48d14938:	4441      	addiu	v0,a0,1
48d1493a:	6782      	move	a0,v0
48d1493c:	ec11      	zeb	a0
48d1493e:	ecc3      	sltu	a0,a2
48d14940:	61f8      	btnez	48d14932 <keytone_fifo_out+0x16>
48d14942:	6767      	move	v1,a3
    }

    return kt_id;
48d14944:	e820      	jr	ra
}
48d14946:	6743      	move	v0,v1
48d14948:	a1dc      	lbu	a2,28(s1)
48d1494a:	9fc1      	lw	a2,4(a3)

48d1494c <keytone_play_deal>:
48d1494c:	64c3      	save	24,ra
48d1494e:	b308      	lw	v1,48d1496c <keytone_play_deal+0x20>
48d14950:	a344      	lbu	v0,4(v1)
48d14952:	7201      	cmpi	v0,1
48d14954:	6008      	bteqz	48d14966 <keytone_play_deal+0x1a>
48d14956:	1a91 5247 	jal	48d1491c <keytone_fifo_out>
48d1495a:	6500      	nop
48d1495c:	72ff      	cmpi	v0,255
48d1495e:	6003      	bteqz	48d14966 <keytone_play_deal+0x1a>
48d14960:	1a91 5229 	jal	48d148a4 <keytone_play_thread>
48d14964:	6782      	move	a0,v0
48d14966:	6443      	restore	24,ra
48d14968:	e8a0      	jrc	ra
48d1496a:	0000      	addiu	s0,sp,0
48d1496c:	a1dc      	lbu	a2,28(s1)
48d1496e:	9fc1      	lw	a2,4(a3)

48d14970 <keytone_fifo_in>:
48d14970:	b308      	lw	v1,48d14990 <keytone_fifo_in+0x20>

bool keytone_fifo_in(uint8 kt_id)
{
    if (g_keytone_infor.count >= KEYTONE_FIFO_DEPTH)
48d14972:	ec11      	zeb	a0
48d14974:	a3c0      	lbu	a2,0(v1)
48d14976:	6d00      	li	a1,0
    {
//        PRINT_WARNING("kt fifo in full!");
        return FALSE;
48d14978:	6746      	move	v0,a2
48d1497a:	ea11      	zeb	v0
48d1497c:	5a04      	sltiu	v0,4
48d1497e:	6005      	bteqz	48d1498a <keytone_fifo_in+0x1a>
48d14980:	e27d      	addu	a3,v0,v1
    }

    g_keytone_infor.kt_fifo[g_keytone_infor.count] = kt_id;
48d14982:	4641      	addiu	v0,a2,1
    g_keytone_infor.count++;
48d14984:	c785      	sb	a0,5(a3)
48d14986:	c340      	sb	v0,0(v1)
48d14988:	45a1      	addiu	a1,a1,1

    return TRUE;
48d1498a:	e820      	jr	ra
}
48d1498c:	6745      	move	v0,a1
48d1498e:	0000      	addiu	s0,sp,0
48d14990:	a1dc      	lbu	a2,28(s1)
48d14992:	9fc1      	lw	a2,4(a3)

48d14994 <keytone_play>:
48d14994:	64c3      	save	24,ra
48d14996:	1a91 525c 	jal	48d14970 <keytone_fifo_in>
48d1499a:	ec11      	zeb	a0
48d1499c:	b203      	lw	v0,48d149a8 <keytone_play+0x14>
48d1499e:	eac0      	jalrc	v0
48d149a0:	6a01      	li	v0,1
48d149a2:	6443      	restore	24,ra
48d149a4:	e8a0      	jrc	ra
48d149a6:	0000      	addiu	s0,sp,0
48d149a8:	494d      	addiu	s1,77
48d149aa:	48d1      	addiu	s0,-47

48d149ac <com_start_key_tone>:
48d149ac:	64c3      	save	24,ra
48d149ae:	67a4      	move	a1,a0
48d149b0:	b406      	lw	a0,48d149c8 <com_start_key_tone+0x1c>
48d149b2:	ed11      	zeb	a1
48d149b4:	9c60      	lw	v1,0(a0)
48d149b6:	a354      	lbu	v0,20(v1)
48d149b8:	7201      	cmpi	v0,1
48d149ba:	6103      	btnez	48d149c2 <com_start_key_tone+0x16>
48d149bc:	b204      	lw	v0,48d149cc <com_start_key_tone+0x20>
48d149be:	ea40      	jalr	v0
48d149c0:	6c00      	li	a0,0
48d149c2:	6443      	restore	24,ra
48d149c4:	e8a0      	jrc	ra
48d149c6:	0000      	addiu	s0,sp,0
48d149c8:	5a48      	sltiu	v0,72
48d149ca:	9fc1      	lw	a2,4(a3)
48d149cc:	4995      	addiu	s1,-107
48d149ce:	48d1      	addiu	s0,-47

48d149d0 <g_keytone_file>:
48d149d0:	656b 7479 6e6f 2e65 6370 006d               keytone.pcm.

48d149dc <g_bitstream_buffer>:
	...
